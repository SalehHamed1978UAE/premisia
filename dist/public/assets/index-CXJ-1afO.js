var sR=e=>{throw TypeError(e)};var hE=(e,r,n)=>r.has(e)||sR("Cannot "+n);var he=(e,r,n)=>(hE(e,r,"read from private field"),n?n.call(e):r.get(e)),Wt=(e,r,n)=>r.has(e)?sR("Cannot add the same private member more than once"):r instanceof WeakSet?r.add(e):r.set(e,n),vt=(e,r,n,s)=>(hE(e,r,"write to private field"),s?s.call(e,n):r.set(e,n),n),hr=(e,r,n)=>(hE(e,r,"access private method"),n);var ab=(e,r,n,s)=>({set _(a){vt(e,r,a,n)},get _(){return he(e,r,s)}});function wq(e,r){for(var n=0;n<r.length;n++){const s=r[n];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in e)){const l=Object.getOwnPropertyDescriptor(s,a);l&&Object.defineProperty(e,a,l.get?l:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function Mj(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var F9={exports:{}},uD={},I9={exports:{}},rv={exports:{}};rv.exports;(function(e,r){/**
 * @license React
 * react.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error);var n="18.3.1",s=Symbol.for("react.element"),a=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),h=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),b=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),E=Symbol.for("react.offscreen"),j=Symbol.iterator,P="@@iterator";function w(B){if(B===null||typeof B!="object")return null;var ae=j&&B[j]||B[P];return typeof ae=="function"?ae:null}var k={current:null},V={transition:null},S={current:null,isBatchingLegacy:!1,didScheduleLegacyUpdate:!1},R={current:null},M={},T=null;function A(B){T=B}M.setExtraStackFrame=function(B){T=B},M.getCurrentStack=null,M.getStackAddendum=function(){var B="";T&&(B+=T);var ae=M.getCurrentStack;return ae&&(B+=ae()||""),B};var F=!1,L=!1,$=!1,W=!1,O=!1,Y={ReactCurrentDispatcher:k,ReactCurrentBatchConfig:V,ReactCurrentOwner:R};Y.ReactDebugCurrentFrame=M,Y.ReactCurrentActQueue=S;function H(B){{for(var ae=arguments.length,Me=new Array(ae>1?ae-1:0),Ie=1;Ie<ae;Ie++)Me[Ie-1]=arguments[Ie];z("warn",B,Me)}}function q(B){{for(var ae=arguments.length,Me=new Array(ae>1?ae-1:0),Ie=1;Ie<ae;Ie++)Me[Ie-1]=arguments[Ie];z("error",B,Me)}}function z(B,ae,Me){{var Ie=Y.ReactDebugCurrentFrame,rt=Ie.getStackAddendum();rt!==""&&(ae+="%s",Me=Me.concat([rt]));var $t=Me.map(function(kt){return String(kt)});$t.unshift("Warning: "+ae),Function.prototype.apply.call(console[B],console,$t)}}var G={};function ee(B,ae){{var Me=B.constructor,Ie=Me&&(Me.displayName||Me.name)||"ReactClass",rt=Ie+"."+ae;if(G[rt])return;q("Can't call %s on a component that is not yet mounted. This is a no-op, but it might indicate a bug in your application. Instead, assign to `this.state` directly or define a `state = {};` class property with the desired state in the %s component.",ae,Ie),G[rt]=!0}}var K={isMounted:function(B){return!1},enqueueForceUpdate:function(B,ae,Me){ee(B,"forceUpdate")},enqueueReplaceState:function(B,ae,Me,Ie){ee(B,"replaceState")},enqueueSetState:function(B,ae,Me,Ie){ee(B,"setState")}},be=Object.assign,_e={};Object.freeze(_e);function oe(B,ae,Me){this.props=B,this.context=ae,this.refs=_e,this.updater=Me||K}oe.prototype.isReactComponent={},oe.prototype.setState=function(B,ae){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw new Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,ae,"setState")},oe.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};{var fe={isMounted:["isMounted","Instead, make sure to clean up subscriptions and pending requests in componentWillUnmount to prevent memory leaks."],replaceState:["replaceState","Refactor your code to use setState instead (see https://github.com/facebook/react/issues/3236)."]},Ae=function(B,ae){Object.defineProperty(oe.prototype,B,{get:function(){H("%s(...) is deprecated in plain JavaScript React classes. %s",ae[0],ae[1])}})};for(var ge in fe)fe.hasOwnProperty(ge)&&Ae(ge,fe[ge])}function Pe(){}Pe.prototype=oe.prototype;function ze(B,ae,Me){this.props=B,this.context=ae,this.refs=_e,this.updater=Me||K}var We=ze.prototype=new Pe;We.constructor=ze,be(We,oe.prototype),We.isPureReactComponent=!0;function Re(){var B={current:null};return Object.seal(B),B}var Ee=Array.isArray;function ie(B){return Ee(B)}function ve(B){{var ae=typeof Symbol=="function"&&Symbol.toStringTag,Me=ae&&B[Symbol.toStringTag]||B.constructor.name||"Object";return Me}}function ne(B){try{return le(B),!1}catch{return!0}}function le(B){return""+B}function Ue(B){if(ne(B))return q("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",ve(B)),le(B)}function bt(B,ae,Me){var Ie=B.displayName;if(Ie)return Ie;var rt=ae.displayName||ae.name||"";return rt!==""?Me+"("+rt+")":Me}function ht(B){return B.displayName||"Context"}function Mt(B){if(B==null)return null;if(typeof B.tag=="number"&&q("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof B=="function")return B.displayName||B.name||null;if(typeof B=="string")return B;switch(B){case l:return"Fragment";case a:return"Portal";case u:return"Profiler";case c:return"StrictMode";case p:return"Suspense";case N:return"SuspenseList"}if(typeof B=="object")switch(B.$$typeof){case h:var ae=B;return ht(ae)+".Consumer";case d:var Me=B;return ht(Me._context)+".Provider";case g:return bt(B,B.render,"ForwardRef");case b:var Ie=B.displayName||null;return Ie!==null?Ie:Mt(B.type)||"Memo";case D:{var rt=B,$t=rt._payload,kt=rt._init;try{return Mt(kt($t))}catch{return null}}}return null}var Kt=Object.prototype.hasOwnProperty,re={key:!0,ref:!0,__self:!0,__source:!0},ye,ue,we;we={};function Ve(B){if(Kt.call(B,"ref")){var ae=Object.getOwnPropertyDescriptor(B,"ref").get;if(ae&&ae.isReactWarning)return!1}return B.ref!==void 0}function ke(B){if(Kt.call(B,"key")){var ae=Object.getOwnPropertyDescriptor(B,"key").get;if(ae&&ae.isReactWarning)return!1}return B.key!==void 0}function Oe(B,ae){var Me=function(){ye||(ye=!0,q("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",ae))};Me.isReactWarning=!0,Object.defineProperty(B,"key",{get:Me,configurable:!0})}function et(B,ae){var Me=function(){ue||(ue=!0,q("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",ae))};Me.isReactWarning=!0,Object.defineProperty(B,"ref",{get:Me,configurable:!0})}function Fe(B){if(typeof B.ref=="string"&&R.current&&B.__self&&R.current.stateNode!==B.__self){var ae=Mt(R.current.type);we[ae]||(q('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',ae,B.ref),we[ae]=!0)}}var Je=function(B,ae,Me,Ie,rt,$t,kt){var qt={$$typeof:s,type:B,key:ae,ref:Me,props:kt,_owner:$t};return qt._store={},Object.defineProperty(qt._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(qt,"_self",{configurable:!1,enumerable:!1,writable:!1,value:Ie}),Object.defineProperty(qt,"_source",{configurable:!1,enumerable:!1,writable:!1,value:rt}),Object.freeze&&(Object.freeze(qt.props),Object.freeze(qt)),qt};function Nt(B,ae,Me){var Ie,rt={},$t=null,kt=null,qt=null,kr=null;if(ae!=null){Ve(ae)&&(kt=ae.ref,Fe(ae)),ke(ae)&&(Ue(ae.key),$t=""+ae.key),qt=ae.__self===void 0?null:ae.__self,kr=ae.__source===void 0?null:ae.__source;for(Ie in ae)Kt.call(ae,Ie)&&!re.hasOwnProperty(Ie)&&(rt[Ie]=ae[Ie])}var Br=arguments.length-2;if(Br===1)rt.children=Me;else if(Br>1){for(var an=Array(Br),on=0;on<Br;on++)an[on]=arguments[on+2];Object.freeze&&Object.freeze(an),rt.children=an}if(B&&B.defaultProps){var pr=B.defaultProps;for(Ie in pr)rt[Ie]===void 0&&(rt[Ie]=pr[Ie])}if($t||kt){var hn=typeof B=="function"?B.displayName||B.name||"Unknown":B;$t&&Oe(rt,hn),kt&&et(rt,hn)}return Je(B,$t,kt,qt,kr,R.current,rt)}function Vt(B,ae){var Me=Je(B.type,ae,B.ref,B._self,B._source,B._owner,B.props);return Me}function Ot(B,ae,Me){if(B==null)throw new Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var Ie,rt=be({},B.props),$t=B.key,kt=B.ref,qt=B._self,kr=B._source,Br=B._owner;if(ae!=null){Ve(ae)&&(kt=ae.ref,Br=R.current),ke(ae)&&(Ue(ae.key),$t=""+ae.key);var an;B.type&&B.type.defaultProps&&(an=B.type.defaultProps);for(Ie in ae)Kt.call(ae,Ie)&&!re.hasOwnProperty(Ie)&&(ae[Ie]===void 0&&an!==void 0?rt[Ie]=an[Ie]:rt[Ie]=ae[Ie])}var on=arguments.length-2;if(on===1)rt.children=Me;else if(on>1){for(var pr=Array(on),hn=0;hn<on;hn++)pr[hn]=arguments[hn+2];rt.children=pr}return Je(B.type,$t,kt,qt,kr,Br,rt)}function fr(B){return typeof B=="object"&&B!==null&&B.$$typeof===s}var _t=".",Zr=":";function xr(B){var ae=/[=:]/g,Me={"=":"=0",":":"=2"},Ie=B.replace(ae,function(rt){return Me[rt]});return"$"+Ie}var mr=!1,wr=/\/+/g;function gn(B){return B.replace(wr,"$&/")}function Nn(B,ae){return typeof B=="object"&&B!==null&&B.key!=null?(Ue(B.key),xr(""+B.key)):ae.toString(36)}function $r(B,ae,Me,Ie,rt){var $t=typeof B;($t==="undefined"||$t==="boolean")&&(B=null);var kt=!1;if(B===null)kt=!0;else switch($t){case"string":case"number":kt=!0;break;case"object":switch(B.$$typeof){case s:case a:kt=!0}}if(kt){var qt=B,kr=rt(qt),Br=Ie===""?_t+Nn(qt,0):Ie;if(ie(kr)){var an="";Br!=null&&(an=gn(Br)+"/"),$r(kr,ae,an,"",function(my){return my})}else kr!=null&&(fr(kr)&&(kr.key&&(!qt||qt.key!==kr.key)&&Ue(kr.key),kr=Vt(kr,Me+(kr.key&&(!qt||qt.key!==kr.key)?gn(""+kr.key)+"/":"")+Br)),ae.push(kr));return 1}var on,pr,hn=0,Mn=Ie===""?_t:Ie+Zr;if(ie(B))for(var Gc=0;Gc<B.length;Gc++)on=B[Gc],pr=Mn+Nn(on,Gc),hn+=$r(on,ae,Me,pr,rt);else{var Hh=w(B);if(typeof Hh=="function"){var Mo=B;Hh===Mo.entries&&(mr||H("Using Maps as children is not supported. Use an array of keyed ReactElements instead."),mr=!0);for(var Jh=Hh.call(Mo),Kh,uy=0;!(Kh=Jh.next()).done;)on=Kh.value,pr=Mn+Nn(on,uy++),hn+=$r(on,ae,Me,pr,rt)}else if($t==="object"){var oN=String(B);throw new Error("Objects are not valid as a React child (found: "+(oN==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":oN)+"). If you meant to render a collection of children, use an array instead.")}}return hn}function Ds(B,ae,Me){if(B==null)return B;var Ie=[],rt=0;return $r(B,Ie,"","",function($t){return ae.call(Me,$t,rt++)}),Ie}function di(B){var ae=0;return Ds(B,function(){ae++}),ae}function Ys(B,ae,Me){Ds(B,function(){ae.apply(this,arguments)},Me)}function Xs(B){return Ds(B,function(ae){return ae})||[]}function Qs(B){if(!fr(B))throw new Error("React.Children.only expected to receive a single React element child.");return B}function Zs(B){var ae={$$typeof:h,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null};ae.Provider={$$typeof:d,_context:ae};var Me=!1,Ie=!1,rt=!1;{var $t={$$typeof:h,_context:ae};Object.defineProperties($t,{Provider:{get:function(){return Ie||(Ie=!0,q("Rendering <Context.Consumer.Provider> is not supported and will be removed in a future major release. Did you mean to render <Context.Provider> instead?")),ae.Provider},set:function(kt){ae.Provider=kt}},_currentValue:{get:function(){return ae._currentValue},set:function(kt){ae._currentValue=kt}},_currentValue2:{get:function(){return ae._currentValue2},set:function(kt){ae._currentValue2=kt}},_threadCount:{get:function(){return ae._threadCount},set:function(kt){ae._threadCount=kt}},Consumer:{get:function(){return Me||(Me=!0,q("Rendering <Context.Consumer.Consumer> is not supported and will be removed in a future major release. Did you mean to render <Context.Consumer> instead?")),ae.Consumer}},displayName:{get:function(){return ae.displayName},set:function(kt){rt||(H("Setting `displayName` on Context.Consumer has no effect. You should set it directly on the context with Context.displayName = '%s'.",kt),rt=!0)}}}),ae.Consumer=$t}return ae._currentRenderer=null,ae._currentRenderer2=null,ae}var _s=-1,us=0,Qn=1,ei=2;function na(B){if(B._status===_s){var ae=B._result,Me=ae();if(Me.then(function($t){if(B._status===us||B._status===_s){var kt=B;kt._status=Qn,kt._result=$t}},function($t){if(B._status===us||B._status===_s){var kt=B;kt._status=ei,kt._result=$t}}),B._status===_s){var Ie=B;Ie._status=us,Ie._result=Me}}if(B._status===Qn){var rt=B._result;return rt===void 0&&q(`lazy: Expected the result of a dynamic import() call. Instead received: %s

Your code should look like: 
  const MyComponent = lazy(() => import('./MyComponent'))

Did you accidentally put curly braces around the import?`,rt),"default"in rt||q(`lazy: Expected the result of a dynamic import() call. Instead received: %s

Your code should look like: 
  const MyComponent = lazy(() => import('./MyComponent'))`,rt),rt.default}else throw B._result}function ce(B){var ae={_status:_s,_result:B},Me={$$typeof:D,_payload:ae,_init:na};{var Ie,rt;Object.defineProperties(Me,{defaultProps:{configurable:!0,get:function(){return Ie},set:function($t){q("React.lazy(...): It is not supported to assign `defaultProps` to a lazy component import. Either specify them where the component is defined, or create a wrapping component around it."),Ie=$t,Object.defineProperty(Me,"defaultProps",{enumerable:!0})}},propTypes:{configurable:!0,get:function(){return rt},set:function($t){q("React.lazy(...): It is not supported to assign `propTypes` to a lazy component import. Either specify them where the component is defined, or create a wrapping component around it."),rt=$t,Object.defineProperty(Me,"propTypes",{enumerable:!0})}}})}return Me}function Ye(B){B!=null&&B.$$typeof===b?q("forwardRef requires a render function but received a `memo` component. Instead of forwardRef(memo(...)), use memo(forwardRef(...))."):typeof B!="function"?q("forwardRef requires a render function but was given %s.",B===null?"null":typeof B):B.length!==0&&B.length!==2&&q("forwardRef render functions accept exactly two parameters: props and ref. %s",B.length===1?"Did you forget to use the ref parameter?":"Any additional parameter will be undefined."),B!=null&&(B.defaultProps!=null||B.propTypes!=null)&&q("forwardRef render functions do not support propTypes or defaultProps. Did you accidentally pass a React component?");var ae={$$typeof:g,render:B};{var Me;Object.defineProperty(ae,"displayName",{enumerable:!1,configurable:!0,get:function(){return Me},set:function(Ie){Me=Ie,!B.name&&!B.displayName&&(B.displayName=Ie)}})}return ae}var X;X=Symbol.for("react.module.reference");function Se(B){return!!(typeof B=="string"||typeof B=="function"||B===l||B===u||O||B===c||B===p||B===N||W||B===E||F||L||$||typeof B=="object"&&B!==null&&(B.$$typeof===D||B.$$typeof===b||B.$$typeof===d||B.$$typeof===h||B.$$typeof===g||B.$$typeof===X||B.getModuleId!==void 0))}function Ge(B,ae){Se(B)||q("memo: The first argument must be a component. Instead received: %s",B===null?"null":typeof B);var Me={$$typeof:b,type:B,compare:ae===void 0?null:ae};{var Ie;Object.defineProperty(Me,"displayName",{enumerable:!1,configurable:!0,get:function(){return Ie},set:function(rt){Ie=rt,!B.name&&!B.displayName&&(B.displayName=rt)}})}return Me}function Ze(){var B=k.current;return B===null&&q(`Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:
1. You might have mismatching versions of React and the renderer (such as React DOM)
2. You might be breaking the Rules of Hooks
3. You might have more than one copy of React in the same app
See https://reactjs.org/link/invalid-hook-call for tips about how to debug and fix this problem.`),B}function ct(B){var ae=Ze();if(B._context!==void 0){var Me=B._context;Me.Consumer===B?q("Calling useContext(Context.Consumer) is not supported, may cause bugs, and will be removed in a future major release. Did you mean to call useContext(Context) instead?"):Me.Provider===B&&q("Calling useContext(Context.Provider) is not supported. Did you mean to call useContext(Context) instead?")}return ae.useContext(B)}function nt(B){var ae=Ze();return ae.useState(B)}function Tt(B,ae,Me){var Ie=Ze();return Ie.useReducer(B,ae,Me)}function jt(B){var ae=Ze();return ae.useRef(B)}function sr(B,ae){var Me=Ze();return Me.useEffect(B,ae)}function dr(B,ae){var Me=Ze();return Me.useInsertionEffect(B,ae)}function Tr(B,ae){var Me=Ze();return Me.useLayoutEffect(B,ae)}function sn(B,ae){var Me=Ze();return Me.useCallback(B,ae)}function en(B,ae){var Me=Ze();return Me.useMemo(B,ae)}function Zn(B,ae,Me){var Ie=Ze();return Ie.useImperativeHandle(B,ae,Me)}function tn(B,ae){{var Me=Ze();return Me.useDebugValue(B,ae)}}function Xt(){var B=Ze();return B.useTransition()}function sa(B){var ae=Ze();return ae.useDeferredValue(B)}function kl(){var B=Ze();return B.useId()}function nm(B,ae,Me){var Ie=Ze();return Ie.useSyncExternalStore(B,ae,Me)}var Ba=0,Fc,El,Ic,Oc,Lc,sm,im;function Dl(){}Dl.__reactDisabledLog=!0;function $c(){{if(Ba===0){Fc=console.log,El=console.info,Ic=console.warn,Oc=console.error,Lc=console.group,sm=console.groupCollapsed,im=console.groupEnd;var B={configurable:!0,enumerable:!0,value:Dl,writable:!0};Object.defineProperties(console,{info:B,log:B,warn:B,error:B,group:B,groupCollapsed:B,groupEnd:B})}Ba++}}function Fi(){{if(Ba--,Ba===0){var B={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:be({},B,{value:Fc}),info:be({},B,{value:El}),warn:be({},B,{value:Ic}),error:be({},B,{value:Oc}),group:be({},B,{value:Lc}),groupCollapsed:be({},B,{value:sm}),groupEnd:be({},B,{value:im})})}Ba<0&&q("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var Ii=Y.ReactCurrentDispatcher,za;function Vo(B,ae,Me){{if(za===void 0)try{throw Error()}catch(rt){var Ie=rt.stack.trim().match(/\n( *(at )?)/);za=Ie&&Ie[1]||""}return`
`+za+B}}var Po=!1,jl;{var So=typeof WeakMap=="function"?WeakMap:Map;jl=new So}function am(B,ae){if(!B||Po)return"";{var Me=jl.get(B);if(Me!==void 0)return Me}var Ie;Po=!0;var rt=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var $t;$t=Ii.current,Ii.current=null,$c();try{if(ae){var kt=function(){throw Error()};if(Object.defineProperty(kt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(kt,[])}catch(Mn){Ie=Mn}Reflect.construct(B,[],kt)}else{try{kt.call()}catch(Mn){Ie=Mn}B.call(kt.prototype)}}else{try{throw Error()}catch(Mn){Ie=Mn}B()}}catch(Mn){if(Mn&&Ie&&typeof Mn.stack=="string"){for(var qt=Mn.stack.split(`
`),kr=Ie.stack.split(`
`),Br=qt.length-1,an=kr.length-1;Br>=1&&an>=0&&qt[Br]!==kr[an];)an--;for(;Br>=1&&an>=0;Br--,an--)if(qt[Br]!==kr[an]){if(Br!==1||an!==1)do if(Br--,an--,an<0||qt[Br]!==kr[an]){var on=`
`+qt[Br].replace(" at new "," at ");return B.displayName&&on.includes("<anonymous>")&&(on=on.replace("<anonymous>",B.displayName)),typeof B=="function"&&jl.set(B,on),on}while(Br>=1&&an>=0);break}}}finally{Po=!1,Ii.current=$t,Fi(),Error.prepareStackTrace=rt}var pr=B?B.displayName||B.name:"",hn=pr?Vo(pr):"";return typeof B=="function"&&jl.set(B,hn),hn}function Bc(B,ae,Me){return am(B,!1)}function om(B){var ae=B.prototype;return!!(ae&&ae.isReactComponent)}function zc(B,ae,Me){if(B==null)return"";if(typeof B=="function")return am(B,om(B));if(typeof B=="string")return Vo(B);switch(B){case p:return Vo("Suspense");case N:return Vo("SuspenseList")}if(typeof B=="object")switch(B.$$typeof){case g:return Bc(B.render);case b:return zc(B.type,ae,Me);case D:{var Ie=B,rt=Ie._payload,$t=Ie._init;try{return zc($t(rt),ae,Me)}catch{}}}return""}var tN={},$h=Y.ReactDebugCurrentFrame;function Ar(B){if(B){var ae=B._owner,Me=zc(B.type,B._source,ae?ae.type:null);$h.setExtraStackFrame(Me)}else $h.setExtraStackFrame(null)}function ay(B,ae,Me,Ie,rt){{var $t=Function.call.bind(Kt);for(var kt in B)if($t(B,kt)){var qt=void 0;try{if(typeof B[kt]!="function"){var kr=Error((Ie||"React class")+": "+Me+" type `"+kt+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof B[kt]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw kr.name="Invariant Violation",kr}qt=B[kt](ae,kt,Ie,Me,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(Br){qt=Br}qt&&!(qt instanceof Error)&&(Ar(rt),q("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",Ie||"React class",Me,kt,typeof qt),Ar(null)),qt instanceof Error&&!(qt.message in tN)&&(tN[qt.message]=!0,Ar(rt),q("Failed %s type: %s",Me,qt.message),Ar(null))}}}function Co(B){if(B){var ae=B._owner,Me=zc(B.type,B._source,ae?ae.type:null);A(Me)}else A(null)}var Qt;Qt=!1;function Bh(){if(R.current){var B=Mt(R.current.type);if(B)return`

Check the render method of \``+B+"`."}return""}function Fs(B){if(B!==void 0){var ae=B.fileName.replace(/^.*[\\\/]/,""),Me=B.lineNumber;return`

Check your code at `+ae+":"+Me+"."}return""}function Wc(B){return B!=null?Fs(B.__source):""}var Vl={};function oy(B){var ae=Bh();if(!ae){var Me=typeof B=="string"?B:B.displayName||B.name;Me&&(ae=`

Check the top-level render call using <`+Me+">.")}return ae}function es(B,ae){if(!(!B._store||B._store.validated||B.key!=null)){B._store.validated=!0;var Me=oy(ae);if(!Vl[Me]){Vl[Me]=!0;var Ie="";B&&B._owner&&B._owner!==R.current&&(Ie=" It was passed a child from "+Mt(B._owner.type)+"."),Co(B),q('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',Me,Ie),Co(null)}}}function dn(B,ae){if(typeof B=="object"){if(ie(B))for(var Me=0;Me<B.length;Me++){var Ie=B[Me];fr(Ie)&&es(Ie,ae)}else if(fr(B))B._store&&(B._store.validated=!0);else if(B){var rt=w(B);if(typeof rt=="function"&&rt!==B.entries)for(var $t=rt.call(B),kt;!(kt=$t.next()).done;)fr(kt.value)&&es(kt.value,ae)}}}function rN(B){{var ae=B.type;if(ae==null||typeof ae=="string")return;var Me;if(typeof ae=="function")Me=ae.propTypes;else if(typeof ae=="object"&&(ae.$$typeof===g||ae.$$typeof===b))Me=ae.propTypes;else return;if(Me){var Ie=Mt(ae);ay(Me,B.props,"prop",Ie,B)}else if(ae.PropTypes!==void 0&&!Qt){Qt=!0;var rt=Mt(ae);q("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",rt||"Unknown")}typeof ae.getDefaultProps=="function"&&!ae.getDefaultProps.isReactClassApproved&&q("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function Oi(B){{for(var ae=Object.keys(B.props),Me=0;Me<ae.length;Me++){var Ie=ae[Me];if(Ie!=="children"&&Ie!=="key"){Co(B),q("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",Ie),Co(null);break}}B.ref!==null&&(Co(B),q("Invalid attribute `ref` supplied to `React.Fragment`."),Co(null))}}function Is(B,ae,Me){var Ie=Se(B);if(!Ie){var rt="";(B===void 0||typeof B=="object"&&B!==null&&Object.keys(B).length===0)&&(rt+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var $t=Wc(ae);$t?rt+=$t:rt+=Bh();var kt;B===null?kt="null":ie(B)?kt="array":B!==void 0&&B.$$typeof===s?(kt="<"+(Mt(B.type)||"Unknown")+" />",rt=" Did you accidentally export a JSX literal instead of a component?"):kt=typeof B,q("React.createElement: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",kt,rt)}var qt=Nt.apply(this,arguments);if(qt==null)return qt;if(Ie)for(var kr=2;kr<arguments.length;kr++)dn(arguments[kr],B);return B===l?Oi(qt):rN(qt),qt}var ia=!1;function ly(B){var ae=Is.bind(null,B);return ae.type=B,ia||(ia=!0,H("React.createFactory() is deprecated and will be removed in a future major release. Consider using JSX or use React.createElement() directly instead.")),Object.defineProperty(ae,"type",{enumerable:!1,get:function(){return H("Factory.type is deprecated. Access the class directly before passing it to createFactory."),Object.defineProperty(this,"type",{value:B}),B}}),ae}function zh(B,ae,Me){for(var Ie=Ot.apply(this,arguments),rt=2;rt<arguments.length;rt++)dn(arguments[rt],Ie.type);return rN(Ie),Ie}function nN(B,ae){var Me=V.transition;V.transition={};var Ie=V.transition;V.transition._updatedFibers=new Set;try{B()}finally{if(V.transition=Me,Me===null&&Ie._updatedFibers){var rt=Ie._updatedFibers.size;rt>10&&H("Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table."),Ie._updatedFibers.clear()}}}var Wh=!1,lm=null;function cy(B){if(lm===null)try{var ae=("require"+Math.random()).slice(0,7),Me=e&&e[ae];lm=Me.call(e,"timers").setImmediate}catch{lm=function(rt){Wh===!1&&(Wh=!0,typeof MessageChannel>"u"&&q("This browser does not have a MessageChannel implementation, so enqueuing tasks via await act(async () => ...) will fail. Please file an issue at https://github.com/facebook/react/issues if you encounter this warning."));var $t=new MessageChannel;$t.port1.onmessage=rt,$t.port2.postMessage(void 0)}}return lm(B)}var Pl=0,Uc=!1;function Uh(B){{var ae=Pl;Pl++,S.current===null&&(S.current=[]);var Me=S.isBatchingLegacy,Ie;try{if(S.isBatchingLegacy=!0,Ie=B(),!Me&&S.didScheduleLegacyUpdate){var rt=S.current;rt!==null&&(S.didScheduleLegacyUpdate=!1,mm(rt))}}catch(pr){throw Ro(ae),pr}finally{S.isBatchingLegacy=Me}if(Ie!==null&&typeof Ie=="object"&&typeof Ie.then=="function"){var $t=Ie,kt=!1,qt={then:function(pr,hn){kt=!0,$t.then(function(Mn){Ro(ae),Pl===0?cm(Mn,pr,hn):pr(Mn)},function(Mn){Ro(ae),hn(Mn)})}};return!Uc&&typeof Promise<"u"&&Promise.resolve().then(function(){}).then(function(){kt||(Uc=!0,q("You called act(async () => ...) without await. This could lead to unexpected testing behaviour, interleaving multiple act calls and mixing their scopes. You should - await act(async () => ...);"))}),qt}else{var kr=Ie;if(Ro(ae),Pl===0){var Br=S.current;Br!==null&&(mm(Br),S.current=null);var an={then:function(pr,hn){S.current===null?(S.current=[],cm(kr,pr,hn)):pr(kr)}};return an}else{var on={then:function(pr,hn){pr(kr)}};return on}}}}function Ro(B){B!==Pl-1&&q("You seem to have overlapping act() calls, this is not supported. Be sure to await previous act() calls before making a new one. "),Pl=B}function cm(B,ae,Me){{var Ie=S.current;if(Ie!==null)try{mm(Ie),cy(function(){Ie.length===0?(S.current=null,ae(B)):cm(B,ae,Me)})}catch(rt){Me(rt)}else ae(B)}}var um=!1;function mm(B){if(!um){um=!0;var ae=0;try{for(;ae<B.length;ae++){var Me=B[ae];do Me=Me(!0);while(Me!==null)}B.length=0}catch(Ie){throw B=B.slice(ae+1),Ie}finally{um=!1}}}var sN=Is,iN=zh,Gh=ly,aN={map:Ds,forEach:Ys,count:di,toArray:Xs,only:Qs};r.Children=aN,r.Component=oe,r.Fragment=l,r.Profiler=u,r.PureComponent=ze,r.StrictMode=c,r.Suspense=p,r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y,r.act=Uh,r.cloneElement=iN,r.createContext=Zs,r.createElement=sN,r.createFactory=Gh,r.createRef=Re,r.forwardRef=Ye,r.isValidElement=fr,r.lazy=ce,r.memo=Ge,r.startTransition=nN,r.unstable_act=Uh,r.useCallback=sn,r.useContext=ct,r.useDebugValue=tn,r.useDeferredValue=sa,r.useEffect=sr,r.useId=kl,r.useImperativeHandle=Zn,r.useInsertionEffect=dr,r.useLayoutEffect=Tr,r.useMemo=en,r.useReducer=Tt,r.useRef=jt,r.useState=nt,r.useSyncExternalStore=nm,r.useTransition=Xt,r.version=n,typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error)})()})(rv,rv.exports);var kq=rv.exports;I9.exports=kq;var v=I9.exports;const St=Mj(v),O9=wq({__proto__:null,default:St},[v]);/**
 * @license React
 * react-jsx-dev-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){var e=v,r=Symbol.for("react.element"),n=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),b=Symbol.for("react.offscreen"),D=Symbol.iterator,E="@@iterator";function j(ce){if(ce===null||typeof ce!="object")return null;var Ye=D&&ce[D]||ce[E];return typeof Ye=="function"?Ye:null}var P=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function w(ce){{for(var Ye=arguments.length,X=new Array(Ye>1?Ye-1:0),Se=1;Se<Ye;Se++)X[Se-1]=arguments[Se];k("error",ce,X)}}function k(ce,Ye,X){{var Se=P.ReactDebugCurrentFrame,Ge=Se.getStackAddendum();Ge!==""&&(Ye+="%s",X=X.concat([Ge]));var Ze=X.map(function(ct){return String(ct)});Ze.unshift("Warning: "+Ye),Function.prototype.apply.call(console[ce],console,Ze)}}var V=!1,S=!1,R=!1,M=!1,T=!1,A;A=Symbol.for("react.module.reference");function F(ce){return!!(typeof ce=="string"||typeof ce=="function"||ce===s||ce===l||T||ce===a||ce===h||ce===g||M||ce===b||V||S||R||typeof ce=="object"&&ce!==null&&(ce.$$typeof===N||ce.$$typeof===p||ce.$$typeof===c||ce.$$typeof===u||ce.$$typeof===d||ce.$$typeof===A||ce.getModuleId!==void 0))}function L(ce,Ye,X){var Se=ce.displayName;if(Se)return Se;var Ge=Ye.displayName||Ye.name||"";return Ge!==""?X+"("+Ge+")":X}function $(ce){return ce.displayName||"Context"}function W(ce){if(ce==null)return null;if(typeof ce.tag=="number"&&w("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof ce=="function")return ce.displayName||ce.name||null;if(typeof ce=="string")return ce;switch(ce){case s:return"Fragment";case n:return"Portal";case l:return"Profiler";case a:return"StrictMode";case h:return"Suspense";case g:return"SuspenseList"}if(typeof ce=="object")switch(ce.$$typeof){case u:var Ye=ce;return $(Ye)+".Consumer";case c:var X=ce;return $(X._context)+".Provider";case d:return L(ce,ce.render,"ForwardRef");case p:var Se=ce.displayName||null;return Se!==null?Se:W(ce.type)||"Memo";case N:{var Ge=ce,Ze=Ge._payload,ct=Ge._init;try{return W(ct(Ze))}catch{return null}}}return null}var O=Object.assign,Y=0,H,q,z,G,ee,K,be;function _e(){}_e.__reactDisabledLog=!0;function oe(){{if(Y===0){H=console.log,q=console.info,z=console.warn,G=console.error,ee=console.group,K=console.groupCollapsed,be=console.groupEnd;var ce={configurable:!0,enumerable:!0,value:_e,writable:!0};Object.defineProperties(console,{info:ce,log:ce,warn:ce,error:ce,group:ce,groupCollapsed:ce,groupEnd:ce})}Y++}}function fe(){{if(Y--,Y===0){var ce={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:O({},ce,{value:H}),info:O({},ce,{value:q}),warn:O({},ce,{value:z}),error:O({},ce,{value:G}),group:O({},ce,{value:ee}),groupCollapsed:O({},ce,{value:K}),groupEnd:O({},ce,{value:be})})}Y<0&&w("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var Ae=P.ReactCurrentDispatcher,ge;function Pe(ce,Ye,X){{if(ge===void 0)try{throw Error()}catch(Ge){var Se=Ge.stack.trim().match(/\n( *(at )?)/);ge=Se&&Se[1]||""}return`
`+ge+ce}}var ze=!1,We;{var Re=typeof WeakMap=="function"?WeakMap:Map;We=new Re}function Ee(ce,Ye){if(!ce||ze)return"";{var X=We.get(ce);if(X!==void 0)return X}var Se;ze=!0;var Ge=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var Ze;Ze=Ae.current,Ae.current=null,oe();try{if(Ye){var ct=function(){throw Error()};if(Object.defineProperty(ct.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ct,[])}catch(en){Se=en}Reflect.construct(ce,[],ct)}else{try{ct.call()}catch(en){Se=en}ce.call(ct.prototype)}}else{try{throw Error()}catch(en){Se=en}ce()}}catch(en){if(en&&Se&&typeof en.stack=="string"){for(var nt=en.stack.split(`
`),Tt=Se.stack.split(`
`),jt=nt.length-1,sr=Tt.length-1;jt>=1&&sr>=0&&nt[jt]!==Tt[sr];)sr--;for(;jt>=1&&sr>=0;jt--,sr--)if(nt[jt]!==Tt[sr]){if(jt!==1||sr!==1)do if(jt--,sr--,sr<0||nt[jt]!==Tt[sr]){var dr=`
`+nt[jt].replace(" at new "," at ");return ce.displayName&&dr.includes("<anonymous>")&&(dr=dr.replace("<anonymous>",ce.displayName)),typeof ce=="function"&&We.set(ce,dr),dr}while(jt>=1&&sr>=0);break}}}finally{ze=!1,Ae.current=Ze,fe(),Error.prepareStackTrace=Ge}var Tr=ce?ce.displayName||ce.name:"",sn=Tr?Pe(Tr):"";return typeof ce=="function"&&We.set(ce,sn),sn}function ie(ce,Ye,X){return Ee(ce,!1)}function ve(ce){var Ye=ce.prototype;return!!(Ye&&Ye.isReactComponent)}function ne(ce,Ye,X){if(ce==null)return"";if(typeof ce=="function")return Ee(ce,ve(ce));if(typeof ce=="string")return Pe(ce);switch(ce){case h:return Pe("Suspense");case g:return Pe("SuspenseList")}if(typeof ce=="object")switch(ce.$$typeof){case d:return ie(ce.render);case p:return ne(ce.type,Ye,X);case N:{var Se=ce,Ge=Se._payload,Ze=Se._init;try{return ne(Ze(Ge),Ye,X)}catch{}}}return""}var le=Object.prototype.hasOwnProperty,Ue={},bt=P.ReactDebugCurrentFrame;function ht(ce){if(ce){var Ye=ce._owner,X=ne(ce.type,ce._source,Ye?Ye.type:null);bt.setExtraStackFrame(X)}else bt.setExtraStackFrame(null)}function Mt(ce,Ye,X,Se,Ge){{var Ze=Function.call.bind(le);for(var ct in ce)if(Ze(ce,ct)){var nt=void 0;try{if(typeof ce[ct]!="function"){var Tt=Error((Se||"React class")+": "+X+" type `"+ct+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof ce[ct]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw Tt.name="Invariant Violation",Tt}nt=ce[ct](Ye,ct,Se,X,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(jt){nt=jt}nt&&!(nt instanceof Error)&&(ht(Ge),w("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",Se||"React class",X,ct,typeof nt),ht(null)),nt instanceof Error&&!(nt.message in Ue)&&(Ue[nt.message]=!0,ht(Ge),w("Failed %s type: %s",X,nt.message),ht(null))}}}var Kt=Array.isArray;function re(ce){return Kt(ce)}function ye(ce){{var Ye=typeof Symbol=="function"&&Symbol.toStringTag,X=Ye&&ce[Symbol.toStringTag]||ce.constructor.name||"Object";return X}}function ue(ce){try{return we(ce),!1}catch{return!0}}function we(ce){return""+ce}function Ve(ce){if(ue(ce))return w("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",ye(ce)),we(ce)}var ke=P.ReactCurrentOwner,Oe={key:!0,ref:!0,__self:!0,__source:!0},et,Fe,Je;Je={};function Nt(ce){if(le.call(ce,"ref")){var Ye=Object.getOwnPropertyDescriptor(ce,"ref").get;if(Ye&&Ye.isReactWarning)return!1}return ce.ref!==void 0}function Vt(ce){if(le.call(ce,"key")){var Ye=Object.getOwnPropertyDescriptor(ce,"key").get;if(Ye&&Ye.isReactWarning)return!1}return ce.key!==void 0}function Ot(ce,Ye){if(typeof ce.ref=="string"&&ke.current&&Ye&&ke.current.stateNode!==Ye){var X=W(ke.current.type);Je[X]||(w('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',W(ke.current.type),ce.ref),Je[X]=!0)}}function fr(ce,Ye){{var X=function(){et||(et=!0,w("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",Ye))};X.isReactWarning=!0,Object.defineProperty(ce,"key",{get:X,configurable:!0})}}function _t(ce,Ye){{var X=function(){Fe||(Fe=!0,w("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",Ye))};X.isReactWarning=!0,Object.defineProperty(ce,"ref",{get:X,configurable:!0})}}var Zr=function(ce,Ye,X,Se,Ge,Ze,ct){var nt={$$typeof:r,type:ce,key:Ye,ref:X,props:ct,_owner:Ze};return nt._store={},Object.defineProperty(nt._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(nt,"_self",{configurable:!1,enumerable:!1,writable:!1,value:Se}),Object.defineProperty(nt,"_source",{configurable:!1,enumerable:!1,writable:!1,value:Ge}),Object.freeze&&(Object.freeze(nt.props),Object.freeze(nt)),nt};function xr(ce,Ye,X,Se,Ge){{var Ze,ct={},nt=null,Tt=null;X!==void 0&&(Ve(X),nt=""+X),Vt(Ye)&&(Ve(Ye.key),nt=""+Ye.key),Nt(Ye)&&(Tt=Ye.ref,Ot(Ye,Ge));for(Ze in Ye)le.call(Ye,Ze)&&!Oe.hasOwnProperty(Ze)&&(ct[Ze]=Ye[Ze]);if(ce&&ce.defaultProps){var jt=ce.defaultProps;for(Ze in jt)ct[Ze]===void 0&&(ct[Ze]=jt[Ze])}if(nt||Tt){var sr=typeof ce=="function"?ce.displayName||ce.name||"Unknown":ce;nt&&fr(ct,sr),Tt&&_t(ct,sr)}return Zr(ce,nt,Tt,Ge,Se,ke.current,ct)}}var mr=P.ReactCurrentOwner,wr=P.ReactDebugCurrentFrame;function gn(ce){if(ce){var Ye=ce._owner,X=ne(ce.type,ce._source,Ye?Ye.type:null);wr.setExtraStackFrame(X)}else wr.setExtraStackFrame(null)}var Nn;Nn=!1;function $r(ce){return typeof ce=="object"&&ce!==null&&ce.$$typeof===r}function Ds(){{if(mr.current){var ce=W(mr.current.type);if(ce)return`

Check the render method of \``+ce+"`."}return""}}function di(ce){{if(ce!==void 0){var Ye=ce.fileName.replace(/^.*[\\\/]/,""),X=ce.lineNumber;return`

Check your code at `+Ye+":"+X+"."}return""}}var Ys={};function Xs(ce){{var Ye=Ds();if(!Ye){var X=typeof ce=="string"?ce:ce.displayName||ce.name;X&&(Ye=`

Check the top-level render call using <`+X+">.")}return Ye}}function Qs(ce,Ye){{if(!ce._store||ce._store.validated||ce.key!=null)return;ce._store.validated=!0;var X=Xs(Ye);if(Ys[X])return;Ys[X]=!0;var Se="";ce&&ce._owner&&ce._owner!==mr.current&&(Se=" It was passed a child from "+W(ce._owner.type)+"."),gn(ce),w('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',X,Se),gn(null)}}function Zs(ce,Ye){{if(typeof ce!="object")return;if(re(ce))for(var X=0;X<ce.length;X++){var Se=ce[X];$r(Se)&&Qs(Se,Ye)}else if($r(ce))ce._store&&(ce._store.validated=!0);else if(ce){var Ge=j(ce);if(typeof Ge=="function"&&Ge!==ce.entries)for(var Ze=Ge.call(ce),ct;!(ct=Ze.next()).done;)$r(ct.value)&&Qs(ct.value,Ye)}}}function _s(ce){{var Ye=ce.type;if(Ye==null||typeof Ye=="string")return;var X;if(typeof Ye=="function")X=Ye.propTypes;else if(typeof Ye=="object"&&(Ye.$$typeof===d||Ye.$$typeof===p))X=Ye.propTypes;else return;if(X){var Se=W(Ye);Mt(X,ce.props,"prop",Se,ce)}else if(Ye.PropTypes!==void 0&&!Nn){Nn=!0;var Ge=W(Ye);w("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",Ge||"Unknown")}typeof Ye.getDefaultProps=="function"&&!Ye.getDefaultProps.isReactClassApproved&&w("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function us(ce){{for(var Ye=Object.keys(ce.props),X=0;X<Ye.length;X++){var Se=Ye[X];if(Se!=="children"&&Se!=="key"){gn(ce),w("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",Se),gn(null);break}}ce.ref!==null&&(gn(ce),w("Invalid attribute `ref` supplied to `React.Fragment`."),gn(null))}}var Qn={};function ei(ce,Ye,X,Se,Ge,Ze){{var ct=F(ce);if(!ct){var nt="";(ce===void 0||typeof ce=="object"&&ce!==null&&Object.keys(ce).length===0)&&(nt+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var Tt=di(Ge);Tt?nt+=Tt:nt+=Ds();var jt;ce===null?jt="null":re(ce)?jt="array":ce!==void 0&&ce.$$typeof===r?(jt="<"+(W(ce.type)||"Unknown")+" />",nt=" Did you accidentally export a JSX literal instead of a component?"):jt=typeof ce,w("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",jt,nt)}var sr=xr(ce,Ye,X,Ge,Ze);if(sr==null)return sr;if(ct){var dr=Ye.children;if(dr!==void 0)if(Se)if(re(dr)){for(var Tr=0;Tr<dr.length;Tr++)Zs(dr[Tr],ce);Object.freeze&&Object.freeze(dr)}else w("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else Zs(dr,ce)}if(le.call(Ye,"key")){var sn=W(ce),en=Object.keys(Ye).filter(function(Xt){return Xt!=="key"}),Zn=en.length>0?"{key: someKey, "+en.join(": ..., ")+": ...}":"{key: someKey}";if(!Qn[sn+Zn]){var tn=en.length>0?"{"+en.join(": ..., ")+": ...}":"{}";w(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,Zn,sn,tn,sn),Qn[sn+Zn]=!0}}return ce===s?us(sr):_s(sr),sr}}var na=ei;uD.Fragment=s,uD.jsxDEV=na})();F9.exports=uD;var t=F9.exports,L9={exports:{}},yi={},$9={exports:{}},B9={};(function(e){/**
 * @license React
 * scheduler.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error);var r=!1,n=5;function s(Fe,Je){var Nt=Fe.length;Fe.push(Je),c(Fe,Je,Nt)}function a(Fe){return Fe.length===0?null:Fe[0]}function l(Fe){if(Fe.length===0)return null;var Je=Fe[0],Nt=Fe.pop();return Nt!==Je&&(Fe[0]=Nt,u(Fe,Nt,0)),Je}function c(Fe,Je,Nt){for(var Vt=Nt;Vt>0;){var Ot=Vt-1>>>1,fr=Fe[Ot];if(d(fr,Je)>0)Fe[Ot]=Je,Fe[Vt]=fr,Vt=Ot;else return}}function u(Fe,Je,Nt){for(var Vt=Nt,Ot=Fe.length,fr=Ot>>>1;Vt<fr;){var _t=(Vt+1)*2-1,Zr=Fe[_t],xr=_t+1,mr=Fe[xr];if(d(Zr,Je)<0)xr<Ot&&d(mr,Zr)<0?(Fe[Vt]=mr,Fe[xr]=Je,Vt=xr):(Fe[Vt]=Zr,Fe[_t]=Je,Vt=_t);else if(xr<Ot&&d(mr,Je)<0)Fe[Vt]=mr,Fe[xr]=Je,Vt=xr;else return}}function d(Fe,Je){var Nt=Fe.sortIndex-Je.sortIndex;return Nt!==0?Nt:Fe.id-Je.id}var h=1,g=2,p=3,N=4,b=5;function D(Fe,Je){}var E=typeof performance=="object"&&typeof performance.now=="function";if(E){var j=performance;e.unstable_now=function(){return j.now()}}else{var P=Date,w=P.now();e.unstable_now=function(){return P.now()-w}}var k=1073741823,V=-1,S=250,R=5e3,M=1e4,T=k,A=[],F=[],L=1,$=null,W=p,O=!1,Y=!1,H=!1,q=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ee(Fe){for(var Je=a(F);Je!==null;){if(Je.callback===null)l(F);else if(Je.startTime<=Fe)l(F),Je.sortIndex=Je.expirationTime,s(A,Je);else return;Je=a(F)}}function K(Fe){if(H=!1,ee(Fe),!Y)if(a(A)!==null)Y=!0,we(be);else{var Je=a(F);Je!==null&&Ve(K,Je.startTime-Fe)}}function be(Fe,Je){Y=!1,H&&(H=!1,ke()),O=!0;var Nt=W;try{var Vt;if(!r)return _e(Fe,Je)}finally{$=null,W=Nt,O=!1}}function _e(Fe,Je){var Nt=Je;for(ee(Nt),$=a(A);$!==null&&!($.expirationTime>Nt&&(!Fe||bt()));){var Vt=$.callback;if(typeof Vt=="function"){$.callback=null,W=$.priorityLevel;var Ot=$.expirationTime<=Nt,fr=Vt(Ot);Nt=e.unstable_now(),typeof fr=="function"?$.callback=fr:$===a(A)&&l(A),ee(Nt)}else l(A);$=a(A)}if($!==null)return!0;var _t=a(F);return _t!==null&&Ve(K,_t.startTime-Nt),!1}function oe(Fe,Je){switch(Fe){case h:case g:case p:case N:case b:break;default:Fe=p}var Nt=W;W=Fe;try{return Je()}finally{W=Nt}}function fe(Fe){var Je;switch(W){case h:case g:case p:Je=p;break;default:Je=W;break}var Nt=W;W=Je;try{return Fe()}finally{W=Nt}}function Ae(Fe){var Je=W;return function(){var Nt=W;W=Je;try{return Fe.apply(this,arguments)}finally{W=Nt}}}function ge(Fe,Je,Nt){var Vt=e.unstable_now(),Ot;if(typeof Nt=="object"&&Nt!==null){var fr=Nt.delay;typeof fr=="number"&&fr>0?Ot=Vt+fr:Ot=Vt}else Ot=Vt;var _t;switch(Fe){case h:_t=V;break;case g:_t=S;break;case b:_t=T;break;case N:_t=M;break;case p:default:_t=R;break}var Zr=Ot+_t,xr={id:L++,callback:Je,priorityLevel:Fe,startTime:Ot,expirationTime:Zr,sortIndex:-1};return Ot>Vt?(xr.sortIndex=Ot,s(F,xr),a(A)===null&&xr===a(F)&&(H?ke():H=!0,Ve(K,Ot-Vt))):(xr.sortIndex=Zr,s(A,xr),!Y&&!O&&(Y=!0,we(be))),xr}function Pe(){}function ze(){!Y&&!O&&(Y=!0,we(be))}function We(){return a(A)}function Re(Fe){Fe.callback=null}function Ee(){return W}var ie=!1,ve=null,ne=-1,le=n,Ue=-1;function bt(){var Fe=e.unstable_now()-Ue;return!(Fe<le)}function ht(){}function Mt(Fe){if(Fe<0||Fe>125){console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported");return}Fe>0?le=Math.floor(1e3/Fe):le=n}var Kt=function(){if(ve!==null){var Fe=e.unstable_now();Ue=Fe;var Je=!0,Nt=!0;try{Nt=ve(Je,Fe)}finally{Nt?re():(ie=!1,ve=null)}}else ie=!1},re;if(typeof G=="function")re=function(){G(Kt)};else if(typeof MessageChannel<"u"){var ye=new MessageChannel,ue=ye.port2;ye.port1.onmessage=Kt,re=function(){ue.postMessage(null)}}else re=function(){q(Kt,0)};function we(Fe){ve=Fe,ie||(ie=!0,re())}function Ve(Fe,Je){ne=q(function(){Fe(e.unstable_now())},Je)}function ke(){z(ne),ne=-1}var Oe=ht,et=null;e.unstable_IdlePriority=b,e.unstable_ImmediatePriority=h,e.unstable_LowPriority=N,e.unstable_NormalPriority=p,e.unstable_Profiling=et,e.unstable_UserBlockingPriority=g,e.unstable_cancelCallback=Re,e.unstable_continueExecution=ze,e.unstable_forceFrameRate=Mt,e.unstable_getCurrentPriorityLevel=Ee,e.unstable_getFirstCallbackNode=We,e.unstable_next=fe,e.unstable_pauseExecution=Pe,e.unstable_requestPaint=Oe,e.unstable_runWithPriority=oe,e.unstable_scheduleCallback=ge,e.unstable_shouldYield=bt,e.unstable_wrapCallback=Ae,typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error)})()})(B9);$9.exports=B9;var Eq=$9.exports;/**
 * @license React
 * react-dom.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error);var e=v,r=Eq,n=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,s=!1;function a(i){s=i}function l(i){if(!s){for(var o=arguments.length,m=new Array(o>1?o-1:0),f=1;f<o;f++)m[f-1]=arguments[f];u("warn",i,m)}}function c(i){if(!s){for(var o=arguments.length,m=new Array(o>1?o-1:0),f=1;f<o;f++)m[f-1]=arguments[f];u("error",i,m)}}function u(i,o,m){{var f=n.ReactDebugCurrentFrame,x=f.getStackAddendum();x!==""&&(o+="%s",m=m.concat([x]));var y=m.map(function(C){return String(C)});y.unshift("Warning: "+o),Function.prototype.apply.call(console[i],console,y)}}var d=0,h=1,g=2,p=3,N=4,b=5,D=6,E=7,j=8,P=9,w=10,k=11,V=12,S=13,R=14,M=15,T=16,A=17,F=18,L=19,$=21,W=22,O=23,Y=24,H=25,q=!0,z=!1,G=!1,ee=!1,K=!1,be=!0,_e=!0,oe=!0,fe=!0,Ae=new Set,ge={},Pe={};function ze(i,o){We(i,o),We(i+"Capture",o)}function We(i,o){ge[i]&&c("EventRegistry: More than one plugin attempted to publish the same registration name, `%s`.",i),ge[i]=o;{var m=i.toLowerCase();Pe[m]=i,i==="onDoubleClick"&&(Pe.ondblclick=i)}for(var f=0;f<o.length;f++)Ae.add(o[f])}var Re=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ee=Object.prototype.hasOwnProperty;function ie(i){{var o=typeof Symbol=="function"&&Symbol.toStringTag,m=o&&i[Symbol.toStringTag]||i.constructor.name||"Object";return m}}function ve(i){try{return ne(i),!1}catch{return!0}}function ne(i){return""+i}function le(i,o){if(ve(i))return c("The provided `%s` attribute is an unsupported type %s. This value must be coerced to a string before before using it here.",o,ie(i)),ne(i)}function Ue(i){if(ve(i))return c("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",ie(i)),ne(i)}function bt(i,o){if(ve(i))return c("The provided `%s` prop is an unsupported type %s. This value must be coerced to a string before before using it here.",o,ie(i)),ne(i)}function ht(i,o){if(ve(i))return c("The provided `%s` CSS property is an unsupported type %s. This value must be coerced to a string before before using it here.",o,ie(i)),ne(i)}function Mt(i){if(ve(i))return c("The provided HTML markup uses a value of unsupported type %s. This value must be coerced to a string before before using it here.",ie(i)),ne(i)}function Kt(i){if(ve(i))return c("Form field values (value, checked, defaultValue, or defaultChecked props) must be strings, not %s. This value must be coerced to a string before before using it here.",ie(i)),ne(i)}var re=0,ye=1,ue=2,we=3,Ve=4,ke=5,Oe=6,et=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",Fe=et+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",Je=new RegExp("^["+et+"]["+Fe+"]*$"),Nt={},Vt={};function Ot(i){return Ee.call(Vt,i)?!0:Ee.call(Nt,i)?!1:Je.test(i)?(Vt[i]=!0,!0):(Nt[i]=!0,c("Invalid attribute name: `%s`",i),!1)}function fr(i,o,m){return o!==null?o.type===re:m?!1:i.length>2&&(i[0]==="o"||i[0]==="O")&&(i[1]==="n"||i[1]==="N")}function _t(i,o,m,f){if(m!==null&&m.type===re)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":{if(f)return!1;if(m!==null)return!m.acceptsBooleans;var x=i.toLowerCase().slice(0,5);return x!=="data-"&&x!=="aria-"}default:return!1}}function Zr(i,o,m,f){if(o===null||typeof o>"u"||_t(i,o,m,f))return!0;if(f)return!1;if(m!==null)switch(m.type){case we:return!o;case Ve:return o===!1;case ke:return isNaN(o);case Oe:return isNaN(o)||o<1}return!1}function xr(i){return wr.hasOwnProperty(i)?wr[i]:null}function mr(i,o,m,f,x,y,C){this.acceptsBooleans=o===ue||o===we||o===Ve,this.attributeName=f,this.attributeNamespace=x,this.mustUseProperty=m,this.propertyName=i,this.type=o,this.sanitizeURL=y,this.removeEmptyString=C}var wr={},gn=["children","dangerouslySetInnerHTML","defaultValue","defaultChecked","innerHTML","suppressContentEditableWarning","suppressHydrationWarning","style"];gn.forEach(function(i){wr[i]=new mr(i,re,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0],m=i[1];wr[o]=new mr(o,ye,!1,m,null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){wr[i]=new mr(i,ue,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){wr[i]=new mr(i,ue,!1,i,null,!1,!1)}),["allowFullScreen","async","autoFocus","autoPlay","controls","default","defer","disabled","disablePictureInPicture","disableRemotePlayback","formNoValidate","hidden","loop","noModule","noValidate","open","playsInline","readOnly","required","reversed","scoped","seamless","itemScope"].forEach(function(i){wr[i]=new mr(i,we,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){wr[i]=new mr(i,we,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){wr[i]=new mr(i,Ve,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){wr[i]=new mr(i,Oe,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){wr[i]=new mr(i,ke,!1,i.toLowerCase(),null,!1,!1)});var Nn=/[\-\:]([a-z])/g,$r=function(i){return i[1].toUpperCase()};["accent-height","alignment-baseline","arabic-form","baseline-shift","cap-height","clip-path","clip-rule","color-interpolation","color-interpolation-filters","color-profile","color-rendering","dominant-baseline","enable-background","fill-opacity","fill-rule","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","glyph-name","glyph-orientation-horizontal","glyph-orientation-vertical","horiz-adv-x","horiz-origin-x","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","overline-position","overline-thickness","paint-order","panose-1","pointer-events","rendering-intent","shape-rendering","stop-color","stop-opacity","strikethrough-position","strikethrough-thickness","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-rendering","underline-position","underline-thickness","unicode-bidi","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","vector-effect","vert-adv-y","vert-origin-x","vert-origin-y","word-spacing","writing-mode","xmlns:xlink","x-height"].forEach(function(i){var o=i.replace(Nn,$r);wr[o]=new mr(o,ye,!1,i,null,!1,!1)}),["xlink:actuate","xlink:arcrole","xlink:role","xlink:show","xlink:title","xlink:type"].forEach(function(i){var o=i.replace(Nn,$r);wr[o]=new mr(o,ye,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(Nn,$r);wr[o]=new mr(o,ye,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){wr[i]=new mr(i,ye,!1,i.toLowerCase(),null,!1,!1)});var Ds="xlinkHref";wr[Ds]=new mr("xlinkHref",ye,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){wr[i]=new mr(i,ye,!1,i.toLowerCase(),null,!0,!0)});var di=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*\:/i,Ys=!1;function Xs(i){!Ys&&di.test(i)&&(Ys=!0,c("A future version of React will block javascript: URLs as a security precaution. Use event handlers instead if you can. If you need to generate unsafe HTML try using dangerouslySetInnerHTML instead. React was passed %s.",JSON.stringify(i)))}function Qs(i,o,m,f){if(f.mustUseProperty){var x=f.propertyName;return i[x]}else{le(m,o),f.sanitizeURL&&Xs(""+m);var y=f.attributeName,C=null;if(f.type===Ve){if(i.hasAttribute(y)){var _=i.getAttribute(y);return _===""?!0:Zr(o,m,f,!1)?_:_===""+m?m:_}}else if(i.hasAttribute(y)){if(Zr(o,m,f,!1))return i.getAttribute(y);if(f.type===we)return m;C=i.getAttribute(y)}return Zr(o,m,f,!1)?C===null?m:C:C===""+m?m:C}}function Zs(i,o,m,f){{if(!Ot(o))return;if(!i.hasAttribute(o))return m===void 0?void 0:null;var x=i.getAttribute(o);return le(m,o),x===""+m?m:x}}function _s(i,o,m,f){var x=xr(o);if(!fr(o,x,f)){if(Zr(o,m,x,f)&&(m=null),f||x===null){if(Ot(o)){var y=o;m===null?i.removeAttribute(y):(le(m,o),i.setAttribute(y,""+m))}return}var C=x.mustUseProperty;if(C){var _=x.propertyName;if(m===null){var I=x.type;i[_]=I===we?!1:""}else i[_]=m;return}var J=x.attributeName,Q=x.attributeNamespace;if(m===null)i.removeAttribute(J);else{var xe=x.type,Ne;xe===we||xe===Ve&&m===!0?Ne="":(le(m,J),Ne=""+m,x.sanitizeURL&&Xs(Ne.toString())),Q?i.setAttributeNS(Q,J,Ne):i.setAttribute(J,Ne)}}}var us=Symbol.for("react.element"),Qn=Symbol.for("react.portal"),ei=Symbol.for("react.fragment"),na=Symbol.for("react.strict_mode"),ce=Symbol.for("react.profiler"),Ye=Symbol.for("react.provider"),X=Symbol.for("react.context"),Se=Symbol.for("react.forward_ref"),Ge=Symbol.for("react.suspense"),Ze=Symbol.for("react.suspense_list"),ct=Symbol.for("react.memo"),nt=Symbol.for("react.lazy"),Tt=Symbol.for("react.scope"),jt=Symbol.for("react.debug_trace_mode"),sr=Symbol.for("react.offscreen"),dr=Symbol.for("react.legacy_hidden"),Tr=Symbol.for("react.cache"),sn=Symbol.for("react.tracing_marker"),en=Symbol.iterator,Zn="@@iterator";function tn(i){if(i===null||typeof i!="object")return null;var o=en&&i[en]||i[Zn];return typeof o=="function"?o:null}var Xt=Object.assign,sa=0,kl,nm,Ba,Fc,El,Ic,Oc;function Lc(){}Lc.__reactDisabledLog=!0;function sm(){{if(sa===0){kl=console.log,nm=console.info,Ba=console.warn,Fc=console.error,El=console.group,Ic=console.groupCollapsed,Oc=console.groupEnd;var i={configurable:!0,enumerable:!0,value:Lc,writable:!0};Object.defineProperties(console,{info:i,log:i,warn:i,error:i,group:i,groupCollapsed:i,groupEnd:i})}sa++}}function im(){{if(sa--,sa===0){var i={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:Xt({},i,{value:kl}),info:Xt({},i,{value:nm}),warn:Xt({},i,{value:Ba}),error:Xt({},i,{value:Fc}),group:Xt({},i,{value:El}),groupCollapsed:Xt({},i,{value:Ic}),groupEnd:Xt({},i,{value:Oc})})}sa<0&&c("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var Dl=n.ReactCurrentDispatcher,$c;function Fi(i,o,m){{if($c===void 0)try{throw Error()}catch(x){var f=x.stack.trim().match(/\n( *(at )?)/);$c=f&&f[1]||""}return`
`+$c+i}}var Ii=!1,za;{var Vo=typeof WeakMap=="function"?WeakMap:Map;za=new Vo}function Po(i,o){if(!i||Ii)return"";{var m=za.get(i);if(m!==void 0)return m}var f;Ii=!0;var x=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var y;y=Dl.current,Dl.current=null,sm();try{if(o){var C=function(){throw Error()};if(Object.defineProperty(C.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(C,[])}catch(Te){f=Te}Reflect.construct(i,[],C)}else{try{C.call()}catch(Te){f=Te}i.call(C.prototype)}}else{try{throw Error()}catch(Te){f=Te}i()}}catch(Te){if(Te&&f&&typeof Te.stack=="string"){for(var _=Te.stack.split(`
`),I=f.stack.split(`
`),J=_.length-1,Q=I.length-1;J>=1&&Q>=0&&_[J]!==I[Q];)Q--;for(;J>=1&&Q>=0;J--,Q--)if(_[J]!==I[Q]){if(J!==1||Q!==1)do if(J--,Q--,Q<0||_[J]!==I[Q]){var xe=`
`+_[J].replace(" at new "," at ");return i.displayName&&xe.includes("<anonymous>")&&(xe=xe.replace("<anonymous>",i.displayName)),typeof i=="function"&&za.set(i,xe),xe}while(J>=1&&Q>=0);break}}}finally{Ii=!1,Dl.current=y,im(),Error.prepareStackTrace=x}var Ne=i?i.displayName||i.name:"",Ce=Ne?Fi(Ne):"";return typeof i=="function"&&za.set(i,Ce),Ce}function jl(i,o,m){return Po(i,!0)}function So(i,o,m){return Po(i,!1)}function am(i){var o=i.prototype;return!!(o&&o.isReactComponent)}function Bc(i,o,m){if(i==null)return"";if(typeof i=="function")return Po(i,am(i));if(typeof i=="string")return Fi(i);switch(i){case Ge:return Fi("Suspense");case Ze:return Fi("SuspenseList")}if(typeof i=="object")switch(i.$$typeof){case Se:return So(i.render);case ct:return Bc(i.type,o,m);case nt:{var f=i,x=f._payload,y=f._init;try{return Bc(y(x),o,m)}catch{}}}return""}function om(i){switch(i._debugOwner&&i._debugOwner.type,i._debugSource,i.tag){case b:return Fi(i.type);case T:return Fi("Lazy");case S:return Fi("Suspense");case L:return Fi("SuspenseList");case d:case g:case M:return So(i.type);case k:return So(i.type.render);case h:return jl(i.type);default:return""}}function zc(i){try{var o="",m=i;do o+=om(m),m=m.return;while(m);return o}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}function tN(i,o,m){var f=i.displayName;if(f)return f;var x=o.displayName||o.name||"";return x!==""?m+"("+x+")":m}function $h(i){return i.displayName||"Context"}function Ar(i){if(i==null)return null;if(typeof i.tag=="number"&&c("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case ei:return"Fragment";case Qn:return"Portal";case ce:return"Profiler";case na:return"StrictMode";case Ge:return"Suspense";case Ze:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case X:var o=i;return $h(o)+".Consumer";case Ye:var m=i;return $h(m._context)+".Provider";case Se:return tN(i,i.render,"ForwardRef");case ct:var f=i.displayName||null;return f!==null?f:Ar(i.type)||"Memo";case nt:{var x=i,y=x._payload,C=x._init;try{return Ar(C(y))}catch{return null}}}return null}function ay(i,o,m){var f=o.displayName||o.name||"";return i.displayName||(f!==""?m+"("+f+")":m)}function Co(i){return i.displayName||"Context"}function Qt(i){var o=i.tag,m=i.type;switch(o){case Y:return"Cache";case P:var f=m;return Co(f)+".Consumer";case w:var x=m;return Co(x._context)+".Provider";case F:return"DehydratedFragment";case k:return ay(m,m.render,"ForwardRef");case E:return"Fragment";case b:return m;case N:return"Portal";case p:return"Root";case D:return"Text";case T:return Ar(m);case j:return m===na?"StrictMode":"Mode";case W:return"Offscreen";case V:return"Profiler";case $:return"Scope";case S:return"Suspense";case L:return"SuspenseList";case H:return"TracingMarker";case h:case d:case A:case g:case R:case M:if(typeof m=="function")return m.displayName||m.name||null;if(typeof m=="string")return m;break}return null}var Bh=n.ReactDebugCurrentFrame,Fs=null,Wc=!1;function Vl(){{if(Fs===null)return null;var i=Fs._debugOwner;if(i!==null&&typeof i<"u")return Qt(i)}return null}function oy(){return Fs===null?"":zc(Fs)}function es(){Bh.getCurrentStack=null,Fs=null,Wc=!1}function dn(i){Bh.getCurrentStack=i===null?null:oy,Fs=i,Wc=!1}function rN(){return Fs}function Oi(i){Wc=i}function Is(i){return""+i}function ia(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return Kt(i),i;default:return""}}var ly={button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0};function zh(i,o){ly[o.type]||o.onChange||o.onInput||o.readOnly||o.disabled||o.value==null||c("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`."),o.onChange||o.readOnly||o.disabled||o.checked==null||c("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")}function nN(i){var o=i.type,m=i.nodeName;return m&&m.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Wh(i){return i._valueTracker}function lm(i){i._valueTracker=null}function cy(i){var o="";return i&&(nN(i)?o=i.checked?"true":"false":o=i.value),o}function Pl(i){var o=nN(i)?"checked":"value",m=Object.getOwnPropertyDescriptor(i.constructor.prototype,o);Kt(i[o]);var f=""+i[o];if(!(i.hasOwnProperty(o)||typeof m>"u"||typeof m.get!="function"||typeof m.set!="function")){var x=m.get,y=m.set;Object.defineProperty(i,o,{configurable:!0,get:function(){return x.call(this)},set:function(_){Kt(_),f=""+_,y.call(this,_)}}),Object.defineProperty(i,o,{enumerable:m.enumerable});var C={getValue:function(){return f},setValue:function(_){Kt(_),f=""+_},stopTracking:function(){lm(i),delete i[o]}};return C}}function Uc(i){Wh(i)||(i._valueTracker=Pl(i))}function Uh(i){if(!i)return!1;var o=Wh(i);if(!o)return!0;var m=o.getValue(),f=cy(i);return f!==m?(o.setValue(f),!0):!1}function Ro(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var cm=!1,um=!1,mm=!1,sN=!1;function iN(i){var o=i.type==="checkbox"||i.type==="radio";return o?i.checked!=null:i.value!=null}function Gh(i,o){var m=i,f=o.checked,x=Xt({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:f??m._wrapperState.initialChecked});return x}function aN(i,o){zh("input",o),o.checked!==void 0&&o.defaultChecked!==void 0&&!um&&(c("%s contains an input of type %s with both checked and defaultChecked props. Input elements must be either controlled or uncontrolled (specify either the checked prop, or the defaultChecked prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://reactjs.org/link/controlled-components",Vl()||"A component",o.type),um=!0),o.value!==void 0&&o.defaultValue!==void 0&&!cm&&(c("%s contains an input of type %s with both value and defaultValue props. Input elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://reactjs.org/link/controlled-components",Vl()||"A component",o.type),cm=!0);var m=i,f=o.defaultValue==null?"":o.defaultValue;m._wrapperState={initialChecked:o.checked!=null?o.checked:o.defaultChecked,initialValue:ia(o.value!=null?o.value:f),controlled:iN(o)}}function B(i,o){var m=i,f=o.checked;f!=null&&_s(m,"checked",f,!1)}function ae(i,o){var m=i;{var f=iN(o);!m._wrapperState.controlled&&f&&!sN&&(c("A component is changing an uncontrolled input to be controlled. This is likely caused by the value changing from undefined to a defined value, which should not happen. Decide between using a controlled or uncontrolled input element for the lifetime of the component. More info: https://reactjs.org/link/controlled-components"),sN=!0),m._wrapperState.controlled&&!f&&!mm&&(c("A component is changing a controlled input to be uncontrolled. This is likely caused by the value changing from a defined to undefined, which should not happen. Decide between using a controlled or uncontrolled input element for the lifetime of the component. More info: https://reactjs.org/link/controlled-components"),mm=!0)}B(i,o);var x=ia(o.value),y=o.type;if(x!=null)y==="number"?(x===0&&m.value===""||m.value!=x)&&(m.value=Is(x)):m.value!==Is(x)&&(m.value=Is(x));else if(y==="submit"||y==="reset"){m.removeAttribute("value");return}o.hasOwnProperty("value")?$t(m,o.type,x):o.hasOwnProperty("defaultValue")&&$t(m,o.type,ia(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(m.defaultChecked=!!o.defaultChecked)}function Me(i,o,m){var f=i;if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var x=o.type,y=x==="submit"||x==="reset";if(y&&(o.value===void 0||o.value===null))return;var C=Is(f._wrapperState.initialValue);m||C!==f.value&&(f.value=C),f.defaultValue=C}var _=f.name;_!==""&&(f.name=""),f.defaultChecked=!f.defaultChecked,f.defaultChecked=!!f._wrapperState.initialChecked,_!==""&&(f.name=_)}function Ie(i,o){var m=i;ae(m,o),rt(m,o)}function rt(i,o){var m=o.name;if(o.type==="radio"&&m!=null){for(var f=i;f.parentNode;)f=f.parentNode;le(m,"name");for(var x=f.querySelectorAll("input[name="+JSON.stringify(""+m)+'][type="radio"]'),y=0;y<x.length;y++){var C=x[y];if(!(C===i||C.form!==i.form)){var _=HN(C);if(!_)throw new Error("ReactDOMInput: Mixing React and non-React radio inputs with the same `name` is not supported.");Uh(C),ae(C,_)}}}}function $t(i,o,m){(o!=="number"||Ro(i.ownerDocument)!==i)&&(m==null?i.defaultValue=Is(i._wrapperState.initialValue):i.defaultValue!==Is(m)&&(i.defaultValue=Is(m)))}var kt=!1,qt=!1,kr=!1;function Br(i,o){o.value==null&&(typeof o.children=="object"&&o.children!==null?e.Children.forEach(o.children,function(m){m!=null&&(typeof m=="string"||typeof m=="number"||qt||(qt=!0,c("Cannot infer the option value of complex children. Pass a `value` prop or use a plain string as children to <option>.")))}):o.dangerouslySetInnerHTML!=null&&(kr||(kr=!0,c("Pass a `value` prop if you set dangerouslyInnerHTML so React knows which value should be selected.")))),o.selected!=null&&!kt&&(c("Use the `defaultValue` or `value` props on <select> instead of setting `selected` on <option>."),kt=!0)}function an(i,o){o.value!=null&&i.setAttribute("value",Is(ia(o.value)))}var on=Array.isArray;function pr(i){return on(i)}var hn;hn=!1;function Mn(){var i=Vl();return i?`

Check the render method of \``+i+"`.":""}var Gc=["value","defaultValue"];function Hh(i){{zh("select",i);for(var o=0;o<Gc.length;o++){var m=Gc[o];if(i[m]!=null){var f=pr(i[m]);i.multiple&&!f?c("The `%s` prop supplied to <select> must be an array if `multiple` is true.%s",m,Mn()):!i.multiple&&f&&c("The `%s` prop supplied to <select> must be a scalar value if `multiple` is false.%s",m,Mn())}}}}function Mo(i,o,m,f){var x=i.options;if(o){for(var y=m,C={},_=0;_<y.length;_++)C["$"+y[_]]=!0;for(var I=0;I<x.length;I++){var J=C.hasOwnProperty("$"+x[I].value);x[I].selected!==J&&(x[I].selected=J),J&&f&&(x[I].defaultSelected=!0)}}else{for(var Q=Is(ia(m)),xe=null,Ne=0;Ne<x.length;Ne++){if(x[Ne].value===Q){x[Ne].selected=!0,f&&(x[Ne].defaultSelected=!0);return}xe===null&&!x[Ne].disabled&&(xe=x[Ne])}xe!==null&&(xe.selected=!0)}}function Jh(i,o){return Xt({},o,{value:void 0})}function Kh(i,o){var m=i;Hh(o),m._wrapperState={wasMultiple:!!o.multiple},o.value!==void 0&&o.defaultValue!==void 0&&!hn&&(c("Select elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled select element and remove one of these props. More info: https://reactjs.org/link/controlled-components"),hn=!0)}function uy(i,o){var m=i;m.multiple=!!o.multiple;var f=o.value;f!=null?Mo(m,!!o.multiple,f,!1):o.defaultValue!=null&&Mo(m,!!o.multiple,o.defaultValue,!0)}function oN(i,o){var m=i,f=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!o.multiple;var x=o.value;x!=null?Mo(m,!!o.multiple,x,!1):f!==!!o.multiple&&(o.defaultValue!=null?Mo(m,!!o.multiple,o.defaultValue,!0):Mo(m,!!o.multiple,o.multiple?[]:"",!1))}function my(i,o){var m=i,f=o.value;f!=null&&Mo(m,!!o.multiple,f,!1)}var YP=!1;function dy(i,o){var m=i;if(o.dangerouslySetInnerHTML!=null)throw new Error("`dangerouslySetInnerHTML` does not make sense on <textarea>.");var f=Xt({},o,{value:void 0,defaultValue:void 0,children:Is(m._wrapperState.initialValue)});return f}function XP(i,o){var m=i;zh("textarea",o),o.value!==void 0&&o.defaultValue!==void 0&&!YP&&(c("%s contains a textarea with both value and defaultValue props. Textarea elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled textarea and remove one of these props. More info: https://reactjs.org/link/controlled-components",Vl()||"A component"),YP=!0);var f=o.value;if(f==null){var x=o.children,y=o.defaultValue;if(x!=null){c("Use the `defaultValue` or `value` props instead of setting children on <textarea>.");{if(y!=null)throw new Error("If you supply `defaultValue` on a <textarea>, do not pass children.");if(pr(x)){if(x.length>1)throw new Error("<textarea> can only have at most one child.");x=x[0]}y=x}}y==null&&(y=""),f=y}m._wrapperState={initialValue:ia(f)}}function QP(i,o){var m=i,f=ia(o.value),x=ia(o.defaultValue);if(f!=null){var y=Is(f);y!==m.value&&(m.value=y),o.defaultValue==null&&m.defaultValue!==y&&(m.defaultValue=y)}x!=null&&(m.defaultValue=Is(x))}function ZP(i,o){var m=i,f=m.textContent;f===m._wrapperState.initialValue&&f!==""&&f!==null&&(m.value=f)}function c$(i,o){QP(i,o)}var To="http://www.w3.org/1999/xhtml",u$="http://www.w3.org/1998/Math/MathML",hy="http://www.w3.org/2000/svg";function fy(i){switch(i){case"svg":return hy;case"math":return u$;default:return To}}function py(i,o){return i==null||i===To?fy(o):i===hy&&o==="foreignObject"?To:i}var m$=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,m,f,x){MSApp.execUnsafeLocalFunction(function(){return i(o,m,f,x)})}:i},lN,e2=m$(function(i,o){if(i.namespaceURI===hy&&!("innerHTML"in i)){lN=lN||document.createElement("div"),lN.innerHTML="<svg>"+o.valueOf().toString()+"</svg>";for(var m=lN.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;m.firstChild;)i.appendChild(m.firstChild);return}i.innerHTML=o}),ti=1,Ao=3,Tn=8,_o=9,gy=11,cN=function(i,o){if(o){var m=i.firstChild;if(m&&m===i.lastChild&&m.nodeType===Ao){m.nodeValue=o;return}}i.textContent=o},d$={animation:["animationDelay","animationDirection","animationDuration","animationFillMode","animationIterationCount","animationName","animationPlayState","animationTimingFunction"],background:["backgroundAttachment","backgroundClip","backgroundColor","backgroundImage","backgroundOrigin","backgroundPositionX","backgroundPositionY","backgroundRepeat","backgroundSize"],backgroundPosition:["backgroundPositionX","backgroundPositionY"],border:["borderBottomColor","borderBottomStyle","borderBottomWidth","borderImageOutset","borderImageRepeat","borderImageSlice","borderImageSource","borderImageWidth","borderLeftColor","borderLeftStyle","borderLeftWidth","borderRightColor","borderRightStyle","borderRightWidth","borderTopColor","borderTopStyle","borderTopWidth"],borderBlockEnd:["borderBlockEndColor","borderBlockEndStyle","borderBlockEndWidth"],borderBlockStart:["borderBlockStartColor","borderBlockStartStyle","borderBlockStartWidth"],borderBottom:["borderBottomColor","borderBottomStyle","borderBottomWidth"],borderColor:["borderBottomColor","borderLeftColor","borderRightColor","borderTopColor"],borderImage:["borderImageOutset","borderImageRepeat","borderImageSlice","borderImageSource","borderImageWidth"],borderInlineEnd:["borderInlineEndColor","borderInlineEndStyle","borderInlineEndWidth"],borderInlineStart:["borderInlineStartColor","borderInlineStartStyle","borderInlineStartWidth"],borderLeft:["borderLeftColor","borderLeftStyle","borderLeftWidth"],borderRadius:["borderBottomLeftRadius","borderBottomRightRadius","borderTopLeftRadius","borderTopRightRadius"],borderRight:["borderRightColor","borderRightStyle","borderRightWidth"],borderStyle:["borderBottomStyle","borderLeftStyle","borderRightStyle","borderTopStyle"],borderTop:["borderTopColor","borderTopStyle","borderTopWidth"],borderWidth:["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth"],columnRule:["columnRuleColor","columnRuleStyle","columnRuleWidth"],columns:["columnCount","columnWidth"],flex:["flexBasis","flexGrow","flexShrink"],flexFlow:["flexDirection","flexWrap"],font:["fontFamily","fontFeatureSettings","fontKerning","fontLanguageOverride","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontVariantAlternates","fontVariantCaps","fontVariantEastAsian","fontVariantLigatures","fontVariantNumeric","fontVariantPosition","fontWeight","lineHeight"],fontVariant:["fontVariantAlternates","fontVariantCaps","fontVariantEastAsian","fontVariantLigatures","fontVariantNumeric","fontVariantPosition"],gap:["columnGap","rowGap"],grid:["gridAutoColumns","gridAutoFlow","gridAutoRows","gridTemplateAreas","gridTemplateColumns","gridTemplateRows"],gridArea:["gridColumnEnd","gridColumnStart","gridRowEnd","gridRowStart"],gridColumn:["gridColumnEnd","gridColumnStart"],gridColumnGap:["columnGap"],gridGap:["columnGap","rowGap"],gridRow:["gridRowEnd","gridRowStart"],gridRowGap:["rowGap"],gridTemplate:["gridTemplateAreas","gridTemplateColumns","gridTemplateRows"],listStyle:["listStyleImage","listStylePosition","listStyleType"],margin:["marginBottom","marginLeft","marginRight","marginTop"],marker:["markerEnd","markerMid","markerStart"],mask:["maskClip","maskComposite","maskImage","maskMode","maskOrigin","maskPositionX","maskPositionY","maskRepeat","maskSize"],maskPosition:["maskPositionX","maskPositionY"],outline:["outlineColor","outlineStyle","outlineWidth"],overflow:["overflowX","overflowY"],padding:["paddingBottom","paddingLeft","paddingRight","paddingTop"],placeContent:["alignContent","justifyContent"],placeItems:["alignItems","justifyItems"],placeSelf:["alignSelf","justifySelf"],textDecoration:["textDecorationColor","textDecorationLine","textDecorationStyle"],textEmphasis:["textEmphasisColor","textEmphasisStyle"],transition:["transitionDelay","transitionDuration","transitionProperty","transitionTimingFunction"],wordWrap:["overflowWrap"]},qh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0};function h$(i,o){return i+o.charAt(0).toUpperCase()+o.substring(1)}var f$=["Webkit","ms","Moz","O"];Object.keys(qh).forEach(function(i){f$.forEach(function(o){qh[h$(o,i)]=qh[i]})});function Ny(i,o,m){var f=o==null||typeof o=="boolean"||o==="";return f?"":!m&&typeof o=="number"&&o!==0&&!(qh.hasOwnProperty(i)&&qh[i])?o+"px":(ht(o,i),(""+o).trim())}var p$=/([A-Z])/g,g$=/^ms-/;function N$(i){return i.replace(p$,"-$1").toLowerCase().replace(g$,"-ms-")}var t2=function(){};{var x$=/^(?:webkit|moz|o)[A-Z]/,b$=/^-ms-/,v$=/-(.)/g,r2=/;\s*$/,dm={},xy={},n2=!1,s2=!1,y$=function(i){return i.replace(v$,function(o,m){return m.toUpperCase()})},w$=function(i){dm.hasOwnProperty(i)&&dm[i]||(dm[i]=!0,c("Unsupported style property %s. Did you mean %s?",i,y$(i.replace(b$,"ms-"))))},k$=function(i){dm.hasOwnProperty(i)&&dm[i]||(dm[i]=!0,c("Unsupported vendor-prefixed style property %s. Did you mean %s?",i,i.charAt(0).toUpperCase()+i.slice(1)))},E$=function(i,o){xy.hasOwnProperty(o)&&xy[o]||(xy[o]=!0,c(`Style property values shouldn't contain a semicolon. Try "%s: %s" instead.`,i,o.replace(r2,"")))},D$=function(i,o){n2||(n2=!0,c("`NaN` is an invalid value for the `%s` css style property.",i))},j$=function(i,o){s2||(s2=!0,c("`Infinity` is an invalid value for the `%s` css style property.",i))};t2=function(i,o){i.indexOf("-")>-1?w$(i):x$.test(i)?k$(i):r2.test(o)&&E$(i,o),typeof o=="number"&&(isNaN(o)?D$(i,o):isFinite(o)||j$(i,o))}}var V$=t2;function P$(i){{var o="",m="";for(var f in i)if(i.hasOwnProperty(f)){var x=i[f];if(x!=null){var y=f.indexOf("--")===0;o+=m+(y?f:N$(f))+":",o+=Ny(f,x,y),m=";"}}return o||null}}function i2(i,o){var m=i.style;for(var f in o)if(o.hasOwnProperty(f)){var x=f.indexOf("--")===0;x||V$(f,o[f]);var y=Ny(f,o[f],x);f==="float"&&(f="cssFloat"),x?m.setProperty(f,y):m[f]=y}}function S$(i){return i==null||typeof i=="boolean"||i===""}function a2(i){var o={};for(var m in i)for(var f=d$[m]||[m],x=0;x<f.length;x++)o[f[x]]=m;return o}function C$(i,o){{if(!o)return;var m=a2(i),f=a2(o),x={};for(var y in m){var C=m[y],_=f[y];if(_&&C!==_){var I=C+","+_;if(x[I])continue;x[I]=!0,c("%s a style property during rerender (%s) when a conflicting property is set (%s) can lead to styling bugs. To avoid this, don't mix shorthand and non-shorthand properties for the same value; instead, replace the shorthand with separate values.",S$(i[C])?"Removing":"Updating",C,_)}}}}var R$={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},M$=Xt({menuitem:!0},R$),T$="__html";function by(i,o){if(o){if(M$[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw new Error(i+" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw new Error("Can only set one of `children` or `props.dangerouslySetInnerHTML`.");if(typeof o.dangerouslySetInnerHTML!="object"||!(T$ in o.dangerouslySetInnerHTML))throw new Error("`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit https://reactjs.org/link/dangerously-set-inner-html for more information.")}if(!o.suppressContentEditableWarning&&o.contentEditable&&o.children!=null&&c("A component is `contentEditable` and contains `children` managed by React. It is now your responsibility to guarantee that none of those nodes are unexpectedly modified or duplicated. This is probably not intentional."),o.style!=null&&typeof o.style!="object")throw new Error("The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.")}}function Hc(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uN={accept:"accept",acceptcharset:"acceptCharset","accept-charset":"acceptCharset",accesskey:"accessKey",action:"action",allowfullscreen:"allowFullScreen",alt:"alt",as:"as",async:"async",autocapitalize:"autoCapitalize",autocomplete:"autoComplete",autocorrect:"autoCorrect",autofocus:"autoFocus",autoplay:"autoPlay",autosave:"autoSave",capture:"capture",cellpadding:"cellPadding",cellspacing:"cellSpacing",challenge:"challenge",charset:"charSet",checked:"checked",children:"children",cite:"cite",class:"className",classid:"classID",classname:"className",cols:"cols",colspan:"colSpan",content:"content",contenteditable:"contentEditable",contextmenu:"contextMenu",controls:"controls",controlslist:"controlsList",coords:"coords",crossorigin:"crossOrigin",dangerouslysetinnerhtml:"dangerouslySetInnerHTML",data:"data",datetime:"dateTime",default:"default",defaultchecked:"defaultChecked",defaultvalue:"defaultValue",defer:"defer",dir:"dir",disabled:"disabled",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback",download:"download",draggable:"draggable",enctype:"encType",enterkeyhint:"enterKeyHint",for:"htmlFor",form:"form",formmethod:"formMethod",formaction:"formAction",formenctype:"formEncType",formnovalidate:"formNoValidate",formtarget:"formTarget",frameborder:"frameBorder",headers:"headers",height:"height",hidden:"hidden",high:"high",href:"href",hreflang:"hrefLang",htmlfor:"htmlFor",httpequiv:"httpEquiv","http-equiv":"httpEquiv",icon:"icon",id:"id",imagesizes:"imageSizes",imagesrcset:"imageSrcSet",innerhtml:"innerHTML",inputmode:"inputMode",integrity:"integrity",is:"is",itemid:"itemID",itemprop:"itemProp",itemref:"itemRef",itemscope:"itemScope",itemtype:"itemType",keyparams:"keyParams",keytype:"keyType",kind:"kind",label:"label",lang:"lang",list:"list",loop:"loop",low:"low",manifest:"manifest",marginwidth:"marginWidth",marginheight:"marginHeight",max:"max",maxlength:"maxLength",media:"media",mediagroup:"mediaGroup",method:"method",min:"min",minlength:"minLength",multiple:"multiple",muted:"muted",name:"name",nomodule:"noModule",nonce:"nonce",novalidate:"noValidate",open:"open",optimum:"optimum",pattern:"pattern",placeholder:"placeholder",playsinline:"playsInline",poster:"poster",preload:"preload",profile:"profile",radiogroup:"radioGroup",readonly:"readOnly",referrerpolicy:"referrerPolicy",rel:"rel",required:"required",reversed:"reversed",role:"role",rows:"rows",rowspan:"rowSpan",sandbox:"sandbox",scope:"scope",scoped:"scoped",scrolling:"scrolling",seamless:"seamless",selected:"selected",shape:"shape",size:"size",sizes:"sizes",span:"span",spellcheck:"spellCheck",src:"src",srcdoc:"srcDoc",srclang:"srcLang",srcset:"srcSet",start:"start",step:"step",style:"style",summary:"summary",tabindex:"tabIndex",target:"target",title:"title",type:"type",usemap:"useMap",value:"value",width:"width",wmode:"wmode",wrap:"wrap",about:"about",accentheight:"accentHeight","accent-height":"accentHeight",accumulate:"accumulate",additive:"additive",alignmentbaseline:"alignmentBaseline","alignment-baseline":"alignmentBaseline",allowreorder:"allowReorder",alphabetic:"alphabetic",amplitude:"amplitude",arabicform:"arabicForm","arabic-form":"arabicForm",ascent:"ascent",attributename:"attributeName",attributetype:"attributeType",autoreverse:"autoReverse",azimuth:"azimuth",basefrequency:"baseFrequency",baselineshift:"baselineShift","baseline-shift":"baselineShift",baseprofile:"baseProfile",bbox:"bbox",begin:"begin",bias:"bias",by:"by",calcmode:"calcMode",capheight:"capHeight","cap-height":"capHeight",clip:"clip",clippath:"clipPath","clip-path":"clipPath",clippathunits:"clipPathUnits",cliprule:"clipRule","clip-rule":"clipRule",color:"color",colorinterpolation:"colorInterpolation","color-interpolation":"colorInterpolation",colorinterpolationfilters:"colorInterpolationFilters","color-interpolation-filters":"colorInterpolationFilters",colorprofile:"colorProfile","color-profile":"colorProfile",colorrendering:"colorRendering","color-rendering":"colorRendering",contentscripttype:"contentScriptType",contentstyletype:"contentStyleType",cursor:"cursor",cx:"cx",cy:"cy",d:"d",datatype:"datatype",decelerate:"decelerate",descent:"descent",diffuseconstant:"diffuseConstant",direction:"direction",display:"display",divisor:"divisor",dominantbaseline:"dominantBaseline","dominant-baseline":"dominantBaseline",dur:"dur",dx:"dx",dy:"dy",edgemode:"edgeMode",elevation:"elevation",enablebackground:"enableBackground","enable-background":"enableBackground",end:"end",exponent:"exponent",externalresourcesrequired:"externalResourcesRequired",fill:"fill",fillopacity:"fillOpacity","fill-opacity":"fillOpacity",fillrule:"fillRule","fill-rule":"fillRule",filter:"filter",filterres:"filterRes",filterunits:"filterUnits",floodopacity:"floodOpacity","flood-opacity":"floodOpacity",floodcolor:"floodColor","flood-color":"floodColor",focusable:"focusable",fontfamily:"fontFamily","font-family":"fontFamily",fontsize:"fontSize","font-size":"fontSize",fontsizeadjust:"fontSizeAdjust","font-size-adjust":"fontSizeAdjust",fontstretch:"fontStretch","font-stretch":"fontStretch",fontstyle:"fontStyle","font-style":"fontStyle",fontvariant:"fontVariant","font-variant":"fontVariant",fontweight:"fontWeight","font-weight":"fontWeight",format:"format",from:"from",fx:"fx",fy:"fy",g1:"g1",g2:"g2",glyphname:"glyphName","glyph-name":"glyphName",glyphorientationhorizontal:"glyphOrientationHorizontal","glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphorientationvertical:"glyphOrientationVertical","glyph-orientation-vertical":"glyphOrientationVertical",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits",hanging:"hanging",horizadvx:"horizAdvX","horiz-adv-x":"horizAdvX",horizoriginx:"horizOriginX","horiz-origin-x":"horizOriginX",ideographic:"ideographic",imagerendering:"imageRendering","image-rendering":"imageRendering",in2:"in2",in:"in",inlist:"inlist",intercept:"intercept",k1:"k1",k2:"k2",k3:"k3",k4:"k4",k:"k",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",kerning:"kerning",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",lengthadjust:"lengthAdjust",letterspacing:"letterSpacing","letter-spacing":"letterSpacing",lightingcolor:"lightingColor","lighting-color":"lightingColor",limitingconeangle:"limitingConeAngle",local:"local",markerend:"markerEnd","marker-end":"markerEnd",markerheight:"markerHeight",markermid:"markerMid","marker-mid":"markerMid",markerstart:"markerStart","marker-start":"markerStart",markerunits:"markerUnits",markerwidth:"markerWidth",mask:"mask",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",mathematical:"mathematical",mode:"mode",numoctaves:"numOctaves",offset:"offset",opacity:"opacity",operator:"operator",order:"order",orient:"orient",orientation:"orientation",origin:"origin",overflow:"overflow",overlineposition:"overlinePosition","overline-position":"overlinePosition",overlinethickness:"overlineThickness","overline-thickness":"overlineThickness",paintorder:"paintOrder","paint-order":"paintOrder",panose1:"panose1","panose-1":"panose1",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",pointerevents:"pointerEvents","pointer-events":"pointerEvents",points:"points",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",prefix:"prefix",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",property:"property",r:"r",radius:"radius",refx:"refX",refy:"refY",renderingintent:"renderingIntent","rendering-intent":"renderingIntent",repeatcount:"repeatCount",repeatdur:"repeatDur",requiredextensions:"requiredExtensions",requiredfeatures:"requiredFeatures",resource:"resource",restart:"restart",result:"result",results:"results",rotate:"rotate",rx:"rx",ry:"ry",scale:"scale",security:"security",seed:"seed",shaperendering:"shapeRendering","shape-rendering":"shapeRendering",slope:"slope",spacing:"spacing",specularconstant:"specularConstant",specularexponent:"specularExponent",speed:"speed",spreadmethod:"spreadMethod",startoffset:"startOffset",stddeviation:"stdDeviation",stemh:"stemh",stemv:"stemv",stitchtiles:"stitchTiles",stopcolor:"stopColor","stop-color":"stopColor",stopopacity:"stopOpacity","stop-opacity":"stopOpacity",strikethroughposition:"strikethroughPosition","strikethrough-position":"strikethroughPosition",strikethroughthickness:"strikethroughThickness","strikethrough-thickness":"strikethroughThickness",string:"string",stroke:"stroke",strokedasharray:"strokeDasharray","stroke-dasharray":"strokeDasharray",strokedashoffset:"strokeDashoffset","stroke-dashoffset":"strokeDashoffset",strokelinecap:"strokeLinecap","stroke-linecap":"strokeLinecap",strokelinejoin:"strokeLinejoin","stroke-linejoin":"strokeLinejoin",strokemiterlimit:"strokeMiterlimit","stroke-miterlimit":"strokeMiterlimit",strokewidth:"strokeWidth","stroke-width":"strokeWidth",strokeopacity:"strokeOpacity","stroke-opacity":"strokeOpacity",suppresscontenteditablewarning:"suppressContentEditableWarning",suppresshydrationwarning:"suppressHydrationWarning",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",textanchor:"textAnchor","text-anchor":"textAnchor",textdecoration:"textDecoration","text-decoration":"textDecoration",textlength:"textLength",textrendering:"textRendering","text-rendering":"textRendering",to:"to",transform:"transform",typeof:"typeof",u1:"u1",u2:"u2",underlineposition:"underlinePosition","underline-position":"underlinePosition",underlinethickness:"underlineThickness","underline-thickness":"underlineThickness",unicode:"unicode",unicodebidi:"unicodeBidi","unicode-bidi":"unicodeBidi",unicoderange:"unicodeRange","unicode-range":"unicodeRange",unitsperem:"unitsPerEm","units-per-em":"unitsPerEm",unselectable:"unselectable",valphabetic:"vAlphabetic","v-alphabetic":"vAlphabetic",values:"values",vectoreffect:"vectorEffect","vector-effect":"vectorEffect",version:"version",vertadvy:"vertAdvY","vert-adv-y":"vertAdvY",vertoriginx:"vertOriginX","vert-origin-x":"vertOriginX",vertoriginy:"vertOriginY","vert-origin-y":"vertOriginY",vhanging:"vHanging","v-hanging":"vHanging",videographic:"vIdeographic","v-ideographic":"vIdeographic",viewbox:"viewBox",viewtarget:"viewTarget",visibility:"visibility",vmathematical:"vMathematical","v-mathematical":"vMathematical",vocab:"vocab",widths:"widths",wordspacing:"wordSpacing","word-spacing":"wordSpacing",writingmode:"writingMode","writing-mode":"writingMode",x1:"x1",x2:"x2",x:"x",xchannelselector:"xChannelSelector",xheight:"xHeight","x-height":"xHeight",xlinkactuate:"xlinkActuate","xlink:actuate":"xlinkActuate",xlinkarcrole:"xlinkArcrole","xlink:arcrole":"xlinkArcrole",xlinkhref:"xlinkHref","xlink:href":"xlinkHref",xlinkrole:"xlinkRole","xlink:role":"xlinkRole",xlinkshow:"xlinkShow","xlink:show":"xlinkShow",xlinktitle:"xlinkTitle","xlink:title":"xlinkTitle",xlinktype:"xlinkType","xlink:type":"xlinkType",xmlbase:"xmlBase","xml:base":"xmlBase",xmllang:"xmlLang","xml:lang":"xmlLang",xmlns:"xmlns","xml:space":"xmlSpace",xmlnsxlink:"xmlnsXlink","xmlns:xlink":"xmlnsXlink",xmlspace:"xmlSpace",y1:"y1",y2:"y2",y:"y",ychannelselector:"yChannelSelector",z:"z",zoomandpan:"zoomAndPan"},o2={"aria-current":0,"aria-description":0,"aria-details":0,"aria-disabled":0,"aria-hidden":0,"aria-invalid":0,"aria-keyshortcuts":0,"aria-label":0,"aria-roledescription":0,"aria-autocomplete":0,"aria-checked":0,"aria-expanded":0,"aria-haspopup":0,"aria-level":0,"aria-modal":0,"aria-multiline":0,"aria-multiselectable":0,"aria-orientation":0,"aria-placeholder":0,"aria-pressed":0,"aria-readonly":0,"aria-required":0,"aria-selected":0,"aria-sort":0,"aria-valuemax":0,"aria-valuemin":0,"aria-valuenow":0,"aria-valuetext":0,"aria-atomic":0,"aria-busy":0,"aria-live":0,"aria-relevant":0,"aria-dropeffect":0,"aria-grabbed":0,"aria-activedescendant":0,"aria-colcount":0,"aria-colindex":0,"aria-colspan":0,"aria-controls":0,"aria-describedby":0,"aria-errormessage":0,"aria-flowto":0,"aria-labelledby":0,"aria-owns":0,"aria-posinset":0,"aria-rowcount":0,"aria-rowindex":0,"aria-rowspan":0,"aria-setsize":0},hm={},A$=new RegExp("^(aria)-["+Fe+"]*$"),_$=new RegExp("^(aria)[A-Z]["+Fe+"]*$");function F$(i,o){{if(Ee.call(hm,o)&&hm[o])return!0;if(_$.test(o)){var m="aria-"+o.slice(4).toLowerCase(),f=o2.hasOwnProperty(m)?m:null;if(f==null)return c("Invalid ARIA attribute `%s`. ARIA attributes follow the pattern aria-* and must be lowercase.",o),hm[o]=!0,!0;if(o!==f)return c("Invalid ARIA attribute `%s`. Did you mean `%s`?",o,f),hm[o]=!0,!0}if(A$.test(o)){var x=o.toLowerCase(),y=o2.hasOwnProperty(x)?x:null;if(y==null)return hm[o]=!0,!1;if(o!==y)return c("Unknown ARIA attribute `%s`. Did you mean `%s`?",o,y),hm[o]=!0,!0}}return!0}function I$(i,o){{var m=[];for(var f in o){var x=F$(i,f);x||m.push(f)}var y=m.map(function(C){return"`"+C+"`"}).join(", ");m.length===1?c("Invalid aria prop %s on <%s> tag. For details, see https://reactjs.org/link/invalid-aria-props",y,i):m.length>1&&c("Invalid aria props %s on <%s> tag. For details, see https://reactjs.org/link/invalid-aria-props",y,i)}}function O$(i,o){Hc(i,o)||I$(i,o)}var l2=!1;function L$(i,o){{if(i!=="input"&&i!=="textarea"&&i!=="select")return;o!=null&&o.value===null&&!l2&&(l2=!0,i==="select"&&o.multiple?c("`value` prop on `%s` should not be null. Consider using an empty array when `multiple` is set to `true` to clear the component or `undefined` for uncontrolled components.",i):c("`value` prop on `%s` should not be null. Consider using an empty string to clear the component or `undefined` for uncontrolled components.",i))}}var c2=function(){};{var Os={},u2=/^on./,$$=/^on[^A-Z]/,B$=new RegExp("^(aria)-["+Fe+"]*$"),z$=new RegExp("^(aria)[A-Z]["+Fe+"]*$");c2=function(i,o,m,f){if(Ee.call(Os,o)&&Os[o])return!0;var x=o.toLowerCase();if(x==="onfocusin"||x==="onfocusout")return c("React uses onFocus and onBlur instead of onFocusIn and onFocusOut. All React events are normalized to bubble, so onFocusIn and onFocusOut are not needed/supported by React."),Os[o]=!0,!0;if(f!=null){var y=f.registrationNameDependencies,C=f.possibleRegistrationNames;if(y.hasOwnProperty(o))return!0;var _=C.hasOwnProperty(x)?C[x]:null;if(_!=null)return c("Invalid event handler property `%s`. Did you mean `%s`?",o,_),Os[o]=!0,!0;if(u2.test(o))return c("Unknown event handler property `%s`. It will be ignored.",o),Os[o]=!0,!0}else if(u2.test(o))return $$.test(o)&&c("Invalid event handler property `%s`. React events use the camelCase naming convention, for example `onClick`.",o),Os[o]=!0,!0;if(B$.test(o)||z$.test(o))return!0;if(x==="innerhtml")return c("Directly setting property `innerHTML` is not permitted. For more information, lookup documentation on `dangerouslySetInnerHTML`."),Os[o]=!0,!0;if(x==="aria")return c("The `aria` attribute is reserved for future use in React. Pass individual `aria-` attributes instead."),Os[o]=!0,!0;if(x==="is"&&m!==null&&m!==void 0&&typeof m!="string")return c("Received a `%s` for a string attribute `is`. If this is expected, cast the value to a string.",typeof m),Os[o]=!0,!0;if(typeof m=="number"&&isNaN(m))return c("Received NaN for the `%s` attribute. If this is expected, cast the value to a string.",o),Os[o]=!0,!0;var I=xr(o),J=I!==null&&I.type===re;if(uN.hasOwnProperty(x)){var Q=uN[x];if(Q!==o)return c("Invalid DOM property `%s`. Did you mean `%s`?",o,Q),Os[o]=!0,!0}else if(!J&&o!==x)return c("React does not recognize the `%s` prop on a DOM element. If you intentionally want it to appear in the DOM as a custom attribute, spell it as lowercase `%s` instead. If you accidentally passed it from a parent component, remove it from the DOM element.",o,x),Os[o]=!0,!0;return typeof m=="boolean"&&_t(o,m,I,!1)?(m?c('Received `%s` for a non-boolean attribute `%s`.\n\nIf you want to write it to the DOM, pass a string instead: %s="%s" or %s={value.toString()}.',m,o,o,m,o):c('Received `%s` for a non-boolean attribute `%s`.\n\nIf you want to write it to the DOM, pass a string instead: %s="%s" or %s={value.toString()}.\n\nIf you used to conditionally omit it with %s={condition && value}, pass %s={condition ? value : undefined} instead.',m,o,o,m,o,o,o),Os[o]=!0,!0):J?!0:_t(o,m,I,!1)?(Os[o]=!0,!1):((m==="false"||m==="true")&&I!==null&&I.type===we&&(c("Received the string `%s` for the boolean attribute `%s`. %s Did you mean %s={%s}?",m,o,m==="false"?"The browser will interpret it as a truthy value.":'Although this works, it will not work as expected if you pass the string "false".',o,m),Os[o]=!0),!0)}}var W$=function(i,o,m){{var f=[];for(var x in o){var y=c2(i,x,o[x],m);y||f.push(x)}var C=f.map(function(_){return"`"+_+"`"}).join(", ");f.length===1?c("Invalid value for prop %s on <%s> tag. Either remove it from the element, or pass a string or number value to keep it in the DOM. For details, see https://reactjs.org/link/attribute-behavior ",C,i):f.length>1&&c("Invalid values for props %s on <%s> tag. Either remove them from the element, or pass a string or number value to keep them in the DOM. For details, see https://reactjs.org/link/attribute-behavior ",C,i)}};function U$(i,o,m){Hc(i,o)||W$(i,o,m)}var m2=1,vy=2,Yh=4,G$=m2|vy|Yh,Xh=null;function H$(i){Xh!==null&&c("Expected currently replaying event to be null. This error is likely caused by a bug in React. Please file an issue."),Xh=i}function J$(){Xh===null&&c("Expected currently replaying event to not be null. This error is likely caused by a bug in React. Please file an issue."),Xh=null}function K$(i){return i===Xh}function yy(i){var o=i.target||i.srcElement||window;return o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===Ao?o.parentNode:o}var wy=null,fm=null,pm=null;function d2(i){var o=Il(i);if(o){if(typeof wy!="function")throw new Error("setRestoreImplementation() needs to be called to handle a target for controlled events. This error is likely caused by a bug in React. Please file an issue.");var m=o.stateNode;if(m){var f=HN(m);wy(o.stateNode,o.type,f)}}}function q$(i){wy=i}function h2(i){fm?pm?pm.push(i):pm=[i]:fm=i}function Y$(){return fm!==null||pm!==null}function f2(){if(fm){var i=fm,o=pm;if(fm=null,pm=null,d2(i),o)for(var m=0;m<o.length;m++)d2(o[m])}}var p2=function(i,o){return i(o)},g2=function(){},ky=!1;function X$(){var i=Y$();i&&(g2(),f2())}function N2(i,o,m){if(ky)return i(o,m);ky=!0;try{return p2(i,o,m)}finally{ky=!1,X$()}}function Q$(i,o,m){p2=i,g2=m}function Z$(i){return i==="button"||i==="input"||i==="select"||i==="textarea"}function eB(i,o,m){switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":return!!(m.disabled&&Z$(o));default:return!1}}function Qh(i,o){var m=i.stateNode;if(m===null)return null;var f=HN(m);if(f===null)return null;var x=f[o];if(eB(o,i.type,f))return null;if(x&&typeof x!="function")throw new Error("Expected `"+o+"` listener to be a function, instead got a value of `"+typeof x+"` type.");return x}var Ey=!1;if(Re)try{var Zh={};Object.defineProperty(Zh,"passive",{get:function(){Ey=!0}}),window.addEventListener("test",Zh,Zh),window.removeEventListener("test",Zh,Zh)}catch{Ey=!1}function x2(i,o,m,f,x,y,C,_,I){var J=Array.prototype.slice.call(arguments,3);try{o.apply(m,J)}catch(Q){this.onError(Q)}}var b2=x2;if(typeof window<"u"&&typeof window.dispatchEvent=="function"&&typeof document<"u"&&typeof document.createEvent=="function"){var Dy=document.createElement("react");b2=function(o,m,f,x,y,C,_,I,J){if(typeof document>"u"||document===null)throw new Error("The `document` global was defined when React was initialized, but is not defined anymore. This can happen in a test environment if a component schedules an update from an asynchronous callback, but the test has already finished running. To solve this, you can either unmount the component at the end of your test (and ensure that any asynchronous operations get canceled in `componentWillUnmount`), or you can change the test itself to be asynchronous.");var Q=document.createEvent("Event"),xe=!1,Ne=!0,Ce=window.event,Te=Object.getOwnPropertyDescriptor(window,"event");function Le(){Dy.removeEventListener($e,Ft,!1),typeof window.event<"u"&&window.hasOwnProperty("event")&&(window.event=Ce)}var ut=Array.prototype.slice.call(arguments,3);function Ft(){xe=!0,Le(),m.apply(f,ut),Ne=!1}var Ct,jr=!1,gr=!1;function De(je){if(Ct=je.error,jr=!0,Ct===null&&je.colno===0&&je.lineno===0&&(gr=!0),je.defaultPrevented&&Ct!=null&&typeof Ct=="object")try{Ct._suppressLogging=!0}catch{}}var $e="react-"+(o||"invokeguardedcallback");if(window.addEventListener("error",De),Dy.addEventListener($e,Ft,!1),Q.initEvent($e,!1,!1),Dy.dispatchEvent(Q),Te&&Object.defineProperty(window,"event",Te),xe&&Ne&&(jr?gr&&(Ct=new Error("A cross-origin error was thrown. React doesn't have access to the actual error object in development. See https://reactjs.org/link/crossorigin-error for more information.")):Ct=new Error(`An error was thrown inside one of your components, but React doesn't know what it was. This is likely due to browser flakiness. React does its best to preserve the "Pause on exceptions" behavior of the DevTools, which requires some DEV-mode only tricks. It's possible that these don't work in your browser. Try triggering the error in production mode, or switching to a modern browser. If you suspect that this is actually an issue with React, please file an issue.`),this.onError(Ct)),window.removeEventListener("error",De),!xe)return Le(),x2.apply(this,arguments)}}var tB=b2,gm=!1,mN=null,dN=!1,jy=null,rB={onError:function(i){gm=!0,mN=i}};function Vy(i,o,m,f,x,y,C,_,I){gm=!1,mN=null,tB.apply(rB,arguments)}function nB(i,o,m,f,x,y,C,_,I){if(Vy.apply(this,arguments),gm){var J=Py();dN||(dN=!0,jy=J)}}function sB(){if(dN){var i=jy;throw dN=!1,jy=null,i}}function iB(){return gm}function Py(){if(gm){var i=mN;return gm=!1,mN=null,i}else throw new Error("clearCaughtError was called but no error was captured. This error is likely caused by a bug in React. Please file an issue.")}function Nm(i){return i._reactInternals}function aB(i){return i._reactInternals!==void 0}function oB(i,o){i._reactInternals=o}var Bt=0,xm=1,An=2,_r=4,Jc=16,ef=32,v2=64,Fr=128,Fo=256,Kc=512,bm=1024,Sl=2048,Io=4096,qc=8192,Sy=16384,lB=32767,hN=32768,Ls=65536,Cy=131072,y2=1048576,Ry=2097152,Yc=4194304,My=8388608,Cl=16777216,Ty=33554432,Ay=_r|bm|0,_y=An|_r|Jc|ef|Kc|Io|qc,tf=_r|v2|Kc|qc,vm=Sl|Jc,Oo=Yc|My|Ry,cB=n.ReactCurrentOwner;function Xc(i){var o=i,m=i;if(i.alternate)for(;o.return;)o=o.return;else{var f=o;do o=f,(o.flags&(An|Io))!==Bt&&(m=o.return),f=o.return;while(f)}return o.tag===p?m:null}function w2(i){if(i.tag===S){var o=i.memoizedState;if(o===null){var m=i.alternate;m!==null&&(o=m.memoizedState)}if(o!==null)return o.dehydrated}return null}function k2(i){return i.tag===p?i.stateNode.containerInfo:null}function uB(i){return Xc(i)===i}function mB(i){{var o=cB.current;if(o!==null&&o.tag===h){var m=o,f=m.stateNode;f._warnedAboutRefsInRender||c("%s is accessing isMounted inside its render() function. render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",Qt(m)||"A component"),f._warnedAboutRefsInRender=!0}}var x=Nm(i);return x?Xc(x)===x:!1}function E2(i){if(Xc(i)!==i)throw new Error("Unable to find node on an unmounted component.")}function D2(i){var o=i.alternate;if(!o){var m=Xc(i);if(m===null)throw new Error("Unable to find node on an unmounted component.");return m!==i?null:i}for(var f=i,x=o;;){var y=f.return;if(y===null)break;var C=y.alternate;if(C===null){var _=y.return;if(_!==null){f=x=_;continue}break}if(y.child===C.child){for(var I=y.child;I;){if(I===f)return E2(y),i;if(I===x)return E2(y),o;I=I.sibling}throw new Error("Unable to find node on an unmounted component.")}if(f.return!==x.return)f=y,x=C;else{for(var J=!1,Q=y.child;Q;){if(Q===f){J=!0,f=y,x=C;break}if(Q===x){J=!0,x=y,f=C;break}Q=Q.sibling}if(!J){for(Q=C.child;Q;){if(Q===f){J=!0,f=C,x=y;break}if(Q===x){J=!0,x=C,f=y;break}Q=Q.sibling}if(!J)throw new Error("Child was not found in either parent set. This indicates a bug in React related to the return pointer. Please file an issue.")}}if(f.alternate!==x)throw new Error("Return fibers should always be each others' alternates. This error is likely caused by a bug in React. Please file an issue.")}if(f.tag!==p)throw new Error("Unable to find node on an unmounted component.");return f.stateNode.current===f?i:o}function j2(i){var o=D2(i);return o!==null?V2(o):null}function V2(i){if(i.tag===b||i.tag===D)return i;for(var o=i.child;o!==null;){var m=V2(o);if(m!==null)return m;o=o.sibling}return null}function dB(i){var o=D2(i);return o!==null?P2(o):null}function P2(i){if(i.tag===b||i.tag===D)return i;for(var o=i.child;o!==null;){if(o.tag!==N){var m=P2(o);if(m!==null)return m}o=o.sibling}return null}var S2=r.unstable_scheduleCallback,hB=r.unstable_cancelCallback,fB=r.unstable_shouldYield,pB=r.unstable_requestPaint,ts=r.unstable_now,gB=r.unstable_getCurrentPriorityLevel,fN=r.unstable_ImmediatePriority,Fy=r.unstable_UserBlockingPriority,Qc=r.unstable_NormalPriority,NB=r.unstable_LowPriority,Iy=r.unstable_IdlePriority,xB=r.unstable_yieldValue,bB=r.unstable_setDisableYieldValue,ym=null,js=null,ft=null,Wa=!1,aa=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u";function vB(i){if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")return!1;var o=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(o.isDisabled)return!0;if(!o.supportsFiber)return c("The installed version of React DevTools is too old and will not work with the current version of React. Please update React DevTools. https://reactjs.org/link/react-devtools"),!0;try{_e&&(i=Xt({},i,{getLaneLabelMap:jB,injectProfilingHooks:DB})),ym=o.inject(i),js=o}catch(m){c("React instrumentation encountered an error: %s.",m)}return!!o.checkDCE}function yB(i,o){if(js&&typeof js.onScheduleFiberRoot=="function")try{js.onScheduleFiberRoot(ym,i,o)}catch(m){Wa||(Wa=!0,c("React instrumentation encountered an error: %s",m))}}function wB(i,o){if(js&&typeof js.onCommitFiberRoot=="function")try{var m=(i.current.flags&Fr)===Fr;if(oe){var f;switch(o){case pi:f=fN;break;case $o:f=Fy;break;case Bo:f=Qc;break;case yN:f=Iy;break;default:f=Qc;break}js.onCommitFiberRoot(ym,i,f,m)}}catch(x){Wa||(Wa=!0,c("React instrumentation encountered an error: %s",x))}}function kB(i){if(js&&typeof js.onPostCommitFiberRoot=="function")try{js.onPostCommitFiberRoot(ym,i)}catch(o){Wa||(Wa=!0,c("React instrumentation encountered an error: %s",o))}}function EB(i){if(js&&typeof js.onCommitFiberUnmount=="function")try{js.onCommitFiberUnmount(ym,i)}catch(o){Wa||(Wa=!0,c("React instrumentation encountered an error: %s",o))}}function rs(i){if(typeof xB=="function"&&(bB(i),a(i)),js&&typeof js.setStrictMode=="function")try{js.setStrictMode(ym,i)}catch(o){Wa||(Wa=!0,c("React instrumentation encountered an error: %s",o))}}function DB(i){ft=i}function jB(){{for(var i=new Map,o=1,m=0;m<Ly;m++){var f=HB(o);i.set(o,f),o*=2}return i}}function VB(i){ft!==null&&typeof ft.markCommitStarted=="function"&&ft.markCommitStarted(i)}function C2(){ft!==null&&typeof ft.markCommitStopped=="function"&&ft.markCommitStopped()}function rf(i){ft!==null&&typeof ft.markComponentRenderStarted=="function"&&ft.markComponentRenderStarted(i)}function wm(){ft!==null&&typeof ft.markComponentRenderStopped=="function"&&ft.markComponentRenderStopped()}function PB(i){ft!==null&&typeof ft.markComponentPassiveEffectMountStarted=="function"&&ft.markComponentPassiveEffectMountStarted(i)}function SB(){ft!==null&&typeof ft.markComponentPassiveEffectMountStopped=="function"&&ft.markComponentPassiveEffectMountStopped()}function CB(i){ft!==null&&typeof ft.markComponentPassiveEffectUnmountStarted=="function"&&ft.markComponentPassiveEffectUnmountStarted(i)}function RB(){ft!==null&&typeof ft.markComponentPassiveEffectUnmountStopped=="function"&&ft.markComponentPassiveEffectUnmountStopped()}function MB(i){ft!==null&&typeof ft.markComponentLayoutEffectMountStarted=="function"&&ft.markComponentLayoutEffectMountStarted(i)}function TB(){ft!==null&&typeof ft.markComponentLayoutEffectMountStopped=="function"&&ft.markComponentLayoutEffectMountStopped()}function R2(i){ft!==null&&typeof ft.markComponentLayoutEffectUnmountStarted=="function"&&ft.markComponentLayoutEffectUnmountStarted(i)}function M2(){ft!==null&&typeof ft.markComponentLayoutEffectUnmountStopped=="function"&&ft.markComponentLayoutEffectUnmountStopped()}function AB(i,o,m){ft!==null&&typeof ft.markComponentErrored=="function"&&ft.markComponentErrored(i,o,m)}function _B(i,o,m){ft!==null&&typeof ft.markComponentSuspended=="function"&&ft.markComponentSuspended(i,o,m)}function FB(i){ft!==null&&typeof ft.markLayoutEffectsStarted=="function"&&ft.markLayoutEffectsStarted(i)}function IB(){ft!==null&&typeof ft.markLayoutEffectsStopped=="function"&&ft.markLayoutEffectsStopped()}function OB(i){ft!==null&&typeof ft.markPassiveEffectsStarted=="function"&&ft.markPassiveEffectsStarted(i)}function LB(){ft!==null&&typeof ft.markPassiveEffectsStopped=="function"&&ft.markPassiveEffectsStopped()}function T2(i){ft!==null&&typeof ft.markRenderStarted=="function"&&ft.markRenderStarted(i)}function $B(){ft!==null&&typeof ft.markRenderYielded=="function"&&ft.markRenderYielded()}function A2(){ft!==null&&typeof ft.markRenderStopped=="function"&&ft.markRenderStopped()}function BB(i){ft!==null&&typeof ft.markRenderScheduled=="function"&&ft.markRenderScheduled(i)}function zB(i,o){ft!==null&&typeof ft.markForceUpdateScheduled=="function"&&ft.markForceUpdateScheduled(i,o)}function Oy(i,o){ft!==null&&typeof ft.markStateUpdateScheduled=="function"&&ft.markStateUpdateScheduled(i,o)}var Lt=0,Er=1,zr=2,wn=8,Ua=16,_2=Math.clz32?Math.clz32:GB,WB=Math.log,UB=Math.LN2;function GB(i){var o=i>>>0;return o===0?32:31-(WB(o)/UB|0)|0}var Ly=31,Xe=0,ns=0,Gt=1,km=2,Lo=4,Zc=8,Ga=16,nf=32,Em=4194240,sf=64,$y=128,By=256,zy=512,Wy=1024,Uy=2048,Gy=4096,Hy=8192,Jy=16384,Ky=32768,qy=65536,Yy=131072,Xy=262144,Qy=524288,Zy=1048576,ew=2097152,pN=130023424,Dm=4194304,tw=8388608,rw=16777216,nw=33554432,sw=67108864,F2=Dm,af=134217728,I2=268435455,of=268435456,eu=536870912,hi=1073741824;function HB(i){{if(i&Gt)return"Sync";if(i&km)return"InputContinuousHydration";if(i&Lo)return"InputContinuous";if(i&Zc)return"DefaultHydration";if(i&Ga)return"Default";if(i&nf)return"TransitionHydration";if(i&Em)return"Transition";if(i&pN)return"Retry";if(i&af)return"SelectiveHydration";if(i&of)return"IdleHydration";if(i&eu)return"Idle";if(i&hi)return"Offscreen"}}var ln=-1,gN=sf,NN=Dm;function lf(i){switch(tu(i)){case Gt:return Gt;case km:return km;case Lo:return Lo;case Zc:return Zc;case Ga:return Ga;case nf:return nf;case sf:case $y:case By:case zy:case Wy:case Uy:case Gy:case Hy:case Jy:case Ky:case qy:case Yy:case Xy:case Qy:case Zy:case ew:return i&Em;case Dm:case tw:case rw:case nw:case sw:return i&pN;case af:return af;case of:return of;case eu:return eu;case hi:return hi;default:return c("Should have found matching lanes. This is a bug in React."),i}}function xN(i,o){var m=i.pendingLanes;if(m===Xe)return Xe;var f=Xe,x=i.suspendedLanes,y=i.pingedLanes,C=m&I2;if(C!==Xe){var _=C&~x;if(_!==Xe)f=lf(_);else{var I=C&y;I!==Xe&&(f=lf(I))}}else{var J=m&~x;J!==Xe?f=lf(J):y!==Xe&&(f=lf(y))}if(f===Xe)return Xe;if(o!==Xe&&o!==f&&(o&x)===Xe){var Q=tu(f),xe=tu(o);if(Q>=xe||Q===Ga&&(xe&Em)!==Xe)return o}(f&Lo)!==Xe&&(f|=m&Ga);var Ne=i.entangledLanes;if(Ne!==Xe)for(var Ce=i.entanglements,Te=f&Ne;Te>0;){var Le=ru(Te),ut=1<<Le;f|=Ce[Le],Te&=~ut}return f}function JB(i,o){for(var m=i.eventTimes,f=ln;o>0;){var x=ru(o),y=1<<x,C=m[x];C>f&&(f=C),o&=~y}return f}function KB(i,o){switch(i){case Gt:case km:case Lo:return o+250;case Zc:case Ga:case nf:case sf:case $y:case By:case zy:case Wy:case Uy:case Gy:case Hy:case Jy:case Ky:case qy:case Yy:case Xy:case Qy:case Zy:case ew:return o+5e3;case Dm:case tw:case rw:case nw:case sw:return ln;case af:case of:case eu:case hi:return ln;default:return c("Should have found matching lanes. This is a bug in React."),ln}}function qB(i,o){for(var m=i.pendingLanes,f=i.suspendedLanes,x=i.pingedLanes,y=i.expirationTimes,C=m;C>0;){var _=ru(C),I=1<<_,J=y[_];J===ln?((I&f)===Xe||(I&x)!==Xe)&&(y[_]=KB(I,o)):J<=o&&(i.expiredLanes|=I),C&=~I}}function YB(i){return lf(i.pendingLanes)}function iw(i){var o=i.pendingLanes&~hi;return o!==Xe?o:o&hi?hi:Xe}function XB(i){return(i&Gt)!==Xe}function aw(i){return(i&I2)!==Xe}function O2(i){return(i&pN)===i}function QB(i){var o=Gt|Lo|Ga;return(i&o)===Xe}function ZB(i){return(i&Em)===i}function bN(i,o){var m=km|Lo|Zc|Ga;return(o&m)!==Xe}function ez(i,o){return(o&i.expiredLanes)!==Xe}function L2(i){return(i&Em)!==Xe}function $2(){var i=gN;return gN<<=1,(gN&Em)===Xe&&(gN=sf),i}function tz(){var i=NN;return NN<<=1,(NN&pN)===Xe&&(NN=Dm),i}function tu(i){return i&-i}function cf(i){return tu(i)}function ru(i){return 31-_2(i)}function ow(i){return ru(i)}function fi(i,o){return(i&o)!==Xe}function jm(i,o){return(i&o)===o}function lr(i,o){return i|o}function vN(i,o){return i&~o}function B2(i,o){return i&o}function Wve(i){return i}function rz(i,o){return i!==ns&&i<o?i:o}function lw(i){for(var o=[],m=0;m<Ly;m++)o.push(i);return o}function uf(i,o,m){i.pendingLanes|=o,o!==eu&&(i.suspendedLanes=Xe,i.pingedLanes=Xe);var f=i.eventTimes,x=ow(o);f[x]=m}function nz(i,o){i.suspendedLanes|=o,i.pingedLanes&=~o;for(var m=i.expirationTimes,f=o;f>0;){var x=ru(f),y=1<<x;m[x]=ln,f&=~y}}function z2(i,o,m){i.pingedLanes|=i.suspendedLanes&o}function sz(i,o){var m=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=Xe,i.pingedLanes=Xe,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o;for(var f=i.entanglements,x=i.eventTimes,y=i.expirationTimes,C=m;C>0;){var _=ru(C),I=1<<_;f[_]=Xe,x[_]=ln,y[_]=ln,C&=~I}}function cw(i,o){for(var m=i.entangledLanes|=o,f=i.entanglements,x=m;x;){var y=ru(x),C=1<<y;C&o|f[y]&o&&(f[y]|=o),x&=~C}}function iz(i,o){var m=tu(o),f;switch(m){case Lo:f=km;break;case Ga:f=Zc;break;case sf:case $y:case By:case zy:case Wy:case Uy:case Gy:case Hy:case Jy:case Ky:case qy:case Yy:case Xy:case Qy:case Zy:case ew:case Dm:case tw:case rw:case nw:case sw:f=nf;break;case eu:f=of;break;default:f=ns;break}return(f&(i.suspendedLanes|o))!==ns?ns:f}function W2(i,o,m){if(aa)for(var f=i.pendingUpdatersLaneMap;m>0;){var x=ow(m),y=1<<x,C=f[x];C.add(o),m&=~y}}function U2(i,o){if(aa)for(var m=i.pendingUpdatersLaneMap,f=i.memoizedUpdaters;o>0;){var x=ow(o),y=1<<x,C=m[x];C.size>0&&(C.forEach(function(_){var I=_.alternate;(I===null||!f.has(I))&&f.add(_)}),C.clear()),o&=~y}}function G2(i,o){return null}var pi=Gt,$o=Lo,Bo=Ga,yN=eu,mf=ns;function oa(){return mf}function ss(i){mf=i}function az(i,o){var m=mf;try{return mf=i,o()}finally{mf=m}}function oz(i,o){return i!==0&&i<o?i:o}function lz(i,o){return i>o?i:o}function uw(i,o){return i!==0&&i<o}function H2(i){var o=tu(i);return uw(pi,o)?uw($o,o)?aw(o)?Bo:yN:$o:pi}function wN(i){var o=i.current.memoizedState;return o.isDehydrated}var J2;function cz(i){J2=i}function uz(i){J2(i)}var mw;function mz(i){mw=i}var K2;function dz(i){K2=i}var q2;function hz(i){q2=i}var Y2;function fz(i){Y2=i}var dw=!1,kN=[],Rl=null,Ml=null,Tl=null,df=new Map,hf=new Map,Al=[],pz=["mousedown","mouseup","touchcancel","touchend","touchstart","auxclick","dblclick","pointercancel","pointerdown","pointerup","dragend","dragstart","drop","compositionend","compositionstart","keydown","keypress","keyup","input","textInput","copy","cut","paste","click","change","contextmenu","reset","submit"];function gz(i){return pz.indexOf(i)>-1}function Nz(i,o,m,f,x){return{blockedOn:i,domEventName:o,eventSystemFlags:m,nativeEvent:x,targetContainers:[f]}}function X2(i,o){switch(i){case"focusin":case"focusout":Rl=null;break;case"dragenter":case"dragleave":Ml=null;break;case"mouseover":case"mouseout":Tl=null;break;case"pointerover":case"pointerout":{var m=o.pointerId;df.delete(m);break}case"gotpointercapture":case"lostpointercapture":{var f=o.pointerId;hf.delete(f);break}}}function ff(i,o,m,f,x,y){if(i===null||i.nativeEvent!==y){var C=Nz(o,m,f,x,y);if(o!==null){var _=Il(o);_!==null&&mw(_)}return C}i.eventSystemFlags|=f;var I=i.targetContainers;return x!==null&&I.indexOf(x)===-1&&I.push(x),i}function xz(i,o,m,f,x){switch(o){case"focusin":{var y=x;return Rl=ff(Rl,i,o,m,f,y),!0}case"dragenter":{var C=x;return Ml=ff(Ml,i,o,m,f,C),!0}case"mouseover":{var _=x;return Tl=ff(Tl,i,o,m,f,_),!0}case"pointerover":{var I=x,J=I.pointerId;return df.set(J,ff(df.get(J)||null,i,o,m,f,I)),!0}case"gotpointercapture":{var Q=x,xe=Q.pointerId;return hf.set(xe,ff(hf.get(xe)||null,i,o,m,f,Q)),!0}}return!1}function Q2(i){var o=iu(i.target);if(o!==null){var m=Xc(o);if(m!==null){var f=m.tag;if(f===S){var x=w2(m);if(x!==null){i.blockedOn=x,Y2(i.priority,function(){K2(m)});return}}else if(f===p){var y=m.stateNode;if(wN(y)){i.blockedOn=k2(m);return}}}}i.blockedOn=null}function bz(i){for(var o=q2(),m={blockedOn:null,target:i,priority:o},f=0;f<Al.length&&uw(o,Al[f].priority);f++);Al.splice(f,0,m),f===0&&Q2(m)}function EN(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;o.length>0;){var m=o[0],f=pw(i.domEventName,i.eventSystemFlags,m,i.nativeEvent);if(f===null){var x=i.nativeEvent,y=new x.constructor(x.type,x);H$(y),x.target.dispatchEvent(y),J$()}else{var C=Il(f);return C!==null&&mw(C),i.blockedOn=f,!1}o.shift()}return!0}function Z2(i,o,m){EN(i)&&m.delete(o)}function vz(){dw=!1,Rl!==null&&EN(Rl)&&(Rl=null),Ml!==null&&EN(Ml)&&(Ml=null),Tl!==null&&EN(Tl)&&(Tl=null),df.forEach(Z2),hf.forEach(Z2)}function pf(i,o){i.blockedOn===o&&(i.blockedOn=null,dw||(dw=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,vz)))}function gf(i){if(kN.length>0){pf(kN[0],i);for(var o=1;o<kN.length;o++){var m=kN[o];m.blockedOn===i&&(m.blockedOn=null)}}Rl!==null&&pf(Rl,i),Ml!==null&&pf(Ml,i),Tl!==null&&pf(Tl,i);var f=function(_){return pf(_,i)};df.forEach(f),hf.forEach(f);for(var x=0;x<Al.length;x++){var y=Al[x];y.blockedOn===i&&(y.blockedOn=null)}for(;Al.length>0;){var C=Al[0];if(C.blockedOn!==null)break;Q2(C),C.blockedOn===null&&Al.shift()}}var Vm=n.ReactCurrentBatchConfig,hw=!0;function eS(i){hw=!!i}function yz(){return hw}function wz(i,o,m){var f=tS(o),x;switch(f){case pi:x=kz;break;case $o:x=Ez;break;case Bo:default:x=fw;break}return x.bind(null,o,m,i)}function kz(i,o,m,f){var x=oa(),y=Vm.transition;Vm.transition=null;try{ss(pi),fw(i,o,m,f)}finally{ss(x),Vm.transition=y}}function Ez(i,o,m,f){var x=oa(),y=Vm.transition;Vm.transition=null;try{ss($o),fw(i,o,m,f)}finally{ss(x),Vm.transition=y}}function fw(i,o,m,f){hw&&Dz(i,o,m,f)}function Dz(i,o,m,f){var x=pw(i,o,m,f);if(x===null){Sw(i,o,f,DN,m),X2(i,f);return}if(xz(x,i,o,m,f)){f.stopPropagation();return}if(X2(i,f),o&Yh&&gz(i)){for(;x!==null;){var y=Il(x);y!==null&&uz(y);var C=pw(i,o,m,f);if(C===null&&Sw(i,o,f,DN,m),C===x)break;x=C}x!==null&&f.stopPropagation();return}Sw(i,o,f,null,m)}var DN=null;function pw(i,o,m,f){DN=null;var x=yy(f),y=iu(x);if(y!==null){var C=Xc(y);if(C===null)y=null;else{var _=C.tag;if(_===S){var I=w2(C);if(I!==null)return I;y=null}else if(_===p){var J=C.stateNode;if(wN(J))return k2(C);y=null}else C!==y&&(y=null)}}return DN=y,null}function tS(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return pi;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return $o;case"message":{var o=gB();switch(o){case fN:return pi;case Fy:return $o;case Qc:case NB:return Bo;case Iy:return yN;default:return Bo}}default:return Bo}}function jz(i,o,m){return i.addEventListener(o,m,!1),m}function Vz(i,o,m){return i.addEventListener(o,m,!0),m}function Pz(i,o,m,f){return i.addEventListener(o,m,{capture:!0,passive:f}),m}function Sz(i,o,m,f){return i.addEventListener(o,m,{passive:f}),m}var Nf=null,gw=null,xf=null;function Cz(i){return Nf=i,gw=nS(),!0}function Rz(){Nf=null,gw=null,xf=null}function rS(){if(xf)return xf;var i,o=gw,m=o.length,f,x=nS(),y=x.length;for(i=0;i<m&&o[i]===x[i];i++);var C=m-i;for(f=1;f<=C&&o[m-f]===x[y-f];f++);var _=f>1?1-f:void 0;return xf=x.slice(i,_),xf}function nS(){return"value"in Nf?Nf.value:Nf.textContent}function jN(i){var o,m=i.keyCode;return"charCode"in i?(o=i.charCode,o===0&&m===13&&(o=13)):o=m,o===10&&(o=13),o>=32||o===13?o:0}function VN(){return!0}function sS(){return!1}function gi(i){function o(m,f,x,y,C){this._reactName=m,this._targetInst=x,this.type=f,this.nativeEvent=y,this.target=C,this.currentTarget=null;for(var _ in i)if(i.hasOwnProperty(_)){var I=i[_];I?this[_]=I(y):this[_]=y[_]}var J=y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1;return J?this.isDefaultPrevented=VN:this.isDefaultPrevented=sS,this.isPropagationStopped=sS,this}return Xt(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=VN)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=VN)},persist:function(){},isPersistent:VN}),o}var Pm={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nw=gi(Pm),bf=Xt({},Pm,{view:0,detail:0}),Mz=gi(bf),xw,bw,vf;function Tz(i){i!==vf&&(vf&&i.type==="mousemove"?(xw=i.screenX-vf.screenX,bw=i.screenY-vf.screenY):(xw=0,bw=0),vf=i)}var PN=Xt({},bf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yw,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(Tz(i),xw)},movementY:function(i){return"movementY"in i?i.movementY:bw}}),iS=gi(PN),Az=Xt({},PN,{dataTransfer:0}),_z=gi(Az),Fz=Xt({},bf,{relatedTarget:0}),vw=gi(Fz),Iz=Xt({},Pm,{animationName:0,elapsedTime:0,pseudoElement:0}),Oz=gi(Iz),Lz=Xt({},Pm,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),$z=gi(Lz),Bz=Xt({},Pm,{data:0}),aS=gi(Bz),zz=aS,Wz={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Uz={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};function Gz(i){if(i.key){var o=Wz[i.key]||i.key;if(o!=="Unidentified")return o}if(i.type==="keypress"){var m=jN(i);return m===13?"Enter":String.fromCharCode(m)}return i.type==="keydown"||i.type==="keyup"?Uz[i.keyCode]||"Unidentified":""}var Hz={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jz(i){var o=this,m=o.nativeEvent;if(m.getModifierState)return m.getModifierState(i);var f=Hz[i];return f?!!m[f]:!1}function yw(i){return Jz}var Kz=Xt({},bf,{key:Gz,code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yw,charCode:function(i){return i.type==="keypress"?jN(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?jN(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),qz=gi(Kz),Yz=Xt({},PN,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),oS=gi(Yz),Xz=Xt({},bf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yw}),Qz=gi(Xz),Zz=Xt({},Pm,{propertyName:0,elapsedTime:0,pseudoElement:0}),eW=gi(Zz),tW=Xt({},PN,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),rW=gi(tW),nW=[9,13,27,32],lS=229,ww=Re&&"CompositionEvent"in window,yf=null;Re&&"documentMode"in document&&(yf=document.documentMode);var sW=Re&&"TextEvent"in window&&!yf,cS=Re&&(!ww||yf&&yf>8&&yf<=11),uS=32,mS=String.fromCharCode(uS);function iW(){ze("onBeforeInput",["compositionend","keypress","textInput","paste"]),ze("onCompositionEnd",["compositionend","focusout","keydown","keypress","keyup","mousedown"]),ze("onCompositionStart",["compositionstart","focusout","keydown","keypress","keyup","mousedown"]),ze("onCompositionUpdate",["compositionupdate","focusout","keydown","keypress","keyup","mousedown"])}var dS=!1;function aW(i){return(i.ctrlKey||i.altKey||i.metaKey)&&!(i.ctrlKey&&i.altKey)}function oW(i){switch(i){case"compositionstart":return"onCompositionStart";case"compositionend":return"onCompositionEnd";case"compositionupdate":return"onCompositionUpdate"}}function lW(i,o){return i==="keydown"&&o.keyCode===lS}function hS(i,o){switch(i){case"keyup":return nW.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==lS;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fS(i){var o=i.detail;return typeof o=="object"&&"data"in o?o.data:null}function pS(i){return i.locale==="ko"}var Sm=!1;function cW(i,o,m,f,x){var y,C;if(ww?y=oW(o):Sm?hS(o,f)&&(y="onCompositionEnd"):lW(o,f)&&(y="onCompositionStart"),!y)return null;cS&&!pS(f)&&(!Sm&&y==="onCompositionStart"?Sm=Cz(x):y==="onCompositionEnd"&&Sm&&(C=rS()));var _=TN(m,y);if(_.length>0){var I=new aS(y,o,null,f,x);if(i.push({event:I,listeners:_}),C)I.data=C;else{var J=fS(f);J!==null&&(I.data=J)}}}function uW(i,o){switch(i){case"compositionend":return fS(o);case"keypress":var m=o.which;return m!==uS?null:(dS=!0,mS);case"textInput":var f=o.data;return f===mS&&dS?null:f;default:return null}}function mW(i,o){if(Sm){if(i==="compositionend"||!ww&&hS(i,o)){var m=rS();return Rz(),Sm=!1,m}return null}switch(i){case"paste":return null;case"keypress":if(!aW(o)){if(o.char&&o.char.length>1)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return cS&&!pS(o)?null:o.data;default:return null}}function dW(i,o,m,f,x){var y;if(sW?y=uW(o,f):y=mW(o,f),!y)return null;var C=TN(m,"onBeforeInput");if(C.length>0){var _=new zz("onBeforeInput","beforeinput",null,f,x);i.push({event:_,listeners:C}),_.data=y}}function hW(i,o,m,f,x,y,C){cW(i,o,m,f,x),dW(i,o,m,f,x)}var fW={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gS(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!fW[i.type]:o==="textarea"}/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function pW(i){if(!Re)return!1;var o="on"+i,m=o in document;if(!m){var f=document.createElement("div");f.setAttribute(o,"return;"),m=typeof f[o]=="function"}return m}function gW(){ze("onChange",["change","click","focusin","focusout","input","keydown","keyup","selectionchange"])}function NS(i,o,m,f){h2(f);var x=TN(o,"onChange");if(x.length>0){var y=new Nw("onChange","change",null,m,f);i.push({event:y,listeners:x})}}var wf=null,kf=null;function NW(i){var o=i.nodeName&&i.nodeName.toLowerCase();return o==="select"||o==="input"&&i.type==="file"}function xW(i){var o=[];NS(o,kf,i,yy(i)),N2(bW,o)}function bW(i){_S(i,0)}function SN(i){var o=_m(i);if(Uh(o))return i}function vW(i,o){if(i==="change")return o}var xS=!1;Re&&(xS=pW("input")&&(!document.documentMode||document.documentMode>9));function yW(i,o){wf=i,kf=o,wf.attachEvent("onpropertychange",vS)}function bS(){wf&&(wf.detachEvent("onpropertychange",vS),wf=null,kf=null)}function vS(i){i.propertyName==="value"&&SN(kf)&&xW(i)}function wW(i,o,m){i==="focusin"?(bS(),yW(o,m)):i==="focusout"&&bS()}function kW(i,o){if(i==="selectionchange"||i==="keyup"||i==="keydown")return SN(kf)}function EW(i){var o=i.nodeName;return o&&o.toLowerCase()==="input"&&(i.type==="checkbox"||i.type==="radio")}function DW(i,o){if(i==="click")return SN(o)}function jW(i,o){if(i==="input"||i==="change")return SN(o)}function VW(i){var o=i._wrapperState;!o||!o.controlled||i.type!=="number"||$t(i,"number",i.value)}function PW(i,o,m,f,x,y,C){var _=m?_m(m):window,I,J;if(NW(_)?I=vW:gS(_)?xS?I=jW:(I=kW,J=wW):EW(_)&&(I=DW),I){var Q=I(o,m);if(Q){NS(i,Q,f,x);return}}J&&J(o,_,m),o==="focusout"&&VW(_)}function SW(){We("onMouseEnter",["mouseout","mouseover"]),We("onMouseLeave",["mouseout","mouseover"]),We("onPointerEnter",["pointerout","pointerover"]),We("onPointerLeave",["pointerout","pointerover"])}function CW(i,o,m,f,x,y,C){var _=o==="mouseover"||o==="pointerover",I=o==="mouseout"||o==="pointerout";if(_&&!K$(f)){var J=f.relatedTarget||f.fromElement;if(J&&(iu(J)||Of(J)))return}if(!(!I&&!_)){var Q;if(x.window===x)Q=x;else{var xe=x.ownerDocument;xe?Q=xe.defaultView||xe.parentWindow:Q=window}var Ne,Ce;if(I){var Te=f.relatedTarget||f.toElement;if(Ne=m,Ce=Te?iu(Te):null,Ce!==null){var Le=Xc(Ce);(Ce!==Le||Ce.tag!==b&&Ce.tag!==D)&&(Ce=null)}}else Ne=null,Ce=m;if(Ne!==Ce){var ut=iS,Ft="onMouseLeave",Ct="onMouseEnter",jr="mouse";(o==="pointerout"||o==="pointerover")&&(ut=oS,Ft="onPointerLeave",Ct="onPointerEnter",jr="pointer");var gr=Ne==null?Q:_m(Ne),De=Ce==null?Q:_m(Ce),$e=new ut(Ft,jr+"leave",Ne,f,x);$e.target=gr,$e.relatedTarget=De;var je=null,Qe=iu(x);if(Qe===m){var gt=new ut(Ct,jr+"enter",Ce,f,x);gt.target=De,gt.relatedTarget=gr,je=gt}eU(i,$e,je,Ne,Ce)}}}function RW(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Ni=typeof Object.is=="function"?Object.is:RW;function Ef(i,o){if(Ni(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var m=Object.keys(i),f=Object.keys(o);if(m.length!==f.length)return!1;for(var x=0;x<m.length;x++){var y=m[x];if(!Ee.call(o,y)||!Ni(i[y],o[y]))return!1}return!0}function yS(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function MW(i){for(;i;){if(i.nextSibling)return i.nextSibling;i=i.parentNode}}function wS(i,o){for(var m=yS(i),f=0,x=0;m;){if(m.nodeType===Ao){if(x=f+m.textContent.length,f<=o&&x>=o)return{node:m,offset:o-f};f=x}m=yS(MW(m))}}function TW(i){var o=i.ownerDocument,m=o&&o.defaultView||window,f=m.getSelection&&m.getSelection();if(!f||f.rangeCount===0)return null;var x=f.anchorNode,y=f.anchorOffset,C=f.focusNode,_=f.focusOffset;try{x.nodeType,C.nodeType}catch{return null}return AW(i,x,y,C,_)}function AW(i,o,m,f,x){var y=0,C=-1,_=-1,I=0,J=0,Q=i,xe=null;e:for(;;){for(var Ne=null;Q===o&&(m===0||Q.nodeType===Ao)&&(C=y+m),Q===f&&(x===0||Q.nodeType===Ao)&&(_=y+x),Q.nodeType===Ao&&(y+=Q.nodeValue.length),(Ne=Q.firstChild)!==null;)xe=Q,Q=Ne;for(;;){if(Q===i)break e;if(xe===o&&++I===m&&(C=y),xe===f&&++J===x&&(_=y),(Ne=Q.nextSibling)!==null)break;Q=xe,xe=Q.parentNode}Q=Ne}return C===-1||_===-1?null:{start:C,end:_}}function _W(i,o){var m=i.ownerDocument||document,f=m&&m.defaultView||window;if(f.getSelection){var x=f.getSelection(),y=i.textContent.length,C=Math.min(o.start,y),_=o.end===void 0?C:Math.min(o.end,y);if(!x.extend&&C>_){var I=_;_=C,C=I}var J=wS(i,C),Q=wS(i,_);if(J&&Q){if(x.rangeCount===1&&x.anchorNode===J.node&&x.anchorOffset===J.offset&&x.focusNode===Q.node&&x.focusOffset===Q.offset)return;var xe=m.createRange();xe.setStart(J.node,J.offset),x.removeAllRanges(),C>_?(x.addRange(xe),x.extend(Q.node,Q.offset)):(xe.setEnd(Q.node,Q.offset),x.addRange(xe))}}}function kS(i){return i&&i.nodeType===Ao}function ES(i,o){return!i||!o?!1:i===o?!0:kS(i)?!1:kS(o)?ES(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1}function FW(i){return i&&i.ownerDocument&&ES(i.ownerDocument.documentElement,i)}function IW(i){try{return typeof i.contentWindow.location.href=="string"}catch{return!1}}function DS(){for(var i=window,o=Ro();o instanceof i.HTMLIFrameElement;){if(IW(o))i=o.contentWindow;else return o;o=Ro(i.document)}return o}function kw(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function OW(){var i=DS();return{focusedElem:i,selectionRange:kw(i)?$W(i):null}}function LW(i){var o=DS(),m=i.focusedElem,f=i.selectionRange;if(o!==m&&FW(m)){f!==null&&kw(m)&&BW(m,f);for(var x=[],y=m;y=y.parentNode;)y.nodeType===ti&&x.push({element:y,left:y.scrollLeft,top:y.scrollTop});typeof m.focus=="function"&&m.focus();for(var C=0;C<x.length;C++){var _=x[C];_.element.scrollLeft=_.left,_.element.scrollTop=_.top}}}function $W(i){var o;return"selectionStart"in i?o={start:i.selectionStart,end:i.selectionEnd}:o=TW(i),o||{start:0,end:0}}function BW(i,o){var m=o.start,f=o.end;f===void 0&&(f=m),"selectionStart"in i?(i.selectionStart=m,i.selectionEnd=Math.min(f,i.value.length)):_W(i,o)}var zW=Re&&"documentMode"in document&&document.documentMode<=11;function WW(){ze("onSelect",["focusout","contextmenu","dragend","focusin","keydown","keyup","mousedown","mouseup","selectionchange"])}var Cm=null,Ew=null,Df=null,Dw=!1;function UW(i){if("selectionStart"in i&&kw(i))return{start:i.selectionStart,end:i.selectionEnd};var o=i.ownerDocument&&i.ownerDocument.defaultView||window,m=o.getSelection();return{anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}}function GW(i){return i.window===i?i.document:i.nodeType===_o?i:i.ownerDocument}function jS(i,o,m){var f=GW(m);if(!(Dw||Cm==null||Cm!==Ro(f))){var x=UW(Cm);if(!Df||!Ef(Df,x)){Df=x;var y=TN(Ew,"onSelect");if(y.length>0){var C=new Nw("onSelect","select",null,o,m);i.push({event:C,listeners:y}),C.target=Cm}}}}function HW(i,o,m,f,x,y,C){var _=m?_m(m):window;switch(o){case"focusin":(gS(_)||_.contentEditable==="true")&&(Cm=_,Ew=m,Df=null);break;case"focusout":Cm=null,Ew=null,Df=null;break;case"mousedown":Dw=!0;break;case"contextmenu":case"mouseup":case"dragend":Dw=!1,jS(i,f,x);break;case"selectionchange":if(zW)break;case"keydown":case"keyup":jS(i,f,x)}}function CN(i,o){var m={};return m[i.toLowerCase()]=o.toLowerCase(),m["Webkit"+i]="webkit"+o,m["Moz"+i]="moz"+o,m}var Rm={animationend:CN("Animation","AnimationEnd"),animationiteration:CN("Animation","AnimationIteration"),animationstart:CN("Animation","AnimationStart"),transitionend:CN("Transition","TransitionEnd")},jw={},VS={};Re&&(VS=document.createElement("div").style,"AnimationEvent"in window||(delete Rm.animationend.animation,delete Rm.animationiteration.animation,delete Rm.animationstart.animation),"TransitionEvent"in window||delete Rm.transitionend.transition);function RN(i){if(jw[i])return jw[i];if(!Rm[i])return i;var o=Rm[i];for(var m in o)if(o.hasOwnProperty(m)&&m in VS)return jw[i]=o[m];return i}var PS=RN("animationend"),SS=RN("animationiteration"),CS=RN("animationstart"),RS=RN("transitionend"),MS=new Map,TS=["abort","auxClick","cancel","canPlay","canPlayThrough","click","close","contextMenu","copy","cut","drag","dragEnd","dragEnter","dragExit","dragLeave","dragOver","dragStart","drop","durationChange","emptied","encrypted","ended","error","gotPointerCapture","input","invalid","keyDown","keyPress","keyUp","load","loadedData","loadedMetadata","loadStart","lostPointerCapture","mouseDown","mouseMove","mouseOut","mouseOver","mouseUp","paste","pause","play","playing","pointerCancel","pointerDown","pointerMove","pointerOut","pointerOver","pointerUp","progress","rateChange","reset","resize","seeked","seeking","stalled","submit","suspend","timeUpdate","touchCancel","touchEnd","touchStart","volumeChange","scroll","toggle","touchMove","waiting","wheel"];function _l(i,o){MS.set(i,o),ze(o,[i])}function JW(){for(var i=0;i<TS.length;i++){var o=TS[i],m=o.toLowerCase(),f=o[0].toUpperCase()+o.slice(1);_l(m,"on"+f)}_l(PS,"onAnimationEnd"),_l(SS,"onAnimationIteration"),_l(CS,"onAnimationStart"),_l("dblclick","onDoubleClick"),_l("focusin","onFocus"),_l("focusout","onBlur"),_l(RS,"onTransitionEnd")}function KW(i,o,m,f,x,y,C){var _=MS.get(o);if(_!==void 0){var I=Nw,J=o;switch(o){case"keypress":if(jN(f)===0)return;case"keydown":case"keyup":I=qz;break;case"focusin":J="focus",I=vw;break;case"focusout":J="blur",I=vw;break;case"beforeblur":case"afterblur":I=vw;break;case"click":if(f.button===2)return;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":I=iS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":I=_z;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":I=Qz;break;case PS:case SS:case CS:I=Oz;break;case RS:I=eW;break;case"scroll":I=Mz;break;case"wheel":I=rW;break;case"copy":case"cut":case"paste":I=$z;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":I=oS;break}var Q=(y&Yh)!==0;{var xe=!Q&&o==="scroll",Ne=QW(m,_,f.type,Q,xe);if(Ne.length>0){var Ce=new I(_,J,null,f,x);i.push({event:Ce,listeners:Ne})}}}}JW(),SW(),gW(),WW(),iW();function qW(i,o,m,f,x,y,C){KW(i,o,m,f,x,y);var _=(y&G$)===0;_&&(CW(i,o,m,f,x),PW(i,o,m,f,x),HW(i,o,m,f,x),hW(i,o,m,f,x))}var jf=["abort","canplay","canplaythrough","durationchange","emptied","encrypted","ended","error","loadeddata","loadedmetadata","loadstart","pause","play","playing","progress","ratechange","resize","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting"],Vw=new Set(["cancel","close","invalid","load","scroll","toggle"].concat(jf));function AS(i,o,m){var f=i.type||"unknown-event";i.currentTarget=m,nB(f,o,void 0,i),i.currentTarget=null}function YW(i,o,m){var f;if(m)for(var x=o.length-1;x>=0;x--){var y=o[x],C=y.instance,_=y.currentTarget,I=y.listener;if(C!==f&&i.isPropagationStopped())return;AS(i,I,_),f=C}else for(var J=0;J<o.length;J++){var Q=o[J],xe=Q.instance,Ne=Q.currentTarget,Ce=Q.listener;if(xe!==f&&i.isPropagationStopped())return;AS(i,Ce,Ne),f=xe}}function _S(i,o){for(var m=(o&Yh)!==0,f=0;f<i.length;f++){var x=i[f],y=x.event,C=x.listeners;YW(y,C,m)}sB()}function XW(i,o,m,f,x){var y=yy(m),C=[];qW(C,i,f,m,y,o),_S(C,o)}function un(i,o){Vw.has(i)||c('Did not expect a listenToNonDelegatedEvent() call for "%s". This is a bug in React. Please file an issue.',i);var m=!1,f=VG(o),x=tU(i);f.has(x)||(FS(o,i,vy,m),f.add(x))}function Pw(i,o,m){Vw.has(i)&&!o&&c('Did not expect a listenToNativeEvent() call for "%s" in the bubble phase. This is a bug in React. Please file an issue.',i);var f=0;o&&(f|=Yh),FS(m,i,f,o)}var MN="_reactListening"+Math.random().toString(36).slice(2);function Vf(i){if(!i[MN]){i[MN]=!0,Ae.forEach(function(m){m!=="selectionchange"&&(Vw.has(m)||Pw(m,!1,i),Pw(m,!0,i))});var o=i.nodeType===_o?i:i.ownerDocument;o!==null&&(o[MN]||(o[MN]=!0,Pw("selectionchange",!1,o)))}}function FS(i,o,m,f,x){var y=wz(i,o,m),C=void 0;Ey&&(o==="touchstart"||o==="touchmove"||o==="wheel")&&(C=!0),i=i,f?C!==void 0?Pz(i,o,y,C):Vz(i,o,y):C!==void 0?Sz(i,o,y,C):jz(i,o,y)}function IS(i,o){return i===o||i.nodeType===Tn&&i.parentNode===o}function Sw(i,o,m,f,x){var y=f;if(!(o&m2)&&!(o&vy)){var C=x;if(f!==null){var _=f;e:for(;;){if(_===null)return;var I=_.tag;if(I===p||I===N){var J=_.stateNode.containerInfo;if(IS(J,C))break;if(I===N)for(var Q=_.return;Q!==null;){var xe=Q.tag;if(xe===p||xe===N){var Ne=Q.stateNode.containerInfo;if(IS(Ne,C))return}Q=Q.return}for(;J!==null;){var Ce=iu(J);if(Ce===null)return;var Te=Ce.tag;if(Te===b||Te===D){_=y=Ce;continue e}J=J.parentNode}}_=_.return}}}N2(function(){return XW(i,o,m,y)})}function Pf(i,o,m){return{instance:i,listener:o,currentTarget:m}}function QW(i,o,m,f,x,y){for(var C=o!==null?o+"Capture":null,_=f?C:o,I=[],J=i,Q=null;J!==null;){var xe=J,Ne=xe.stateNode,Ce=xe.tag;if(Ce===b&&Ne!==null&&(Q=Ne,_!==null)){var Te=Qh(J,_);Te!=null&&I.push(Pf(J,Te,Q))}if(x)break;J=J.return}return I}function TN(i,o){for(var m=o+"Capture",f=[],x=i;x!==null;){var y=x,C=y.stateNode,_=y.tag;if(_===b&&C!==null){var I=C,J=Qh(x,m);J!=null&&f.unshift(Pf(x,J,I));var Q=Qh(x,o);Q!=null&&f.push(Pf(x,Q,I))}x=x.return}return f}function Mm(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==b);return i||null}function ZW(i,o){for(var m=i,f=o,x=0,y=m;y;y=Mm(y))x++;for(var C=0,_=f;_;_=Mm(_))C++;for(;x-C>0;)m=Mm(m),x--;for(;C-x>0;)f=Mm(f),C--;for(var I=x;I--;){if(m===f||f!==null&&m===f.alternate)return m;m=Mm(m),f=Mm(f)}return null}function OS(i,o,m,f,x){for(var y=o._reactName,C=[],_=m;_!==null&&_!==f;){var I=_,J=I.alternate,Q=I.stateNode,xe=I.tag;if(J!==null&&J===f)break;if(xe===b&&Q!==null){var Ne=Q;if(x){var Ce=Qh(_,y);Ce!=null&&C.unshift(Pf(_,Ce,Ne))}else if(!x){var Te=Qh(_,y);Te!=null&&C.push(Pf(_,Te,Ne))}}_=_.return}C.length!==0&&i.push({event:o,listeners:C})}function eU(i,o,m,f,x){var y=f&&x?ZW(f,x):null;f!==null&&OS(i,o,f,y,!1),x!==null&&m!==null&&OS(i,m,x,y,!0)}function tU(i,o){return i+"__bubble"}var ri=!1,Sf="dangerouslySetInnerHTML",AN="suppressContentEditableWarning",Fl="suppressHydrationWarning",LS="autoFocus",nu="children",su="style",_N="__html",Cw,FN,Cf,$S,IN,BS,zS;Cw={dialog:!0,webview:!0},FN=function(i,o){O$(i,o),L$(i,o),U$(i,o,{registrationNameDependencies:ge,possibleRegistrationNames:Pe})},BS=Re&&!document.documentMode,Cf=function(i,o,m){if(!ri){var f=ON(m),x=ON(o);x!==f&&(ri=!0,c("Prop `%s` did not match. Server: %s Client: %s",i,JSON.stringify(x),JSON.stringify(f)))}},$S=function(i){if(!ri){ri=!0;var o=[];i.forEach(function(m){o.push(m)}),c("Extra attributes from the server: %s",o)}},IN=function(i,o){o===!1?c("Expected `%s` listener to be a function, instead got `false`.\n\nIf you used to conditionally omit it with %s={condition && value}, pass %s={condition ? value : undefined} instead.",i,i,i):c("Expected `%s` listener to be a function, instead got a value of `%s` type.",i,typeof o)},zS=function(i,o){var m=i.namespaceURI===To?i.ownerDocument.createElement(i.tagName):i.ownerDocument.createElementNS(i.namespaceURI,i.tagName);return m.innerHTML=o,m.innerHTML};var rU=/\r\n?/g,nU=/\u0000|\uFFFD/g;function ON(i){Mt(i);var o=typeof i=="string"?i:""+i;return o.replace(rU,`
`).replace(nU,"")}function LN(i,o,m,f){var x=ON(o),y=ON(i);if(y!==x&&(f&&(ri||(ri=!0,c('Text content did not match. Server: "%s" Client: "%s"',y,x))),m&&q))throw new Error("Text content does not match server-rendered HTML.")}function WS(i){return i.nodeType===_o?i:i.ownerDocument}function sU(){}function $N(i){i.onclick=sU}function iU(i,o,m,f,x){for(var y in f)if(f.hasOwnProperty(y)){var C=f[y];if(y===su)C&&Object.freeze(C),i2(o,C);else if(y===Sf){var _=C?C[_N]:void 0;_!=null&&e2(o,_)}else if(y===nu)if(typeof C=="string"){var I=i!=="textarea"||C!=="";I&&cN(o,C)}else typeof C=="number"&&cN(o,""+C);else y===AN||y===Fl||y===LS||(ge.hasOwnProperty(y)?C!=null&&(typeof C!="function"&&IN(y,C),y==="onScroll"&&un("scroll",o)):C!=null&&_s(o,y,C,x))}}function aU(i,o,m,f){for(var x=0;x<o.length;x+=2){var y=o[x],C=o[x+1];y===su?i2(i,C):y===Sf?e2(i,C):y===nu?cN(i,C):_s(i,y,C,f)}}function oU(i,o,m,f){var x,y=WS(m),C,_=f;if(_===To&&(_=fy(i)),_===To){if(x=Hc(i,o),!x&&i!==i.toLowerCase()&&c("<%s /> is using incorrect casing. Use PascalCase for React components, or lowercase for HTML elements.",i),i==="script"){var I=y.createElement("div");I.innerHTML="<script><\/script>";var J=I.firstChild;C=I.removeChild(J)}else if(typeof o.is=="string")C=y.createElement(i,{is:o.is});else if(C=y.createElement(i),i==="select"){var Q=C;o.multiple?Q.multiple=!0:o.size&&(Q.size=o.size)}}else C=y.createElementNS(_,i);return _===To&&!x&&Object.prototype.toString.call(C)==="[object HTMLUnknownElement]"&&!Ee.call(Cw,i)&&(Cw[i]=!0,c("The tag <%s> is unrecognized in this browser. If you meant to render a React component, start its name with an uppercase letter.",i)),C}function lU(i,o){return WS(o).createTextNode(i)}function cU(i,o,m,f){var x=Hc(o,m);FN(o,m);var y;switch(o){case"dialog":un("cancel",i),un("close",i),y=m;break;case"iframe":case"object":case"embed":un("load",i),y=m;break;case"video":case"audio":for(var C=0;C<jf.length;C++)un(jf[C],i);y=m;break;case"source":un("error",i),y=m;break;case"img":case"image":case"link":un("error",i),un("load",i),y=m;break;case"details":un("toggle",i),y=m;break;case"input":aN(i,m),y=Gh(i,m),un("invalid",i);break;case"option":Br(i,m),y=m;break;case"select":Kh(i,m),y=Jh(i,m),un("invalid",i);break;case"textarea":XP(i,m),y=dy(i,m),un("invalid",i);break;default:y=m}switch(by(o,y),iU(o,i,f,y,x),o){case"input":Uc(i),Me(i,m,!1);break;case"textarea":Uc(i),ZP(i);break;case"option":an(i,m);break;case"select":uy(i,m);break;default:typeof y.onClick=="function"&&$N(i);break}}function uU(i,o,m,f,x){FN(o,f);var y=null,C,_;switch(o){case"input":C=Gh(i,m),_=Gh(i,f),y=[];break;case"select":C=Jh(i,m),_=Jh(i,f),y=[];break;case"textarea":C=dy(i,m),_=dy(i,f),y=[];break;default:C=m,_=f,typeof C.onClick!="function"&&typeof _.onClick=="function"&&$N(i);break}by(o,_);var I,J,Q=null;for(I in C)if(!(_.hasOwnProperty(I)||!C.hasOwnProperty(I)||C[I]==null))if(I===su){var xe=C[I];for(J in xe)xe.hasOwnProperty(J)&&(Q||(Q={}),Q[J]="")}else I===Sf||I===nu||I===AN||I===Fl||I===LS||(ge.hasOwnProperty(I)?y||(y=[]):(y=y||[]).push(I,null));for(I in _){var Ne=_[I],Ce=C!=null?C[I]:void 0;if(!(!_.hasOwnProperty(I)||Ne===Ce||Ne==null&&Ce==null))if(I===su)if(Ne&&Object.freeze(Ne),Ce){for(J in Ce)Ce.hasOwnProperty(J)&&(!Ne||!Ne.hasOwnProperty(J))&&(Q||(Q={}),Q[J]="");for(J in Ne)Ne.hasOwnProperty(J)&&Ce[J]!==Ne[J]&&(Q||(Q={}),Q[J]=Ne[J])}else Q||(y||(y=[]),y.push(I,Q)),Q=Ne;else if(I===Sf){var Te=Ne?Ne[_N]:void 0,Le=Ce?Ce[_N]:void 0;Te!=null&&Le!==Te&&(y=y||[]).push(I,Te)}else I===nu?(typeof Ne=="string"||typeof Ne=="number")&&(y=y||[]).push(I,""+Ne):I===AN||I===Fl||(ge.hasOwnProperty(I)?(Ne!=null&&(typeof Ne!="function"&&IN(I,Ne),I==="onScroll"&&un("scroll",i)),!y&&Ce!==Ne&&(y=[])):(y=y||[]).push(I,Ne))}return Q&&(C$(Q,_[su]),(y=y||[]).push(su,Q)),y}function mU(i,o,m,f,x){m==="input"&&x.type==="radio"&&x.name!=null&&B(i,x);var y=Hc(m,f),C=Hc(m,x);switch(aU(i,o,y,C),m){case"input":ae(i,x);break;case"textarea":QP(i,x);break;case"select":oN(i,x);break}}function dU(i){{var o=i.toLowerCase();return uN.hasOwnProperty(o)&&uN[o]||null}}function hU(i,o,m,f,x,y,C){var _,I;switch(_=Hc(o,m),FN(o,m),o){case"dialog":un("cancel",i),un("close",i);break;case"iframe":case"object":case"embed":un("load",i);break;case"video":case"audio":for(var J=0;J<jf.length;J++)un(jf[J],i);break;case"source":un("error",i);break;case"img":case"image":case"link":un("error",i),un("load",i);break;case"details":un("toggle",i);break;case"input":aN(i,m),un("invalid",i);break;case"option":Br(i,m);break;case"select":Kh(i,m),un("invalid",i);break;case"textarea":XP(i,m),un("invalid",i);break}by(o,m);{I=new Set;for(var Q=i.attributes,xe=0;xe<Q.length;xe++){var Ne=Q[xe].name.toLowerCase();switch(Ne){case"value":break;case"checked":break;case"selected":break;default:I.add(Q[xe].name)}}}var Ce=null;for(var Te in m)if(m.hasOwnProperty(Te)){var Le=m[Te];if(Te===nu)typeof Le=="string"?i.textContent!==Le&&(m[Fl]!==!0&&LN(i.textContent,Le,y,C),Ce=[nu,Le]):typeof Le=="number"&&i.textContent!==""+Le&&(m[Fl]!==!0&&LN(i.textContent,Le,y,C),Ce=[nu,""+Le]);else if(ge.hasOwnProperty(Te))Le!=null&&(typeof Le!="function"&&IN(Te,Le),Te==="onScroll"&&un("scroll",i));else if(C&&typeof _=="boolean"){var ut=void 0,Ft=xr(Te);if(m[Fl]!==!0){if(!(Te===AN||Te===Fl||Te==="value"||Te==="checked"||Te==="selected")){if(Te===Sf){var Ct=i.innerHTML,jr=Le?Le[_N]:void 0;if(jr!=null){var gr=zS(i,jr);gr!==Ct&&Cf(Te,Ct,gr)}}else if(Te===su){if(I.delete(Te),BS){var De=P$(Le);ut=i.getAttribute("style"),De!==ut&&Cf(Te,ut,De)}}else if(_&&!K)I.delete(Te.toLowerCase()),ut=Zs(i,Te,Le),Le!==ut&&Cf(Te,ut,Le);else if(!fr(Te,Ft,_)&&!Zr(Te,Le,Ft,_)){var $e=!1;if(Ft!==null)I.delete(Ft.attributeName),ut=Qs(i,Te,Le,Ft);else{var je=f;if(je===To&&(je=fy(o)),je===To)I.delete(Te.toLowerCase());else{var Qe=dU(Te);Qe!==null&&Qe!==Te&&($e=!0,I.delete(Qe)),I.delete(Te)}ut=Zs(i,Te,Le)}var gt=K;!gt&&Le!==ut&&!$e&&Cf(Te,ut,Le)}}}}}switch(C&&I.size>0&&m[Fl]!==!0&&$S(I),o){case"input":Uc(i),Me(i,m,!0);break;case"textarea":Uc(i),ZP(i);break;case"select":case"option":break;default:typeof m.onClick=="function"&&$N(i);break}return Ce}function fU(i,o,m){var f=i.nodeValue!==o;return f}function Rw(i,o){{if(ri)return;ri=!0,c("Did not expect server HTML to contain a <%s> in <%s>.",o.nodeName.toLowerCase(),i.nodeName.toLowerCase())}}function Mw(i,o){{if(ri)return;ri=!0,c('Did not expect server HTML to contain the text node "%s" in <%s>.',o.nodeValue,i.nodeName.toLowerCase())}}function Tw(i,o,m){{if(ri)return;ri=!0,c("Expected server HTML to contain a matching <%s> in <%s>.",o,i.nodeName.toLowerCase())}}function Aw(i,o){{if(o===""||ri)return;ri=!0,c('Expected server HTML to contain a matching text node for "%s" in <%s>.',o,i.nodeName.toLowerCase())}}function pU(i,o,m){switch(o){case"input":Ie(i,m);return;case"textarea":c$(i,m);return;case"select":my(i,m);return}}var Rf=function(){},Mf=function(){};{var gU=["address","applet","area","article","aside","base","basefont","bgsound","blockquote","body","br","button","caption","center","col","colgroup","dd","details","dir","div","dl","dt","embed","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","iframe","img","input","isindex","li","link","listing","main","marquee","menu","menuitem","meta","nav","noembed","noframes","noscript","object","ol","p","param","plaintext","pre","script","section","select","source","style","summary","table","tbody","td","template","textarea","tfoot","th","thead","title","tr","track","ul","wbr","xmp"],US=["applet","caption","html","table","td","th","marquee","object","template","foreignObject","desc","title"],NU=US.concat(["button"]),xU=["dd","dt","li","option","optgroup","p","rp","rt"],GS={current:null,formTag:null,aTagInScope:null,buttonTagInScope:null,nobrTagInScope:null,pTagInButtonScope:null,listItemTagAutoclosing:null,dlItemTagAutoclosing:null};Mf=function(i,o){var m=Xt({},i||GS),f={tag:o};return US.indexOf(o)!==-1&&(m.aTagInScope=null,m.buttonTagInScope=null,m.nobrTagInScope=null),NU.indexOf(o)!==-1&&(m.pTagInButtonScope=null),gU.indexOf(o)!==-1&&o!=="address"&&o!=="div"&&o!=="p"&&(m.listItemTagAutoclosing=null,m.dlItemTagAutoclosing=null),m.current=f,o==="form"&&(m.formTag=f),o==="a"&&(m.aTagInScope=f),o==="button"&&(m.buttonTagInScope=f),o==="nobr"&&(m.nobrTagInScope=f),o==="p"&&(m.pTagInButtonScope=f),o==="li"&&(m.listItemTagAutoclosing=f),(o==="dd"||o==="dt")&&(m.dlItemTagAutoclosing=f),m};var bU=function(i,o){switch(o){case"select":return i==="option"||i==="optgroup"||i==="#text";case"optgroup":return i==="option"||i==="#text";case"option":return i==="#text";case"tr":return i==="th"||i==="td"||i==="style"||i==="script"||i==="template";case"tbody":case"thead":case"tfoot":return i==="tr"||i==="style"||i==="script"||i==="template";case"colgroup":return i==="col"||i==="template";case"table":return i==="caption"||i==="colgroup"||i==="tbody"||i==="tfoot"||i==="thead"||i==="style"||i==="script"||i==="template";case"head":return i==="base"||i==="basefont"||i==="bgsound"||i==="link"||i==="meta"||i==="title"||i==="noscript"||i==="noframes"||i==="style"||i==="script"||i==="template";case"html":return i==="head"||i==="body"||i==="frameset";case"frameset":return i==="frame";case"#document":return i==="html"}switch(i){case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return o!=="h1"&&o!=="h2"&&o!=="h3"&&o!=="h4"&&o!=="h5"&&o!=="h6";case"rp":case"rt":return xU.indexOf(o)===-1;case"body":case"caption":case"col":case"colgroup":case"frameset":case"frame":case"head":case"html":case"tbody":case"td":case"tfoot":case"th":case"thead":case"tr":return o==null}return!0},vU=function(i,o){switch(i){case"address":case"article":case"aside":case"blockquote":case"center":case"details":case"dialog":case"dir":case"div":case"dl":case"fieldset":case"figcaption":case"figure":case"footer":case"header":case"hgroup":case"main":case"menu":case"nav":case"ol":case"p":case"section":case"summary":case"ul":case"pre":case"listing":case"table":case"hr":case"xmp":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return o.pTagInButtonScope;case"form":return o.formTag||o.pTagInButtonScope;case"li":return o.listItemTagAutoclosing;case"dd":case"dt":return o.dlItemTagAutoclosing;case"button":return o.buttonTagInScope;case"a":return o.aTagInScope;case"nobr":return o.nobrTagInScope}return null},HS={};Rf=function(i,o,m){m=m||GS;var f=m.current,x=f&&f.tag;o!=null&&(i!=null&&c("validateDOMNesting: when childText is passed, childTag should be null"),i="#text");var y=bU(i,x)?null:f,C=y?null:vU(i,m),_=y||C;if(_){var I=_.tag,J=!!y+"|"+i+"|"+I;if(!HS[J]){HS[J]=!0;var Q=i,xe="";if(i==="#text"?/\S/.test(o)?Q="Text nodes":(Q="Whitespace text nodes",xe=" Make sure you don't have any extra whitespace between tags on each line of your source code."):Q="<"+i+">",y){var Ne="";I==="table"&&i==="tr"&&(Ne+=" Add a <tbody>, <thead> or <tfoot> to your code to match the DOM tree generated by the browser."),c("validateDOMNesting(...): %s cannot appear as a child of <%s>.%s%s",Q,I,xe,Ne)}else c("validateDOMNesting(...): %s cannot appear as a descendant of <%s>.",Q,I)}}}}var BN="suppressHydrationWarning",zN="$",WN="/$",Tf="$?",Af="$!",yU="style",_w=null,Fw=null;function wU(i){var o,m,f=i.nodeType;switch(f){case _o:case gy:{o=f===_o?"#document":"#fragment";var x=i.documentElement;m=x?x.namespaceURI:py(null,"");break}default:{var y=f===Tn?i.parentNode:i,C=y.namespaceURI||null;o=y.tagName,m=py(C,o);break}}{var _=o.toLowerCase(),I=Mf(null,_);return{namespace:m,ancestorInfo:I}}}function kU(i,o,m){{var f=i,x=py(f.namespace,o),y=Mf(f.ancestorInfo,o);return{namespace:x,ancestorInfo:y}}}function Uve(i){return i}function EU(i){_w=yz(),Fw=OW();var o=null;return eS(!1),o}function DU(i){LW(Fw),eS(_w),_w=null,Fw=null}function jU(i,o,m,f,x){var y;{var C=f;if(Rf(i,null,C.ancestorInfo),typeof o.children=="string"||typeof o.children=="number"){var _=""+o.children,I=Mf(C.ancestorInfo,i);Rf(null,_,I)}y=C.namespace}var J=oU(i,o,m,y);return If(x,J),Uw(J,o),J}function VU(i,o){i.appendChild(o)}function PU(i,o,m,f,x){switch(cU(i,o,m,f),o){case"button":case"input":case"select":case"textarea":return!!m.autoFocus;case"img":return!0;default:return!1}}function SU(i,o,m,f,x,y){{var C=y;if(typeof f.children!=typeof m.children&&(typeof f.children=="string"||typeof f.children=="number")){var _=""+f.children,I=Mf(C.ancestorInfo,o);Rf(null,_,I)}}return uU(i,o,m,f)}function Iw(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}function CU(i,o,m,f){{var x=m;Rf(null,i,x.ancestorInfo)}var y=lU(i,o);return If(f,y),y}function RU(){var i=window.event;return i===void 0?Bo:tS(i.type)}var Ow=typeof setTimeout=="function"?setTimeout:void 0,MU=typeof clearTimeout=="function"?clearTimeout:void 0,Lw=-1,JS=typeof Promise=="function"?Promise:void 0,TU=typeof queueMicrotask=="function"?queueMicrotask:typeof JS<"u"?function(i){return JS.resolve(null).then(i).catch(AU)}:Ow;function AU(i){setTimeout(function(){throw i})}function _U(i,o,m,f){switch(o){case"button":case"input":case"select":case"textarea":m.autoFocus&&i.focus();return;case"img":{m.src&&(i.src=m.src);return}}}function FU(i,o,m,f,x,y){mU(i,o,m,f,x),Uw(i,x)}function KS(i){cN(i,"")}function IU(i,o,m){i.nodeValue=m}function OU(i,o){i.appendChild(o)}function LU(i,o){var m;i.nodeType===Tn?(m=i.parentNode,m.insertBefore(o,i)):(m=i,m.appendChild(o));var f=i._reactRootContainer;f==null&&m.onclick===null&&$N(m)}function $U(i,o,m){i.insertBefore(o,m)}function BU(i,o,m){i.nodeType===Tn?i.parentNode.insertBefore(o,m):i.insertBefore(o,m)}function zU(i,o){i.removeChild(o)}function WU(i,o){i.nodeType===Tn?i.parentNode.removeChild(o):i.removeChild(o)}function $w(i,o){var m=o,f=0;do{var x=m.nextSibling;if(i.removeChild(m),x&&x.nodeType===Tn){var y=x.data;if(y===WN)if(f===0){i.removeChild(x),gf(o);return}else f--;else(y===zN||y===Tf||y===Af)&&f++}m=x}while(m);gf(o)}function UU(i,o){i.nodeType===Tn?$w(i.parentNode,o):i.nodeType===ti&&$w(i,o),gf(i)}function GU(i){i=i;var o=i.style;typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"}function HU(i){i.nodeValue=""}function JU(i,o){i=i;var m=o[yU],f=m!=null&&m.hasOwnProperty("display")?m.display:null;i.style.display=Ny("display",f)}function KU(i,o){i.nodeValue=o}function qU(i){i.nodeType===ti?i.textContent="":i.nodeType===_o&&i.documentElement&&i.removeChild(i.documentElement)}function YU(i,o,m){return i.nodeType!==ti||o.toLowerCase()!==i.nodeName.toLowerCase()?null:i}function XU(i,o){return o===""||i.nodeType!==Ao?null:i}function QU(i){return i.nodeType!==Tn?null:i}function qS(i){return i.data===Tf}function Bw(i){return i.data===Af}function ZU(i){var o=i.nextSibling&&i.nextSibling.dataset,m,f,x;return o&&(m=o.dgst,f=o.msg,x=o.stck),{message:f,digest:m,stack:x}}function eG(i,o){i._reactRetry=o}function UN(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===ti||o===Ao)break;if(o===Tn){var m=i.data;if(m===zN||m===Af||m===Tf)break;if(m===WN)return null}}return i}function _f(i){return UN(i.nextSibling)}function tG(i){return UN(i.firstChild)}function rG(i){return UN(i.firstChild)}function nG(i){return UN(i.nextSibling)}function sG(i,o,m,f,x,y,C){If(y,i),Uw(i,m);var _;{var I=x;_=I.namespace}var J=(y.mode&Er)!==Lt;return hU(i,o,m,_,f,J,C)}function iG(i,o,m,f){return If(m,i),m.mode&Er,fU(i,o)}function aG(i,o){If(o,i)}function oG(i){for(var o=i.nextSibling,m=0;o;){if(o.nodeType===Tn){var f=o.data;if(f===WN){if(m===0)return _f(o);m--}else(f===zN||f===Af||f===Tf)&&m++}o=o.nextSibling}return null}function YS(i){for(var o=i.previousSibling,m=0;o;){if(o.nodeType===Tn){var f=o.data;if(f===zN||f===Af||f===Tf){if(m===0)return o;m--}else f===WN&&m++}o=o.previousSibling}return null}function lG(i){gf(i)}function cG(i){gf(i)}function uG(i){return i!=="head"&&i!=="body"}function mG(i,o,m,f){var x=!0;LN(o.nodeValue,m,f,x)}function dG(i,o,m,f,x,y){if(o[BN]!==!0){var C=!0;LN(f.nodeValue,x,y,C)}}function hG(i,o){o.nodeType===ti?Rw(i,o):o.nodeType===Tn||Mw(i,o)}function fG(i,o){{var m=i.parentNode;m!==null&&(o.nodeType===ti?Rw(m,o):o.nodeType===Tn||Mw(m,o))}}function pG(i,o,m,f,x){(x||o[BN]!==!0)&&(f.nodeType===ti?Rw(m,f):f.nodeType===Tn||Mw(m,f))}function gG(i,o,m){Tw(i,o)}function NG(i,o){Aw(i,o)}function xG(i,o,m){{var f=i.parentNode;f!==null&&Tw(f,o)}}function bG(i,o){{var m=i.parentNode;m!==null&&Aw(m,o)}}function vG(i,o,m,f,x,y){(y||o[BN]!==!0)&&Tw(m,f)}function yG(i,o,m,f,x){(x||o[BN]!==!0)&&Aw(m,f)}function wG(i){c("An error occurred during hydration. The server HTML was replaced with client content in <%s>.",i.nodeName.toLowerCase())}function kG(i){Vf(i)}var Tm=Math.random().toString(36).slice(2),Am="__reactFiber$"+Tm,zw="__reactProps$"+Tm,Ff="__reactContainer$"+Tm,Ww="__reactEvents$"+Tm,EG="__reactListeners$"+Tm,DG="__reactHandles$"+Tm;function jG(i){delete i[Am],delete i[zw],delete i[Ww],delete i[EG],delete i[DG]}function If(i,o){o[Am]=i}function GN(i,o){o[Ff]=i}function XS(i){i[Ff]=null}function Of(i){return!!i[Ff]}function iu(i){var o=i[Am];if(o)return o;for(var m=i.parentNode;m;){if(o=m[Ff]||m[Am],o){var f=o.alternate;if(o.child!==null||f!==null&&f.child!==null)for(var x=YS(i);x!==null;){var y=x[Am];if(y)return y;x=YS(x)}return o}i=m,m=i.parentNode}return null}function Il(i){var o=i[Am]||i[Ff];return o&&(o.tag===b||o.tag===D||o.tag===S||o.tag===p)?o:null}function _m(i){if(i.tag===b||i.tag===D)return i.stateNode;throw new Error("getNodeFromInstance: Invalid argument.")}function HN(i){return i[zw]||null}function Uw(i,o){i[zw]=o}function VG(i){var o=i[Ww];return o===void 0&&(o=i[Ww]=new Set),o}var QS={},ZS=n.ReactDebugCurrentFrame;function JN(i){if(i){var o=i._owner,m=Bc(i.type,i._source,o?o.type:null);ZS.setExtraStackFrame(m)}else ZS.setExtraStackFrame(null)}function la(i,o,m,f,x){{var y=Function.call.bind(Ee);for(var C in i)if(y(i,C)){var _=void 0;try{if(typeof i[C]!="function"){var I=Error((f||"React class")+": "+m+" type `"+C+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof i[C]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw I.name="Invariant Violation",I}_=i[C](o,C,f,m,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(J){_=J}_&&!(_ instanceof Error)&&(JN(x),c("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",f||"React class",m,C,typeof _),JN(null)),_ instanceof Error&&!(_.message in QS)&&(QS[_.message]=!0,JN(x),c("Failed %s type: %s",m,_.message),JN(null))}}}var Gw=[],KN;KN=[];var zo=-1;function Ol(i){return{current:i}}function Vs(i,o){if(zo<0){c("Unexpected pop.");return}o!==KN[zo]&&c("Unexpected Fiber popped."),i.current=Gw[zo],Gw[zo]=null,KN[zo]=null,zo--}function Ps(i,o,m){zo++,Gw[zo]=i.current,KN[zo]=m,i.current=o}var Hw;Hw={};var xi={};Object.freeze(xi);var Wo=Ol(xi),Ha=Ol(!1),Jw=xi;function Fm(i,o,m){return m&&Ja(o)?Jw:Wo.current}function eC(i,o,m){{var f=i.stateNode;f.__reactInternalMemoizedUnmaskedChildContext=o,f.__reactInternalMemoizedMaskedChildContext=m}}function Im(i,o){{var m=i.type,f=m.contextTypes;if(!f)return xi;var x=i.stateNode;if(x&&x.__reactInternalMemoizedUnmaskedChildContext===o)return x.__reactInternalMemoizedMaskedChildContext;var y={};for(var C in f)y[C]=o[C];{var _=Qt(i)||"Unknown";la(f,y,"context",_)}return x&&eC(i,o,y),y}}function qN(){return Ha.current}function Ja(i){{var o=i.childContextTypes;return o!=null}}function YN(i){Vs(Ha,i),Vs(Wo,i)}function Kw(i){Vs(Ha,i),Vs(Wo,i)}function tC(i,o,m){{if(Wo.current!==xi)throw new Error("Unexpected context found on stack. This error is likely caused by a bug in React. Please file an issue.");Ps(Wo,o,i),Ps(Ha,m,i)}}function rC(i,o,m){{var f=i.stateNode,x=o.childContextTypes;if(typeof f.getChildContext!="function"){{var y=Qt(i)||"Unknown";Hw[y]||(Hw[y]=!0,c("%s.childContextTypes is specified but there is no getChildContext() method on the instance. You can either define getChildContext() on %s or remove childContextTypes from it.",y,y))}return m}var C=f.getChildContext();for(var _ in C)if(!(_ in x))throw new Error((Qt(i)||"Unknown")+'.getChildContext(): key "'+_+'" is not defined in childContextTypes.');{var I=Qt(i)||"Unknown";la(x,C,"child context",I)}return Xt({},m,C)}}function XN(i){{var o=i.stateNode,m=o&&o.__reactInternalMemoizedMergedChildContext||xi;return Jw=Wo.current,Ps(Wo,m,i),Ps(Ha,Ha.current,i),!0}}function nC(i,o,m){{var f=i.stateNode;if(!f)throw new Error("Expected to have an instance by this point. This error is likely caused by a bug in React. Please file an issue.");if(m){var x=rC(i,o,Jw);f.__reactInternalMemoizedMergedChildContext=x,Vs(Ha,i),Vs(Wo,i),Ps(Wo,x,i),Ps(Ha,m,i)}else Vs(Ha,i),Ps(Ha,m,i)}}function PG(i){{if(!uB(i)||i.tag!==h)throw new Error("Expected subtree parent to be a mounted class component. This error is likely caused by a bug in React. Please file an issue.");var o=i;do{switch(o.tag){case p:return o.stateNode.context;case h:{var m=o.type;if(Ja(m))return o.stateNode.__reactInternalMemoizedMergedChildContext;break}}o=o.return}while(o!==null);throw new Error("Found unexpected detached subtree parent. This error is likely caused by a bug in React. Please file an issue.")}}var Ll=0,QN=1,Uo=null,qw=!1,Yw=!1;function sC(i){Uo===null?Uo=[i]:Uo.push(i)}function SG(i){qw=!0,sC(i)}function iC(){qw&&$l()}function $l(){if(!Yw&&Uo!==null){Yw=!0;var i=0,o=oa();try{var m=!0,f=Uo;for(ss(pi);i<f.length;i++){var x=f[i];do x=x(m);while(x!==null)}Uo=null,qw=!1}catch(y){throw Uo!==null&&(Uo=Uo.slice(i+1)),S2(fN,$l),y}finally{ss(o),Yw=!1}}return null}var Om=[],Lm=0,ZN=null,ex=0,Li=[],$i=0,au=null,Go=1,Ho="";function CG(i){return lu(),(i.flags&y2)!==Bt}function RG(i){return lu(),ex}function MG(){var i=Ho,o=Go,m=o&~TG(o);return m.toString(32)+i}function ou(i,o){lu(),Om[Lm++]=ex,Om[Lm++]=ZN,ZN=i,ex=o}function aC(i,o,m){lu(),Li[$i++]=Go,Li[$i++]=Ho,Li[$i++]=au,au=i;var f=Go,x=Ho,y=tx(f)-1,C=f&~(1<<y),_=m+1,I=tx(o)+y;if(I>30){var J=y-y%5,Q=(1<<J)-1,xe=(C&Q).toString(32),Ne=C>>J,Ce=y-J,Te=tx(o)+Ce,Le=_<<Ce,ut=Le|Ne,Ft=xe+x;Go=1<<Te|ut,Ho=Ft}else{var Ct=_<<y,jr=Ct|C,gr=x;Go=1<<I|jr,Ho=gr}}function Xw(i){lu();var o=i.return;if(o!==null){var m=1,f=0;ou(i,m),aC(i,m,f)}}function tx(i){return 32-_2(i)}function TG(i){return 1<<tx(i)-1}function Qw(i){for(;i===ZN;)ZN=Om[--Lm],Om[Lm]=null,ex=Om[--Lm],Om[Lm]=null;for(;i===au;)au=Li[--$i],Li[$i]=null,Ho=Li[--$i],Li[$i]=null,Go=Li[--$i],Li[$i]=null}function AG(){return lu(),au!==null?{id:Go,overflow:Ho}:null}function _G(i,o){lu(),Li[$i++]=Go,Li[$i++]=Ho,Li[$i++]=au,Go=o.id,Ho=o.overflow,au=i}function lu(){ds()||c("Expected to be hydrating. This is a bug in React. Please file an issue.")}var ms=null,Bi=null,ca=!1,cu=!1,Bl=null;function FG(){ca&&c("We should not be hydrating here. This is a bug in React. Please file a bug.")}function oC(){cu=!0}function IG(){return cu}function OG(i){var o=i.stateNode.containerInfo;return Bi=rG(o),ms=i,ca=!0,Bl=null,cu=!1,!0}function LG(i,o,m){return Bi=nG(o),ms=i,ca=!0,Bl=null,cu=!1,m!==null&&_G(i,m),!0}function lC(i,o){switch(i.tag){case p:{hG(i.stateNode.containerInfo,o);break}case b:{var m=(i.mode&Er)!==Lt;pG(i.type,i.memoizedProps,i.stateNode,o,m);break}case S:{var f=i.memoizedState;f.dehydrated!==null&&fG(f.dehydrated,o);break}}}function cC(i,o){lC(i,o);var m=WK();m.stateNode=o,m.return=i;var f=i.deletions;f===null?(i.deletions=[m],i.flags|=Jc):f.push(m)}function Zw(i,o){{if(cu)return;switch(i.tag){case p:{var m=i.stateNode.containerInfo;switch(o.tag){case b:var f=o.type;o.pendingProps,gG(m,f);break;case D:var x=o.pendingProps;NG(m,x);break}break}case b:{var y=i.type,C=i.memoizedProps,_=i.stateNode;switch(o.tag){case b:{var I=o.type,J=o.pendingProps,Q=(i.mode&Er)!==Lt;vG(y,C,_,I,J,Q);break}case D:{var xe=o.pendingProps,Ne=(i.mode&Er)!==Lt;yG(y,C,_,xe,Ne);break}}break}case S:{var Ce=i.memoizedState,Te=Ce.dehydrated;if(Te!==null)switch(o.tag){case b:var Le=o.type;o.pendingProps,xG(Te,Le);break;case D:var ut=o.pendingProps;bG(Te,ut);break}break}default:return}}}function uC(i,o){o.flags=o.flags&~Io|An,Zw(i,o)}function mC(i,o){switch(i.tag){case b:{var m=i.type;i.pendingProps;var f=YU(o,m);return f!==null?(i.stateNode=f,ms=i,Bi=tG(f),!0):!1}case D:{var x=i.pendingProps,y=XU(o,x);return y!==null?(i.stateNode=y,ms=i,Bi=null,!0):!1}case S:{var C=QU(o);if(C!==null){var _={dehydrated:C,treeContext:AG(),retryLane:hi};i.memoizedState=_;var I=UK(C);return I.return=i,i.child=I,ms=i,Bi=null,!0}return!1}default:return!1}}function e1(i){return(i.mode&Er)!==Lt&&(i.flags&Fr)===Bt}function t1(i){throw new Error("Hydration failed because the initial UI does not match what was rendered on the server.")}function r1(i){if(ca){var o=Bi;if(!o){e1(i)&&(Zw(ms,i),t1()),uC(ms,i),ca=!1,ms=i;return}var m=o;if(!mC(i,o)){e1(i)&&(Zw(ms,i),t1()),o=_f(m);var f=ms;if(!o||!mC(i,o)){uC(ms,i),ca=!1,ms=i;return}cC(f,m)}}}function $G(i,o,m){var f=i.stateNode,x=!cu,y=sG(f,i.type,i.memoizedProps,o,m,i,x);return i.updateQueue=y,y!==null}function BG(i){var o=i.stateNode,m=i.memoizedProps,f=iG(o,m,i);if(f){var x=ms;if(x!==null)switch(x.tag){case p:{var y=x.stateNode.containerInfo,C=(x.mode&Er)!==Lt;mG(y,o,m,C);break}case b:{var _=x.type,I=x.memoizedProps,J=x.stateNode,Q=(x.mode&Er)!==Lt;dG(_,I,J,o,m,Q);break}}}return f}function zG(i){var o=i.memoizedState,m=o!==null?o.dehydrated:null;if(!m)throw new Error("Expected to have a hydrated suspense instance. This error is likely caused by a bug in React. Please file an issue.");aG(m,i)}function WG(i){var o=i.memoizedState,m=o!==null?o.dehydrated:null;if(!m)throw new Error("Expected to have a hydrated suspense instance. This error is likely caused by a bug in React. Please file an issue.");return oG(m)}function dC(i){for(var o=i.return;o!==null&&o.tag!==b&&o.tag!==p&&o.tag!==S;)o=o.return;ms=o}function rx(i){if(i!==ms)return!1;if(!ca)return dC(i),ca=!0,!1;if(i.tag!==p&&(i.tag!==b||uG(i.type)&&!Iw(i.type,i.memoizedProps))){var o=Bi;if(o)if(e1(i))hC(i),t1();else for(;o;)cC(i,o),o=_f(o)}return dC(i),i.tag===S?Bi=WG(i):Bi=ms?_f(i.stateNode):null,!0}function UG(){return ca&&Bi!==null}function hC(i){for(var o=Bi;o;)lC(i,o),o=_f(o)}function $m(){ms=null,Bi=null,ca=!1,cu=!1}function fC(){Bl!==null&&(o5(Bl),Bl=null)}function ds(){return ca}function n1(i){Bl===null?Bl=[i]:Bl.push(i)}var GG=n.ReactCurrentBatchConfig,HG=null;function JG(){return GG.transition}var ua={recordUnsafeLifecycleWarnings:function(i,o){},flushPendingUnsafeLifecycleWarnings:function(){},recordLegacyContextWarning:function(i,o){},flushLegacyContextWarning:function(){},discardPendingWarnings:function(){}};{var KG=function(i){for(var o=null,m=i;m!==null;)m.mode&wn&&(o=m),m=m.return;return o},uu=function(i){var o=[];return i.forEach(function(m){o.push(m)}),o.sort().join(", ")},Lf=[],$f=[],Bf=[],zf=[],Wf=[],Uf=[],mu=new Set;ua.recordUnsafeLifecycleWarnings=function(i,o){mu.has(i.type)||(typeof o.componentWillMount=="function"&&o.componentWillMount.__suppressDeprecationWarning!==!0&&Lf.push(i),i.mode&wn&&typeof o.UNSAFE_componentWillMount=="function"&&$f.push(i),typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps.__suppressDeprecationWarning!==!0&&Bf.push(i),i.mode&wn&&typeof o.UNSAFE_componentWillReceiveProps=="function"&&zf.push(i),typeof o.componentWillUpdate=="function"&&o.componentWillUpdate.__suppressDeprecationWarning!==!0&&Wf.push(i),i.mode&wn&&typeof o.UNSAFE_componentWillUpdate=="function"&&Uf.push(i))},ua.flushPendingUnsafeLifecycleWarnings=function(){var i=new Set;Lf.length>0&&(Lf.forEach(function(Ne){i.add(Qt(Ne)||"Component"),mu.add(Ne.type)}),Lf=[]);var o=new Set;$f.length>0&&($f.forEach(function(Ne){o.add(Qt(Ne)||"Component"),mu.add(Ne.type)}),$f=[]);var m=new Set;Bf.length>0&&(Bf.forEach(function(Ne){m.add(Qt(Ne)||"Component"),mu.add(Ne.type)}),Bf=[]);var f=new Set;zf.length>0&&(zf.forEach(function(Ne){f.add(Qt(Ne)||"Component"),mu.add(Ne.type)}),zf=[]);var x=new Set;Wf.length>0&&(Wf.forEach(function(Ne){x.add(Qt(Ne)||"Component"),mu.add(Ne.type)}),Wf=[]);var y=new Set;if(Uf.length>0&&(Uf.forEach(function(Ne){y.add(Qt(Ne)||"Component"),mu.add(Ne.type)}),Uf=[]),o.size>0){var C=uu(o);c(`Using UNSAFE_componentWillMount in strict mode is not recommended and may indicate bugs in your code. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move code with side effects to componentDidMount, and set initial state in the constructor.

Please update the following components: %s`,C)}if(f.size>0){var _=uu(f);c(`Using UNSAFE_componentWillReceiveProps in strict mode is not recommended and may indicate bugs in your code. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.
* If you're updating state whenever props change, refactor your code to use memoization techniques or move it to static getDerivedStateFromProps. Learn more at: https://reactjs.org/link/derived-state

Please update the following components: %s`,_)}if(y.size>0){var I=uu(y);c(`Using UNSAFE_componentWillUpdate in strict mode is not recommended and may indicate bugs in your code. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.

Please update the following components: %s`,I)}if(i.size>0){var J=uu(i);l(`componentWillMount has been renamed, and is not recommended for use. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move code with side effects to componentDidMount, and set initial state in the constructor.
* Rename componentWillMount to UNSAFE_componentWillMount to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run \`npx react-codemod rename-unsafe-lifecycles\` in your project source folder.

Please update the following components: %s`,J)}if(m.size>0){var Q=uu(m);l(`componentWillReceiveProps has been renamed, and is not recommended for use. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.
* If you're updating state whenever props change, refactor your code to use memoization techniques or move it to static getDerivedStateFromProps. Learn more at: https://reactjs.org/link/derived-state
* Rename componentWillReceiveProps to UNSAFE_componentWillReceiveProps to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run \`npx react-codemod rename-unsafe-lifecycles\` in your project source folder.

Please update the following components: %s`,Q)}if(x.size>0){var xe=uu(x);l(`componentWillUpdate has been renamed, and is not recommended for use. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.
* Rename componentWillUpdate to UNSAFE_componentWillUpdate to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run \`npx react-codemod rename-unsafe-lifecycles\` in your project source folder.

Please update the following components: %s`,xe)}};var nx=new Map,pC=new Set;ua.recordLegacyContextWarning=function(i,o){var m=KG(i);if(m===null){c("Expected to find a StrictMode component in a strict mode tree. This error is likely caused by a bug in React. Please file an issue.");return}if(!pC.has(i.type)){var f=nx.get(m);(i.type.contextTypes!=null||i.type.childContextTypes!=null||o!==null&&typeof o.getChildContext=="function")&&(f===void 0&&(f=[],nx.set(m,f)),f.push(i))}},ua.flushLegacyContextWarning=function(){nx.forEach(function(i,o){if(i.length!==0){var m=i[0],f=new Set;i.forEach(function(y){f.add(Qt(y)||"Component"),pC.add(y.type)});var x=uu(f);try{dn(m),c(`Legacy context API has been detected within a strict-mode tree.

The old API will be supported in all 16.x releases, but applications using it should migrate to the new version.

Please update the following components: %s

Learn more about this warning here: https://reactjs.org/link/legacy-context`,x)}finally{es()}}})},ua.discardPendingWarnings=function(){Lf=[],$f=[],Bf=[],zf=[],Wf=[],Uf=[],nx=new Map}}var s1,i1,a1,o1,l1,gC=function(i,o){};s1=!1,i1=!1,a1={},o1={},l1={},gC=function(i,o){if(!(i===null||typeof i!="object")&&!(!i._store||i._store.validated||i.key!=null)){if(typeof i._store!="object")throw new Error("React Component in warnForMissingKey should have a _store. This error is likely caused by a bug in React. Please file an issue.");i._store.validated=!0;var m=Qt(o)||"Component";o1[m]||(o1[m]=!0,c('Each child in a list should have a unique "key" prop. See https://reactjs.org/link/warning-keys for more information.'))}};function qG(i){return i.prototype&&i.prototype.isReactComponent}function Gf(i,o,m){var f=m.ref;if(f!==null&&typeof f!="function"&&typeof f!="object"){if((i.mode&wn||be)&&!(m._owner&&m._self&&m._owner.stateNode!==m._self)&&!(m._owner&&m._owner.tag!==h)&&!(typeof m.type=="function"&&!qG(m.type))&&m._owner){var x=Qt(i)||"Component";a1[x]||(c('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. We recommend using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',x,f),a1[x]=!0)}if(m._owner){var y=m._owner,C;if(y){var _=y;if(_.tag!==h)throw new Error("Function components cannot have string refs. We recommend using useRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref");C=_.stateNode}if(!C)throw new Error("Missing owner for string ref "+f+". This error is likely caused by a bug in React. Please file an issue.");var I=C;bt(f,"ref");var J=""+f;if(o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===J)return o.ref;var Q=function(xe){var Ne=I.refs;xe===null?delete Ne[J]:Ne[J]=xe};return Q._stringRef=J,Q}else{if(typeof f!="string")throw new Error("Expected ref to be a function, a string, an object returned by React.createRef(), or null.");if(!m._owner)throw new Error("Element ref was specified as a string ("+f+`) but no owner was set. This could happen for one of the following reasons:
1. You may be adding a ref to a function component
2. You may be adding a ref to a component that was not created inside a component's render method
3. You have multiple copies of React loaded
See https://reactjs.org/link/refs-must-have-owner for more information.`)}}return f}function sx(i,o){var m=Object.prototype.toString.call(o);throw new Error("Objects are not valid as a React child (found: "+(m==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":m)+"). If you meant to render a collection of children, use an array instead.")}function ix(i){{var o=Qt(i)||"Component";if(l1[o])return;l1[o]=!0,c("Functions are not valid as a React child. This may happen if you return a Component instead of <Component /> from render. Or maybe you meant to call this function rather than return it.")}}function NC(i){var o=i._payload,m=i._init;return m(o)}function xC(i){function o(De,$e){if(i){var je=De.deletions;je===null?(De.deletions=[$e],De.flags|=Jc):je.push($e)}}function m(De,$e){if(!i)return null;for(var je=$e;je!==null;)o(De,je),je=je.sibling;return null}function f(De,$e){for(var je=new Map,Qe=$e;Qe!==null;)Qe.key!==null?je.set(Qe.key,Qe):je.set(Qe.index,Qe),Qe=Qe.sibling;return je}function x(De,$e){var je=vu(De,$e);return je.index=0,je.sibling=null,je}function y(De,$e,je){if(De.index=je,!i)return De.flags|=y2,$e;var Qe=De.alternate;if(Qe!==null){var gt=Qe.index;return gt<$e?(De.flags|=An,$e):gt}else return De.flags|=An,$e}function C(De){return i&&De.alternate===null&&(De.flags|=An),De}function _(De,$e,je,Qe){if($e===null||$e.tag!==D){var gt=nE(je,De.mode,Qe);return gt.return=De,gt}else{var dt=x($e,je);return dt.return=De,dt}}function I(De,$e,je,Qe){var gt=je.type;if(gt===ei)return Q(De,$e,je.props.children,Qe,je.key);if($e!==null&&($e.elementType===gt||k5($e,je)||typeof gt=="object"&&gt!==null&&gt.$$typeof===nt&&NC(gt)===$e.type)){var dt=x($e,je.props);return dt.ref=Gf(De,$e,je),dt.return=De,dt._debugSource=je._source,dt._debugOwner=je._owner,dt}var zt=rE(je,De.mode,Qe);return zt.ref=Gf(De,$e,je),zt.return=De,zt}function J(De,$e,je,Qe){if($e===null||$e.tag!==N||$e.stateNode.containerInfo!==je.containerInfo||$e.stateNode.implementation!==je.implementation){var gt=sE(je,De.mode,Qe);return gt.return=De,gt}else{var dt=x($e,je.children||[]);return dt.return=De,dt}}function Q(De,$e,je,Qe,gt){if($e===null||$e.tag!==E){var dt=Ql(je,De.mode,Qe,gt);return dt.return=De,dt}else{var zt=x($e,je);return zt.return=De,zt}}function xe(De,$e,je){if(typeof $e=="string"&&$e!==""||typeof $e=="number"){var Qe=nE(""+$e,De.mode,je);return Qe.return=De,Qe}if(typeof $e=="object"&&$e!==null){switch($e.$$typeof){case us:{var gt=rE($e,De.mode,je);return gt.ref=Gf(De,null,$e),gt.return=De,gt}case Qn:{var dt=sE($e,De.mode,je);return dt.return=De,dt}case nt:{var zt=$e._payload,Yt=$e._init;return xe(De,Yt(zt),je)}}if(pr($e)||tn($e)){var Ur=Ql($e,De.mode,je,null);return Ur.return=De,Ur}sx(De,$e)}return typeof $e=="function"&&ix(De),null}function Ne(De,$e,je,Qe){var gt=$e!==null?$e.key:null;if(typeof je=="string"&&je!==""||typeof je=="number")return gt!==null?null:_(De,$e,""+je,Qe);if(typeof je=="object"&&je!==null){switch(je.$$typeof){case us:return je.key===gt?I(De,$e,je,Qe):null;case Qn:return je.key===gt?J(De,$e,je,Qe):null;case nt:{var dt=je._payload,zt=je._init;return Ne(De,$e,zt(dt),Qe)}}if(pr(je)||tn(je))return gt!==null?null:Q(De,$e,je,Qe,null);sx(De,je)}return typeof je=="function"&&ix(De),null}function Ce(De,$e,je,Qe,gt){if(typeof Qe=="string"&&Qe!==""||typeof Qe=="number"){var dt=De.get(je)||null;return _($e,dt,""+Qe,gt)}if(typeof Qe=="object"&&Qe!==null){switch(Qe.$$typeof){case us:{var zt=De.get(Qe.key===null?je:Qe.key)||null;return I($e,zt,Qe,gt)}case Qn:{var Yt=De.get(Qe.key===null?je:Qe.key)||null;return J($e,Yt,Qe,gt)}case nt:var Ur=Qe._payload,Cr=Qe._init;return Ce(De,$e,je,Cr(Ur),gt)}if(pr(Qe)||tn(Qe)){var Vn=De.get(je)||null;return Q($e,Vn,Qe,gt,null)}sx($e,Qe)}return typeof Qe=="function"&&ix($e),null}function Te(De,$e,je){{if(typeof De!="object"||De===null)return $e;switch(De.$$typeof){case us:case Qn:gC(De,je);var Qe=De.key;if(typeof Qe!="string")break;if($e===null){$e=new Set,$e.add(Qe);break}if(!$e.has(Qe)){$e.add(Qe);break}c("Encountered two children with the same key, `%s`. Keys should be unique so that components maintain their identity across updates. Non-unique keys may cause children to be duplicated and/or omitted  the behavior is unsupported and could change in a future version.",Qe);break;case nt:var gt=De._payload,dt=De._init;Te(dt(gt),$e,je);break}}return $e}function Le(De,$e,je,Qe){for(var gt=null,dt=0;dt<je.length;dt++){var zt=je[dt];gt=Te(zt,gt,De)}for(var Yt=null,Ur=null,Cr=$e,Vn=0,Rr=0,kn=null;Cr!==null&&Rr<je.length;Rr++){Cr.index>Rr?(kn=Cr,Cr=null):kn=Cr.sibling;var Cs=Ne(De,Cr,je[Rr],Qe);if(Cs===null){Cr===null&&(Cr=kn);break}i&&Cr&&Cs.alternate===null&&o(De,Cr),Vn=y(Cs,Vn,Rr),Ur===null?Yt=Cs:Ur.sibling=Cs,Ur=Cs,Cr=kn}if(Rr===je.length){if(m(De,Cr),ds()){var bs=Rr;ou(De,bs)}return Yt}if(Cr===null){for(;Rr<je.length;Rr++){var vi=xe(De,je[Rr],Qe);vi!==null&&(Vn=y(vi,Vn,Rr),Ur===null?Yt=vi:Ur.sibling=vi,Ur=vi)}if(ds()){var Ws=Rr;ou(De,Ws)}return Yt}for(var Us=f(De,Cr);Rr<je.length;Rr++){var Rs=Ce(Us,De,Rr,je[Rr],Qe);Rs!==null&&(i&&Rs.alternate!==null&&Us.delete(Rs.key===null?Rr:Rs.key),Vn=y(Rs,Vn,Rr),Ur===null?Yt=Rs:Ur.sibling=Rs,Ur=Rs)}if(i&&Us.forEach(function(id){return o(De,id)}),ds()){var Zo=Rr;ou(De,Zo)}return Yt}function ut(De,$e,je,Qe){var gt=tn(je);if(typeof gt!="function")throw new Error("An object is not an iterable. This error is likely caused by a bug in React. Please file an issue.");{typeof Symbol=="function"&&je[Symbol.toStringTag]==="Generator"&&(i1||c("Using Generators as children is unsupported and will likely yield unexpected results because enumerating a generator mutates it. You may convert it to an array with `Array.from()` or the `[...spread]` operator before rendering. Keep in mind you might need to polyfill these features for older browsers."),i1=!0),je.entries===gt&&(s1||c("Using Maps as children is not supported. Use an array of keyed ReactElements instead."),s1=!0);var dt=gt.call(je);if(dt)for(var zt=null,Yt=dt.next();!Yt.done;Yt=dt.next()){var Ur=Yt.value;zt=Te(Ur,zt,De)}}var Cr=gt.call(je);if(Cr==null)throw new Error("An iterable object provided no iterator.");for(var Vn=null,Rr=null,kn=$e,Cs=0,bs=0,vi=null,Ws=Cr.next();kn!==null&&!Ws.done;bs++,Ws=Cr.next()){kn.index>bs?(vi=kn,kn=null):vi=kn.sibling;var Us=Ne(De,kn,Ws.value,Qe);if(Us===null){kn===null&&(kn=vi);break}i&&kn&&Us.alternate===null&&o(De,kn),Cs=y(Us,Cs,bs),Rr===null?Vn=Us:Rr.sibling=Us,Rr=Us,kn=vi}if(Ws.done){if(m(De,kn),ds()){var Rs=bs;ou(De,Rs)}return Vn}if(kn===null){for(;!Ws.done;bs++,Ws=Cr.next()){var Zo=xe(De,Ws.value,Qe);Zo!==null&&(Cs=y(Zo,Cs,bs),Rr===null?Vn=Zo:Rr.sibling=Zo,Rr=Zo)}if(ds()){var id=bs;ou(De,id)}return Vn}for(var kp=f(De,kn);!Ws.done;bs++,Ws=Cr.next()){var to=Ce(kp,De,bs,Ws.value,Qe);to!==null&&(i&&to.alternate!==null&&kp.delete(to.key===null?bs:to.key),Cs=y(to,Cs,bs),Rr===null?Vn=to:Rr.sibling=to,Rr=to)}if(i&&kp.forEach(function(yq){return o(De,yq)}),ds()){var vq=bs;ou(De,vq)}return Vn}function Ft(De,$e,je,Qe){if($e!==null&&$e.tag===D){m(De,$e.sibling);var gt=x($e,je);return gt.return=De,gt}m(De,$e);var dt=nE(je,De.mode,Qe);return dt.return=De,dt}function Ct(De,$e,je,Qe){for(var gt=je.key,dt=$e;dt!==null;){if(dt.key===gt){var zt=je.type;if(zt===ei){if(dt.tag===E){m(De,dt.sibling);var Yt=x(dt,je.props.children);return Yt.return=De,Yt._debugSource=je._source,Yt._debugOwner=je._owner,Yt}}else if(dt.elementType===zt||k5(dt,je)||typeof zt=="object"&&zt!==null&&zt.$$typeof===nt&&NC(zt)===dt.type){m(De,dt.sibling);var Ur=x(dt,je.props);return Ur.ref=Gf(De,dt,je),Ur.return=De,Ur._debugSource=je._source,Ur._debugOwner=je._owner,Ur}m(De,dt);break}else o(De,dt);dt=dt.sibling}if(je.type===ei){var Cr=Ql(je.props.children,De.mode,Qe,je.key);return Cr.return=De,Cr}else{var Vn=rE(je,De.mode,Qe);return Vn.ref=Gf(De,$e,je),Vn.return=De,Vn}}function jr(De,$e,je,Qe){for(var gt=je.key,dt=$e;dt!==null;){if(dt.key===gt)if(dt.tag===N&&dt.stateNode.containerInfo===je.containerInfo&&dt.stateNode.implementation===je.implementation){m(De,dt.sibling);var zt=x(dt,je.children||[]);return zt.return=De,zt}else{m(De,dt);break}else o(De,dt);dt=dt.sibling}var Yt=sE(je,De.mode,Qe);return Yt.return=De,Yt}function gr(De,$e,je,Qe){var gt=typeof je=="object"&&je!==null&&je.type===ei&&je.key===null;if(gt&&(je=je.props.children),typeof je=="object"&&je!==null){switch(je.$$typeof){case us:return C(Ct(De,$e,je,Qe));case Qn:return C(jr(De,$e,je,Qe));case nt:var dt=je._payload,zt=je._init;return gr(De,$e,zt(dt),Qe)}if(pr(je))return Le(De,$e,je,Qe);if(tn(je))return ut(De,$e,je,Qe);sx(De,je)}return typeof je=="string"&&je!==""||typeof je=="number"?C(Ft(De,$e,""+je,Qe)):(typeof je=="function"&&ix(De),m(De,$e))}return gr}var Bm=xC(!0),bC=xC(!1);function YG(i,o){if(i!==null&&o.child!==i.child)throw new Error("Resuming work not yet implemented.");if(o.child!==null){var m=o.child,f=vu(m,m.pendingProps);for(o.child=f,f.return=o;m.sibling!==null;)m=m.sibling,f=f.sibling=vu(m,m.pendingProps),f.return=o;f.sibling=null}}function XG(i,o){for(var m=i.child;m!==null;)OK(m,o),m=m.sibling}var c1=Ol(null),u1;u1={};var ax=null,zm=null,m1=null,ox=!1;function lx(){ax=null,zm=null,m1=null,ox=!1}function vC(){ox=!0}function yC(){ox=!1}function wC(i,o,m){Ps(c1,o._currentValue,i),o._currentValue=m,o._currentRenderer!==void 0&&o._currentRenderer!==null&&o._currentRenderer!==u1&&c("Detected multiple renderers concurrently rendering the same context provider. This is currently unsupported."),o._currentRenderer=u1}function d1(i,o){var m=c1.current;Vs(c1,o),i._currentValue=m}function h1(i,o,m){for(var f=i;f!==null;){var x=f.alternate;if(jm(f.childLanes,o)?x!==null&&!jm(x.childLanes,o)&&(x.childLanes=lr(x.childLanes,o)):(f.childLanes=lr(f.childLanes,o),x!==null&&(x.childLanes=lr(x.childLanes,o))),f===m)break;f=f.return}f!==m&&c("Expected to find the propagation root when scheduling context work. This error is likely caused by a bug in React. Please file an issue.")}function QG(i,o,m){ZG(i,o,m)}function ZG(i,o,m){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var x=void 0,y=f.dependencies;if(y!==null){x=f.child;for(var C=y.firstContext;C!==null;){if(C.context===o){if(f.tag===h){var _=cf(m),I=Jo(ln,_);I.tag=ux;var J=f.updateQueue;if(J!==null){var Q=J.shared,xe=Q.pending;xe===null?I.next=I:(I.next=xe.next,xe.next=I),Q.pending=I}}f.lanes=lr(f.lanes,m);var Ne=f.alternate;Ne!==null&&(Ne.lanes=lr(Ne.lanes,m)),h1(f.return,m,i),y.lanes=lr(y.lanes,m);break}C=C.next}}else if(f.tag===w)x=f.type===i.type?null:f.child;else if(f.tag===F){var Ce=f.return;if(Ce===null)throw new Error("We just came from a parent so we must have had a parent. This is a bug in React.");Ce.lanes=lr(Ce.lanes,m);var Te=Ce.alternate;Te!==null&&(Te.lanes=lr(Te.lanes,m)),h1(Ce,m,i),x=f.sibling}else x=f.child;if(x!==null)x.return=f;else for(x=f;x!==null;){if(x===i){x=null;break}var Le=x.sibling;if(Le!==null){Le.return=x.return,x=Le;break}x=x.return}f=x}}function Wm(i,o){ax=i,zm=null,m1=null;var m=i.dependencies;if(m!==null){var f=m.firstContext;f!==null&&(fi(m.lanes,o)&&ap(),m.firstContext=null)}}function _n(i){ox&&c("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().");var o=i._currentValue;if(m1!==i){var m={context:i,memoizedValue:o,next:null};if(zm===null){if(ax===null)throw new Error("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().");zm=m,ax.dependencies={lanes:Xe,firstContext:m}}else zm=zm.next=m}return o}var du=null;function f1(i){du===null?du=[i]:du.push(i)}function eH(){if(du!==null){for(var i=0;i<du.length;i++){var o=du[i],m=o.interleaved;if(m!==null){o.interleaved=null;var f=m.next,x=o.pending;if(x!==null){var y=x.next;x.next=f,m.next=y}o.pending=m}}du=null}}function kC(i,o,m,f){var x=o.interleaved;return x===null?(m.next=m,f1(o)):(m.next=x.next,x.next=m),o.interleaved=m,cx(i,f)}function tH(i,o,m,f){var x=o.interleaved;x===null?(m.next=m,f1(o)):(m.next=x.next,x.next=m),o.interleaved=m}function rH(i,o,m,f){var x=o.interleaved;return x===null?(m.next=m,f1(o)):(m.next=x.next,x.next=m),o.interleaved=m,cx(i,f)}function ni(i,o){return cx(i,o)}var nH=cx;function cx(i,o){i.lanes=lr(i.lanes,o);var m=i.alternate;m!==null&&(m.lanes=lr(m.lanes,o)),m===null&&(i.flags&(An|Io))!==Bt&&b5(i);for(var f=i,x=i.return;x!==null;)x.childLanes=lr(x.childLanes,o),m=x.alternate,m!==null?m.childLanes=lr(m.childLanes,o):(x.flags&(An|Io))!==Bt&&b5(i),f=x,x=x.return;if(f.tag===p){var y=f.stateNode;return y}else return null}var EC=0,DC=1,ux=2,p1=3,mx=!1,g1,dx;g1=!1,dx=null;function N1(i){var o={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:Xe},effects:null};i.updateQueue=o}function jC(i,o){var m=o.updateQueue,f=i.updateQueue;if(m===f){var x={baseState:f.baseState,firstBaseUpdate:f.firstBaseUpdate,lastBaseUpdate:f.lastBaseUpdate,shared:f.shared,effects:f.effects};o.updateQueue=x}}function Jo(i,o){var m={eventTime:i,lane:o,tag:EC,payload:null,callback:null,next:null};return m}function zl(i,o,m){var f=i.updateQueue;if(f===null)return null;var x=f.shared;if(dx===x&&!g1&&(c("An update (setState, replaceState, or forceUpdate) was scheduled from inside an update function. Update functions should be pure, with zero side-effects. Consider using componentDidUpdate or a callback."),g1=!0),tK()){var y=x.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),x.pending=o,nH(i,m)}else return rH(i,x,o,m)}function hx(i,o,m){var f=o.updateQueue;if(f!==null){var x=f.shared;if(L2(m)){var y=x.lanes;y=B2(y,i.pendingLanes);var C=lr(y,m);x.lanes=C,cw(i,C)}}}function x1(i,o){var m=i.updateQueue,f=i.alternate;if(f!==null){var x=f.updateQueue;if(m===x){var y=null,C=null,_=m.firstBaseUpdate;if(_!==null){var I=_;do{var J={eventTime:I.eventTime,lane:I.lane,tag:I.tag,payload:I.payload,callback:I.callback,next:null};C===null?y=C=J:(C.next=J,C=J),I=I.next}while(I!==null);C===null?y=C=o:(C.next=o,C=o)}else y=C=o;m={baseState:x.baseState,firstBaseUpdate:y,lastBaseUpdate:C,shared:x.shared,effects:x.effects},i.updateQueue=m;return}}var Q=m.lastBaseUpdate;Q===null?m.firstBaseUpdate=o:Q.next=o,m.lastBaseUpdate=o}function sH(i,o,m,f,x,y){switch(m.tag){case DC:{var C=m.payload;if(typeof C=="function"){vC();var _=C.call(y,f,x);{if(i.mode&wn){rs(!0);try{C.call(y,f,x)}finally{rs(!1)}}yC()}return _}return C}case p1:i.flags=i.flags&~Ls|Fr;case EC:{var I=m.payload,J;if(typeof I=="function"){vC(),J=I.call(y,f,x);{if(i.mode&wn){rs(!0);try{I.call(y,f,x)}finally{rs(!1)}}yC()}}else J=I;return J==null?f:Xt({},f,J)}case ux:return mx=!0,f}return f}function fx(i,o,m,f){var x=i.updateQueue;mx=!1,dx=x.shared;var y=x.firstBaseUpdate,C=x.lastBaseUpdate,_=x.shared.pending;if(_!==null){x.shared.pending=null;var I=_,J=I.next;I.next=null,C===null?y=J:C.next=J,C=I;var Q=i.alternate;if(Q!==null){var xe=Q.updateQueue,Ne=xe.lastBaseUpdate;Ne!==C&&(Ne===null?xe.firstBaseUpdate=J:Ne.next=J,xe.lastBaseUpdate=I)}}if(y!==null){var Ce=x.baseState,Te=Xe,Le=null,ut=null,Ft=null,Ct=y;do{var jr=Ct.lane,gr=Ct.eventTime;if(jm(f,jr)){if(Ft!==null){var $e={eventTime:gr,lane:ns,tag:Ct.tag,payload:Ct.payload,callback:Ct.callback,next:null};Ft=Ft.next=$e}Ce=sH(i,x,Ct,Ce,o,m);var je=Ct.callback;if(je!==null&&Ct.lane!==ns){i.flags|=v2;var Qe=x.effects;Qe===null?x.effects=[Ct]:Qe.push(Ct)}}else{var De={eventTime:gr,lane:jr,tag:Ct.tag,payload:Ct.payload,callback:Ct.callback,next:null};Ft===null?(ut=Ft=De,Le=Ce):Ft=Ft.next=De,Te=lr(Te,jr)}if(Ct=Ct.next,Ct===null){if(_=x.shared.pending,_===null)break;var gt=_,dt=gt.next;gt.next=null,Ct=dt,x.lastBaseUpdate=gt,x.shared.pending=null}}while(!0);Ft===null&&(Le=Ce),x.baseState=Le,x.firstBaseUpdate=ut,x.lastBaseUpdate=Ft;var zt=x.shared.interleaved;if(zt!==null){var Yt=zt;do Te=lr(Te,Yt.lane),Yt=Yt.next;while(Yt!==zt)}else y===null&&(x.shared.lanes=Xe);xp(Te),i.lanes=Te,i.memoizedState=Ce}dx=null}function iH(i,o){if(typeof i!="function")throw new Error("Invalid argument passed as callback. Expected a function. Instead "+("received: "+i));i.call(o)}function VC(){mx=!1}function px(){return mx}function PC(i,o,m){var f=o.effects;if(o.effects=null,f!==null)for(var x=0;x<f.length;x++){var y=f[x],C=y.callback;C!==null&&(y.callback=null,iH(C,m))}}var Hf={},Wl=Ol(Hf),Jf=Ol(Hf),gx=Ol(Hf);function Nx(i){if(i===Hf)throw new Error("Expected host context to exist. This error is likely caused by a bug in React. Please file an issue.");return i}function SC(){var i=Nx(gx.current);return i}function b1(i,o){Ps(gx,o,i),Ps(Jf,i,i),Ps(Wl,Hf,i);var m=wU(o);Vs(Wl,i),Ps(Wl,m,i)}function Um(i){Vs(Wl,i),Vs(Jf,i),Vs(gx,i)}function v1(){var i=Nx(Wl.current);return i}function CC(i){Nx(gx.current);var o=Nx(Wl.current),m=kU(o,i.type);o!==m&&(Ps(Jf,i,i),Ps(Wl,m,i))}function y1(i){Jf.current===i&&(Vs(Wl,i),Vs(Jf,i))}var aH=0,RC=1,MC=1,Kf=2,ma=Ol(aH);function w1(i,o){return(i&o)!==0}function Gm(i){return i&RC}function k1(i,o){return i&RC|o}function oH(i,o){return i|o}function Ul(i,o){Ps(ma,o,i)}function Hm(i){Vs(ma,i)}function lH(i,o){var m=i.memoizedState;return m!==null?m.dehydrated!==null:(i.memoizedProps,!0)}function xx(i){for(var o=i;o!==null;){if(o.tag===S){var m=o.memoizedState;if(m!==null){var f=m.dehydrated;if(f===null||qS(f)||Bw(f))return o}}else if(o.tag===L&&o.memoizedProps.revealOrder!==void 0){var x=(o.flags&Fr)!==Bt;if(x)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)return null;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var si=0,Bn=1,Ka=2,zn=4,hs=8,E1=[];function D1(){for(var i=0;i<E1.length;i++){var o=E1[i];o._workInProgressVersionPrimary=null}E1.length=0}function cH(i,o){var m=o._getVersion,f=m(o._source);i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[o,f]:i.mutableSourceEagerHydrationData.push(o,f)}var pt=n.ReactCurrentDispatcher,qf=n.ReactCurrentBatchConfig,j1,Jm;j1=new Set;var hu=Xe,Wr=null,Wn=null,Un=null,bx=!1,Yf=!1,Xf=0,uH=0,mH=25,Be=null,zi=null,Gl=-1,V1=!1;function Or(){{var i=Be;zi===null?zi=[i]:zi.push(i)}}function ot(){{var i=Be;zi!==null&&(Gl++,zi[Gl]!==i&&dH(i))}}function Km(i){i!=null&&!pr(i)&&c("%s received a final argument that is not an array (instead, received `%s`). When specified, the final argument must be an array.",Be,typeof i)}function dH(i){{var o=Qt(Wr);if(!j1.has(o)&&(j1.add(o),zi!==null)){for(var m="",f=30,x=0;x<=Gl;x++){for(var y=zi[x],C=x===Gl?i:y,_=x+1+". "+y;_.length<f;)_+=" ";_+=C+`
`,m+=_}c(`React has detected a change in the order of Hooks called by %s. This will lead to bugs and errors if not fixed. For more information, read the Rules of Hooks: https://reactjs.org/link/rules-of-hooks

   Previous render            Next render
   ------------------------------------------------------
%s   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
`,o,m)}}}function Ss(){throw new Error(`Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:
1. You might have mismatching versions of React and the renderer (such as React DOM)
2. You might be breaking the Rules of Hooks
3. You might have more than one copy of React in the same app
See https://reactjs.org/link/invalid-hook-call for tips about how to debug and fix this problem.`)}function P1(i,o){if(V1)return!1;if(o===null)return c("%s received a final argument during this render, but not during the previous render. Even though the final argument is optional, its type cannot change between renders.",Be),!1;i.length!==o.length&&c(`The final argument passed to %s changed size between renders. The order and size of this array must remain constant.

Previous: %s
Incoming: %s`,Be,"["+o.join(", ")+"]","["+i.join(", ")+"]");for(var m=0;m<o.length&&m<i.length;m++)if(!Ni(i[m],o[m]))return!1;return!0}function qm(i,o,m,f,x,y){hu=y,Wr=o,zi=i!==null?i._debugHookTypes:null,Gl=-1,V1=i!==null&&i.type!==o.type,o.memoizedState=null,o.updateQueue=null,o.lanes=Xe,i!==null&&i.memoizedState!==null?pt.current=e3:zi!==null?pt.current=ZC:pt.current=QC;var C=m(f,x);if(Yf){var _=0;do{if(Yf=!1,Xf=0,_>=mH)throw new Error("Too many re-renders. React limits the number of renders to prevent an infinite loop.");_+=1,V1=!1,Wn=null,Un=null,o.updateQueue=null,Gl=-1,pt.current=t3,C=m(f,x)}while(Yf)}pt.current=Mx,o._debugHookTypes=zi;var I=Wn!==null&&Wn.next!==null;if(hu=Xe,Wr=null,Wn=null,Un=null,Be=null,zi=null,Gl=-1,i!==null&&(i.flags&Oo)!==(o.flags&Oo)&&(i.mode&Er)!==Lt&&c("Internal React error: Expected static flag was missing. Please notify the React team."),bx=!1,I)throw new Error("Rendered fewer hooks than expected. This may be caused by an accidental early return statement.");return C}function Ym(){var i=Xf!==0;return Xf=0,i}function TC(i,o,m){o.updateQueue=i.updateQueue,(o.mode&Ua)!==Lt?o.flags&=-50333701:o.flags&=-2053,i.lanes=vN(i.lanes,m)}function AC(){if(pt.current=Mx,bx){for(var i=Wr.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}bx=!1}hu=Xe,Wr=null,Wn=null,Un=null,zi=null,Gl=-1,Be=null,JC=!1,Yf=!1,Xf=0}function qa(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Un===null?Wr.memoizedState=Un=i:Un=Un.next=i,Un}function Wi(){var i;if(Wn===null){var o=Wr.alternate;o!==null?i=o.memoizedState:i=null}else i=Wn.next;var m;if(Un===null?m=Wr.memoizedState:m=Un.next,m!==null)Un=m,m=Un.next,Wn=i;else{if(i===null)throw new Error("Rendered more hooks than during the previous render.");Wn=i;var f={memoizedState:Wn.memoizedState,baseState:Wn.baseState,baseQueue:Wn.baseQueue,queue:Wn.queue,next:null};Un===null?Wr.memoizedState=Un=f:Un=Un.next=f}return Un}function _C(){return{lastEffect:null,stores:null}}function S1(i,o){return typeof o=="function"?o(i):o}function C1(i,o,m){var f=qa(),x;m!==void 0?x=m(o):x=o,f.memoizedState=f.baseState=x;var y={pending:null,interleaved:null,lanes:Xe,dispatch:null,lastRenderedReducer:i,lastRenderedState:x};f.queue=y;var C=y.dispatch=gH.bind(null,Wr,y);return[f.memoizedState,C]}function R1(i,o,m){var f=Wi(),x=f.queue;if(x===null)throw new Error("Should have a queue. This is likely a bug in React. Please file an issue.");x.lastRenderedReducer=i;var y=Wn,C=y.baseQueue,_=x.pending;if(_!==null){if(C!==null){var I=C.next,J=_.next;C.next=J,_.next=I}y.baseQueue!==C&&c("Internal error: Expected work-in-progress queue to be a clone. This is a bug in React."),y.baseQueue=C=_,x.pending=null}if(C!==null){var Q=C.next,xe=y.baseState,Ne=null,Ce=null,Te=null,Le=Q;do{var ut=Le.lane;if(jm(hu,ut)){if(Te!==null){var Ct={lane:ns,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null};Te=Te.next=Ct}if(Le.hasEagerState)xe=Le.eagerState;else{var jr=Le.action;xe=i(xe,jr)}}else{var Ft={lane:ut,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null};Te===null?(Ce=Te=Ft,Ne=xe):Te=Te.next=Ft,Wr.lanes=lr(Wr.lanes,ut),xp(ut)}Le=Le.next}while(Le!==null&&Le!==Q);Te===null?Ne=xe:Te.next=Ce,Ni(xe,f.memoizedState)||ap(),f.memoizedState=xe,f.baseState=Ne,f.baseQueue=Te,x.lastRenderedState=xe}var gr=x.interleaved;if(gr!==null){var De=gr;do{var $e=De.lane;Wr.lanes=lr(Wr.lanes,$e),xp($e),De=De.next}while(De!==gr)}else C===null&&(x.lanes=Xe);var je=x.dispatch;return[f.memoizedState,je]}function M1(i,o,m){var f=Wi(),x=f.queue;if(x===null)throw new Error("Should have a queue. This is likely a bug in React. Please file an issue.");x.lastRenderedReducer=i;var y=x.dispatch,C=x.pending,_=f.memoizedState;if(C!==null){x.pending=null;var I=C.next,J=I;do{var Q=J.action;_=i(_,Q),J=J.next}while(J!==I);Ni(_,f.memoizedState)||ap(),f.memoizedState=_,f.baseQueue===null&&(f.baseState=_),x.lastRenderedState=_}return[_,y]}function Gve(i,o,m){}function Hve(i,o,m){}function T1(i,o,m){var f=Wr,x=qa(),y,C=ds();if(C){if(m===void 0)throw new Error("Missing getServerSnapshot, which is required for server-rendered content. Will revert to client rendering.");y=m(),Jm||y!==m()&&(c("The result of getServerSnapshot should be cached to avoid an infinite loop"),Jm=!0)}else{if(y=o(),!Jm){var _=o();Ni(y,_)||(c("The result of getSnapshot should be cached to avoid an infinite loop"),Jm=!0)}var I=Xx();if(I===null)throw new Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");bN(I,hu)||FC(f,o,y)}x.memoizedState=y;var J={value:y,getSnapshot:o};return x.queue=J,Ex(OC.bind(null,f,J,i),[i]),f.flags|=Sl,Qf(Bn|hs,IC.bind(null,f,J,y,o),void 0,null),y}function vx(i,o,m){var f=Wr,x=Wi(),y=o();if(!Jm){var C=o();Ni(y,C)||(c("The result of getSnapshot should be cached to avoid an infinite loop"),Jm=!0)}var _=x.memoizedState,I=!Ni(_,y);I&&(x.memoizedState=y,ap());var J=x.queue;if(ep(OC.bind(null,f,J,i),[i]),J.getSnapshot!==o||I||Un!==null&&Un.memoizedState.tag&Bn){f.flags|=Sl,Qf(Bn|hs,IC.bind(null,f,J,y,o),void 0,null);var Q=Xx();if(Q===null)throw new Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");bN(Q,hu)||FC(f,o,y)}return y}function FC(i,o,m){i.flags|=Sy;var f={getSnapshot:o,value:m},x=Wr.updateQueue;if(x===null)x=_C(),Wr.updateQueue=x,x.stores=[f];else{var y=x.stores;y===null?x.stores=[f]:y.push(f)}}function IC(i,o,m,f){o.value=m,o.getSnapshot=f,LC(o)&&$C(i)}function OC(i,o,m){var f=function(){LC(o)&&$C(i)};return m(f)}function LC(i){var o=i.getSnapshot,m=i.value;try{var f=o();return!Ni(m,f)}catch{return!0}}function $C(i){var o=ni(i,Gt);o!==null&&Kn(o,i,Gt,ln)}function yx(i){var o=qa();typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i;var m={pending:null,interleaved:null,lanes:Xe,dispatch:null,lastRenderedReducer:S1,lastRenderedState:i};o.queue=m;var f=m.dispatch=NH.bind(null,Wr,m);return[o.memoizedState,f]}function A1(i){return R1(S1)}function _1(i){return M1(S1)}function Qf(i,o,m,f){var x={tag:i,create:o,destroy:m,deps:f,next:null},y=Wr.updateQueue;if(y===null)y=_C(),Wr.updateQueue=y,y.lastEffect=x.next=x;else{var C=y.lastEffect;if(C===null)y.lastEffect=x.next=x;else{var _=C.next;C.next=x,x.next=_,y.lastEffect=x}}return x}function F1(i){var o=qa();{var m={current:i};return o.memoizedState=m,m}}function wx(i){var o=Wi();return o.memoizedState}function Zf(i,o,m,f){var x=qa(),y=f===void 0?null:f;Wr.flags|=i,x.memoizedState=Qf(Bn|o,m,void 0,y)}function kx(i,o,m,f){var x=Wi(),y=f===void 0?null:f,C=void 0;if(Wn!==null){var _=Wn.memoizedState;if(C=_.destroy,y!==null){var I=_.deps;if(P1(y,I)){x.memoizedState=Qf(o,m,C,y);return}}}Wr.flags|=i,x.memoizedState=Qf(Bn|o,m,C,y)}function Ex(i,o){return(Wr.mode&Ua)!==Lt?Zf(Ty|Sl|My,hs,i,o):Zf(Sl|My,hs,i,o)}function ep(i,o){return kx(Sl,hs,i,o)}function I1(i,o){return Zf(_r,Ka,i,o)}function Dx(i,o){return kx(_r,Ka,i,o)}function O1(i,o){var m=_r;return m|=Yc,(Wr.mode&Ua)!==Lt&&(m|=Cl),Zf(m,zn,i,o)}function jx(i,o){return kx(_r,zn,i,o)}function BC(i,o){if(typeof o=="function"){var m=o,f=i();return m(f),function(){m(null)}}else if(o!=null){var x=o;x.hasOwnProperty("current")||c("Expected useImperativeHandle() first argument to either be a ref callback or React.createRef() object. Instead received: %s.","an object with keys {"+Object.keys(x).join(", ")+"}");var y=i();return x.current=y,function(){x.current=null}}}function L1(i,o,m){typeof o!="function"&&c("Expected useImperativeHandle() second argument to be a function that creates a handle. Instead received: %s.",o!==null?typeof o:"null");var f=m!=null?m.concat([i]):null,x=_r;return x|=Yc,(Wr.mode&Ua)!==Lt&&(x|=Cl),Zf(x,zn,BC.bind(null,o,i),f)}function Vx(i,o,m){typeof o!="function"&&c("Expected useImperativeHandle() second argument to be a function that creates a handle. Instead received: %s.",o!==null?typeof o:"null");var f=m!=null?m.concat([i]):null;return kx(_r,zn,BC.bind(null,o,i),f)}function hH(i,o){}var Px=hH;function $1(i,o){var m=qa(),f=o===void 0?null:o;return m.memoizedState=[i,f],i}function Sx(i,o){var m=Wi(),f=o===void 0?null:o,x=m.memoizedState;if(x!==null&&f!==null){var y=x[1];if(P1(f,y))return x[0]}return m.memoizedState=[i,f],i}function B1(i,o){var m=qa(),f=o===void 0?null:o,x=i();return m.memoizedState=[x,f],x}function Cx(i,o){var m=Wi(),f=o===void 0?null:o,x=m.memoizedState;if(x!==null&&f!==null){var y=x[1];if(P1(f,y))return x[0]}var C=i();return m.memoizedState=[C,f],C}function z1(i){var o=qa();return o.memoizedState=i,i}function zC(i){var o=Wi(),m=Wn,f=m.memoizedState;return UC(o,f,i)}function WC(i){var o=Wi();if(Wn===null)return o.memoizedState=i,i;var m=Wn.memoizedState;return UC(o,m,i)}function UC(i,o,m){var f=!QB(hu);if(f){if(!Ni(m,o)){var x=$2();Wr.lanes=lr(Wr.lanes,x),xp(x),i.baseState=!0}return o}else return i.baseState&&(i.baseState=!1,ap()),i.memoizedState=m,m}function fH(i,o,m){var f=oa();ss(oz(f,$o)),i(!0);var x=qf.transition;qf.transition={};var y=qf.transition;qf.transition._updatedFibers=new Set;try{i(!1),o()}finally{if(ss(f),qf.transition=x,x===null&&y._updatedFibers){var C=y._updatedFibers.size;C>10&&l("Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table."),y._updatedFibers.clear()}}}function W1(){var i=yx(!1),o=i[0],m=i[1],f=fH.bind(null,m),x=qa();return x.memoizedState=f,[o,f]}function GC(){var i=A1(),o=i[0],m=Wi(),f=m.memoizedState;return[o,f]}function HC(){var i=_1(),o=i[0],m=Wi(),f=m.memoizedState;return[o,f]}var JC=!1;function pH(){return JC}function U1(){var i=qa(),o=Xx(),m=o.identifierPrefix,f;if(ds()){var x=MG();f=":"+m+"R"+x;var y=Xf++;y>0&&(f+="H"+y.toString(32)),f+=":"}else{var C=uH++;f=":"+m+"r"+C.toString(32)+":"}return i.memoizedState=f,f}function Rx(){var i=Wi(),o=i.memoizedState;return o}function gH(i,o,m){typeof arguments[3]=="function"&&c("State updates from the useState() and useReducer() Hooks don't support the second callback argument. To execute a side effect after rendering, declare it in the component body with useEffect().");var f=Yl(i),x={lane:f,action:m,hasEagerState:!1,eagerState:null,next:null};if(KC(i))qC(o,x);else{var y=kC(i,o,x,f);if(y!==null){var C=zs();Kn(y,i,f,C),YC(y,o,f)}}XC(i,f)}function NH(i,o,m){typeof arguments[3]=="function"&&c("State updates from the useState() and useReducer() Hooks don't support the second callback argument. To execute a side effect after rendering, declare it in the component body with useEffect().");var f=Yl(i),x={lane:f,action:m,hasEagerState:!1,eagerState:null,next:null};if(KC(i))qC(o,x);else{var y=i.alternate;if(i.lanes===Xe&&(y===null||y.lanes===Xe)){var C=o.lastRenderedReducer;if(C!==null){var _;_=pt.current,pt.current=da;try{var I=o.lastRenderedState,J=C(I,m);if(x.hasEagerState=!0,x.eagerState=J,Ni(J,I)){tH(i,o,x,f);return}}catch{}finally{pt.current=_}}}var Q=kC(i,o,x,f);if(Q!==null){var xe=zs();Kn(Q,i,f,xe),YC(Q,o,f)}}XC(i,f)}function KC(i){var o=i.alternate;return i===Wr||o!==null&&o===Wr}function qC(i,o){Yf=bx=!0;var m=i.pending;m===null?o.next=o:(o.next=m.next,m.next=o),i.pending=o}function YC(i,o,m){if(L2(m)){var f=o.lanes;f=B2(f,i.pendingLanes);var x=lr(f,m);o.lanes=x,cw(i,x)}}function XC(i,o,m){Oy(i,o)}var Mx={readContext:_n,useCallback:Ss,useContext:Ss,useEffect:Ss,useImperativeHandle:Ss,useInsertionEffect:Ss,useLayoutEffect:Ss,useMemo:Ss,useReducer:Ss,useRef:Ss,useState:Ss,useDebugValue:Ss,useDeferredValue:Ss,useTransition:Ss,useMutableSource:Ss,useSyncExternalStore:Ss,useId:Ss,unstable_isNewReconciler:z},QC=null,ZC=null,e3=null,t3=null,Ya=null,da=null,Tx=null;{var G1=function(){c("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().")},Ht=function(){c("Do not call Hooks inside useEffect(...), useMemo(...), or other built-in Hooks. You can only call Hooks at the top level of your React function. For more information, see https://reactjs.org/link/rules-of-hooks")};QC={readContext:function(i){return _n(i)},useCallback:function(i,o){return Be="useCallback",Or(),Km(o),$1(i,o)},useContext:function(i){return Be="useContext",Or(),_n(i)},useEffect:function(i,o){return Be="useEffect",Or(),Km(o),Ex(i,o)},useImperativeHandle:function(i,o,m){return Be="useImperativeHandle",Or(),Km(m),L1(i,o,m)},useInsertionEffect:function(i,o){return Be="useInsertionEffect",Or(),Km(o),I1(i,o)},useLayoutEffect:function(i,o){return Be="useLayoutEffect",Or(),Km(o),O1(i,o)},useMemo:function(i,o){Be="useMemo",Or(),Km(o);var m=pt.current;pt.current=Ya;try{return B1(i,o)}finally{pt.current=m}},useReducer:function(i,o,m){Be="useReducer",Or();var f=pt.current;pt.current=Ya;try{return C1(i,o,m)}finally{pt.current=f}},useRef:function(i){return Be="useRef",Or(),F1(i)},useState:function(i){Be="useState",Or();var o=pt.current;pt.current=Ya;try{return yx(i)}finally{pt.current=o}},useDebugValue:function(i,o){return Be="useDebugValue",Or(),void 0},useDeferredValue:function(i){return Be="useDeferredValue",Or(),z1(i)},useTransition:function(){return Be="useTransition",Or(),W1()},useMutableSource:function(i,o,m){return Be="useMutableSource",Or(),void 0},useSyncExternalStore:function(i,o,m){return Be="useSyncExternalStore",Or(),T1(i,o,m)},useId:function(){return Be="useId",Or(),U1()},unstable_isNewReconciler:z},ZC={readContext:function(i){return _n(i)},useCallback:function(i,o){return Be="useCallback",ot(),$1(i,o)},useContext:function(i){return Be="useContext",ot(),_n(i)},useEffect:function(i,o){return Be="useEffect",ot(),Ex(i,o)},useImperativeHandle:function(i,o,m){return Be="useImperativeHandle",ot(),L1(i,o,m)},useInsertionEffect:function(i,o){return Be="useInsertionEffect",ot(),I1(i,o)},useLayoutEffect:function(i,o){return Be="useLayoutEffect",ot(),O1(i,o)},useMemo:function(i,o){Be="useMemo",ot();var m=pt.current;pt.current=Ya;try{return B1(i,o)}finally{pt.current=m}},useReducer:function(i,o,m){Be="useReducer",ot();var f=pt.current;pt.current=Ya;try{return C1(i,o,m)}finally{pt.current=f}},useRef:function(i){return Be="useRef",ot(),F1(i)},useState:function(i){Be="useState",ot();var o=pt.current;pt.current=Ya;try{return yx(i)}finally{pt.current=o}},useDebugValue:function(i,o){return Be="useDebugValue",ot(),void 0},useDeferredValue:function(i){return Be="useDeferredValue",ot(),z1(i)},useTransition:function(){return Be="useTransition",ot(),W1()},useMutableSource:function(i,o,m){return Be="useMutableSource",ot(),void 0},useSyncExternalStore:function(i,o,m){return Be="useSyncExternalStore",ot(),T1(i,o,m)},useId:function(){return Be="useId",ot(),U1()},unstable_isNewReconciler:z},e3={readContext:function(i){return _n(i)},useCallback:function(i,o){return Be="useCallback",ot(),Sx(i,o)},useContext:function(i){return Be="useContext",ot(),_n(i)},useEffect:function(i,o){return Be="useEffect",ot(),ep(i,o)},useImperativeHandle:function(i,o,m){return Be="useImperativeHandle",ot(),Vx(i,o,m)},useInsertionEffect:function(i,o){return Be="useInsertionEffect",ot(),Dx(i,o)},useLayoutEffect:function(i,o){return Be="useLayoutEffect",ot(),jx(i,o)},useMemo:function(i,o){Be="useMemo",ot();var m=pt.current;pt.current=da;try{return Cx(i,o)}finally{pt.current=m}},useReducer:function(i,o,m){Be="useReducer",ot();var f=pt.current;pt.current=da;try{return R1(i,o,m)}finally{pt.current=f}},useRef:function(i){return Be="useRef",ot(),wx()},useState:function(i){Be="useState",ot();var o=pt.current;pt.current=da;try{return A1(i)}finally{pt.current=o}},useDebugValue:function(i,o){return Be="useDebugValue",ot(),Px()},useDeferredValue:function(i){return Be="useDeferredValue",ot(),zC(i)},useTransition:function(){return Be="useTransition",ot(),GC()},useMutableSource:function(i,o,m){return Be="useMutableSource",ot(),void 0},useSyncExternalStore:function(i,o,m){return Be="useSyncExternalStore",ot(),vx(i,o)},useId:function(){return Be="useId",ot(),Rx()},unstable_isNewReconciler:z},t3={readContext:function(i){return _n(i)},useCallback:function(i,o){return Be="useCallback",ot(),Sx(i,o)},useContext:function(i){return Be="useContext",ot(),_n(i)},useEffect:function(i,o){return Be="useEffect",ot(),ep(i,o)},useImperativeHandle:function(i,o,m){return Be="useImperativeHandle",ot(),Vx(i,o,m)},useInsertionEffect:function(i,o){return Be="useInsertionEffect",ot(),Dx(i,o)},useLayoutEffect:function(i,o){return Be="useLayoutEffect",ot(),jx(i,o)},useMemo:function(i,o){Be="useMemo",ot();var m=pt.current;pt.current=Tx;try{return Cx(i,o)}finally{pt.current=m}},useReducer:function(i,o,m){Be="useReducer",ot();var f=pt.current;pt.current=Tx;try{return M1(i,o,m)}finally{pt.current=f}},useRef:function(i){return Be="useRef",ot(),wx()},useState:function(i){Be="useState",ot();var o=pt.current;pt.current=Tx;try{return _1(i)}finally{pt.current=o}},useDebugValue:function(i,o){return Be="useDebugValue",ot(),Px()},useDeferredValue:function(i){return Be="useDeferredValue",ot(),WC(i)},useTransition:function(){return Be="useTransition",ot(),HC()},useMutableSource:function(i,o,m){return Be="useMutableSource",ot(),void 0},useSyncExternalStore:function(i,o,m){return Be="useSyncExternalStore",ot(),vx(i,o)},useId:function(){return Be="useId",ot(),Rx()},unstable_isNewReconciler:z},Ya={readContext:function(i){return G1(),_n(i)},useCallback:function(i,o){return Be="useCallback",Ht(),Or(),$1(i,o)},useContext:function(i){return Be="useContext",Ht(),Or(),_n(i)},useEffect:function(i,o){return Be="useEffect",Ht(),Or(),Ex(i,o)},useImperativeHandle:function(i,o,m){return Be="useImperativeHandle",Ht(),Or(),L1(i,o,m)},useInsertionEffect:function(i,o){return Be="useInsertionEffect",Ht(),Or(),I1(i,o)},useLayoutEffect:function(i,o){return Be="useLayoutEffect",Ht(),Or(),O1(i,o)},useMemo:function(i,o){Be="useMemo",Ht(),Or();var m=pt.current;pt.current=Ya;try{return B1(i,o)}finally{pt.current=m}},useReducer:function(i,o,m){Be="useReducer",Ht(),Or();var f=pt.current;pt.current=Ya;try{return C1(i,o,m)}finally{pt.current=f}},useRef:function(i){return Be="useRef",Ht(),Or(),F1(i)},useState:function(i){Be="useState",Ht(),Or();var o=pt.current;pt.current=Ya;try{return yx(i)}finally{pt.current=o}},useDebugValue:function(i,o){return Be="useDebugValue",Ht(),Or(),void 0},useDeferredValue:function(i){return Be="useDeferredValue",Ht(),Or(),z1(i)},useTransition:function(){return Be="useTransition",Ht(),Or(),W1()},useMutableSource:function(i,o,m){return Be="useMutableSource",Ht(),Or(),void 0},useSyncExternalStore:function(i,o,m){return Be="useSyncExternalStore",Ht(),Or(),T1(i,o,m)},useId:function(){return Be="useId",Ht(),Or(),U1()},unstable_isNewReconciler:z},da={readContext:function(i){return G1(),_n(i)},useCallback:function(i,o){return Be="useCallback",Ht(),ot(),Sx(i,o)},useContext:function(i){return Be="useContext",Ht(),ot(),_n(i)},useEffect:function(i,o){return Be="useEffect",Ht(),ot(),ep(i,o)},useImperativeHandle:function(i,o,m){return Be="useImperativeHandle",Ht(),ot(),Vx(i,o,m)},useInsertionEffect:function(i,o){return Be="useInsertionEffect",Ht(),ot(),Dx(i,o)},useLayoutEffect:function(i,o){return Be="useLayoutEffect",Ht(),ot(),jx(i,o)},useMemo:function(i,o){Be="useMemo",Ht(),ot();var m=pt.current;pt.current=da;try{return Cx(i,o)}finally{pt.current=m}},useReducer:function(i,o,m){Be="useReducer",Ht(),ot();var f=pt.current;pt.current=da;try{return R1(i,o,m)}finally{pt.current=f}},useRef:function(i){return Be="useRef",Ht(),ot(),wx()},useState:function(i){Be="useState",Ht(),ot();var o=pt.current;pt.current=da;try{return A1(i)}finally{pt.current=o}},useDebugValue:function(i,o){return Be="useDebugValue",Ht(),ot(),Px()},useDeferredValue:function(i){return Be="useDeferredValue",Ht(),ot(),zC(i)},useTransition:function(){return Be="useTransition",Ht(),ot(),GC()},useMutableSource:function(i,o,m){return Be="useMutableSource",Ht(),ot(),void 0},useSyncExternalStore:function(i,o,m){return Be="useSyncExternalStore",Ht(),ot(),vx(i,o)},useId:function(){return Be="useId",Ht(),ot(),Rx()},unstable_isNewReconciler:z},Tx={readContext:function(i){return G1(),_n(i)},useCallback:function(i,o){return Be="useCallback",Ht(),ot(),Sx(i,o)},useContext:function(i){return Be="useContext",Ht(),ot(),_n(i)},useEffect:function(i,o){return Be="useEffect",Ht(),ot(),ep(i,o)},useImperativeHandle:function(i,o,m){return Be="useImperativeHandle",Ht(),ot(),Vx(i,o,m)},useInsertionEffect:function(i,o){return Be="useInsertionEffect",Ht(),ot(),Dx(i,o)},useLayoutEffect:function(i,o){return Be="useLayoutEffect",Ht(),ot(),jx(i,o)},useMemo:function(i,o){Be="useMemo",Ht(),ot();var m=pt.current;pt.current=da;try{return Cx(i,o)}finally{pt.current=m}},useReducer:function(i,o,m){Be="useReducer",Ht(),ot();var f=pt.current;pt.current=da;try{return M1(i,o,m)}finally{pt.current=f}},useRef:function(i){return Be="useRef",Ht(),ot(),wx()},useState:function(i){Be="useState",Ht(),ot();var o=pt.current;pt.current=da;try{return _1(i)}finally{pt.current=o}},useDebugValue:function(i,o){return Be="useDebugValue",Ht(),ot(),Px()},useDeferredValue:function(i){return Be="useDeferredValue",Ht(),ot(),WC(i)},useTransition:function(){return Be="useTransition",Ht(),ot(),HC()},useMutableSource:function(i,o,m){return Be="useMutableSource",Ht(),ot(),void 0},useSyncExternalStore:function(i,o,m){return Be="useSyncExternalStore",Ht(),ot(),vx(i,o)},useId:function(){return Be="useId",Ht(),ot(),Rx()},unstable_isNewReconciler:z}}var Hl=r.unstable_now,r3=0,Ax=-1,tp=-1,_x=-1,H1=!1,Fx=!1;function n3(){return H1}function xH(){Fx=!0}function bH(){H1=!1,Fx=!1}function vH(){H1=Fx,Fx=!1}function s3(){return r3}function i3(){r3=Hl()}function J1(i){tp=Hl(),i.actualStartTime<0&&(i.actualStartTime=Hl())}function a3(i){tp=-1}function Ix(i,o){if(tp>=0){var m=Hl()-tp;i.actualDuration+=m,o&&(i.selfBaseDuration=m),tp=-1}}function Xa(i){if(Ax>=0){var o=Hl()-Ax;Ax=-1;for(var m=i.return;m!==null;){switch(m.tag){case p:var f=m.stateNode;f.effectDuration+=o;return;case V:var x=m.stateNode;x.effectDuration+=o;return}m=m.return}}}function K1(i){if(_x>=0){var o=Hl()-_x;_x=-1;for(var m=i.return;m!==null;){switch(m.tag){case p:var f=m.stateNode;f!==null&&(f.passiveEffectDuration+=o);return;case V:var x=m.stateNode;x!==null&&(x.passiveEffectDuration+=o);return}m=m.return}}}function Qa(){Ax=Hl()}function q1(){_x=Hl()}function Y1(i){for(var o=i.child;o;)i.actualDuration+=o.actualDuration,o=o.sibling}function ha(i,o){if(i&&i.defaultProps){var m=Xt({},o),f=i.defaultProps;for(var x in f)m[x]===void 0&&(m[x]=f[x]);return m}return o}var X1={},Q1,Z1,ek,tk,rk,o3,Ox,nk,sk,ik,rp;{Q1=new Set,Z1=new Set,ek=new Set,tk=new Set,nk=new Set,rk=new Set,sk=new Set,ik=new Set,rp=new Set;var l3=new Set;Ox=function(i,o){if(!(i===null||typeof i=="function")){var m=o+"_"+i;l3.has(m)||(l3.add(m),c("%s(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",o,i))}},o3=function(i,o){if(o===void 0){var m=Ar(i)||"Component";rk.has(m)||(rk.add(m),c("%s.getDerivedStateFromProps(): A valid state object (or null) must be returned. You have returned undefined.",m))}},Object.defineProperty(X1,"_processChildContext",{enumerable:!1,value:function(){throw new Error("_processChildContext is not available in React 16+. This likely means you have multiple copies of React and are attempting to nest a React 15 tree inside a React 16 tree using unstable_renderSubtreeIntoContainer, which isn't supported. Try to make sure you have only one copy of React (and ideally, switch to ReactDOM.createPortal).")}}),Object.freeze(X1)}function ak(i,o,m,f){var x=i.memoizedState,y=m(f,x);{if(i.mode&wn){rs(!0);try{y=m(f,x)}finally{rs(!1)}}o3(o,y)}var C=y==null?x:Xt({},x,y);if(i.memoizedState=C,i.lanes===Xe){var _=i.updateQueue;_.baseState=C}}var ok={isMounted:mB,enqueueSetState:function(i,o,m){var f=Nm(i),x=zs(),y=Yl(f),C=Jo(x,y);C.payload=o,m!=null&&(Ox(m,"setState"),C.callback=m);var _=zl(f,C,y);_!==null&&(Kn(_,f,y,x),hx(_,f,y)),Oy(f,y)},enqueueReplaceState:function(i,o,m){var f=Nm(i),x=zs(),y=Yl(f),C=Jo(x,y);C.tag=DC,C.payload=o,m!=null&&(Ox(m,"replaceState"),C.callback=m);var _=zl(f,C,y);_!==null&&(Kn(_,f,y,x),hx(_,f,y)),Oy(f,y)},enqueueForceUpdate:function(i,o){var m=Nm(i),f=zs(),x=Yl(m),y=Jo(f,x);y.tag=ux,o!=null&&(Ox(o,"forceUpdate"),y.callback=o);var C=zl(m,y,x);C!==null&&(Kn(C,m,x,f),hx(C,m,x)),zB(m,x)}};function c3(i,o,m,f,x,y,C){var _=i.stateNode;if(typeof _.shouldComponentUpdate=="function"){var I=_.shouldComponentUpdate(f,y,C);{if(i.mode&wn){rs(!0);try{I=_.shouldComponentUpdate(f,y,C)}finally{rs(!1)}}I===void 0&&c("%s.shouldComponentUpdate(): Returned undefined instead of a boolean value. Make sure to return true or false.",Ar(o)||"Component")}return I}return o.prototype&&o.prototype.isPureReactComponent?!Ef(m,f)||!Ef(x,y):!0}function yH(i,o,m){var f=i.stateNode;{var x=Ar(o)||"Component",y=f.render;y||(o.prototype&&typeof o.prototype.render=="function"?c("%s(...): No `render` method found on the returned component instance: did you accidentally return an object from the constructor?",x):c("%s(...): No `render` method found on the returned component instance: you may have forgotten to define `render`.",x)),f.getInitialState&&!f.getInitialState.isReactClassApproved&&!f.state&&c("getInitialState was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Did you mean to define a state property instead?",x),f.getDefaultProps&&!f.getDefaultProps.isReactClassApproved&&c("getDefaultProps was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Use a static property to define defaultProps instead.",x),f.propTypes&&c("propTypes was defined as an instance property on %s. Use a static property to define propTypes instead.",x),f.contextType&&c("contextType was defined as an instance property on %s. Use a static property to define contextType instead.",x),o.childContextTypes&&!rp.has(o)&&(i.mode&wn)===Lt&&(rp.add(o),c(`%s uses the legacy childContextTypes API which is no longer supported and will be removed in the next major release. Use React.createContext() instead

.Learn more about this warning here: https://reactjs.org/link/legacy-context`,x)),o.contextTypes&&!rp.has(o)&&(i.mode&wn)===Lt&&(rp.add(o),c(`%s uses the legacy contextTypes API which is no longer supported and will be removed in the next major release. Use React.createContext() with static contextType instead.

Learn more about this warning here: https://reactjs.org/link/legacy-context`,x)),f.contextTypes&&c("contextTypes was defined as an instance property on %s. Use a static property to define contextTypes instead.",x),o.contextType&&o.contextTypes&&!sk.has(o)&&(sk.add(o),c("%s declares both contextTypes and contextType static properties. The legacy contextTypes property will be ignored.",x)),typeof f.componentShouldUpdate=="function"&&c("%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",x),o.prototype&&o.prototype.isPureReactComponent&&typeof f.shouldComponentUpdate<"u"&&c("%s has a method called shouldComponentUpdate(). shouldComponentUpdate should not be used when extending React.PureComponent. Please extend React.Component if shouldComponentUpdate is used.",Ar(o)||"A pure component"),typeof f.componentDidUnmount=="function"&&c("%s has a method called componentDidUnmount(). But there is no such lifecycle method. Did you mean componentWillUnmount()?",x),typeof f.componentDidReceiveProps=="function"&&c("%s has a method called componentDidReceiveProps(). But there is no such lifecycle method. If you meant to update the state in response to changing props, use componentWillReceiveProps(). If you meant to fetch data or run side-effects or mutations after React has updated the UI, use componentDidUpdate().",x),typeof f.componentWillRecieveProps=="function"&&c("%s has a method called componentWillRecieveProps(). Did you mean componentWillReceiveProps()?",x),typeof f.UNSAFE_componentWillRecieveProps=="function"&&c("%s has a method called UNSAFE_componentWillRecieveProps(). Did you mean UNSAFE_componentWillReceiveProps()?",x);var C=f.props!==m;f.props!==void 0&&C&&c("%s(...): When calling super() in `%s`, make sure to pass up the same props that your component's constructor was passed.",x,x),f.defaultProps&&c("Setting defaultProps as an instance property on %s is not supported and will be ignored. Instead, define defaultProps as a static property on %s.",x,x),typeof f.getSnapshotBeforeUpdate=="function"&&typeof f.componentDidUpdate!="function"&&!ek.has(o)&&(ek.add(o),c("%s: getSnapshotBeforeUpdate() should be used with componentDidUpdate(). This component defines getSnapshotBeforeUpdate() only.",Ar(o))),typeof f.getDerivedStateFromProps=="function"&&c("%s: getDerivedStateFromProps() is defined as an instance method and will be ignored. Instead, declare it as a static method.",x),typeof f.getDerivedStateFromError=="function"&&c("%s: getDerivedStateFromError() is defined as an instance method and will be ignored. Instead, declare it as a static method.",x),typeof o.getSnapshotBeforeUpdate=="function"&&c("%s: getSnapshotBeforeUpdate() is defined as a static method and will be ignored. Instead, declare it as an instance method.",x);var _=f.state;_&&(typeof _!="object"||pr(_))&&c("%s.state: must be set to an object or null",x),typeof f.getChildContext=="function"&&typeof o.childContextTypes!="object"&&c("%s.getChildContext(): childContextTypes must be defined in order to use getChildContext().",x)}}function u3(i,o){o.updater=ok,i.stateNode=o,oB(o,i),o._reactInternalInstance=X1}function m3(i,o,m){var f=!1,x=xi,y=xi,C=o.contextType;if("contextType"in o){var _=C===null||C!==void 0&&C.$$typeof===X&&C._context===void 0;if(!_&&!ik.has(o)){ik.add(o);var I="";C===void 0?I=" However, it is set to undefined. This can be caused by a typo or by mixing up named and default imports. This can also happen due to a circular dependency, so try moving the createContext() call to a separate file.":typeof C!="object"?I=" However, it is set to a "+typeof C+".":C.$$typeof===Ye?I=" Did you accidentally pass the Context.Provider instead?":C._context!==void 0?I=" Did you accidentally pass the Context.Consumer instead?":I=" However, it is set to an object with keys {"+Object.keys(C).join(", ")+"}.",c("%s defines an invalid contextType. contextType should point to the Context object returned by React.createContext().%s",Ar(o)||"Component",I)}}if(typeof C=="object"&&C!==null)y=_n(C);else{x=Fm(i,o,!0);var J=o.contextTypes;f=J!=null,y=f?Im(i,x):xi}var Q=new o(m,y);if(i.mode&wn){rs(!0);try{Q=new o(m,y)}finally{rs(!1)}}var xe=i.memoizedState=Q.state!==null&&Q.state!==void 0?Q.state:null;u3(i,Q);{if(typeof o.getDerivedStateFromProps=="function"&&xe===null){var Ne=Ar(o)||"Component";Z1.has(Ne)||(Z1.add(Ne),c("`%s` uses `getDerivedStateFromProps` but its initial state is %s. This is not recommended. Instead, define the initial state by assigning an object to `this.state` in the constructor of `%s`. This ensures that `getDerivedStateFromProps` arguments have a consistent shape.",Ne,Q.state===null?"null":"undefined",Ne))}if(typeof o.getDerivedStateFromProps=="function"||typeof Q.getSnapshotBeforeUpdate=="function"){var Ce=null,Te=null,Le=null;if(typeof Q.componentWillMount=="function"&&Q.componentWillMount.__suppressDeprecationWarning!==!0?Ce="componentWillMount":typeof Q.UNSAFE_componentWillMount=="function"&&(Ce="UNSAFE_componentWillMount"),typeof Q.componentWillReceiveProps=="function"&&Q.componentWillReceiveProps.__suppressDeprecationWarning!==!0?Te="componentWillReceiveProps":typeof Q.UNSAFE_componentWillReceiveProps=="function"&&(Te="UNSAFE_componentWillReceiveProps"),typeof Q.componentWillUpdate=="function"&&Q.componentWillUpdate.__suppressDeprecationWarning!==!0?Le="componentWillUpdate":typeof Q.UNSAFE_componentWillUpdate=="function"&&(Le="UNSAFE_componentWillUpdate"),Ce!==null||Te!==null||Le!==null){var ut=Ar(o)||"Component",Ft=typeof o.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";tk.has(ut)||(tk.add(ut),c(`Unsafe legacy lifecycles will not be called for components using new component APIs.

%s uses %s but also contains the following legacy lifecycles:%s%s%s

The above lifecycles should be removed. Learn more about this warning here:
https://reactjs.org/link/unsafe-component-lifecycles`,ut,Ft,Ce!==null?`
  `+Ce:"",Te!==null?`
  `+Te:"",Le!==null?`
  `+Le:""))}}}return f&&eC(i,x,y),Q}function wH(i,o){var m=o.state;typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),m!==o.state&&(c("%s.componentWillMount(): Assigning directly to this.state is deprecated (except inside a component's constructor). Use setState instead.",Qt(i)||"Component"),ok.enqueueReplaceState(o,o.state,null))}function d3(i,o,m,f){var x=o.state;if(typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(m,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(m,f),o.state!==x){{var y=Qt(i)||"Component";Q1.has(y)||(Q1.add(y),c("%s.componentWillReceiveProps(): Assigning directly to this.state is deprecated (except inside a component's constructor). Use setState instead.",y))}ok.enqueueReplaceState(o,o.state,null)}}function lk(i,o,m,f){yH(i,o,m);var x=i.stateNode;x.props=m,x.state=i.memoizedState,x.refs={},N1(i);var y=o.contextType;if(typeof y=="object"&&y!==null)x.context=_n(y);else{var C=Fm(i,o,!0);x.context=Im(i,C)}{if(x.state===m){var _=Ar(o)||"Component";nk.has(_)||(nk.add(_),c("%s: It is not recommended to assign props directly to state because updates to props won't be reflected in state. In most cases, it is better to use props directly.",_))}i.mode&wn&&ua.recordLegacyContextWarning(i,x),ua.recordUnsafeLifecycleWarnings(i,x)}x.state=i.memoizedState;var I=o.getDerivedStateFromProps;if(typeof I=="function"&&(ak(i,o,I,m),x.state=i.memoizedState),typeof o.getDerivedStateFromProps!="function"&&typeof x.getSnapshotBeforeUpdate!="function"&&(typeof x.UNSAFE_componentWillMount=="function"||typeof x.componentWillMount=="function")&&(wH(i,x),fx(i,m,x,f),x.state=i.memoizedState),typeof x.componentDidMount=="function"){var J=_r;J|=Yc,(i.mode&Ua)!==Lt&&(J|=Cl),i.flags|=J}}function kH(i,o,m,f){var x=i.stateNode,y=i.memoizedProps;x.props=y;var C=x.context,_=o.contextType,I=xi;if(typeof _=="object"&&_!==null)I=_n(_);else{var J=Fm(i,o,!0);I=Im(i,J)}var Q=o.getDerivedStateFromProps,xe=typeof Q=="function"||typeof x.getSnapshotBeforeUpdate=="function";!xe&&(typeof x.UNSAFE_componentWillReceiveProps=="function"||typeof x.componentWillReceiveProps=="function")&&(y!==m||C!==I)&&d3(i,x,m,I),VC();var Ne=i.memoizedState,Ce=x.state=Ne;if(fx(i,m,x,f),Ce=i.memoizedState,y===m&&Ne===Ce&&!qN()&&!px()){if(typeof x.componentDidMount=="function"){var Te=_r;Te|=Yc,(i.mode&Ua)!==Lt&&(Te|=Cl),i.flags|=Te}return!1}typeof Q=="function"&&(ak(i,o,Q,m),Ce=i.memoizedState);var Le=px()||c3(i,o,y,m,Ne,Ce,I);if(Le){if(!xe&&(typeof x.UNSAFE_componentWillMount=="function"||typeof x.componentWillMount=="function")&&(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"){var ut=_r;ut|=Yc,(i.mode&Ua)!==Lt&&(ut|=Cl),i.flags|=ut}}else{if(typeof x.componentDidMount=="function"){var Ft=_r;Ft|=Yc,(i.mode&Ua)!==Lt&&(Ft|=Cl),i.flags|=Ft}i.memoizedProps=m,i.memoizedState=Ce}return x.props=m,x.state=Ce,x.context=I,Le}function EH(i,o,m,f,x){var y=o.stateNode;jC(i,o);var C=o.memoizedProps,_=o.type===o.elementType?C:ha(o.type,C);y.props=_;var I=o.pendingProps,J=y.context,Q=m.contextType,xe=xi;if(typeof Q=="object"&&Q!==null)xe=_n(Q);else{var Ne=Fm(o,m,!0);xe=Im(o,Ne)}var Ce=m.getDerivedStateFromProps,Te=typeof Ce=="function"||typeof y.getSnapshotBeforeUpdate=="function";!Te&&(typeof y.UNSAFE_componentWillReceiveProps=="function"||typeof y.componentWillReceiveProps=="function")&&(C!==I||J!==xe)&&d3(o,y,f,xe),VC();var Le=o.memoizedState,ut=y.state=Le;if(fx(o,f,y,x),ut=o.memoizedState,C===I&&Le===ut&&!qN()&&!px()&&!G)return typeof y.componentDidUpdate=="function"&&(C!==i.memoizedProps||Le!==i.memoizedState)&&(o.flags|=_r),typeof y.getSnapshotBeforeUpdate=="function"&&(C!==i.memoizedProps||Le!==i.memoizedState)&&(o.flags|=bm),!1;typeof Ce=="function"&&(ak(o,m,Ce,f),ut=o.memoizedState);var Ft=px()||c3(o,m,_,f,Le,ut,xe)||G;return Ft?(!Te&&(typeof y.UNSAFE_componentWillUpdate=="function"||typeof y.componentWillUpdate=="function")&&(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(f,ut,xe),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(f,ut,xe)),typeof y.componentDidUpdate=="function"&&(o.flags|=_r),typeof y.getSnapshotBeforeUpdate=="function"&&(o.flags|=bm)):(typeof y.componentDidUpdate=="function"&&(C!==i.memoizedProps||Le!==i.memoizedState)&&(o.flags|=_r),typeof y.getSnapshotBeforeUpdate=="function"&&(C!==i.memoizedProps||Le!==i.memoizedState)&&(o.flags|=bm),o.memoizedProps=f,o.memoizedState=ut),y.props=f,y.state=ut,y.context=xe,Ft}function fu(i,o){return{value:i,source:o,stack:zc(o),digest:null}}function ck(i,o,m){return{value:i,source:null,stack:m??null,digest:o??null}}function DH(i,o){return!0}function uk(i,o){try{var m=DH(i,o);if(m===!1)return;var f=o.value,x=o.source,y=o.stack,C=y!==null?y:"";if(f!=null&&f._suppressLogging){if(i.tag===h)return;console.error(f)}var _=x?Qt(x):null,I=_?"The above error occurred in the <"+_+"> component:":"The above error occurred in one of your React components:",J;if(i.tag===p)J=`Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.`;else{var Q=Qt(i)||"Anonymous";J="React will try to recreate this component tree from scratch "+("using the error boundary you provided, "+Q+".")}var xe=I+`
`+C+`

`+(""+J);console.error(xe)}catch(Ne){setTimeout(function(){throw Ne})}}var jH=typeof WeakMap=="function"?WeakMap:Map;function h3(i,o,m){var f=Jo(ln,m);f.tag=p1,f.payload={element:null};var x=o.value;return f.callback=function(){xK(x),uk(i,o)},f}function mk(i,o,m){var f=Jo(ln,m);f.tag=p1;var x=i.type.getDerivedStateFromError;if(typeof x=="function"){var y=o.value;f.payload=function(){return x(y)},f.callback=function(){E5(i),uk(i,o)}}var C=i.stateNode;return C!==null&&typeof C.componentDidCatch=="function"&&(f.callback=function(){E5(i),uk(i,o),typeof x!="function"&&gK(this);var I=o.value,J=o.stack;this.componentDidCatch(I,{componentStack:J!==null?J:""}),typeof x!="function"&&(fi(i.lanes,Gt)||c("%s: Error boundaries should implement getDerivedStateFromError(). In that method, return a state update to display an error message or fallback UI.",Qt(i)||"Unknown"))}),f}function f3(i,o,m){var f=i.pingCache,x;if(f===null?(f=i.pingCache=new jH,x=new Set,f.set(o,x)):(x=f.get(o),x===void 0&&(x=new Set,f.set(o,x))),!x.has(m)){x.add(m);var y=bK.bind(null,i,o,m);aa&&bp(i,m),o.then(y,y)}}function VH(i,o,m,f){var x=i.updateQueue;if(x===null){var y=new Set;y.add(m),i.updateQueue=y}else x.add(m)}function PH(i,o){var m=i.tag;if((i.mode&Er)===Lt&&(m===d||m===k||m===M)){var f=i.alternate;f?(i.updateQueue=f.updateQueue,i.memoizedState=f.memoizedState,i.lanes=f.lanes):(i.updateQueue=null,i.memoizedState=null)}}function p3(i){var o=i;do{if(o.tag===S&&lH(o))return o;o=o.return}while(o!==null);return null}function g3(i,o,m,f,x){if((i.mode&Er)===Lt){if(i===o)i.flags|=Ls;else{if(i.flags|=Fr,m.flags|=Cy,m.flags&=-52805,m.tag===h){var y=m.alternate;if(y===null)m.tag=A;else{var C=Jo(ln,Gt);C.tag=ux,zl(m,C,Gt)}}m.lanes=lr(m.lanes,Gt)}return i}return i.flags|=Ls,i.lanes=x,i}function SH(i,o,m,f,x){if(m.flags|=hN,aa&&bp(i,x),f!==null&&typeof f=="object"&&typeof f.then=="function"){var y=f;PH(m),ds()&&m.mode&Er&&oC();var C=p3(o);if(C!==null){C.flags&=~Fo,g3(C,o,m,i,x),C.mode&Er&&f3(i,y,x),VH(C,i,y);return}else{if(!XB(x)){f3(i,y,x),Uk();return}var _=new Error("A component suspended while responding to synchronous input. This will cause the UI to be replaced with a loading indicator. To fix, updates that suspend should be wrapped with startTransition.");f=_}}else if(ds()&&m.mode&Er){oC();var I=p3(o);if(I!==null){(I.flags&Ls)===Bt&&(I.flags|=Fo),g3(I,o,m,i,x),n1(fu(f,m));return}}f=fu(f,m),lK(f);var J=o;do{switch(J.tag){case p:{var Q=f;J.flags|=Ls;var xe=cf(x);J.lanes=lr(J.lanes,xe);var Ne=h3(J,Q,xe);x1(J,Ne);return}case h:var Ce=f,Te=J.type,Le=J.stateNode;if((J.flags&Fr)===Bt&&(typeof Te.getDerivedStateFromError=="function"||Le!==null&&typeof Le.componentDidCatch=="function"&&!p5(Le))){J.flags|=Ls;var ut=cf(x);J.lanes=lr(J.lanes,ut);var Ft=mk(J,Ce,ut);x1(J,Ft);return}break}J=J.return}while(J!==null)}function CH(){return null}var np=n.ReactCurrentOwner,fa=!1,dk,sp,hk,fk,pk,pu,gk,Lx,ip;dk={},sp={},hk={},fk={},pk={},pu=!1,gk={},Lx={},ip={};function $s(i,o,m,f){i===null?o.child=bC(o,null,m,f):o.child=Bm(o,i.child,m,f)}function RH(i,o,m,f){o.child=Bm(o,i.child,null,f),o.child=Bm(o,null,m,f)}function N3(i,o,m,f,x){if(o.type!==o.elementType){var y=m.propTypes;y&&la(y,f,"prop",Ar(m))}var C=m.render,_=o.ref,I,J;Wm(o,x),rf(o);{if(np.current=o,Oi(!0),I=qm(i,o,C,f,_,x),J=Ym(),o.mode&wn){rs(!0);try{I=qm(i,o,C,f,_,x),J=Ym()}finally{rs(!1)}}Oi(!1)}return wm(),i!==null&&!fa?(TC(i,o,x),Ko(i,o,x)):(ds()&&J&&Xw(o),o.flags|=xm,$s(i,o,I,x),o.child)}function x3(i,o,m,f,x){if(i===null){var y=m.type;if(FK(y)&&m.compare===null&&m.defaultProps===void 0){var C=y;return C=sd(y),o.tag=M,o.type=C,bk(o,y),b3(i,o,C,f,x)}{var _=y.propTypes;if(_&&la(_,f,"prop",Ar(y)),m.defaultProps!==void 0){var I=Ar(y)||"Unknown";ip[I]||(c("%s: Support for defaultProps will be removed from memo components in a future major release. Use JavaScript default parameters instead.",I),ip[I]=!0)}}var J=tE(m.type,null,f,o,o.mode,x);return J.ref=o.ref,J.return=o,o.child=J,J}{var Q=m.type,xe=Q.propTypes;xe&&la(xe,f,"prop",Ar(Q))}var Ne=i.child,Ce=Dk(i,x);if(!Ce){var Te=Ne.memoizedProps,Le=m.compare;if(Le=Le!==null?Le:Ef,Le(Te,f)&&i.ref===o.ref)return Ko(i,o,x)}o.flags|=xm;var ut=vu(Ne,f);return ut.ref=o.ref,ut.return=o,o.child=ut,ut}function b3(i,o,m,f,x){if(o.type!==o.elementType){var y=o.elementType;if(y.$$typeof===nt){var C=y,_=C._payload,I=C._init;try{y=I(_)}catch{y=null}var J=y&&y.propTypes;J&&la(J,f,"prop",Ar(y))}}if(i!==null){var Q=i.memoizedProps;if(Ef(Q,f)&&i.ref===o.ref&&o.type===i.type)if(fa=!1,o.pendingProps=f=Q,Dk(i,x))(i.flags&Cy)!==Bt&&(fa=!0);else return o.lanes=i.lanes,Ko(i,o,x)}return Nk(i,o,m,f,x)}function v3(i,o,m){var f=o.pendingProps,x=f.children,y=i!==null?i.memoizedState:null;if(f.mode==="hidden"||ee)if((o.mode&Er)===Lt){var C={baseLanes:Xe,cachePool:null,transitions:null};o.memoizedState=C,Qx(o,m)}else if(fi(m,hi)){var xe={baseLanes:Xe,cachePool:null,transitions:null};o.memoizedState=xe;var Ne=y!==null?y.baseLanes:m;Qx(o,Ne)}else{var _=null,I;if(y!==null){var J=y.baseLanes;I=lr(J,m)}else I=m;o.lanes=o.childLanes=hi;var Q={baseLanes:I,cachePool:_,transitions:null};return o.memoizedState=Q,o.updateQueue=null,Qx(o,I),null}else{var Ce;y!==null?(Ce=lr(y.baseLanes,m),o.memoizedState=null):Ce=m,Qx(o,Ce)}return $s(i,o,x,m),o.child}function MH(i,o,m){var f=o.pendingProps;return $s(i,o,f,m),o.child}function TH(i,o,m){var f=o.pendingProps.children;return $s(i,o,f,m),o.child}function AH(i,o,m){{o.flags|=_r;{var f=o.stateNode;f.effectDuration=0,f.passiveEffectDuration=0}}var x=o.pendingProps,y=x.children;return $s(i,o,y,m),o.child}function y3(i,o){var m=o.ref;(i===null&&m!==null||i!==null&&i.ref!==m)&&(o.flags|=Kc,o.flags|=Ry)}function Nk(i,o,m,f,x){if(o.type!==o.elementType){var y=m.propTypes;y&&la(y,f,"prop",Ar(m))}var C;{var _=Fm(o,m,!0);C=Im(o,_)}var I,J;Wm(o,x),rf(o);{if(np.current=o,Oi(!0),I=qm(i,o,m,f,C,x),J=Ym(),o.mode&wn){rs(!0);try{I=qm(i,o,m,f,C,x),J=Ym()}finally{rs(!1)}}Oi(!1)}return wm(),i!==null&&!fa?(TC(i,o,x),Ko(i,o,x)):(ds()&&J&&Xw(o),o.flags|=xm,$s(i,o,I,x),o.child)}function w3(i,o,m,f,x){{switch(XK(o)){case!1:{var y=o.stateNode,C=o.type,_=new C(o.memoizedProps,y.context),I=_.state;y.updater.enqueueSetState(y,I,null);break}case!0:{o.flags|=Fr,o.flags|=Ls;var J=new Error("Simulated error coming from DevTools"),Q=cf(x);o.lanes=lr(o.lanes,Q);var xe=mk(o,fu(J,o),Q);x1(o,xe);break}}if(o.type!==o.elementType){var Ne=m.propTypes;Ne&&la(Ne,f,"prop",Ar(m))}}var Ce;Ja(m)?(Ce=!0,XN(o)):Ce=!1,Wm(o,x);var Te=o.stateNode,Le;Te===null?(Bx(i,o),m3(o,m,f),lk(o,m,f,x),Le=!0):i===null?Le=kH(o,m,f,x):Le=EH(i,o,m,f,x);var ut=xk(i,o,m,Le,Ce,x);{var Ft=o.stateNode;Le&&Ft.props!==f&&(pu||c("It looks like %s is reassigning its own `this.props` while rendering. This is not supported and can lead to confusing bugs.",Qt(o)||"a component"),pu=!0)}return ut}function xk(i,o,m,f,x,y){y3(i,o);var C=(o.flags&Fr)!==Bt;if(!f&&!C)return x&&nC(o,m,!1),Ko(i,o,y);var _=o.stateNode;np.current=o;var I;if(C&&typeof m.getDerivedStateFromError!="function")I=null,a3();else{rf(o);{if(Oi(!0),I=_.render(),o.mode&wn){rs(!0);try{_.render()}finally{rs(!1)}}Oi(!1)}wm()}return o.flags|=xm,i!==null&&C?RH(i,o,I,y):$s(i,o,I,y),o.memoizedState=_.state,x&&nC(o,m,!0),o.child}function k3(i){var o=i.stateNode;o.pendingContext?tC(i,o.pendingContext,o.pendingContext!==o.context):o.context&&tC(i,o.context,!1),b1(i,o.containerInfo)}function _H(i,o,m){if(k3(o),i===null)throw new Error("Should have a current fiber. This is a bug in React.");var f=o.pendingProps,x=o.memoizedState,y=x.element;jC(i,o),fx(o,f,null,m);var C=o.memoizedState;o.stateNode;var _=C.element;if(x.isDehydrated){var I={element:_,isDehydrated:!1,cache:C.cache,pendingSuspenseBoundaries:C.pendingSuspenseBoundaries,transitions:C.transitions},J=o.updateQueue;if(J.baseState=I,o.memoizedState=I,o.flags&Fo){var Q=fu(new Error("There was an error while hydrating. Because the error happened outside of a Suspense boundary, the entire root will switch to client rendering."),o);return E3(i,o,_,m,Q)}else if(_!==y){var xe=fu(new Error("This root received an early update, before anything was able hydrate. Switched the entire root to client rendering."),o);return E3(i,o,_,m,xe)}else{OG(o);var Ne=bC(o,null,_,m);o.child=Ne;for(var Ce=Ne;Ce;)Ce.flags=Ce.flags&~An|Io,Ce=Ce.sibling}}else{if($m(),_===y)return Ko(i,o,m);$s(i,o,_,m)}return o.child}function E3(i,o,m,f,x){return $m(),n1(x),o.flags|=Fo,$s(i,o,m,f),o.child}function FH(i,o,m){CC(o),i===null&&r1(o);var f=o.type,x=o.pendingProps,y=i!==null?i.memoizedProps:null,C=x.children,_=Iw(f,x);return _?C=null:y!==null&&Iw(f,y)&&(o.flags|=ef),y3(i,o),$s(i,o,C,m),o.child}function IH(i,o){return i===null&&r1(o),null}function OH(i,o,m,f){Bx(i,o);var x=o.pendingProps,y=m,C=y._payload,_=y._init,I=_(C);o.type=I;var J=o.tag=IK(I),Q=ha(I,x),xe;switch(J){case d:return bk(o,I),o.type=I=sd(I),xe=Nk(null,o,I,Q,f),xe;case h:return o.type=I=qk(I),xe=w3(null,o,I,Q,f),xe;case k:return o.type=I=Yk(I),xe=N3(null,o,I,Q,f),xe;case R:{if(o.type!==o.elementType){var Ne=I.propTypes;Ne&&la(Ne,Q,"prop",Ar(I))}return xe=x3(null,o,I,ha(I.type,Q),f),xe}}var Ce="";throw I!==null&&typeof I=="object"&&I.$$typeof===nt&&(Ce=" Did you wrap a component in React.lazy() more than once?"),new Error("Element type is invalid. Received a promise that resolves to: "+I+". "+("Lazy element type must resolve to a class or function."+Ce))}function LH(i,o,m,f,x){Bx(i,o),o.tag=h;var y;return Ja(m)?(y=!0,XN(o)):y=!1,Wm(o,x),m3(o,m,f),lk(o,m,f,x),xk(null,o,m,!0,y,x)}function $H(i,o,m,f){Bx(i,o);var x=o.pendingProps,y;{var C=Fm(o,m,!1);y=Im(o,C)}Wm(o,f);var _,I;rf(o);{if(m.prototype&&typeof m.prototype.render=="function"){var J=Ar(m)||"Unknown";dk[J]||(c("The <%s /> component appears to have a render method, but doesn't extend React.Component. This is likely to cause errors. Change %s to extend React.Component instead.",J,J),dk[J]=!0)}o.mode&wn&&ua.recordLegacyContextWarning(o,null),Oi(!0),np.current=o,_=qm(null,o,m,x,y,f),I=Ym(),Oi(!1)}if(wm(),o.flags|=xm,typeof _=="object"&&_!==null&&typeof _.render=="function"&&_.$$typeof===void 0){var Q=Ar(m)||"Unknown";sp[Q]||(c("The <%s /> component appears to be a function component that returns a class instance. Change %s to a class that extends React.Component instead. If you can't use a class try assigning the prototype on the function as a workaround. `%s.prototype = React.Component.prototype`. Don't use an arrow function since it cannot be called with `new` by React.",Q,Q,Q),sp[Q]=!0)}if(typeof _=="object"&&_!==null&&typeof _.render=="function"&&_.$$typeof===void 0){{var xe=Ar(m)||"Unknown";sp[xe]||(c("The <%s /> component appears to be a function component that returns a class instance. Change %s to a class that extends React.Component instead. If you can't use a class try assigning the prototype on the function as a workaround. `%s.prototype = React.Component.prototype`. Don't use an arrow function since it cannot be called with `new` by React.",xe,xe,xe),sp[xe]=!0)}o.tag=h,o.memoizedState=null,o.updateQueue=null;var Ne=!1;return Ja(m)?(Ne=!0,XN(o)):Ne=!1,o.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,N1(o),u3(o,_),lk(o,m,x,f),xk(null,o,m,!0,Ne,f)}else{if(o.tag=d,o.mode&wn){rs(!0);try{_=qm(null,o,m,x,y,f),I=Ym()}finally{rs(!1)}}return ds()&&I&&Xw(o),$s(null,o,_,f),bk(o,m),o.child}}function bk(i,o){{if(o&&o.childContextTypes&&c("%s(...): childContextTypes cannot be defined on a function component.",o.displayName||o.name||"Component"),i.ref!==null){var m="",f=Vl();f&&(m+=`

Check the render method of \``+f+"`.");var x=f||"",y=i._debugSource;y&&(x=y.fileName+":"+y.lineNumber),pk[x]||(pk[x]=!0,c("Function components cannot be given refs. Attempts to access this ref will fail. Did you mean to use React.forwardRef()?%s",m))}if(o.defaultProps!==void 0){var C=Ar(o)||"Unknown";ip[C]||(c("%s: Support for defaultProps will be removed from function components in a future major release. Use JavaScript default parameters instead.",C),ip[C]=!0)}if(typeof o.getDerivedStateFromProps=="function"){var _=Ar(o)||"Unknown";fk[_]||(c("%s: Function components do not support getDerivedStateFromProps.",_),fk[_]=!0)}if(typeof o.contextType=="object"&&o.contextType!==null){var I=Ar(o)||"Unknown";hk[I]||(c("%s: Function components do not support contextType.",I),hk[I]=!0)}}}var vk={dehydrated:null,treeContext:null,retryLane:ns};function yk(i){return{baseLanes:i,cachePool:CH(),transitions:null}}function BH(i,o){var m=null;return{baseLanes:lr(i.baseLanes,o),cachePool:m,transitions:i.transitions}}function zH(i,o,m,f){if(o!==null){var x=o.memoizedState;if(x===null)return!1}return w1(i,Kf)}function WH(i,o){return vN(i.childLanes,o)}function D3(i,o,m){var f=o.pendingProps;QK(o)&&(o.flags|=Fr);var x=ma.current,y=!1,C=(o.flags&Fr)!==Bt;if(C||zH(x,i)?(y=!0,o.flags&=~Fr):(i===null||i.memoizedState!==null)&&(x=oH(x,MC)),x=Gm(x),Ul(o,x),i===null){r1(o);var _=o.memoizedState;if(_!==null){var I=_.dehydrated;if(I!==null)return KH(o,I)}var J=f.children,Q=f.fallback;if(y){var xe=UH(o,J,Q,m),Ne=o.child;return Ne.memoizedState=yk(m),o.memoizedState=vk,xe}else return wk(o,J)}else{var Ce=i.memoizedState;if(Ce!==null){var Te=Ce.dehydrated;if(Te!==null)return qH(i,o,C,f,Te,Ce,m)}if(y){var Le=f.fallback,ut=f.children,Ft=HH(i,o,ut,Le,m),Ct=o.child,jr=i.child.memoizedState;return Ct.memoizedState=jr===null?yk(m):BH(jr,m),Ct.childLanes=WH(i,m),o.memoizedState=vk,Ft}else{var gr=f.children,De=GH(i,o,gr,m);return o.memoizedState=null,De}}}function wk(i,o,m){var f=i.mode,x={mode:"visible",children:o},y=kk(x,f);return y.return=i,i.child=y,y}function UH(i,o,m,f){var x=i.mode,y=i.child,C={mode:"hidden",children:o},_,I;return(x&Er)===Lt&&y!==null?(_=y,_.childLanes=Xe,_.pendingProps=C,i.mode&zr&&(_.actualDuration=0,_.actualStartTime=-1,_.selfBaseDuration=0,_.treeBaseDuration=0),I=Ql(m,x,f,null)):(_=kk(C,x),I=Ql(m,x,f,null)),_.return=i,I.return=i,_.sibling=I,i.child=_,I}function kk(i,o,m){return j5(i,o,Xe,null)}function j3(i,o){return vu(i,o)}function GH(i,o,m,f){var x=i.child,y=x.sibling,C=j3(x,{mode:"visible",children:m});if((o.mode&Er)===Lt&&(C.lanes=f),C.return=o,C.sibling=null,y!==null){var _=o.deletions;_===null?(o.deletions=[y],o.flags|=Jc):_.push(y)}return o.child=C,C}function HH(i,o,m,f,x){var y=o.mode,C=i.child,_=C.sibling,I={mode:"hidden",children:m},J;if((y&Er)===Lt&&o.child!==C){var Q=o.child;J=Q,J.childLanes=Xe,J.pendingProps=I,o.mode&zr&&(J.actualDuration=0,J.actualStartTime=-1,J.selfBaseDuration=C.selfBaseDuration,J.treeBaseDuration=C.treeBaseDuration),o.deletions=null}else J=j3(C,I),J.subtreeFlags=C.subtreeFlags&Oo;var xe;return _!==null?xe=vu(_,f):(xe=Ql(f,y,x,null),xe.flags|=An),xe.return=o,J.return=o,J.sibling=xe,o.child=J,xe}function $x(i,o,m,f){f!==null&&n1(f),Bm(o,i.child,null,m);var x=o.pendingProps,y=x.children,C=wk(o,y);return C.flags|=An,o.memoizedState=null,C}function JH(i,o,m,f,x){var y=o.mode,C={mode:"visible",children:m},_=kk(C,y),I=Ql(f,y,x,null);return I.flags|=An,_.return=o,I.return=o,_.sibling=I,o.child=_,(o.mode&Er)!==Lt&&Bm(o,i.child,null,x),I}function KH(i,o,m){return(i.mode&Er)===Lt?(c("Cannot hydrate Suspense in legacy mode. Switch from ReactDOM.hydrate(element, container) to ReactDOMClient.hydrateRoot(container, <App />).render(element) or remove the Suspense components from the server rendered components."),i.lanes=Gt):Bw(o)?i.lanes=Zc:i.lanes=hi,null}function qH(i,o,m,f,x,y,C){if(m)if(o.flags&Fo){o.flags&=~Fo;var De=ck(new Error("There was an error while hydrating this Suspense boundary. Switched to client rendering."));return $x(i,o,C,De)}else{if(o.memoizedState!==null)return o.child=i.child,o.flags|=Fr,null;var $e=f.children,je=f.fallback,Qe=JH(i,o,$e,je,C),gt=o.child;return gt.memoizedState=yk(C),o.memoizedState=vk,Qe}else{if(FG(),(o.mode&Er)===Lt)return $x(i,o,C,null);if(Bw(x)){var _,I,J;{var Q=ZU(x);_=Q.digest,I=Q.message,J=Q.stack}var xe;I?xe=new Error(I):xe=new Error("The server could not finish this Suspense boundary, likely due to an error during server rendering. Switched to client rendering.");var Ne=ck(xe,_,J);return $x(i,o,C,Ne)}var Ce=fi(C,i.childLanes);if(fa||Ce){var Te=Xx();if(Te!==null){var Le=iz(Te,C);if(Le!==ns&&Le!==y.retryLane){y.retryLane=Le;var ut=ln;ni(i,Le),Kn(Te,i,Le,ut)}}Uk();var Ft=ck(new Error("This Suspense boundary received an update before it finished hydrating. This caused the boundary to switch to client rendering. The usual way to fix this is to wrap the original update in startTransition."));return $x(i,o,C,Ft)}else if(qS(x)){o.flags|=Fr,o.child=i.child;var Ct=vK.bind(null,i);return eG(x,Ct),null}else{LG(o,x,y.treeContext);var jr=f.children,gr=wk(o,jr);return gr.flags|=Io,gr}}}function V3(i,o,m){i.lanes=lr(i.lanes,o);var f=i.alternate;f!==null&&(f.lanes=lr(f.lanes,o)),h1(i.return,o,m)}function YH(i,o,m){for(var f=o;f!==null;){if(f.tag===S){var x=f.memoizedState;x!==null&&V3(f,m,i)}else if(f.tag===L)V3(f,m,i);else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)return;for(;f.sibling===null;){if(f.return===null||f.return===i)return;f=f.return}f.sibling.return=f.return,f=f.sibling}}function XH(i){for(var o=i,m=null;o!==null;){var f=o.alternate;f!==null&&xx(f)===null&&(m=o),o=o.sibling}return m}function QH(i){if(i!==void 0&&i!=="forwards"&&i!=="backwards"&&i!=="together"&&!gk[i])if(gk[i]=!0,typeof i=="string")switch(i.toLowerCase()){case"together":case"forwards":case"backwards":{c('"%s" is not a valid value for revealOrder on <SuspenseList />. Use lowercase "%s" instead.',i,i.toLowerCase());break}case"forward":case"backward":{c('"%s" is not a valid value for revealOrder on <SuspenseList />. React uses the -s suffix in the spelling. Use "%ss" instead.',i,i.toLowerCase());break}default:c('"%s" is not a supported revealOrder on <SuspenseList />. Did you mean "together", "forwards" or "backwards"?',i);break}else c('%s is not a supported value for revealOrder on <SuspenseList />. Did you mean "together", "forwards" or "backwards"?',i)}function ZH(i,o){i!==void 0&&!Lx[i]&&(i!=="collapsed"&&i!=="hidden"?(Lx[i]=!0,c('"%s" is not a supported value for tail on <SuspenseList />. Did you mean "collapsed" or "hidden"?',i)):o!=="forwards"&&o!=="backwards"&&(Lx[i]=!0,c('<SuspenseList tail="%s" /> is only valid if revealOrder is "forwards" or "backwards". Did you mean to specify revealOrder="forwards"?',i)))}function P3(i,o){{var m=pr(i),f=!m&&typeof tn(i)=="function";if(m||f){var x=m?"array":"iterable";return c("A nested %s was passed to row #%s in <SuspenseList />. Wrap it in an additional SuspenseList to configure its revealOrder: <SuspenseList revealOrder=...> ... <SuspenseList revealOrder=...>{%s}</SuspenseList> ... </SuspenseList>",x,o,x),!1}}return!0}function eJ(i,o){if((o==="forwards"||o==="backwards")&&i!==void 0&&i!==null&&i!==!1)if(pr(i)){for(var m=0;m<i.length;m++)if(!P3(i[m],m))return}else{var f=tn(i);if(typeof f=="function"){var x=f.call(i);if(x)for(var y=x.next(),C=0;!y.done;y=x.next()){if(!P3(y.value,C))return;C++}}else c('A single row was passed to a <SuspenseList revealOrder="%s" />. This is not useful since it needs multiple rows. Did you mean to pass multiple children or an array?',o)}}function Ek(i,o,m,f,x){var y=i.memoizedState;y===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:m,tailMode:x}:(y.isBackwards=o,y.rendering=null,y.renderingStartTime=0,y.last=f,y.tail=m,y.tailMode=x)}function S3(i,o,m){var f=o.pendingProps,x=f.revealOrder,y=f.tail,C=f.children;QH(x),ZH(y,x),eJ(C,x),$s(i,o,C,m);var _=ma.current,I=w1(_,Kf);if(I)_=k1(_,Kf),o.flags|=Fr;else{var J=i!==null&&(i.flags&Fr)!==Bt;J&&YH(o,o.child,m),_=Gm(_)}if(Ul(o,_),(o.mode&Er)===Lt)o.memoizedState=null;else switch(x){case"forwards":{var Q=XH(o.child),xe;Q===null?(xe=o.child,o.child=null):(xe=Q.sibling,Q.sibling=null),Ek(o,!1,xe,Q,y);break}case"backwards":{var Ne=null,Ce=o.child;for(o.child=null;Ce!==null;){var Te=Ce.alternate;if(Te!==null&&xx(Te)===null){o.child=Ce;break}var Le=Ce.sibling;Ce.sibling=Ne,Ne=Ce,Ce=Le}Ek(o,!0,Ne,null,y);break}case"together":{Ek(o,!1,null,null,void 0);break}default:o.memoizedState=null}return o.child}function tJ(i,o,m){b1(o,o.stateNode.containerInfo);var f=o.pendingProps;return i===null?o.child=Bm(o,null,f,m):$s(i,o,f,m),o.child}var C3=!1;function rJ(i,o,m){var f=o.type,x=f._context,y=o.pendingProps,C=o.memoizedProps,_=y.value;{"value"in y||C3||(C3=!0,c("The `value` prop is required for the `<Context.Provider>`. Did you misspell it or forget to pass it?"));var I=o.type.propTypes;I&&la(I,y,"prop","Context.Provider")}if(wC(o,x,_),C!==null){var J=C.value;if(Ni(J,_)){if(C.children===y.children&&!qN())return Ko(i,o,m)}else QG(o,x,m)}var Q=y.children;return $s(i,o,Q,m),o.child}var R3=!1;function nJ(i,o,m){var f=o.type;f._context===void 0?f!==f.Consumer&&(R3||(R3=!0,c("Rendering <Context> directly is not supported and will be removed in a future major release. Did you mean to render <Context.Consumer> instead?"))):f=f._context;var x=o.pendingProps,y=x.children;typeof y!="function"&&c("A context consumer was rendered with multiple children, or a child that isn't a function. A context consumer expects a single child that is a function. If you did pass a function, make sure there is no trailing or leading whitespace around it."),Wm(o,m);var C=_n(f);rf(o);var _;return np.current=o,Oi(!0),_=y(C),Oi(!1),wm(),o.flags|=xm,$s(i,o,_,m),o.child}function ap(){fa=!0}function Bx(i,o){(o.mode&Er)===Lt&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=An)}function Ko(i,o,m){return i!==null&&(o.dependencies=i.dependencies),a3(),xp(o.lanes),fi(m,o.childLanes)?(YG(i,o),o.child):null}function sJ(i,o,m){{var f=o.return;if(f===null)throw new Error("Cannot swap the root fiber.");if(i.alternate=null,o.alternate=null,m.index=o.index,m.sibling=o.sibling,m.return=o.return,m.ref=o.ref,o===f.child)f.child=m;else{var x=f.child;if(x===null)throw new Error("Expected parent to have a child.");for(;x.sibling!==o;)if(x=x.sibling,x===null)throw new Error("Expected to find the previous sibling.");x.sibling=m}var y=f.deletions;return y===null?(f.deletions=[i],f.flags|=Jc):y.push(i),m.flags|=An,m}}function Dk(i,o){var m=i.lanes;return!!fi(m,o)}function iJ(i,o,m){switch(o.tag){case p:k3(o),o.stateNode,$m();break;case b:CC(o);break;case h:{var f=o.type;Ja(f)&&XN(o);break}case N:b1(o,o.stateNode.containerInfo);break;case w:{var x=o.memoizedProps.value,y=o.type._context;wC(o,y,x);break}case V:{var C=fi(m,o.childLanes);C&&(o.flags|=_r);{var _=o.stateNode;_.effectDuration=0,_.passiveEffectDuration=0}}break;case S:{var I=o.memoizedState;if(I!==null){if(I.dehydrated!==null)return Ul(o,Gm(ma.current)),o.flags|=Fr,null;var J=o.child,Q=J.childLanes;if(fi(m,Q))return D3(i,o,m);Ul(o,Gm(ma.current));var xe=Ko(i,o,m);return xe!==null?xe.sibling:null}else Ul(o,Gm(ma.current));break}case L:{var Ne=(i.flags&Fr)!==Bt,Ce=fi(m,o.childLanes);if(Ne){if(Ce)return S3(i,o,m);o.flags|=Fr}var Te=o.memoizedState;if(Te!==null&&(Te.rendering=null,Te.tail=null,Te.lastEffect=null),Ul(o,ma.current),Ce)break;return null}case W:case O:return o.lanes=Xe,v3(i,o,m)}return Ko(i,o,m)}function M3(i,o,m){if(o._debugNeedsRemount&&i!==null)return sJ(i,o,tE(o.type,o.key,o.pendingProps,o._debugOwner||null,o.mode,o.lanes));if(i!==null){var f=i.memoizedProps,x=o.pendingProps;if(f!==x||qN()||o.type!==i.type)fa=!0;else{var y=Dk(i,m);if(!y&&(o.flags&Fr)===Bt)return fa=!1,iJ(i,o,m);(i.flags&Cy)!==Bt?fa=!0:fa=!1}}else if(fa=!1,ds()&&CG(o)){var C=o.index,_=RG();aC(o,_,C)}switch(o.lanes=Xe,o.tag){case g:return $H(i,o,o.type,m);case T:{var I=o.elementType;return OH(i,o,I,m)}case d:{var J=o.type,Q=o.pendingProps,xe=o.elementType===J?Q:ha(J,Q);return Nk(i,o,J,xe,m)}case h:{var Ne=o.type,Ce=o.pendingProps,Te=o.elementType===Ne?Ce:ha(Ne,Ce);return w3(i,o,Ne,Te,m)}case p:return _H(i,o,m);case b:return FH(i,o,m);case D:return IH(i,o);case S:return D3(i,o,m);case N:return tJ(i,o,m);case k:{var Le=o.type,ut=o.pendingProps,Ft=o.elementType===Le?ut:ha(Le,ut);return N3(i,o,Le,Ft,m)}case E:return MH(i,o,m);case j:return TH(i,o,m);case V:return AH(i,o,m);case w:return rJ(i,o,m);case P:return nJ(i,o,m);case R:{var Ct=o.type,jr=o.pendingProps,gr=ha(Ct,jr);if(o.type!==o.elementType){var De=Ct.propTypes;De&&la(De,gr,"prop",Ar(Ct))}return gr=ha(Ct.type,gr),x3(i,o,Ct,gr,m)}case M:return b3(i,o,o.type,o.pendingProps,m);case A:{var $e=o.type,je=o.pendingProps,Qe=o.elementType===$e?je:ha($e,je);return LH(i,o,$e,Qe,m)}case L:return S3(i,o,m);case $:break;case W:return v3(i,o,m)}throw new Error("Unknown unit of work tag ("+o.tag+"). This error is likely caused by a bug in React. Please file an issue.")}function Xm(i){i.flags|=_r}function T3(i){i.flags|=Kc,i.flags|=Ry}var A3,jk,_3,F3;A3=function(i,o,m,f){for(var x=o.child;x!==null;){if(x.tag===b||x.tag===D)VU(i,x.stateNode);else if(x.tag!==N){if(x.child!==null){x.child.return=x,x=x.child;continue}}if(x===o)return;for(;x.sibling===null;){if(x.return===null||x.return===o)return;x=x.return}x.sibling.return=x.return,x=x.sibling}},jk=function(i,o){},_3=function(i,o,m,f,x){var y=i.memoizedProps;if(y!==f){var C=o.stateNode,_=v1(),I=SU(C,m,y,f,x,_);o.updateQueue=I,I&&Xm(o)}},F3=function(i,o,m,f){m!==f&&Xm(o)};function op(i,o){if(!ds())switch(i.tailMode){case"hidden":{for(var m=i.tail,f=null;m!==null;)m.alternate!==null&&(f=m),m=m.sibling;f===null?i.tail=null:f.sibling=null;break}case"collapsed":{for(var x=i.tail,y=null;x!==null;)x.alternate!==null&&(y=x),x=x.sibling;y===null?!o&&i.tail!==null?i.tail.sibling=null:i.tail=null:y.sibling=null;break}}}function fs(i){var o=i.alternate!==null&&i.alternate.child===i.child,m=Xe,f=Bt;if(o){if((i.mode&zr)!==Lt){for(var I=i.selfBaseDuration,J=i.child;J!==null;)m=lr(m,lr(J.lanes,J.childLanes)),f|=J.subtreeFlags&Oo,f|=J.flags&Oo,I+=J.treeBaseDuration,J=J.sibling;i.treeBaseDuration=I}else for(var Q=i.child;Q!==null;)m=lr(m,lr(Q.lanes,Q.childLanes)),f|=Q.subtreeFlags&Oo,f|=Q.flags&Oo,Q.return=i,Q=Q.sibling;i.subtreeFlags|=f}else{if((i.mode&zr)!==Lt){for(var x=i.actualDuration,y=i.selfBaseDuration,C=i.child;C!==null;)m=lr(m,lr(C.lanes,C.childLanes)),f|=C.subtreeFlags,f|=C.flags,x+=C.actualDuration,y+=C.treeBaseDuration,C=C.sibling;i.actualDuration=x,i.treeBaseDuration=y}else for(var _=i.child;_!==null;)m=lr(m,lr(_.lanes,_.childLanes)),f|=_.subtreeFlags,f|=_.flags,_.return=i,_=_.sibling;i.subtreeFlags|=f}return i.childLanes=m,o}function aJ(i,o,m){if(UG()&&(o.mode&Er)!==Lt&&(o.flags&Fr)===Bt)return hC(o),$m(),o.flags|=Fo|hN|Ls,!1;var f=rx(o);if(m!==null&&m.dehydrated!==null)if(i===null){if(!f)throw new Error("A dehydrated suspense component was completed without a hydrated node. This is probably a bug in React.");if(zG(o),fs(o),(o.mode&zr)!==Lt){var x=m!==null;if(x){var y=o.child;y!==null&&(o.treeBaseDuration-=y.treeBaseDuration)}}return!1}else{if($m(),(o.flags&Fr)===Bt&&(o.memoizedState=null),o.flags|=_r,fs(o),(o.mode&zr)!==Lt){var C=m!==null;if(C){var _=o.child;_!==null&&(o.treeBaseDuration-=_.treeBaseDuration)}}return!1}else return fC(),!0}function I3(i,o,m){var f=o.pendingProps;switch(Qw(o),o.tag){case g:case T:case M:case d:case k:case E:case j:case V:case P:case R:return fs(o),null;case h:{var x=o.type;return Ja(x)&&YN(o),fs(o),null}case p:{var y=o.stateNode;if(Um(o),Kw(o),D1(),y.pendingContext&&(y.context=y.pendingContext,y.pendingContext=null),i===null||i.child===null){var C=rx(o);if(C)Xm(o);else if(i!==null){var _=i.memoizedState;(!_.isDehydrated||(o.flags&Fo)!==Bt)&&(o.flags|=bm,fC())}}return jk(i,o),fs(o),null}case b:{y1(o);var I=SC(),J=o.type;if(i!==null&&o.stateNode!=null)_3(i,o,J,f,I),i.ref!==o.ref&&T3(o);else{if(!f){if(o.stateNode===null)throw new Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");return fs(o),null}var Q=v1(),xe=rx(o);if(xe)$G(o,I,Q)&&Xm(o);else{var Ne=jU(J,f,I,Q,o);A3(Ne,o,!1,!1),o.stateNode=Ne,PU(Ne,J,f,I)&&Xm(o)}o.ref!==null&&T3(o)}return fs(o),null}case D:{var Ce=f;if(i&&o.stateNode!=null){var Te=i.memoizedProps;F3(i,o,Te,Ce)}else{if(typeof Ce!="string"&&o.stateNode===null)throw new Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");var Le=SC(),ut=v1(),Ft=rx(o);Ft?BG(o)&&Xm(o):o.stateNode=CU(Ce,Le,ut,o)}return fs(o),null}case S:{Hm(o);var Ct=o.memoizedState;if(i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){var jr=aJ(i,o,Ct);if(!jr)return o.flags&Ls?o:null}if((o.flags&Fr)!==Bt)return o.lanes=m,(o.mode&zr)!==Lt&&Y1(o),o;var gr=Ct!==null,De=i!==null&&i.memoizedState!==null;if(gr!==De&&gr){var $e=o.child;if($e.flags|=qc,(o.mode&Er)!==Lt){var je=i===null&&(o.memoizedProps.unstable_avoidThisFallback!==!0||!0);je||w1(ma.current,MC)?oK():Uk()}}var Qe=o.updateQueue;if(Qe!==null&&(o.flags|=_r),fs(o),(o.mode&zr)!==Lt&&gr){var gt=o.child;gt!==null&&(o.treeBaseDuration-=gt.treeBaseDuration)}return null}case N:return Um(o),jk(i,o),i===null&&kG(o.stateNode.containerInfo),fs(o),null;case w:var dt=o.type._context;return d1(dt,o),fs(o),null;case A:{var zt=o.type;return Ja(zt)&&YN(o),fs(o),null}case L:{Hm(o);var Yt=o.memoizedState;if(Yt===null)return fs(o),null;var Ur=(o.flags&Fr)!==Bt,Cr=Yt.rendering;if(Cr===null)if(Ur)op(Yt,!1);else{var Vn=cK()&&(i===null||(i.flags&Fr)===Bt);if(!Vn)for(var Rr=o.child;Rr!==null;){var kn=xx(Rr);if(kn!==null){Ur=!0,o.flags|=Fr,op(Yt,!1);var Cs=kn.updateQueue;return Cs!==null&&(o.updateQueue=Cs,o.flags|=_r),o.subtreeFlags=Bt,XG(o,m),Ul(o,k1(ma.current,Kf)),o.child}Rr=Rr.sibling}Yt.tail!==null&&ts()>s5()&&(o.flags|=Fr,Ur=!0,op(Yt,!1),o.lanes=F2)}else{if(!Ur){var bs=xx(Cr);if(bs!==null){o.flags|=Fr,Ur=!0;var vi=bs.updateQueue;if(vi!==null&&(o.updateQueue=vi,o.flags|=_r),op(Yt,!0),Yt.tail===null&&Yt.tailMode==="hidden"&&!Cr.alternate&&!ds())return fs(o),null}else ts()*2-Yt.renderingStartTime>s5()&&m!==hi&&(o.flags|=Fr,Ur=!0,op(Yt,!1),o.lanes=F2)}if(Yt.isBackwards)Cr.sibling=o.child,o.child=Cr;else{var Ws=Yt.last;Ws!==null?Ws.sibling=Cr:o.child=Cr,Yt.last=Cr}}if(Yt.tail!==null){var Us=Yt.tail;Yt.rendering=Us,Yt.tail=Us.sibling,Yt.renderingStartTime=ts(),Us.sibling=null;var Rs=ma.current;return Ur?Rs=k1(Rs,Kf):Rs=Gm(Rs),Ul(o,Rs),Us}return fs(o),null}case $:break;case W:case O:{Wk(o);var Zo=o.memoizedState,id=Zo!==null;if(i!==null){var kp=i.memoizedState,to=kp!==null;to!==id&&!ee&&(o.flags|=qc)}return!id||(o.mode&Er)===Lt?fs(o):fi(eo,hi)&&(fs(o),o.subtreeFlags&(An|_r)&&(o.flags|=qc)),null}case Y:return null;case H:return null}throw new Error("Unknown unit of work tag ("+o.tag+"). This error is likely caused by a bug in React. Please file an issue.")}function oJ(i,o,m){switch(Qw(o),o.tag){case h:{var f=o.type;Ja(f)&&YN(o);var x=o.flags;return x&Ls?(o.flags=x&~Ls|Fr,(o.mode&zr)!==Lt&&Y1(o),o):null}case p:{o.stateNode,Um(o),Kw(o),D1();var y=o.flags;return(y&Ls)!==Bt&&(y&Fr)===Bt?(o.flags=y&~Ls|Fr,o):null}case b:return y1(o),null;case S:{Hm(o);var C=o.memoizedState;if(C!==null&&C.dehydrated!==null){if(o.alternate===null)throw new Error("Threw in newly mounted dehydrated component. This is likely a bug in React. Please file an issue.");$m()}var _=o.flags;return _&Ls?(o.flags=_&~Ls|Fr,(o.mode&zr)!==Lt&&Y1(o),o):null}case L:return Hm(o),null;case N:return Um(o),null;case w:var I=o.type._context;return d1(I,o),null;case W:case O:return Wk(o),null;case Y:return null;default:return null}}function O3(i,o,m){switch(Qw(o),o.tag){case h:{var f=o.type.childContextTypes;f!=null&&YN(o);break}case p:{o.stateNode,Um(o),Kw(o),D1();break}case b:{y1(o);break}case N:Um(o);break;case S:Hm(o);break;case L:Hm(o);break;case w:var x=o.type._context;d1(x,o);break;case W:case O:Wk(o);break}}var L3=null;L3=new Set;var zx=!1,ps=!1,lJ=typeof WeakSet=="function"?WeakSet:Set,wt=null,Qm=null,Zm=null;function cJ(i){Vy(null,function(){throw i}),Py()}var uJ=function(i,o){if(o.props=i.memoizedProps,o.state=i.memoizedState,i.mode&zr)try{Qa(),o.componentWillUnmount()}finally{Xa(i)}else o.componentWillUnmount()};function $3(i,o){try{Jl(zn,i)}catch(m){rn(i,o,m)}}function Vk(i,o,m){try{uJ(i,m)}catch(f){rn(i,o,f)}}function mJ(i,o,m){try{m.componentDidMount()}catch(f){rn(i,o,f)}}function B3(i,o){try{W3(i)}catch(m){rn(i,o,m)}}function ed(i,o){var m=i.ref;if(m!==null)if(typeof m=="function"){var f;try{if(oe&&fe&&i.mode&zr)try{Qa(),f=m(null)}finally{Xa(i)}else f=m(null)}catch(x){rn(i,o,x)}typeof f=="function"&&c("Unexpected return value from a callback ref in %s. A callback ref should not return a function.",Qt(i))}else m.current=null}function Wx(i,o,m){try{m()}catch(f){rn(i,o,f)}}var z3=!1;function dJ(i,o){EU(i.containerInfo),wt=o,hJ();var m=z3;return z3=!1,m}function hJ(){for(;wt!==null;){var i=wt,o=i.child;(i.subtreeFlags&Ay)!==Bt&&o!==null?(o.return=i,wt=o):fJ()}}function fJ(){for(;wt!==null;){var i=wt;dn(i);try{pJ(i)}catch(m){rn(i,i.return,m)}es();var o=i.sibling;if(o!==null){o.return=i.return,wt=o;return}wt=i.return}}function pJ(i){var o=i.alternate,m=i.flags;if((m&bm)!==Bt){switch(dn(i),i.tag){case d:case k:case M:break;case h:{if(o!==null){var f=o.memoizedProps,x=o.memoizedState,y=i.stateNode;i.type===i.elementType&&!pu&&(y.props!==i.memoizedProps&&c("Expected %s props to match memoized props before getSnapshotBeforeUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",Qt(i)||"instance"),y.state!==i.memoizedState&&c("Expected %s state to match memoized state before getSnapshotBeforeUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",Qt(i)||"instance"));var C=y.getSnapshotBeforeUpdate(i.elementType===i.type?f:ha(i.type,f),x);{var _=L3;C===void 0&&!_.has(i.type)&&(_.add(i.type),c("%s.getSnapshotBeforeUpdate(): A snapshot value (or null) must be returned. You have returned undefined.",Qt(i)))}y.__reactInternalSnapshotBeforeUpdate=C}break}case p:{{var I=i.stateNode;qU(I.containerInfo)}break}case b:case D:case N:case A:break;default:throw new Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}es()}}function pa(i,o,m){var f=o.updateQueue,x=f!==null?f.lastEffect:null;if(x!==null){var y=x.next,C=y;do{if((C.tag&i)===i){var _=C.destroy;C.destroy=void 0,_!==void 0&&((i&hs)!==si?CB(o):(i&zn)!==si&&R2(o),(i&Ka)!==si&&vp(!0),Wx(o,m,_),(i&Ka)!==si&&vp(!1),(i&hs)!==si?RB():(i&zn)!==si&&M2())}C=C.next}while(C!==y)}}function Jl(i,o){var m=o.updateQueue,f=m!==null?m.lastEffect:null;if(f!==null){var x=f.next,y=x;do{if((y.tag&i)===i){(i&hs)!==si?PB(o):(i&zn)!==si&&MB(o);var C=y.create;(i&Ka)!==si&&vp(!0),y.destroy=C(),(i&Ka)!==si&&vp(!1),(i&hs)!==si?SB():(i&zn)!==si&&TB();{var _=y.destroy;if(_!==void 0&&typeof _!="function"){var I=void 0;(y.tag&zn)!==Bt?I="useLayoutEffect":(y.tag&Ka)!==Bt?I="useInsertionEffect":I="useEffect";var J=void 0;_===null?J=" You returned null. If your effect does not require clean up, return undefined (or nothing).":typeof _.then=="function"?J=`

It looks like you wrote `+I+`(async () => ...) or returned a Promise. Instead, write the async function inside your effect and call it immediately:

`+I+`(() => {
  async function fetchData() {
    // You can await here
    const response = await MyAPI.getData(someId);
    // ...
  }
  fetchData();
}, [someId]); // Or [] if effect doesn't need props or state

Learn more about data fetching with Hooks: https://reactjs.org/link/hooks-data-fetching`:J=" You returned: "+_,c("%s must not return anything besides a function, which is used for clean-up.%s",I,J)}}}y=y.next}while(y!==x)}}function gJ(i,o){if((o.flags&_r)!==Bt)switch(o.tag){case V:{var m=o.stateNode.passiveEffectDuration,f=o.memoizedProps,x=f.id,y=f.onPostCommit,C=s3(),_=o.alternate===null?"mount":"update";n3()&&(_="nested-update"),typeof y=="function"&&y(x,_,m,C);var I=o.return;e:for(;I!==null;){switch(I.tag){case p:var J=I.stateNode;J.passiveEffectDuration+=m;break e;case V:var Q=I.stateNode;Q.passiveEffectDuration+=m;break e}I=I.return}break}}}function NJ(i,o,m,f){if((m.flags&tf)!==Bt)switch(m.tag){case d:case k:case M:{if(!ps)if(m.mode&zr)try{Qa(),Jl(zn|Bn,m)}finally{Xa(m)}else Jl(zn|Bn,m);break}case h:{var x=m.stateNode;if(m.flags&_r&&!ps)if(o===null)if(m.type===m.elementType&&!pu&&(x.props!==m.memoizedProps&&c("Expected %s props to match memoized props before componentDidMount. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",Qt(m)||"instance"),x.state!==m.memoizedState&&c("Expected %s state to match memoized state before componentDidMount. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",Qt(m)||"instance")),m.mode&zr)try{Qa(),x.componentDidMount()}finally{Xa(m)}else x.componentDidMount();else{var y=m.elementType===m.type?o.memoizedProps:ha(m.type,o.memoizedProps),C=o.memoizedState;if(m.type===m.elementType&&!pu&&(x.props!==m.memoizedProps&&c("Expected %s props to match memoized props before componentDidUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",Qt(m)||"instance"),x.state!==m.memoizedState&&c("Expected %s state to match memoized state before componentDidUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",Qt(m)||"instance")),m.mode&zr)try{Qa(),x.componentDidUpdate(y,C,x.__reactInternalSnapshotBeforeUpdate)}finally{Xa(m)}else x.componentDidUpdate(y,C,x.__reactInternalSnapshotBeforeUpdate)}var _=m.updateQueue;_!==null&&(m.type===m.elementType&&!pu&&(x.props!==m.memoizedProps&&c("Expected %s props to match memoized props before processing the update queue. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",Qt(m)||"instance"),x.state!==m.memoizedState&&c("Expected %s state to match memoized state before processing the update queue. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",Qt(m)||"instance")),PC(m,_,x));break}case p:{var I=m.updateQueue;if(I!==null){var J=null;if(m.child!==null)switch(m.child.tag){case b:J=m.child.stateNode;break;case h:J=m.child.stateNode;break}PC(m,I,J)}break}case b:{var Q=m.stateNode;if(o===null&&m.flags&_r){var xe=m.type,Ne=m.memoizedProps;_U(Q,xe,Ne)}break}case D:break;case N:break;case V:{{var Ce=m.memoizedProps,Te=Ce.onCommit,Le=Ce.onRender,ut=m.stateNode.effectDuration,Ft=s3(),Ct=o===null?"mount":"update";n3()&&(Ct="nested-update"),typeof Le=="function"&&Le(m.memoizedProps.id,Ct,m.actualDuration,m.treeBaseDuration,m.actualStartTime,Ft);{typeof Te=="function"&&Te(m.memoizedProps.id,Ct,ut,Ft),fK(m);var jr=m.return;e:for(;jr!==null;){switch(jr.tag){case p:var gr=jr.stateNode;gr.effectDuration+=ut;break e;case V:var De=jr.stateNode;De.effectDuration+=ut;break e}jr=jr.return}}}break}case S:{DJ(i,m);break}case L:case A:case $:case W:case O:case H:break;default:throw new Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}ps||m.flags&Kc&&W3(m)}function xJ(i){switch(i.tag){case d:case k:case M:{if(i.mode&zr)try{Qa(),$3(i,i.return)}finally{Xa(i)}else $3(i,i.return);break}case h:{var o=i.stateNode;typeof o.componentDidMount=="function"&&mJ(i,i.return,o),B3(i,i.return);break}case b:{B3(i,i.return);break}}}function bJ(i,o){for(var m=null,f=i;;){if(f.tag===b){if(m===null){m=f;try{var x=f.stateNode;o?GU(x):JU(f.stateNode,f.memoizedProps)}catch(C){rn(i,i.return,C)}}}else if(f.tag===D){if(m===null)try{var y=f.stateNode;o?HU(y):KU(y,f.memoizedProps)}catch(C){rn(i,i.return,C)}}else if(!((f.tag===W||f.tag===O)&&f.memoizedState!==null&&f!==i)){if(f.child!==null){f.child.return=f,f=f.child;continue}}if(f===i)return;for(;f.sibling===null;){if(f.return===null||f.return===i)return;m===f&&(m=null),f=f.return}m===f&&(m=null),f.sibling.return=f.return,f=f.sibling}}function W3(i){var o=i.ref;if(o!==null){var m=i.stateNode,f;switch(i.tag){case b:f=m;break;default:f=m}if(typeof o=="function"){var x;if(i.mode&zr)try{Qa(),x=o(f)}finally{Xa(i)}else x=o(f);typeof x=="function"&&c("Unexpected return value from a callback ref in %s. A callback ref should not return a function.",Qt(i))}else o.hasOwnProperty("current")||c("Unexpected ref object provided for %s. Use either a ref-setter function or React.createRef().",Qt(i)),o.current=f}}function vJ(i){var o=i.alternate;o!==null&&(o.return=null),i.return=null}function U3(i){var o=i.alternate;o!==null&&(i.alternate=null,U3(o));{if(i.child=null,i.deletions=null,i.sibling=null,i.tag===b){var m=i.stateNode;m!==null&&jG(m)}i.stateNode=null,i._debugOwner=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}}function yJ(i){for(var o=i.return;o!==null;){if(G3(o))return o;o=o.return}throw new Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.")}function G3(i){return i.tag===b||i.tag===p||i.tag===N}function H3(i){var o=i;e:for(;;){for(;o.sibling===null;){if(o.return===null||G3(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==b&&o.tag!==D&&o.tag!==F;){if(o.flags&An||o.child===null||o.tag===N)continue e;o.child.return=o,o=o.child}if(!(o.flags&An))return o.stateNode}}function wJ(i){var o=yJ(i);switch(o.tag){case b:{var m=o.stateNode;o.flags&ef&&(KS(m),o.flags&=~ef);var f=H3(i);Sk(i,f,m);break}case p:case N:{var x=o.stateNode.containerInfo,y=H3(i);Pk(i,y,x);break}default:throw new Error("Invalid host parent fiber. This error is likely caused by a bug in React. Please file an issue.")}}function Pk(i,o,m){var f=i.tag,x=f===b||f===D;if(x){var y=i.stateNode;o?BU(m,y,o):LU(m,y)}else if(f!==N){var C=i.child;if(C!==null){Pk(C,o,m);for(var _=C.sibling;_!==null;)Pk(_,o,m),_=_.sibling}}}function Sk(i,o,m){var f=i.tag,x=f===b||f===D;if(x){var y=i.stateNode;o?$U(m,y,o):OU(m,y)}else if(f!==N){var C=i.child;if(C!==null){Sk(C,o,m);for(var _=C.sibling;_!==null;)Sk(_,o,m),_=_.sibling}}}var gs=null,ga=!1;function kJ(i,o,m){{var f=o;e:for(;f!==null;){switch(f.tag){case b:{gs=f.stateNode,ga=!1;break e}case p:{gs=f.stateNode.containerInfo,ga=!0;break e}case N:{gs=f.stateNode.containerInfo,ga=!0;break e}}f=f.return}if(gs===null)throw new Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.");J3(i,o,m),gs=null,ga=!1}vJ(m)}function Kl(i,o,m){for(var f=m.child;f!==null;)J3(i,o,f),f=f.sibling}function J3(i,o,m){switch(EB(m),m.tag){case b:ps||ed(m,o);case D:{{var f=gs,x=ga;gs=null,Kl(i,o,m),gs=f,ga=x,gs!==null&&(ga?WU(gs,m.stateNode):zU(gs,m.stateNode))}return}case F:{gs!==null&&(ga?UU(gs,m.stateNode):$w(gs,m.stateNode));return}case N:{{var y=gs,C=ga;gs=m.stateNode.containerInfo,ga=!0,Kl(i,o,m),gs=y,ga=C}return}case d:case k:case R:case M:{if(!ps){var _=m.updateQueue;if(_!==null){var I=_.lastEffect;if(I!==null){var J=I.next,Q=J;do{var xe=Q,Ne=xe.destroy,Ce=xe.tag;Ne!==void 0&&((Ce&Ka)!==si?Wx(m,o,Ne):(Ce&zn)!==si&&(R2(m),m.mode&zr?(Qa(),Wx(m,o,Ne),Xa(m)):Wx(m,o,Ne),M2())),Q=Q.next}while(Q!==J)}}}Kl(i,o,m);return}case h:{if(!ps){ed(m,o);var Te=m.stateNode;typeof Te.componentWillUnmount=="function"&&Vk(m,o,Te)}Kl(i,o,m);return}case $:{Kl(i,o,m);return}case W:{if(m.mode&Er){var Le=ps;ps=Le||m.memoizedState!==null,Kl(i,o,m),ps=Le}else Kl(i,o,m);break}default:{Kl(i,o,m);return}}}function EJ(i){i.memoizedState}function DJ(i,o){var m=o.memoizedState;if(m===null){var f=o.alternate;if(f!==null){var x=f.memoizedState;if(x!==null){var y=x.dehydrated;y!==null&&cG(y)}}}}function K3(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var m=i.stateNode;m===null&&(m=i.stateNode=new lJ),o.forEach(function(f){var x=yK.bind(null,i,f);if(!m.has(f)){if(m.add(f),aa)if(Qm!==null&&Zm!==null)bp(Zm,Qm);else throw Error("Expected finished root and lanes to be set. This is a bug in React.");f.then(x,x)}})}}function jJ(i,o,m){Qm=m,Zm=i,dn(o),q3(o,i),dn(o),Qm=null,Zm=null}function Na(i,o,m){var f=o.deletions;if(f!==null)for(var x=0;x<f.length;x++){var y=f[x];try{kJ(i,o,y)}catch(I){rn(y,o,I)}}var C=rN();if(o.subtreeFlags&_y)for(var _=o.child;_!==null;)dn(_),q3(_,i),_=_.sibling;dn(C)}function q3(i,o,m){var f=i.alternate,x=i.flags;switch(i.tag){case d:case k:case R:case M:{if(Na(o,i),Za(i),x&_r){try{pa(Ka|Bn,i,i.return),Jl(Ka|Bn,i)}catch(zt){rn(i,i.return,zt)}if(i.mode&zr){try{Qa(),pa(zn|Bn,i,i.return)}catch(zt){rn(i,i.return,zt)}Xa(i)}else try{pa(zn|Bn,i,i.return)}catch(zt){rn(i,i.return,zt)}}return}case h:{Na(o,i),Za(i),x&Kc&&f!==null&&ed(f,f.return);return}case b:{Na(o,i),Za(i),x&Kc&&f!==null&&ed(f,f.return);{if(i.flags&ef){var y=i.stateNode;try{KS(y)}catch(zt){rn(i,i.return,zt)}}if(x&_r){var C=i.stateNode;if(C!=null){var _=i.memoizedProps,I=f!==null?f.memoizedProps:_,J=i.type,Q=i.updateQueue;if(i.updateQueue=null,Q!==null)try{FU(C,Q,J,I,_,i)}catch(zt){rn(i,i.return,zt)}}}}return}case D:{if(Na(o,i),Za(i),x&_r){if(i.stateNode===null)throw new Error("This should have a text node initialized. This error is likely caused by a bug in React. Please file an issue.");var xe=i.stateNode,Ne=i.memoizedProps,Ce=f!==null?f.memoizedProps:Ne;try{IU(xe,Ce,Ne)}catch(zt){rn(i,i.return,zt)}}return}case p:{if(Na(o,i),Za(i),x&_r&&f!==null){var Te=f.memoizedState;if(Te.isDehydrated)try{lG(o.containerInfo)}catch(zt){rn(i,i.return,zt)}}return}case N:{Na(o,i),Za(i);return}case S:{Na(o,i),Za(i);var Le=i.child;if(Le.flags&qc){var ut=Le.stateNode,Ft=Le.memoizedState,Ct=Ft!==null;if(ut.isHidden=Ct,Ct){var jr=Le.alternate!==null&&Le.alternate.memoizedState!==null;jr||aK()}}if(x&_r){try{EJ(i)}catch(zt){rn(i,i.return,zt)}K3(i)}return}case W:{var gr=f!==null&&f.memoizedState!==null;if(i.mode&Er){var De=ps;ps=De||gr,Na(o,i),ps=De}else Na(o,i);if(Za(i),x&qc){var $e=i.stateNode,je=i.memoizedState,Qe=je!==null,gt=i;if($e.isHidden=Qe,Qe&&!gr&&(gt.mode&Er)!==Lt){wt=gt;for(var dt=gt.child;dt!==null;)wt=dt,PJ(dt),dt=dt.sibling}bJ(gt,Qe)}return}case L:{Na(o,i),Za(i),x&_r&&K3(i);return}case $:return;default:{Na(o,i),Za(i);return}}}function Za(i){var o=i.flags;if(o&An){try{wJ(i)}catch(m){rn(i,i.return,m)}i.flags&=~An}o&Io&&(i.flags&=~Io)}function VJ(i,o,m){Qm=m,Zm=o,wt=i,Y3(i,o,m),Qm=null,Zm=null}function Y3(i,o,m){for(var f=(i.mode&Er)!==Lt;wt!==null;){var x=wt,y=x.child;if(x.tag===W&&f){var C=x.memoizedState!==null,_=C||zx;if(_){Ck(i,o,m);continue}else{var I=x.alternate,J=I!==null&&I.memoizedState!==null,Q=J||ps,xe=zx,Ne=ps;zx=_,ps=Q,ps&&!Ne&&(wt=x,SJ(x));for(var Ce=y;Ce!==null;)wt=Ce,Y3(Ce,o,m),Ce=Ce.sibling;wt=x,zx=xe,ps=Ne,Ck(i,o,m);continue}}(x.subtreeFlags&tf)!==Bt&&y!==null?(y.return=x,wt=y):Ck(i,o,m)}}function Ck(i,o,m){for(;wt!==null;){var f=wt;if((f.flags&tf)!==Bt){var x=f.alternate;dn(f);try{NJ(o,x,f,m)}catch(C){rn(f,f.return,C)}es()}if(f===i){wt=null;return}var y=f.sibling;if(y!==null){y.return=f.return,wt=y;return}wt=f.return}}function PJ(i){for(;wt!==null;){var o=wt,m=o.child;switch(o.tag){case d:case k:case R:case M:{if(o.mode&zr)try{Qa(),pa(zn,o,o.return)}finally{Xa(o)}else pa(zn,o,o.return);break}case h:{ed(o,o.return);var f=o.stateNode;typeof f.componentWillUnmount=="function"&&Vk(o,o.return,f);break}case b:{ed(o,o.return);break}case W:{var x=o.memoizedState!==null;if(x){X3(i);continue}break}}m!==null?(m.return=o,wt=m):X3(i)}}function X3(i){for(;wt!==null;){var o=wt;if(o===i){wt=null;return}var m=o.sibling;if(m!==null){m.return=o.return,wt=m;return}wt=o.return}}function SJ(i){for(;wt!==null;){var o=wt,m=o.child;if(o.tag===W){var f=o.memoizedState!==null;if(f){Q3(i);continue}}m!==null?(m.return=o,wt=m):Q3(i)}}function Q3(i){for(;wt!==null;){var o=wt;dn(o);try{xJ(o)}catch(f){rn(o,o.return,f)}if(es(),o===i){wt=null;return}var m=o.sibling;if(m!==null){m.return=o.return,wt=m;return}wt=o.return}}function CJ(i,o,m,f){wt=o,RJ(o,i,m,f)}function RJ(i,o,m,f){for(;wt!==null;){var x=wt,y=x.child;(x.subtreeFlags&vm)!==Bt&&y!==null?(y.return=x,wt=y):MJ(i,o,m,f)}}function MJ(i,o,m,f){for(;wt!==null;){var x=wt;if((x.flags&Sl)!==Bt){dn(x);try{TJ(o,x,m,f)}catch(C){rn(x,x.return,C)}es()}if(x===i){wt=null;return}var y=x.sibling;if(y!==null){y.return=x.return,wt=y;return}wt=x.return}}function TJ(i,o,m,f){switch(o.tag){case d:case k:case M:{if(o.mode&zr){q1();try{Jl(hs|Bn,o)}finally{K1(o)}}else Jl(hs|Bn,o);break}}}function AJ(i){wt=i,_J()}function _J(){for(;wt!==null;){var i=wt,o=i.child;if((wt.flags&Jc)!==Bt){var m=i.deletions;if(m!==null){for(var f=0;f<m.length;f++){var x=m[f];wt=x,OJ(x,i)}{var y=i.alternate;if(y!==null){var C=y.child;if(C!==null){y.child=null;do{var _=C.sibling;C.sibling=null,C=_}while(C!==null)}}}wt=i}}(i.subtreeFlags&vm)!==Bt&&o!==null?(o.return=i,wt=o):FJ()}}function FJ(){for(;wt!==null;){var i=wt;(i.flags&Sl)!==Bt&&(dn(i),IJ(i),es());var o=i.sibling;if(o!==null){o.return=i.return,wt=o;return}wt=i.return}}function IJ(i){switch(i.tag){case d:case k:case M:{i.mode&zr?(q1(),pa(hs|Bn,i,i.return),K1(i)):pa(hs|Bn,i,i.return);break}}}function OJ(i,o){for(;wt!==null;){var m=wt;dn(m),$J(m,o),es();var f=m.child;f!==null?(f.return=m,wt=f):LJ(i)}}function LJ(i){for(;wt!==null;){var o=wt,m=o.sibling,f=o.return;if(U3(o),o===i){wt=null;return}if(m!==null){m.return=f,wt=m;return}wt=f}}function $J(i,o){switch(i.tag){case d:case k:case M:{i.mode&zr?(q1(),pa(hs,i,o),K1(i)):pa(hs,i,o);break}}}function BJ(i){switch(i.tag){case d:case k:case M:{try{Jl(zn|Bn,i)}catch(m){rn(i,i.return,m)}break}case h:{var o=i.stateNode;try{o.componentDidMount()}catch(m){rn(i,i.return,m)}break}}}function zJ(i){switch(i.tag){case d:case k:case M:{try{Jl(hs|Bn,i)}catch(o){rn(i,i.return,o)}break}}}function WJ(i){switch(i.tag){case d:case k:case M:{try{pa(zn|Bn,i,i.return)}catch(m){rn(i,i.return,m)}break}case h:{var o=i.stateNode;typeof o.componentWillUnmount=="function"&&Vk(i,i.return,o);break}}}function UJ(i){switch(i.tag){case d:case k:case M:try{pa(hs|Bn,i,i.return)}catch(o){rn(i,i.return,o)}}}if(typeof Symbol=="function"&&Symbol.for){var lp=Symbol.for;lp("selector.component"),lp("selector.has_pseudo_class"),lp("selector.role"),lp("selector.test_id"),lp("selector.text")}var GJ=[];function HJ(){GJ.forEach(function(i){return i()})}var JJ=n.ReactCurrentActQueue;function KJ(i){{var o=typeof IS_REACT_ACT_ENVIRONMENT<"u"?IS_REACT_ACT_ENVIRONMENT:void 0,m=typeof jest<"u";return m&&o!==!1}}function Z3(){{var i=typeof IS_REACT_ACT_ENVIRONMENT<"u"?IS_REACT_ACT_ENVIRONMENT:void 0;return!i&&JJ.current!==null&&c("The current testing environment is not configured to support act(...)"),i}}var qJ=Math.ceil,Rk=n.ReactCurrentDispatcher,Mk=n.ReactCurrentOwner,Ns=n.ReactCurrentBatchConfig,xa=n.ReactCurrentActQueue,Gn=0,e5=1,xs=2,Ui=4,qo=0,cp=1,gu=2,Ux=3,up=4,t5=5,Tk=6,Dr=Gn,Bs=null,xn=null,Hn=Xe,eo=Xe,Ak=Ol(Xe),Jn=qo,mp=null,Gx=Xe,dp=Xe,Hx=Xe,hp=null,ii=null,_k=0,r5=500,n5=1/0,YJ=500,Yo=null;function fp(){n5=ts()+YJ}function s5(){return n5}var Jx=!1,Fk=null,td=null,Nu=!1,ql=null,pp=Xe,Ik=[],Ok=null,XJ=50,gp=0,Lk=null,$k=!1,Kx=!1,QJ=50,rd=0,qx=null,Np=ln,Yx=Xe,i5=!1;function Xx(){return Bs}function zs(){return(Dr&(xs|Ui))!==Gn?ts():(Np!==ln||(Np=ts()),Np)}function Yl(i){var o=i.mode;if((o&Er)===Lt)return Gt;if((Dr&xs)!==Gn&&Hn!==Xe)return cf(Hn);var m=JG()!==HG;if(m){if(Ns.transition!==null){var f=Ns.transition;f._updatedFibers||(f._updatedFibers=new Set),f._updatedFibers.add(i)}return Yx===ns&&(Yx=$2()),Yx}var x=oa();if(x!==ns)return x;var y=RU();return y}function ZJ(i){var o=i.mode;return(o&Er)===Lt?Gt:tz()}function Kn(i,o,m,f){kK(),i5&&c("useInsertionEffect must not schedule updates."),$k&&(Kx=!0),uf(i,m,f),(Dr&xs)!==Xe&&i===Bs?jK(o):(aa&&W2(i,o,m),VK(o),i===Bs&&((Dr&xs)===Gn&&(dp=lr(dp,m)),Jn===up&&Xl(i,Hn)),ai(i,f),m===Gt&&Dr===Gn&&(o.mode&Er)===Lt&&!xa.isBatchingLegacy&&(fp(),iC()))}function eK(i,o,m){var f=i.current;f.lanes=o,uf(i,o,m),ai(i,m)}function tK(i){return(Dr&xs)!==Gn}function ai(i,o){var m=i.callbackNode;qB(i,o);var f=xN(i,i===Bs?Hn:Xe);if(f===Xe){m!==null&&y5(m),i.callbackNode=null,i.callbackPriority=ns;return}var x=tu(f),y=i.callbackPriority;if(y===x&&!(xa.current!==null&&m!==Jk)){m==null&&y!==Gt&&c("Expected scheduled callback to exist. This error is likely caused by a bug in React. Please file an issue.");return}m!=null&&y5(m);var C;if(x===Gt)i.tag===Ll?(xa.isBatchingLegacy!==null&&(xa.didScheduleLegacyUpdate=!0),SG(l5.bind(null,i))):sC(l5.bind(null,i)),xa.current!==null?xa.current.push($l):TU(function(){(Dr&(xs|Ui))===Gn&&$l()}),C=null;else{var _;switch(H2(f)){case pi:_=fN;break;case $o:_=Fy;break;case Bo:_=Qc;break;case yN:_=Iy;break;default:_=Qc;break}C=Kk(_,a5.bind(null,i))}i.callbackPriority=x,i.callbackNode=C}function a5(i,o){if(bH(),Np=ln,Yx=Xe,(Dr&(xs|Ui))!==Gn)throw new Error("Should not already be working.");var m=i.callbackNode,f=Qo();if(f&&i.callbackNode!==m)return null;var x=xN(i,i===Bs?Hn:Xe);if(x===Xe)return null;var y=!bN(i,x)&&!ez(i,x)&&!o,C=y?mK(i,x):Zx(i,x);if(C!==qo){if(C===gu){var _=iw(i);_!==Xe&&(x=_,C=Bk(i,_))}if(C===cp){var I=mp;throw xu(i,Xe),Xl(i,x),ai(i,ts()),I}if(C===Tk)Xl(i,x);else{var J=!bN(i,x),Q=i.current.alternate;if(J&&!nK(Q)){if(C=Zx(i,x),C===gu){var xe=iw(i);xe!==Xe&&(x=xe,C=Bk(i,xe))}if(C===cp){var Ne=mp;throw xu(i,Xe),Xl(i,x),ai(i,ts()),Ne}}i.finishedWork=Q,i.finishedLanes=x,rK(i,C,x)}}return ai(i,ts()),i.callbackNode===m?a5.bind(null,i):null}function Bk(i,o){var m=hp;if(wN(i)){var f=xu(i,o);f.flags|=Fo,wG(i.containerInfo)}var x=Zx(i,o);if(x!==gu){var y=ii;ii=m,y!==null&&o5(y)}return x}function o5(i){ii===null?ii=i:ii.push.apply(ii,i)}function rK(i,o,m){switch(o){case qo:case cp:throw new Error("Root did not complete. This is a bug in React.");case gu:{bu(i,ii,Yo);break}case Ux:{if(Xl(i,m),O2(m)&&!w5()){var f=_k+r5-ts();if(f>10){var x=xN(i,Xe);if(x!==Xe)break;var y=i.suspendedLanes;if(!jm(y,m)){zs(),z2(i,y);break}i.timeoutHandle=Ow(bu.bind(null,i,ii,Yo),f);break}}bu(i,ii,Yo);break}case up:{if(Xl(i,m),ZB(m))break;if(!w5()){var C=JB(i,m),_=C,I=ts()-_,J=wK(I)-I;if(J>10){i.timeoutHandle=Ow(bu.bind(null,i,ii,Yo),J);break}}bu(i,ii,Yo);break}case t5:{bu(i,ii,Yo);break}default:throw new Error("Unknown root exit status.")}}function nK(i){for(var o=i;;){if(o.flags&Sy){var m=o.updateQueue;if(m!==null){var f=m.stores;if(f!==null)for(var x=0;x<f.length;x++){var y=f[x],C=y.getSnapshot,_=y.value;try{if(!Ni(C(),_))return!1}catch{return!1}}}}var I=o.child;if(o.subtreeFlags&Sy&&I!==null){I.return=o,o=I;continue}if(o===i)return!0;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}return!0}function Xl(i,o){o=vN(o,Hx),o=vN(o,dp),nz(i,o)}function l5(i){if(vH(),(Dr&(xs|Ui))!==Gn)throw new Error("Should not already be working.");Qo();var o=xN(i,Xe);if(!fi(o,Gt))return ai(i,ts()),null;var m=Zx(i,o);if(i.tag!==Ll&&m===gu){var f=iw(i);f!==Xe&&(o=f,m=Bk(i,f))}if(m===cp){var x=mp;throw xu(i,Xe),Xl(i,o),ai(i,ts()),x}if(m===Tk)throw new Error("Root did not complete. This is a bug in React.");var y=i.current.alternate;return i.finishedWork=y,i.finishedLanes=o,bu(i,ii,Yo),ai(i,ts()),null}function sK(i,o){o!==Xe&&(cw(i,lr(o,Gt)),ai(i,ts()),(Dr&(xs|Ui))===Gn&&(fp(),$l()))}function zk(i,o){var m=Dr;Dr|=e5;try{return i(o)}finally{Dr=m,Dr===Gn&&!xa.isBatchingLegacy&&(fp(),iC())}}function iK(i,o,m,f,x){var y=oa(),C=Ns.transition;try{return Ns.transition=null,ss(pi),i(o,m,f,x)}finally{ss(y),Ns.transition=C,Dr===Gn&&fp()}}function Xo(i){ql!==null&&ql.tag===Ll&&(Dr&(xs|Ui))===Gn&&Qo();var o=Dr;Dr|=e5;var m=Ns.transition,f=oa();try{return Ns.transition=null,ss(pi),i?i():void 0}finally{ss(f),Ns.transition=m,Dr=o,(Dr&(xs|Ui))===Gn&&$l()}}function c5(){return(Dr&(xs|Ui))!==Gn}function Qx(i,o){Ps(Ak,eo,i),eo=lr(eo,o)}function Wk(i){eo=Ak.current,Vs(Ak,i)}function xu(i,o){i.finishedWork=null,i.finishedLanes=Xe;var m=i.timeoutHandle;if(m!==Lw&&(i.timeoutHandle=Lw,MU(m)),xn!==null)for(var f=xn.return;f!==null;){var x=f.alternate;O3(x,f),f=f.return}Bs=i;var y=vu(i.current,null);return xn=y,Hn=eo=o,Jn=qo,mp=null,Gx=Xe,dp=Xe,Hx=Xe,hp=null,ii=null,eH(),ua.discardPendingWarnings(),y}function u5(i,o){do{var m=xn;try{if(lx(),AC(),es(),Mk.current=null,m===null||m.return===null){Jn=cp,mp=o,xn=null;return}if(oe&&m.mode&zr&&Ix(m,!0),_e)if(wm(),o!==null&&typeof o=="object"&&typeof o.then=="function"){var f=o;_B(m,f,Hn)}else AB(m,o,Hn);SH(i,m.return,m,o,Hn),f5(m)}catch(x){o=x,xn===m&&m!==null?(m=m.return,xn=m):m=xn;continue}return}while(!0)}function m5(){var i=Rk.current;return Rk.current=Mx,i===null?Mx:i}function d5(i){Rk.current=i}function aK(){_k=ts()}function xp(i){Gx=lr(i,Gx)}function oK(){Jn===qo&&(Jn=Ux)}function Uk(){(Jn===qo||Jn===Ux||Jn===gu)&&(Jn=up),Bs!==null&&(aw(Gx)||aw(dp))&&Xl(Bs,Hn)}function lK(i){Jn!==up&&(Jn=gu),hp===null?hp=[i]:hp.push(i)}function cK(){return Jn===qo}function Zx(i,o){var m=Dr;Dr|=xs;var f=m5();if(Bs!==i||Hn!==o){if(aa){var x=i.memoizedUpdaters;x.size>0&&(bp(i,Hn),x.clear()),U2(i,o)}Yo=G2(),xu(i,o)}T2(o);do try{uK();break}catch(y){u5(i,y)}while(!0);if(lx(),Dr=m,d5(f),xn!==null)throw new Error("Cannot commit an incomplete root. This error is likely caused by a bug in React. Please file an issue.");return A2(),Bs=null,Hn=Xe,Jn}function uK(){for(;xn!==null;)h5(xn)}function mK(i,o){var m=Dr;Dr|=xs;var f=m5();if(Bs!==i||Hn!==o){if(aa){var x=i.memoizedUpdaters;x.size>0&&(bp(i,Hn),x.clear()),U2(i,o)}Yo=G2(),fp(),xu(i,o)}T2(o);do try{dK();break}catch(y){u5(i,y)}while(!0);return lx(),d5(f),Dr=m,xn!==null?($B(),qo):(A2(),Bs=null,Hn=Xe,Jn)}function dK(){for(;xn!==null&&!fB();)h5(xn)}function h5(i){var o=i.alternate;dn(i);var m;(i.mode&zr)!==Lt?(J1(i),m=Gk(o,i,eo),Ix(i,!0)):m=Gk(o,i,eo),es(),i.memoizedProps=i.pendingProps,m===null?f5(i):xn=m,Mk.current=null}function f5(i){var o=i;do{var m=o.alternate,f=o.return;if((o.flags&hN)===Bt){dn(o);var x=void 0;if((o.mode&zr)===Lt?x=I3(m,o,eo):(J1(o),x=I3(m,o,eo),Ix(o,!1)),es(),x!==null){xn=x;return}}else{var y=oJ(m,o);if(y!==null){y.flags&=lB,xn=y;return}if((o.mode&zr)!==Lt){Ix(o,!1);for(var C=o.actualDuration,_=o.child;_!==null;)C+=_.actualDuration,_=_.sibling;o.actualDuration=C}if(f!==null)f.flags|=hN,f.subtreeFlags=Bt,f.deletions=null;else{Jn=Tk,xn=null;return}}var I=o.sibling;if(I!==null){xn=I;return}o=f,xn=o}while(o!==null);Jn===qo&&(Jn=t5)}function bu(i,o,m){var f=oa(),x=Ns.transition;try{Ns.transition=null,ss(pi),hK(i,o,m,f)}finally{Ns.transition=x,ss(f)}return null}function hK(i,o,m,f){do Qo();while(ql!==null);if(EK(),(Dr&(xs|Ui))!==Gn)throw new Error("Should not already be working.");var x=i.finishedWork,y=i.finishedLanes;if(VB(y),x===null)return C2(),null;if(y===Xe&&c("root.finishedLanes should not be empty during a commit. This is a bug in React."),i.finishedWork=null,i.finishedLanes=Xe,x===i.current)throw new Error("Cannot commit the same tree as before. This error is likely caused by a bug in React. Please file an issue.");i.callbackNode=null,i.callbackPriority=ns;var C=lr(x.lanes,x.childLanes);sz(i,C),i===Bs&&(Bs=null,xn=null,Hn=Xe),((x.subtreeFlags&vm)!==Bt||(x.flags&vm)!==Bt)&&(Nu||(Nu=!0,Ok=m,Kk(Qc,function(){return Qo(),null})));var _=(x.subtreeFlags&(Ay|_y|tf|vm))!==Bt,I=(x.flags&(Ay|_y|tf|vm))!==Bt;if(_||I){var J=Ns.transition;Ns.transition=null;var Q=oa();ss(pi);var xe=Dr;Dr|=Ui,Mk.current=null,dJ(i,x),i3(),jJ(i,x,y),DU(i.containerInfo),i.current=x,FB(y),VJ(x,i,y),IB(),pB(),Dr=xe,ss(Q),Ns.transition=J}else i.current=x,i3();var Ne=Nu;if(Nu?(Nu=!1,ql=i,pp=y):(rd=0,qx=null),C=i.pendingLanes,C===Xe&&(td=null),Ne||x5(i.current,!1),wB(x.stateNode,f),aa&&i.memoizedUpdaters.clear(),HJ(),ai(i,ts()),o!==null)for(var Ce=i.onRecoverableError,Te=0;Te<o.length;Te++){var Le=o[Te],ut=Le.stack,Ft=Le.digest;Ce(Le.value,{componentStack:ut,digest:Ft})}if(Jx){Jx=!1;var Ct=Fk;throw Fk=null,Ct}return fi(pp,Gt)&&i.tag!==Ll&&Qo(),C=i.pendingLanes,fi(C,Gt)?(xH(),i===Lk?gp++:(gp=0,Lk=i)):gp=0,$l(),C2(),null}function Qo(){if(ql!==null){var i=H2(pp),o=lz(Bo,i),m=Ns.transition,f=oa();try{return Ns.transition=null,ss(o),pK()}finally{ss(f),Ns.transition=m}}return!1}function fK(i){Ik.push(i),Nu||(Nu=!0,Kk(Qc,function(){return Qo(),null}))}function pK(){if(ql===null)return!1;var i=Ok;Ok=null;var o=ql,m=pp;if(ql=null,pp=Xe,(Dr&(xs|Ui))!==Gn)throw new Error("Cannot flush passive effects while already rendering.");$k=!0,Kx=!1,OB(m);var f=Dr;Dr|=Ui,AJ(o.current),CJ(o,o.current,m,i);{var x=Ik;Ik=[];for(var y=0;y<x.length;y++){var C=x[y];gJ(o,C)}}LB(),x5(o.current,!0),Dr=f,$l(),Kx?o===qx?rd++:(rd=0,qx=o):rd=0,$k=!1,Kx=!1,kB(o);{var _=o.current.stateNode;_.effectDuration=0,_.passiveEffectDuration=0}return!0}function p5(i){return td!==null&&td.has(i)}function gK(i){td===null?td=new Set([i]):td.add(i)}function NK(i){Jx||(Jx=!0,Fk=i)}var xK=NK;function g5(i,o,m){var f=fu(m,o),x=h3(i,f,Gt),y=zl(i,x,Gt),C=zs();y!==null&&(uf(y,Gt,C),ai(y,C))}function rn(i,o,m){if(cJ(m),vp(!1),i.tag===p){g5(i,i,m);return}var f=null;for(f=o;f!==null;){if(f.tag===p){g5(f,i,m);return}else if(f.tag===h){var x=f.type,y=f.stateNode;if(typeof x.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&!p5(y)){var C=fu(m,i),_=mk(f,C,Gt),I=zl(f,_,Gt),J=zs();I!==null&&(uf(I,Gt,J),ai(I,J));return}}f=f.return}c(`Internal React error: Attempted to capture a commit phase error inside a detached tree. This indicates a bug in React. Likely causes include deleting the same fiber more than once, committing an already-finished tree, or an inconsistent return pointer.

Error message:

%s`,m)}function bK(i,o,m){var f=i.pingCache;f!==null&&f.delete(o);var x=zs();z2(i,m),PK(i),Bs===i&&jm(Hn,m)&&(Jn===up||Jn===Ux&&O2(Hn)&&ts()-_k<r5?xu(i,Xe):Hx=lr(Hx,m)),ai(i,x)}function N5(i,o){o===ns&&(o=ZJ(i));var m=zs(),f=ni(i,o);f!==null&&(uf(f,o,m),ai(f,m))}function vK(i){var o=i.memoizedState,m=ns;o!==null&&(m=o.retryLane),N5(i,m)}function yK(i,o){var m=ns,f;switch(i.tag){case S:f=i.stateNode;var x=i.memoizedState;x!==null&&(m=x.retryLane);break;case L:f=i.stateNode;break;default:throw new Error("Pinged unknown suspense boundary type. This is probably a bug in React.")}f!==null&&f.delete(o),N5(i,m)}function wK(i){return i<120?120:i<480?480:i<1080?1080:i<1920?1920:i<3e3?3e3:i<4320?4320:qJ(i/1960)*1960}function kK(){if(gp>XJ)throw gp=0,Lk=null,new Error("Maximum update depth exceeded. This can happen when a component repeatedly calls setState inside componentWillUpdate or componentDidUpdate. React limits the number of nested updates to prevent infinite loops.");rd>QJ&&(rd=0,qx=null,c("Maximum update depth exceeded. This can happen when a component calls setState inside useEffect, but useEffect either doesn't have a dependency array, or one of the dependencies changes on every render."))}function EK(){ua.flushLegacyContextWarning(),ua.flushPendingUnsafeLifecycleWarnings()}function x5(i,o){dn(i),eb(i,Cl,WJ),o&&eb(i,Ty,UJ),eb(i,Cl,BJ),o&&eb(i,Ty,zJ),es()}function eb(i,o,m){for(var f=i,x=null;f!==null;){var y=f.subtreeFlags&o;f!==x&&f.child!==null&&y!==Bt?f=f.child:((f.flags&o)!==Bt&&m(f),f.sibling!==null?f=f.sibling:f=x=f.return)}}var tb=null;function b5(i){{if((Dr&xs)!==Gn||!(i.mode&Er))return;var o=i.tag;if(o!==g&&o!==p&&o!==h&&o!==d&&o!==k&&o!==R&&o!==M)return;var m=Qt(i)||"ReactComponent";if(tb!==null){if(tb.has(m))return;tb.add(m)}else tb=new Set([m]);var f=Fs;try{dn(i),c("Can't perform a React state update on a component that hasn't mounted yet. This indicates that you have a side-effect in your render function that asynchronously later calls tries to update the component. Move this work to useEffect instead.")}finally{f?dn(i):es()}}}var Gk;{var DK=null;Gk=function(i,o,m){var f=V5(DK,o);try{return M3(i,o,m)}catch(y){if(IG()||y!==null&&typeof y=="object"&&typeof y.then=="function")throw y;if(lx(),AC(),O3(i,o),V5(o,f),o.mode&zr&&J1(o),Vy(null,M3,null,i,o,m),iB()){var x=Py();typeof x=="object"&&x!==null&&x._suppressLogging&&typeof y=="object"&&y!==null&&!y._suppressLogging&&(y._suppressLogging=!0)}throw y}}}var v5=!1,Hk;Hk=new Set;function jK(i){if(Wc&&!pH())switch(i.tag){case d:case k:case M:{var o=xn&&Qt(xn)||"Unknown",m=o;if(!Hk.has(m)){Hk.add(m);var f=Qt(i)||"Unknown";c("Cannot update a component (`%s`) while rendering a different component (`%s`). To locate the bad setState() call inside `%s`, follow the stack trace as described in https://reactjs.org/link/setstate-in-render",f,o,o)}break}case h:{v5||(c("Cannot update during an existing state transition (such as within `render`). Render methods should be a pure function of props and state."),v5=!0);break}}}function bp(i,o){if(aa){var m=i.memoizedUpdaters;m.forEach(function(f){W2(i,f,o)})}}var Jk={};function Kk(i,o){{var m=xa.current;return m!==null?(m.push(o),Jk):S2(i,o)}}function y5(i){if(i!==Jk)return hB(i)}function w5(){return xa.current!==null}function VK(i){{if(i.mode&Er){if(!Z3())return}else if(!KJ()||Dr!==Gn||i.tag!==d&&i.tag!==k&&i.tag!==M)return;if(xa.current===null){var o=Fs;try{dn(i),c(`An update to %s inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act`,Qt(i))}finally{o?dn(i):es()}}}}function PK(i){i.tag!==Ll&&Z3()&&xa.current===null&&c(`A suspended resource finished loading inside a test, but the event was not wrapped in act(...).

When testing, code that resolves suspended data should be wrapped into act(...):

act(() => {
  /* finish loading suspended data */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act`)}function vp(i){i5=i}var Gi=null,nd=null,SK=function(i){Gi=i};function sd(i){{if(Gi===null)return i;var o=Gi(i);return o===void 0?i:o.current}}function qk(i){return sd(i)}function Yk(i){{if(Gi===null)return i;var o=Gi(i);if(o===void 0){if(i!=null&&typeof i.render=="function"){var m=sd(i.render);if(i.render!==m){var f={$$typeof:Se,render:m};return i.displayName!==void 0&&(f.displayName=i.displayName),f}}return i}return o.current}}function k5(i,o){{if(Gi===null)return!1;var m=i.elementType,f=o.type,x=!1,y=typeof f=="object"&&f!==null?f.$$typeof:null;switch(i.tag){case h:{typeof f=="function"&&(x=!0);break}case d:{(typeof f=="function"||y===nt)&&(x=!0);break}case k:{(y===Se||y===nt)&&(x=!0);break}case R:case M:{(y===ct||y===nt)&&(x=!0);break}default:return!1}if(x){var C=Gi(m);if(C!==void 0&&C===Gi(f))return!0}return!1}}function E5(i){{if(Gi===null||typeof WeakSet!="function")return;nd===null&&(nd=new WeakSet),nd.add(i)}}var CK=function(i,o){{if(Gi===null)return;var m=o.staleFamilies,f=o.updatedFamilies;Qo(),Xo(function(){Xk(i.current,f,m)})}},RK=function(i,o){{if(i.context!==xi)return;Qo(),Xo(function(){yp(o,i,null,null)})}};function Xk(i,o,m){{var f=i.alternate,x=i.child,y=i.sibling,C=i.tag,_=i.type,I=null;switch(C){case d:case M:case h:I=_;break;case k:I=_.render;break}if(Gi===null)throw new Error("Expected resolveFamily to be set during hot reload.");var J=!1,Q=!1;if(I!==null){var xe=Gi(I);xe!==void 0&&(m.has(xe)?Q=!0:o.has(xe)&&(C===h?Q=!0:J=!0))}if(nd!==null&&(nd.has(i)||f!==null&&nd.has(f))&&(Q=!0),Q&&(i._debugNeedsRemount=!0),Q||J){var Ne=ni(i,Gt);Ne!==null&&Kn(Ne,i,Gt,ln)}x!==null&&!Q&&Xk(x,o,m),y!==null&&Xk(y,o,m)}}var MK=function(i,o){{var m=new Set,f=new Set(o.map(function(x){return x.current}));return Qk(i.current,f,m),m}};function Qk(i,o,m){{var f=i.child,x=i.sibling,y=i.tag,C=i.type,_=null;switch(y){case d:case M:case h:_=C;break;case k:_=C.render;break}var I=!1;_!==null&&o.has(_)&&(I=!0),I?TK(i,m):f!==null&&Qk(f,o,m),x!==null&&Qk(x,o,m)}}function TK(i,o){{var m=AK(i,o);if(m)return;for(var f=i;;){switch(f.tag){case b:o.add(f.stateNode);return;case N:o.add(f.stateNode.containerInfo);return;case p:o.add(f.stateNode.containerInfo);return}if(f.return===null)throw new Error("Expected to reach root first.");f=f.return}}}function AK(i,o){for(var m=i,f=!1;;){if(m.tag===b)f=!0,o.add(m.stateNode);else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===i)return f;for(;m.sibling===null;){if(m.return===null||m.return===i)return f;m=m.return}m.sibling.return=m.return,m=m.sibling}return!1}var Zk;{Zk=!1;try{var D5=Object.preventExtensions({})}catch{Zk=!0}}function _K(i,o,m,f){this.tag=i,this.key=m,this.elementType=null,this.type=null,this.stateNode=null,this.return=null,this.child=null,this.sibling=null,this.index=0,this.ref=null,this.pendingProps=o,this.memoizedProps=null,this.updateQueue=null,this.memoizedState=null,this.dependencies=null,this.mode=f,this.flags=Bt,this.subtreeFlags=Bt,this.deletions=null,this.lanes=Xe,this.childLanes=Xe,this.alternate=null,this.actualDuration=Number.NaN,this.actualStartTime=Number.NaN,this.selfBaseDuration=Number.NaN,this.treeBaseDuration=Number.NaN,this.actualDuration=0,this.actualStartTime=-1,this.selfBaseDuration=0,this.treeBaseDuration=0,this._debugSource=null,this._debugOwner=null,this._debugNeedsRemount=!1,this._debugHookTypes=null,!Zk&&typeof Object.preventExtensions=="function"&&Object.preventExtensions(this)}var bi=function(i,o,m,f){return new _K(i,o,m,f)};function eE(i){var o=i.prototype;return!!(o&&o.isReactComponent)}function FK(i){return typeof i=="function"&&!eE(i)&&i.defaultProps===void 0}function IK(i){if(typeof i=="function")return eE(i)?h:d;if(i!=null){var o=i.$$typeof;if(o===Se)return k;if(o===ct)return R}return g}function vu(i,o){var m=i.alternate;m===null?(m=bi(i.tag,o,i.key,i.mode),m.elementType=i.elementType,m.type=i.type,m.stateNode=i.stateNode,m._debugSource=i._debugSource,m._debugOwner=i._debugOwner,m._debugHookTypes=i._debugHookTypes,m.alternate=i,i.alternate=m):(m.pendingProps=o,m.type=i.type,m.flags=Bt,m.subtreeFlags=Bt,m.deletions=null,m.actualDuration=0,m.actualStartTime=-1),m.flags=i.flags&Oo,m.childLanes=i.childLanes,m.lanes=i.lanes,m.child=i.child,m.memoizedProps=i.memoizedProps,m.memoizedState=i.memoizedState,m.updateQueue=i.updateQueue;var f=i.dependencies;switch(m.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},m.sibling=i.sibling,m.index=i.index,m.ref=i.ref,m.selfBaseDuration=i.selfBaseDuration,m.treeBaseDuration=i.treeBaseDuration,m._debugNeedsRemount=i._debugNeedsRemount,m.tag){case g:case d:case M:m.type=sd(i.type);break;case h:m.type=qk(i.type);break;case k:m.type=Yk(i.type);break}return m}function OK(i,o){i.flags&=Oo|An;var m=i.alternate;if(m===null)i.childLanes=Xe,i.lanes=o,i.child=null,i.subtreeFlags=Bt,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null,i.selfBaseDuration=0,i.treeBaseDuration=0;else{i.childLanes=m.childLanes,i.lanes=m.lanes,i.child=m.child,i.subtreeFlags=Bt,i.deletions=null,i.memoizedProps=m.memoizedProps,i.memoizedState=m.memoizedState,i.updateQueue=m.updateQueue,i.type=m.type;var f=m.dependencies;i.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},i.selfBaseDuration=m.selfBaseDuration,i.treeBaseDuration=m.treeBaseDuration}return i}function LK(i,o,m){var f;return i===QN?(f=Er,o===!0&&(f|=wn,f|=Ua)):f=Lt,aa&&(f|=zr),bi(p,null,null,f)}function tE(i,o,m,f,x,y){var C=g,_=i;if(typeof i=="function")eE(i)?(C=h,_=qk(_)):_=sd(_);else if(typeof i=="string")C=b;else e:switch(i){case ei:return Ql(m.children,x,y,o);case na:C=j,x|=wn,(x&Er)!==Lt&&(x|=Ua);break;case ce:return $K(m,x,y,o);case Ge:return BK(m,x,y,o);case Ze:return zK(m,x,y,o);case sr:return j5(m,x,y,o);case dr:case Tt:case Tr:case sn:case jt:default:{if(typeof i=="object"&&i!==null)switch(i.$$typeof){case Ye:C=w;break e;case X:C=P;break e;case Se:C=k,_=Yk(_);break e;case ct:C=R;break e;case nt:C=T,_=null;break e}var I="";{(i===void 0||typeof i=="object"&&i!==null&&Object.keys(i).length===0)&&(I+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var J=f?Qt(f):null;J&&(I+=`

Check the render method of \``+J+"`.")}throw new Error("Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) "+("but got: "+(i==null?i:typeof i)+"."+I))}}var Q=bi(C,m,o,x);return Q.elementType=i,Q.type=_,Q.lanes=y,Q._debugOwner=f,Q}function rE(i,o,m){var f=null;f=i._owner;var x=i.type,y=i.key,C=i.props,_=tE(x,y,C,f,o,m);return _._debugSource=i._source,_._debugOwner=i._owner,_}function Ql(i,o,m,f){var x=bi(E,i,f,o);return x.lanes=m,x}function $K(i,o,m,f){typeof i.id!="string"&&c('Profiler must specify an "id" of type `string` as a prop. Received the type `%s` instead.',typeof i.id);var x=bi(V,i,f,o|zr);return x.elementType=ce,x.lanes=m,x.stateNode={effectDuration:0,passiveEffectDuration:0},x}function BK(i,o,m,f){var x=bi(S,i,f,o);return x.elementType=Ge,x.lanes=m,x}function zK(i,o,m,f){var x=bi(L,i,f,o);return x.elementType=Ze,x.lanes=m,x}function j5(i,o,m,f){var x=bi(W,i,f,o);x.elementType=sr,x.lanes=m;var y={isHidden:!1};return x.stateNode=y,x}function nE(i,o,m){var f=bi(D,i,null,o);return f.lanes=m,f}function WK(){var i=bi(b,null,null,Lt);return i.elementType="DELETED",i}function UK(i){var o=bi(F,null,null,Lt);return o.stateNode=i,o}function sE(i,o,m){var f=i.children!==null?i.children:[],x=bi(N,f,i.key,o);return x.lanes=m,x.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},x}function V5(i,o){return i===null&&(i=bi(g,null,null,Lt)),i.tag=o.tag,i.key=o.key,i.elementType=o.elementType,i.type=o.type,i.stateNode=o.stateNode,i.return=o.return,i.child=o.child,i.sibling=o.sibling,i.index=o.index,i.ref=o.ref,i.pendingProps=o.pendingProps,i.memoizedProps=o.memoizedProps,i.updateQueue=o.updateQueue,i.memoizedState=o.memoizedState,i.dependencies=o.dependencies,i.mode=o.mode,i.flags=o.flags,i.subtreeFlags=o.subtreeFlags,i.deletions=o.deletions,i.lanes=o.lanes,i.childLanes=o.childLanes,i.alternate=o.alternate,i.actualDuration=o.actualDuration,i.actualStartTime=o.actualStartTime,i.selfBaseDuration=o.selfBaseDuration,i.treeBaseDuration=o.treeBaseDuration,i._debugSource=o._debugSource,i._debugOwner=o._debugOwner,i._debugNeedsRemount=o._debugNeedsRemount,i._debugHookTypes=o._debugHookTypes,i}function GK(i,o,m,f,x){this.tag=o,this.containerInfo=i,this.pendingChildren=null,this.current=null,this.pingCache=null,this.finishedWork=null,this.timeoutHandle=Lw,this.context=null,this.pendingContext=null,this.callbackNode=null,this.callbackPriority=ns,this.eventTimes=lw(Xe),this.expirationTimes=lw(ln),this.pendingLanes=Xe,this.suspendedLanes=Xe,this.pingedLanes=Xe,this.expiredLanes=Xe,this.mutableReadLanes=Xe,this.finishedLanes=Xe,this.entangledLanes=Xe,this.entanglements=lw(Xe),this.identifierPrefix=f,this.onRecoverableError=x,this.mutableSourceEagerHydrationData=null,this.effectDuration=0,this.passiveEffectDuration=0;{this.memoizedUpdaters=new Set;for(var y=this.pendingUpdatersLaneMap=[],C=0;C<Ly;C++)y.push(new Set)}switch(o){case QN:this._debugRootType=m?"hydrateRoot()":"createRoot()";break;case Ll:this._debugRootType=m?"hydrate()":"render()";break}}function P5(i,o,m,f,x,y,C,_,I,J){var Q=new GK(i,o,m,_,I),xe=LK(o,y);Q.current=xe,xe.stateNode=Q;{var Ne={element:f,isDehydrated:m,cache:null,transitions:null,pendingSuspenseBoundaries:null};xe.memoizedState=Ne}return N1(xe),Q}var iE="18.3.1";function HK(i,o,m){var f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;return Ue(f),{$$typeof:Qn,key:f==null?null:""+f,children:i,containerInfo:o,implementation:m}}var aE,oE;aE=!1,oE={};function S5(i){if(!i)return xi;var o=Nm(i),m=PG(o);if(o.tag===h){var f=o.type;if(Ja(f))return rC(o,f,m)}return m}function JK(i,o){{var m=Nm(i);if(m===void 0){if(typeof i.render=="function")throw new Error("Unable to find node on an unmounted component.");var f=Object.keys(i).join(",");throw new Error("Argument appears to not be a ReactComponent. Keys: "+f)}var x=j2(m);if(x===null)return null;if(x.mode&wn){var y=Qt(m)||"Component";if(!oE[y]){oE[y]=!0;var C=Fs;try{dn(x),m.mode&wn?c("%s is deprecated in StrictMode. %s was passed an instance of %s which is inside StrictMode. Instead, add a ref directly to the element you want to reference. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-find-node",o,o,y):c("%s is deprecated in StrictMode. %s was passed an instance of %s which renders StrictMode children. Instead, add a ref directly to the element you want to reference. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-find-node",o,o,y)}finally{C?dn(C):es()}}}return x.stateNode}}function C5(i,o,m,f,x,y,C,_){var I=!1,J=null;return P5(i,o,I,J,m,f,x,y,C)}function R5(i,o,m,f,x,y,C,_,I,J){var Q=!0,xe=P5(m,f,Q,i,x,y,C,_,I);xe.context=S5(null);var Ne=xe.current,Ce=zs(),Te=Yl(Ne),Le=Jo(Ce,Te);return Le.callback=o??null,zl(Ne,Le,Te),eK(xe,Te,Ce),xe}function yp(i,o,m,f){yB(o,i);var x=o.current,y=zs(),C=Yl(x);BB(C);var _=S5(m);o.context===null?o.context=_:o.pendingContext=_,Wc&&Fs!==null&&!aE&&(aE=!0,c(`Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate.

Check the render method of %s.`,Qt(Fs)||"Unknown"));var I=Jo(y,C);I.payload={element:i},f=f===void 0?null:f,f!==null&&(typeof f!="function"&&c("render(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",f),I.callback=f);var J=zl(x,I,C);return J!==null&&(Kn(J,x,C,y),hx(J,x,C)),C}function rb(i){var o=i.current;if(!o.child)return null;switch(o.child.tag){case b:return o.child.stateNode;default:return o.child.stateNode}}function KK(i){switch(i.tag){case p:{var o=i.stateNode;if(wN(o)){var m=YB(o);sK(o,m)}break}case S:{Xo(function(){var x=ni(i,Gt);if(x!==null){var y=zs();Kn(x,i,Gt,y)}});var f=Gt;lE(i,f);break}}}function M5(i,o){var m=i.memoizedState;m!==null&&m.dehydrated!==null&&(m.retryLane=rz(m.retryLane,o))}function lE(i,o){M5(i,o);var m=i.alternate;m&&M5(m,o)}function qK(i){if(i.tag===S){var o=af,m=ni(i,o);if(m!==null){var f=zs();Kn(m,i,o,f)}lE(i,o)}}function YK(i){if(i.tag===S){var o=Yl(i),m=ni(i,o);if(m!==null){var f=zs();Kn(m,i,o,f)}lE(i,o)}}function T5(i){var o=dB(i);return o===null?null:o.stateNode}var A5=function(i){return null};function XK(i){return A5(i)}var _5=function(i){return!1};function QK(i){return _5(i)}var F5=null,I5=null,O5=null,L5=null,$5=null,B5=null,z5=null,W5=null,U5=null;{var G5=function(i,o,m){var f=o[m],x=pr(i)?i.slice():Xt({},i);return m+1===o.length?(pr(x)?x.splice(f,1):delete x[f],x):(x[f]=G5(i[f],o,m+1),x)},H5=function(i,o){return G5(i,o,0)},J5=function(i,o,m,f){var x=o[f],y=pr(i)?i.slice():Xt({},i);if(f+1===o.length){var C=m[f];y[C]=y[x],pr(y)?y.splice(x,1):delete y[x]}else y[x]=J5(i[x],o,m,f+1);return y},K5=function(i,o,m){if(o.length!==m.length){l("copyWithRename() expects paths of the same length");return}else for(var f=0;f<m.length-1;f++)if(o[f]!==m[f]){l("copyWithRename() expects paths to be the same except for the deepest key");return}return J5(i,o,m,0)},q5=function(i,o,m,f){if(m>=o.length)return f;var x=o[m],y=pr(i)?i.slice():Xt({},i);return y[x]=q5(i[x],o,m+1,f),y},Y5=function(i,o,m){return q5(i,o,0,m)},cE=function(i,o){for(var m=i.memoizedState;m!==null&&o>0;)m=m.next,o--;return m};F5=function(i,o,m,f){var x=cE(i,o);if(x!==null){var y=Y5(x.memoizedState,m,f);x.memoizedState=y,x.baseState=y,i.memoizedProps=Xt({},i.memoizedProps);var C=ni(i,Gt);C!==null&&Kn(C,i,Gt,ln)}},I5=function(i,o,m){var f=cE(i,o);if(f!==null){var x=H5(f.memoizedState,m);f.memoizedState=x,f.baseState=x,i.memoizedProps=Xt({},i.memoizedProps);var y=ni(i,Gt);y!==null&&Kn(y,i,Gt,ln)}},O5=function(i,o,m,f){var x=cE(i,o);if(x!==null){var y=K5(x.memoizedState,m,f);x.memoizedState=y,x.baseState=y,i.memoizedProps=Xt({},i.memoizedProps);var C=ni(i,Gt);C!==null&&Kn(C,i,Gt,ln)}},L5=function(i,o,m){i.pendingProps=Y5(i.memoizedProps,o,m),i.alternate&&(i.alternate.pendingProps=i.pendingProps);var f=ni(i,Gt);f!==null&&Kn(f,i,Gt,ln)},$5=function(i,o){i.pendingProps=H5(i.memoizedProps,o),i.alternate&&(i.alternate.pendingProps=i.pendingProps);var m=ni(i,Gt);m!==null&&Kn(m,i,Gt,ln)},B5=function(i,o,m){i.pendingProps=K5(i.memoizedProps,o,m),i.alternate&&(i.alternate.pendingProps=i.pendingProps);var f=ni(i,Gt);f!==null&&Kn(f,i,Gt,ln)},z5=function(i){var o=ni(i,Gt);o!==null&&Kn(o,i,Gt,ln)},W5=function(i){A5=i},U5=function(i){_5=i}}function ZK(i){var o=j2(i);return o===null?null:o.stateNode}function eq(i){return null}function tq(){return Fs}function rq(i){var o=i.findFiberByHostInstance,m=n.ReactCurrentDispatcher;return vB({bundleType:i.bundleType,version:i.version,rendererPackageName:i.rendererPackageName,rendererConfig:i.rendererConfig,overrideHookState:F5,overrideHookStateDeletePath:I5,overrideHookStateRenamePath:O5,overrideProps:L5,overridePropsDeletePath:$5,overridePropsRenamePath:B5,setErrorHandler:W5,setSuspenseHandler:U5,scheduleUpdate:z5,currentDispatcherRef:m,findHostInstanceByFiber:ZK,findFiberByHostInstance:o||eq,findHostInstancesForRefresh:MK,scheduleRefresh:CK,scheduleRoot:RK,setRefreshHandler:SK,getCurrentFiber:tq,reconcilerVersion:iE})}var X5=typeof reportError=="function"?reportError:function(i){console.error(i)};function uE(i){this._internalRoot=i}nb.prototype.render=uE.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw new Error("Cannot update an unmounted root.");{typeof arguments[1]=="function"?c("render(...): does not support the second callback argument. To execute a side effect after rendering, declare it in a component body with useEffect()."):sb(arguments[1])?c("You passed a container to the second argument of root.render(...). You don't need to pass it again since you already passed it to create the root."):typeof arguments[1]<"u"&&c("You passed a second argument to root.render(...) but it only accepts one argument.");var m=o.containerInfo;if(m.nodeType!==Tn){var f=T5(o.current);f&&f.parentNode!==m&&c("render(...): It looks like the React-rendered content of the root container was removed without using React. This is not supported and will cause errors. Instead, call root.unmount() to empty a root's container.")}}yp(i,o,null,null)},nb.prototype.unmount=uE.prototype.unmount=function(){typeof arguments[0]=="function"&&c("unmount(...): does not support a callback argument. To execute a side effect after rendering, declare it in a component body with useEffect().");var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;c5()&&c("Attempted to synchronously unmount a root while React was already rendering. React cannot finish unmounting the root until the current render has completed, which may lead to a race condition."),Xo(function(){yp(null,i,null,null)}),XS(o)}};function nq(i,o){if(!sb(i))throw new Error("createRoot(...): Target container is not a DOM element.");Q5(i);var m=!1,f=!1,x="",y=X5;o!=null&&(o.hydrate?l("hydrate through createRoot is deprecated. Use ReactDOMClient.hydrateRoot(container, <App />) instead."):typeof o=="object"&&o!==null&&o.$$typeof===us&&c(`You passed a JSX element to createRoot. You probably meant to call root.render instead. Example usage:

  let root = createRoot(domContainer);
  root.render(<App />);`),o.unstable_strictMode===!0&&(m=!0),o.identifierPrefix!==void 0&&(x=o.identifierPrefix),o.onRecoverableError!==void 0&&(y=o.onRecoverableError),o.transitionCallbacks!==void 0&&o.transitionCallbacks);var C=C5(i,QN,null,m,f,x,y);GN(C.current,i);var _=i.nodeType===Tn?i.parentNode:i;return Vf(_),new uE(C)}function nb(i){this._internalRoot=i}function sq(i){i&&bz(i)}nb.prototype.unstable_scheduleHydration=sq;function iq(i,o,m){if(!sb(i))throw new Error("hydrateRoot(...): Target container is not a DOM element.");Q5(i),o===void 0&&c("Must provide initial children as second argument to hydrateRoot. Example usage: hydrateRoot(domContainer, <App />)");var f=m??null,x=m!=null&&m.hydratedSources||null,y=!1,C=!1,_="",I=X5;m!=null&&(m.unstable_strictMode===!0&&(y=!0),m.identifierPrefix!==void 0&&(_=m.identifierPrefix),m.onRecoverableError!==void 0&&(I=m.onRecoverableError));var J=R5(o,null,i,QN,f,y,C,_,I);if(GN(J.current,i),Vf(i),x)for(var Q=0;Q<x.length;Q++){var xe=x[Q];cH(J,xe)}return new nb(J)}function sb(i){return!!(i&&(i.nodeType===ti||i.nodeType===_o||i.nodeType===gy))}function wp(i){return!!(i&&(i.nodeType===ti||i.nodeType===_o||i.nodeType===gy||i.nodeType===Tn&&i.nodeValue===" react-mount-point-unstable "))}function Q5(i){i.nodeType===ti&&i.tagName&&i.tagName.toUpperCase()==="BODY"&&c("createRoot(): Creating roots directly with document.body is discouraged, since its children are often manipulated by third-party scripts and browser extensions. This may lead to subtle reconciliation issues. Try using a container element created for your app."),Of(i)&&(i._reactRootContainer?c("You are calling ReactDOMClient.createRoot() on a container that was previously passed to ReactDOM.render(). This is not supported."):c("You are calling ReactDOMClient.createRoot() on a container that has already been passed to createRoot() before. Instead, call root.render() on the existing root instead if you want to update it."))}var aq=n.ReactCurrentOwner,Z5;Z5=function(i){if(i._reactRootContainer&&i.nodeType!==Tn){var o=T5(i._reactRootContainer.current);o&&o.parentNode!==i&&c("render(...): It looks like the React-rendered content of this container was removed without using React. This is not supported and will cause errors. Instead, call ReactDOM.unmountComponentAtNode to empty a container.")}var m=!!i._reactRootContainer,f=mE(i),x=!!(f&&Il(f));x&&!m&&c("render(...): Replacing React-rendered children with a new root component. If you intended to update the children of this node, you should instead have the existing children update their state and render the new components instead of calling ReactDOM.render."),i.nodeType===ti&&i.tagName&&i.tagName.toUpperCase()==="BODY"&&c("render(): Rendering components directly into document.body is discouraged, since its children are often manipulated by third-party scripts and browser extensions. This may lead to subtle reconciliation issues. Try rendering into a container element created for your app.")};function mE(i){return i?i.nodeType===_o?i.documentElement:i.firstChild:null}function eR(){}function oq(i,o,m,f,x){if(x){if(typeof f=="function"){var y=f;f=function(){var Ne=rb(C);y.call(Ne)}}var C=R5(o,f,i,Ll,null,!1,!1,"",eR);i._reactRootContainer=C,GN(C.current,i);var _=i.nodeType===Tn?i.parentNode:i;return Vf(_),Xo(),C}else{for(var I;I=i.lastChild;)i.removeChild(I);if(typeof f=="function"){var J=f;f=function(){var Ne=rb(Q);J.call(Ne)}}var Q=C5(i,Ll,null,!1,!1,"",eR);i._reactRootContainer=Q,GN(Q.current,i);var xe=i.nodeType===Tn?i.parentNode:i;return Vf(xe),Xo(function(){yp(o,Q,m,f)}),Q}}function lq(i,o){i!==null&&typeof i!="function"&&c("%s(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",o,i)}function ib(i,o,m,f,x){Z5(m),lq(x===void 0?null:x,"render");var y=m._reactRootContainer,C;if(!y)C=oq(m,o,i,x,f);else{if(C=y,typeof x=="function"){var _=x;x=function(){var I=rb(C);_.call(I)}}yp(o,C,i,x)}return rb(C)}var tR=!1;function cq(i){{tR||(tR=!0,c("findDOMNode is deprecated and will be removed in the next major release. Instead, add a ref directly to the element you want to reference. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-find-node"));var o=aq.current;if(o!==null&&o.stateNode!==null){var m=o.stateNode._warnedAboutRefsInRender;m||c("%s is accessing findDOMNode inside its render(). render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",Ar(o.type)||"A component"),o.stateNode._warnedAboutRefsInRender=!0}}return i==null?null:i.nodeType===ti?i:JK(i,"findDOMNode")}function uq(i,o,m){if(c("ReactDOM.hydrate is no longer supported in React 18. Use hydrateRoot instead. Until you switch to the new API, your app will behave as if it's running React 17. Learn more: https://reactjs.org/link/switch-to-createroot"),!wp(o))throw new Error("Target container is not a DOM element.");{var f=Of(o)&&o._reactRootContainer===void 0;f&&c("You are calling ReactDOM.hydrate() on a container that was previously passed to ReactDOMClient.createRoot(). This is not supported. Did you mean to call hydrateRoot(container, element)?")}return ib(null,i,o,!0,m)}function mq(i,o,m){if(c("ReactDOM.render is no longer supported in React 18. Use createRoot instead. Until you switch to the new API, your app will behave as if it's running React 17. Learn more: https://reactjs.org/link/switch-to-createroot"),!wp(o))throw new Error("Target container is not a DOM element.");{var f=Of(o)&&o._reactRootContainer===void 0;f&&c("You are calling ReactDOM.render() on a container that was previously passed to ReactDOMClient.createRoot(). This is not supported. Did you mean to call root.render(element)?")}return ib(null,i,o,!1,m)}function dq(i,o,m,f){if(c("ReactDOM.unstable_renderSubtreeIntoContainer() is no longer supported in React 18. Consider using a portal instead. Until you switch to the createRoot API, your app will behave as if it's running React 17. Learn more: https://reactjs.org/link/switch-to-createroot"),!wp(m))throw new Error("Target container is not a DOM element.");if(i==null||!aB(i))throw new Error("parentComponent must be a valid React Component");return ib(i,o,m,!1,f)}var rR=!1;function hq(i){if(rR||(rR=!0,c("unmountComponentAtNode is deprecated and will be removed in the next major release. Switch to the createRoot API. Learn more: https://reactjs.org/link/switch-to-createroot")),!wp(i))throw new Error("unmountComponentAtNode(...): Target container is not a DOM element.");{var o=Of(i)&&i._reactRootContainer===void 0;o&&c("You are calling ReactDOM.unmountComponentAtNode() on a container that was previously passed to ReactDOMClient.createRoot(). This is not supported. Did you mean to call root.unmount()?")}if(i._reactRootContainer){{var m=mE(i),f=m&&!Il(m);f&&c("unmountComponentAtNode(): The node you're attempting to unmount was rendered by another copy of React.")}return Xo(function(){ib(null,null,i,!1,function(){i._reactRootContainer=null,XS(i)})}),!0}else{{var x=mE(i),y=!!(x&&Il(x)),C=i.nodeType===ti&&wp(i.parentNode)&&!!i.parentNode._reactRootContainer;y&&c("unmountComponentAtNode(): The node you're attempting to unmount was rendered by React and is not a top-level container. %s",C?"You may have accidentally passed in a React root node instead of its container.":"Instead, have the parent component update its state and rerender in order to remove this component.")}return!1}}cz(KK),mz(qK),dz(YK),hz(oa),fz(az),(typeof Map!="function"||Map.prototype==null||typeof Map.prototype.forEach!="function"||typeof Set!="function"||Set.prototype==null||typeof Set.prototype.clear!="function"||typeof Set.prototype.forEach!="function")&&c("React depends on Map and Set built-in types. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),q$(pU),Q$(zk,iK,Xo);function fq(i,o){var m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!sb(o))throw new Error("Target container is not a DOM element.");return HK(i,o,null,m)}function pq(i,o,m,f){return dq(i,o,m,f)}var dE={usingClientEntryPoint:!1,Events:[Il,_m,HN,h2,f2,zk]};function gq(i,o){return dE.usingClientEntryPoint||c('You are importing createRoot from "react-dom" which is not supported. You should instead import it from "react-dom/client".'),nq(i,o)}function Nq(i,o,m){return dE.usingClientEntryPoint||c('You are importing hydrateRoot from "react-dom" which is not supported. You should instead import it from "react-dom/client".'),iq(i,o,m)}function xq(i){return c5()&&c("flushSync was called from inside a lifecycle method. React cannot flush when React is already rendering. Consider moving this call to a scheduler task or micro task."),Xo(i)}var bq=rq({findFiberByHostInstance:iu,bundleType:1,version:iE,rendererPackageName:"react-dom"});if(!bq&&Re&&window.top===window.self&&(navigator.userAgent.indexOf("Chrome")>-1&&navigator.userAgent.indexOf("Edge")===-1||navigator.userAgent.indexOf("Firefox")>-1)){var nR=window.location.protocol;/^(https?|file):$/.test(nR)&&console.info("%cDownload the React DevTools for a better development experience: https://reactjs.org/link/react-devtools"+(nR==="file:"?`
You might need to use a local HTTP server (instead of file://): https://reactjs.org/link/react-devtools-faq`:""),"font-weight:bold")}yi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dE,yi.createPortal=fq,yi.createRoot=gq,yi.findDOMNode=cq,yi.flushSync=xq,yi.hydrate=uq,yi.hydrateRoot=Nq,yi.render=mq,yi.unmountComponentAtNode=hq,yi.unstable_batchedUpdates=zk,yi.unstable_renderSubtreeIntoContainer=pq,yi.version=iE,typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error)})();L9.exports=yi;var em=L9.exports;const Dq=Mj(em);var z9,iR=em;{var aR=iR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;z9=function(e,r){aR.usingClientEntryPoint=!0;try{return iR.createRoot(e,r)}finally{aR.usingClientEntryPoint=!1}}}function jq(e,r){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,s,a,l,c=[],u="",d=e.split("/");for(d[0]||d.shift();a=d.shift();)n=a[0],n==="*"?(c.push(n),u+=a[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(s=a.indexOf("?",1),l=a.indexOf(".",1),c.push(a.substring(1,~s?s:~l?l:a.length)),u+=~s&&!~l?"(?:/([^/]+?))?":"/([^/]+?)",~l&&(u+=(~s?"?":"")+"\\"+a.substring(l))):u+="/"+a;return{keys:c,pattern:new RegExp("^"+u+(r?"(?=$|/)":"/?$"),"i")}}var W9={exports:{}},U9={};/**
 * @license React
 * use-sync-external-store-shim.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error);var e=v,r=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function n(k){{for(var V=arguments.length,S=new Array(V>1?V-1:0),R=1;R<V;R++)S[R-1]=arguments[R];s("error",k,S)}}function s(k,V,S){{var R=r.ReactDebugCurrentFrame,M=R.getStackAddendum();M!==""&&(V+="%s",S=S.concat([M]));var T=S.map(function(A){return String(A)});T.unshift("Warning: "+V),Function.prototype.apply.call(console[k],console,T)}}function a(k,V){return k===V&&(k!==0||1/k===1/V)||k!==k&&V!==V}var l=typeof Object.is=="function"?Object.is:a,c=e.useState,u=e.useEffect,d=e.useLayoutEffect,h=e.useDebugValue,g=!1,p=!1;function N(k,V,S){g||e.startTransition!==void 0&&(g=!0,n("You are using an outdated, pre-release alpha of React 18 that does not support useSyncExternalStore. The use-sync-external-store shim will not work correctly. Upgrade to a newer pre-release."));var R=V();if(!p){var M=V();l(R,M)||(n("The result of getSnapshot should be cached to avoid an infinite loop"),p=!0)}var T=c({inst:{value:R,getSnapshot:V}}),A=T[0].inst,F=T[1];return d(function(){A.value=R,A.getSnapshot=V,b(A)&&F({inst:A})},[k,R,V]),u(function(){b(A)&&F({inst:A});var L=function(){b(A)&&F({inst:A})};return k(L)},[k]),h(R),R}function b(k){var V=k.getSnapshot,S=k.value;try{var R=V();return!l(S,R)}catch{return!0}}function D(k,V,S){return V()}var E=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",j=!E,P=j?D:N,w=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:P;U9.useSyncExternalStore=w,typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error)})();W9.exports=U9;var G9=W9.exports;const Vq=O9.useInsertionEffect,Pq=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",H9=Pq?v.useLayoutEffect:v.useEffect,Sq=Vq||H9,Tj=e=>{const r=v.useRef([e,(...n)=>r[0](...n)]).current;return Sq(()=>{r[0]=e}),r[1]},Cq="popstate",Aj="pushState",_j="replaceState",Rq="hashchange",oR=[Cq,Aj,_j,Rq],Mq=e=>{for(const r of oR)addEventListener(r,e);return()=>{for(const r of oR)removeEventListener(r,e)}},J9=(e,r)=>G9.useSyncExternalStore(Mq,e,r),Tq=()=>location.search,Aq=({ssrSearch:e=""}={})=>J9(Tq,()=>e),lR=()=>location.pathname,_q=({ssrPath:e}={})=>J9(lR,e?()=>e:lR),Fq=(e,{replace:r=!1,state:n=null}={})=>history[r?_j:Aj](n,"",e),Iq=(e={})=>[_q(e),Fq],cR=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[cR]>"u"){for(const e of[Aj,_j]){const r=history[e];history[e]=function(){const n=r.apply(this,arguments),s=new Event(e);return s.arguments=arguments,dispatchEvent(s),n}}Object.defineProperty(window,cR,{value:!0})}const Oq=(e,r)=>r.toLowerCase().indexOf(e.toLowerCase())?"~"+r:r.slice(e.length)||"/",K9=(e="")=>e==="/"?"":e,Lq=(e,r)=>e[0]==="~"?e.slice(1):K9(r)+e,$q=(e="",r)=>Oq(mD(K9(e)),mD(r)),Bq=e=>e[0]==="?"?e.slice(1):e,mD=e=>{try{return decodeURI(e)}catch{return e}},zq=e=>mD(Bq(e)),q9={hook:Iq,searchHook:Aq,parser:jq,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:e=>e},Y9=v.createContext(q9),tm=()=>v.useContext(Y9),X9={},Q9=v.createContext(X9),Oa=()=>v.useContext(Q9),Kv=e=>{const[r,n]=e.hook(e);return[$q(e.base,r),Tj((s,a)=>n(Lq(s,e.base),a))]},or=()=>Kv(tm()),qv=()=>{const e=tm();return zq(e.searchHook(e))},Fj=(e,r,n,s)=>{const{pattern:a,keys:l}=r instanceof RegExp?{keys:!1,pattern:r}:e(r||"*",s),c=a.exec(n)||[],[u,...d]=c;return u!==void 0?[!0,(()=>{const h=l!==!1?Object.fromEntries(l.map((p,N)=>[p,d[N]])):c.groups;let g={...d};return h&&Object.assign(g,h),g})(),...s?[u]:[]]:[!1,null]},Xn=e=>Fj(tm().parser,e,or()[0]),Wq=({children:e,...r})=>{var g,p;const n=tm(),s=r.hook?q9:n;let a=s;const[l,c]=((g=r.ssrPath)==null?void 0:g.split("?"))??[];c&&(r.ssrSearch=c,r.ssrPath=l),r.hrefs=r.hrefs??((p=r.hook)==null?void 0:p.hrefs);let u=v.useRef({}),d=u.current,h=d;for(let N in s){const b=N==="base"?s[N]+(r[N]||""):r[N]||s[N];d===h&&b!==h[N]&&(u.current=h={...h}),h[N]=b,b!==s[N]&&(a=h)}return v.createElement(Y9.Provider,{value:a,children:e})},uR=({children:e,component:r},n)=>r?v.createElement(r,{params:n}):typeof e=="function"?e(n):e,Uq=e=>{let r=v.useRef(X9),n=r.current;for(const s in e)e[s]!==n[s]&&(n=e);return Object.keys(e).length===0&&(n=e),r.current=n},Ob=({path:e,nest:r,match:n,...s})=>{const a=tm(),[l]=Kv(a),[c,u,d]=n??Fj(a.parser,e,l,r),h=Uq({...Oa(),...u});if(!c)return null;const g=d?v.createElement(Wq,{base:d},uR(s,h)):uR(s,h);return v.createElement(Q9.Provider,{value:h,children:g})},os=v.forwardRef((e,r)=>{const n=tm(),[s,a]=Kv(n),{to:l="",href:c=l,onClick:u,asChild:d,children:h,className:g,replace:p,state:N,...b}=e,D=Tj(j=>{j.ctrlKey||j.metaKey||j.altKey||j.shiftKey||j.button!==0||(u==null||u(j),j.defaultPrevented||(j.preventDefault(),a(c,e)))}),E=n.hrefs(c[0]==="~"?c.slice(1):n.base+c,n);return d&&v.isValidElement(h)?v.cloneElement(h,{onClick:D,href:E}):v.createElement("a",{...b,onClick:D,href:E,className:g!=null&&g.call?g(s===c):g,children:h,ref:r})}),Z9=e=>Array.isArray(e)?e.flatMap(r=>Z9(r&&r.type===v.Fragment?r.props.children:r)):[e],Gq=({children:e,location:r})=>{const n=tm(),[s]=Kv(n);for(const a of Z9(e)){let l=0;if(v.isValidElement(a)&&(l=Fj(n.parser,a.props.path,r||s,a.props.nest))[0])return v.cloneElement(a,{match:l})}return null},e7=e=>{const{to:r,href:n=r}=e,[,s]=or(),a=Tj(()=>s(r||n,e));return H9(()=>{a()},[]),null};var Nh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Bu=typeof window>"u"||"Deno"in globalThis;function Yi(){}function Hq(e,r){return typeof e=="function"?e(r):e}function dD(e){return typeof e=="number"&&e>=0&&e!==1/0}function t7(e,r){return Math.max(e+(r||0)-Date.now(),0)}function Dd(e,r){return typeof e=="function"?e(r):e}function Ea(e,r){return typeof e=="function"?e(r):e}function mR(e,r){const{type:n="all",exact:s,fetchStatus:a,predicate:l,queryKey:c,stale:u}=e;if(c){if(s){if(r.queryHash!==Ij(c,r.options))return!1}else if(!tg(r.queryKey,c))return!1}if(n!=="all"){const d=r.isActive();if(n==="active"&&!d||n==="inactive"&&d)return!1}return!(typeof u=="boolean"&&r.isStale()!==u||a&&a!==r.state.fetchStatus||l&&!l(r))}function dR(e,r){const{exact:n,status:s,predicate:a,mutationKey:l}=e;if(l){if(!r.options.mutationKey)return!1;if(n){if(zu(r.options.mutationKey)!==zu(l))return!1}else if(!tg(r.options.mutationKey,l))return!1}return!(s&&r.state.status!==s||a&&!a(r))}function Ij(e,r){return((r==null?void 0:r.queryKeyHashFn)||zu)(e)}function zu(e){return JSON.stringify(e,(r,n)=>fD(n)?Object.keys(n).sort().reduce((s,a)=>(s[a]=n[a],s),{}):n)}function tg(e,r){return e===r?!0:typeof e!=typeof r?!1:e&&r&&typeof e=="object"&&typeof r=="object"?!Object.keys(r).some(n=>!tg(e[n],r[n])):!1}function hD(e,r){if(e===r)return e;const n=hR(e)&&hR(r);if(n||fD(e)&&fD(r)){const s=n?e:Object.keys(e),a=s.length,l=n?r:Object.keys(r),c=l.length,u=n?[]:{};let d=0;for(let h=0;h<c;h++){const g=n?h:l[h];(!n&&s.includes(g)||n)&&e[g]===void 0&&r[g]===void 0?(u[g]=void 0,d++):(u[g]=hD(e[g],r[g]),u[g]===e[g]&&e[g]!==void 0&&d++)}return a===c&&d===a?e:u}return r}function nv(e,r){if(!r||Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}function hR(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function fD(e){if(!fR(e))return!1;const r=e.constructor;if(r===void 0)return!0;const n=r.prototype;return!(!fR(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function fR(e){return Object.prototype.toString.call(e)==="[object Object]"}function Jq(e){return new Promise(r=>{setTimeout(r,e)})}function pD(e,r,n){if(typeof n.structuralSharing=="function")return n.structuralSharing(e,r);if(n.structuralSharing!==!1){try{return hD(e,r)}catch(s){console.error(`Structural sharing requires data to be JSON serializable. To fix this, turn off structuralSharing or return JSON-serializable data from your queryFn. [${n.queryHash}]: ${s}`)}return hD(e,r)}return r}function Kq(e,r,n=0){const s=[...e,r];return n&&s.length>n?s.slice(1):s}function qq(e,r,n=0){const s=[r,...e];return n&&s.length>n?s.slice(0,-1):s}var sv=Symbol();function r7(e,r){return e.queryFn===sv&&console.error(`Attempted to invoke queryFn when set to skipToken. This is likely a configuration error. Query hash: '${e.queryHash}'`),!e.queryFn&&(r!=null&&r.initialPromise)?()=>r.initialPromise:!e.queryFn||e.queryFn===sv?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Ru,uc,Ad,j9,Yq=(j9=class extends Nh{constructor(){super();Wt(this,Ru);Wt(this,uc);Wt(this,Ad);vt(this,Ad,r=>{if(!Bu&&window.addEventListener){const n=()=>r();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){he(this,uc)||this.setEventListener(he(this,Ad))}onUnsubscribe(){var r;this.hasListeners()||((r=he(this,uc))==null||r.call(this),vt(this,uc,void 0))}setEventListener(r){var n;vt(this,Ad,r),(n=he(this,uc))==null||n.call(this),vt(this,uc,r(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(r){he(this,Ru)!==r&&(vt(this,Ru,r),this.onFocus())}onFocus(){const r=this.isFocused();this.listeners.forEach(n=>{n(r)})}isFocused(){var r;return typeof he(this,Ru)=="boolean"?he(this,Ru):((r=globalThis.document)==null?void 0:r.visibilityState)!=="hidden"}},Ru=new WeakMap,uc=new WeakMap,Ad=new WeakMap,j9),Oj=new Yq,_d,mc,Fd,V9,Xq=(V9=class extends Nh{constructor(){super();Wt(this,_d,!0);Wt(this,mc);Wt(this,Fd);vt(this,Fd,r=>{if(!Bu&&window.addEventListener){const n=()=>r(!0),s=()=>r(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",s)}}})}onSubscribe(){he(this,mc)||this.setEventListener(he(this,Fd))}onUnsubscribe(){var r;this.hasListeners()||((r=he(this,mc))==null||r.call(this),vt(this,mc,void 0))}setEventListener(r){var n;vt(this,Fd,r),(n=he(this,mc))==null||n.call(this),vt(this,mc,r(this.setOnline.bind(this)))}setOnline(r){he(this,_d)!==r&&(vt(this,_d,r),this.listeners.forEach(s=>{s(r)}))}isOnline(){return he(this,_d)}},_d=new WeakMap,mc=new WeakMap,Fd=new WeakMap,V9),iv=new Xq;function gD(){let e,r;const n=new Promise((a,l)=>{e=a,r=l});n.status="pending",n.catch(()=>{});function s(a){Object.assign(n,a),delete n.resolve,delete n.reject}return n.resolve=a=>{s({status:"fulfilled",value:a}),e(a)},n.reject=a=>{s({status:"rejected",reason:a}),r(a)},n}function Qq(e){return Math.min(1e3*2**e,3e4)}function n7(e){return(e??"online")==="online"?iv.isOnline():!0}var s7=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function fE(e){return e instanceof s7}function i7(e){let r=!1,n=0,s=!1,a;const l=gD(),c=E=>{var j;s||(N(new s7(E)),(j=e.abort)==null||j.call(e))},u=()=>{r=!0},d=()=>{r=!1},h=()=>Oj.isFocused()&&(e.networkMode==="always"||iv.isOnline())&&e.canRun(),g=()=>n7(e.networkMode)&&e.canRun(),p=E=>{var j;s||(s=!0,(j=e.onSuccess)==null||j.call(e,E),a==null||a(),l.resolve(E))},N=E=>{var j;s||(s=!0,(j=e.onError)==null||j.call(e,E),a==null||a(),l.reject(E))},b=()=>new Promise(E=>{var j;a=P=>{(s||h())&&E(P)},(j=e.onPause)==null||j.call(e)}).then(()=>{var E;a=void 0,s||(E=e.onContinue)==null||E.call(e)}),D=()=>{if(s)return;let E;const j=n===0?e.initialPromise:void 0;try{E=j??e.fn()}catch(P){E=Promise.reject(P)}Promise.resolve(E).then(p).catch(P=>{var R;if(s)return;const w=e.retry??(Bu?0:3),k=e.retryDelay??Qq,V=typeof k=="function"?k(n,P):k,S=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,P);if(r||!S){N(P);return}n++,(R=e.onFail)==null||R.call(e,n,P),Jq(V).then(()=>h()?void 0:b()).then(()=>{r?N(P):D()})})};return{promise:l,cancel:c,continue:()=>(a==null||a(),l),cancelRetry:u,continueRetry:d,canStart:g,start:()=>(g()?D():b().then(D),l)}}function Zq(){let e=[],r=0,n=u=>{u()},s=u=>{u()},a=u=>setTimeout(u,0);const l=u=>{r?e.push(u):a(()=>{n(u)})},c=()=>{const u=e;e=[],u.length&&a(()=>{s(()=>{u.forEach(d=>{n(d)})})})};return{batch:u=>{let d;r++;try{d=u()}finally{r--,r||c()}return d},batchCalls:u=>(...d)=>{l(()=>{u(...d)})},schedule:l,setNotifyFunction:u=>{n=u},setBatchNotifyFunction:u=>{s=u},setScheduler:u=>{a=u}}}var Yn=Zq(),Mu,P9,a7=(P9=class{constructor(){Wt(this,Mu)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),dD(this.gcTime)&&vt(this,Mu,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Bu?1/0:5*60*1e3))}clearGcTimeout(){he(this,Mu)&&(clearTimeout(he(this,Mu)),vt(this,Mu,void 0))}},Mu=new WeakMap,P9),Id,Od,qi,Ms,wg,Tu,ya,nl,S9,eY=(S9=class extends a7{constructor(r){super();Wt(this,ya);Wt(this,Id);Wt(this,Od);Wt(this,qi);Wt(this,Ms);Wt(this,wg);Wt(this,Tu);vt(this,Tu,!1),vt(this,wg,r.defaultOptions),this.setOptions(r.options),this.observers=[],vt(this,qi,r.cache),this.queryKey=r.queryKey,this.queryHash=r.queryHash,vt(this,Id,tY(this.options)),this.state=r.state??he(this,Id),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var r;return(r=he(this,Ms))==null?void 0:r.promise}setOptions(r){this.options={...he(this,wg),...r},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&he(this,qi).remove(this)}setData(r,n){const s=pD(this.state.data,r,this.options);return hr(this,ya,nl).call(this,{data:s,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),s}setState(r,n){hr(this,ya,nl).call(this,{type:"setState",state:r,setStateOptions:n})}cancel(r){var s,a;const n=(s=he(this,Ms))==null?void 0:s.promise;return(a=he(this,Ms))==null||a.cancel(r),n?n.then(Yi).catch(Yi):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(he(this,Id))}isActive(){return this.observers.some(r=>Ea(r.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===sv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(r=>r.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(r=0){return this.state.isInvalidated||this.state.data===void 0||!t7(this.state.dataUpdatedAt,r)}onFocus(){var n;const r=this.observers.find(s=>s.shouldFetchOnWindowFocus());r==null||r.refetch({cancelRefetch:!1}),(n=he(this,Ms))==null||n.continue()}onOnline(){var n;const r=this.observers.find(s=>s.shouldFetchOnReconnect());r==null||r.refetch({cancelRefetch:!1}),(n=he(this,Ms))==null||n.continue()}addObserver(r){this.observers.includes(r)||(this.observers.push(r),this.clearGcTimeout(),he(this,qi).notify({type:"observerAdded",query:this,observer:r}))}removeObserver(r){this.observers.includes(r)&&(this.observers=this.observers.filter(n=>n!==r),this.observers.length||(he(this,Ms)&&(he(this,Tu)?he(this,Ms).cancel({revert:!0}):he(this,Ms).cancelRetry()),this.scheduleGc()),he(this,qi).notify({type:"observerRemoved",query:this,observer:r}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||hr(this,ya,nl).call(this,{type:"invalidate"})}fetch(r,n){var d,h,g;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(he(this,Ms))return he(this,Ms).continueRetry(),he(this,Ms).promise}if(r&&this.setOptions(r),!this.options.queryFn){const p=this.observers.find(N=>N.options.queryFn);p&&this.setOptions(p.options)}Array.isArray(this.options.queryKey)||console.error("As of v4, queryKey needs to be an Array. If you are using a string like 'repoData', please change it to an Array, e.g. ['repoData']");const s=new AbortController,a=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(vt(this,Tu,!0),s.signal)})},l=()=>{const p=r7(this.options,n),N={queryKey:this.queryKey,meta:this.meta};return a(N),vt(this,Tu,!1),this.options.persister?this.options.persister(p,N,this):p(N)},c={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:l};a(c),(d=this.options.behavior)==null||d.onFetch(c,this),vt(this,Od,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=c.fetchOptions)==null?void 0:h.meta))&&hr(this,ya,nl).call(this,{type:"fetch",meta:(g=c.fetchOptions)==null?void 0:g.meta});const u=p=>{var N,b,D,E;fE(p)&&p.silent||hr(this,ya,nl).call(this,{type:"error",error:p}),fE(p)||((b=(N=he(this,qi).config).onError)==null||b.call(N,p,this),(E=(D=he(this,qi).config).onSettled)==null||E.call(D,this.state.data,p,this)),this.scheduleGc()};return vt(this,Ms,i7({initialPromise:n==null?void 0:n.initialPromise,fn:c.fetchFn,abort:s.abort.bind(s),onSuccess:p=>{var N,b,D,E;if(p===void 0){console.error(`Query data cannot be undefined. Please make sure to return a value other than undefined from your query function. Affected query key: ${this.queryHash}`),u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(j){u(j);return}(b=(N=he(this,qi).config).onSuccess)==null||b.call(N,p,this),(E=(D=he(this,qi).config).onSettled)==null||E.call(D,p,this.state.error,this),this.scheduleGc()},onError:u,onFail:(p,N)=>{hr(this,ya,nl).call(this,{type:"failed",failureCount:p,error:N})},onPause:()=>{hr(this,ya,nl).call(this,{type:"pause"})},onContinue:()=>{hr(this,ya,nl).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0})),he(this,Ms).start()}},Id=new WeakMap,Od=new WeakMap,qi=new WeakMap,Ms=new WeakMap,wg=new WeakMap,Tu=new WeakMap,ya=new WeakSet,nl=function(r){const n=s=>{switch(r.type){case"failed":return{...s,fetchFailureCount:r.failureCount,fetchFailureReason:r.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...o7(s.data,this.options),fetchMeta:r.meta??null};case"success":return{...s,data:r.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:r.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!r.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=r.error;return fE(a)&&a.revert&&he(this,Od)?{...he(this,Od),fetchStatus:"idle"}:{...s,error:a,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...r.state}}};this.state=n(this.state),Yn.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),he(this,qi).notify({query:this,type:"updated",action:r})})},S9);function o7(e,r){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:n7(r.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function tY(e){const r=typeof e.initialData=="function"?e.initialData():e.initialData,n=r!==void 0,s=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:r,dataUpdateCount:0,dataUpdatedAt:n?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var ro,C9,rY=(C9=class extends Nh{constructor(r={}){super();Wt(this,ro);this.config=r,vt(this,ro,new Map)}build(r,n,s){const a=n.queryKey,l=n.queryHash??Ij(a,n);let c=this.get(l);return c||(c=new eY({cache:this,queryKey:a,queryHash:l,options:r.defaultQueryOptions(n),state:s,defaultOptions:r.getQueryDefaults(a)}),this.add(c)),c}add(r){he(this,ro).has(r.queryHash)||(he(this,ro).set(r.queryHash,r),this.notify({type:"added",query:r}))}remove(r){const n=he(this,ro).get(r.queryHash);n&&(r.destroy(),n===r&&he(this,ro).delete(r.queryHash),this.notify({type:"removed",query:r}))}clear(){Yn.batch(()=>{this.getAll().forEach(r=>{this.remove(r)})})}get(r){return he(this,ro).get(r)}getAll(){return[...he(this,ro).values()]}find(r){const n={exact:!0,...r};return this.getAll().find(s=>mR(n,s))}findAll(r={}){const n=this.getAll();return Object.keys(r).length>0?n.filter(s=>mR(r,s)):n}notify(r){Yn.batch(()=>{this.listeners.forEach(n=>{n(r)})})}onFocus(){Yn.batch(()=>{this.getAll().forEach(r=>{r.onFocus()})})}onOnline(){Yn.batch(()=>{this.getAll().forEach(r=>{r.onOnline()})})}},ro=new WeakMap,C9),no,Gs,Au,so,sc,R9,nY=(R9=class extends a7{constructor(r){super();Wt(this,so);Wt(this,no);Wt(this,Gs);Wt(this,Au);this.mutationId=r.mutationId,vt(this,Gs,r.mutationCache),vt(this,no,[]),this.state=r.state||l7(),this.setOptions(r.options),this.scheduleGc()}setOptions(r){this.options=r,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(r){he(this,no).includes(r)||(he(this,no).push(r),this.clearGcTimeout(),he(this,Gs).notify({type:"observerAdded",mutation:this,observer:r}))}removeObserver(r){vt(this,no,he(this,no).filter(n=>n!==r)),this.scheduleGc(),he(this,Gs).notify({type:"observerRemoved",mutation:this,observer:r})}optionalRemove(){he(this,no).length||(this.state.status==="pending"?this.scheduleGc():he(this,Gs).remove(this))}continue(){var r;return((r=he(this,Au))==null?void 0:r.continue())??this.execute(this.state.variables)}async execute(r){var a,l,c,u,d,h,g,p,N,b,D,E,j,P,w,k,V,S,R,M;vt(this,Au,i7({fn:()=>this.options.mutationFn?this.options.mutationFn(r):Promise.reject(new Error("No mutationFn found")),onFail:(T,A)=>{hr(this,so,sc).call(this,{type:"failed",failureCount:T,error:A})},onPause:()=>{hr(this,so,sc).call(this,{type:"pause"})},onContinue:()=>{hr(this,so,sc).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>he(this,Gs).canRun(this)}));const n=this.state.status==="pending",s=!he(this,Au).canStart();try{if(!n){hr(this,so,sc).call(this,{type:"pending",variables:r,isPaused:s}),await((l=(a=he(this,Gs).config).onMutate)==null?void 0:l.call(a,r,this));const A=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,r));A!==this.state.context&&hr(this,so,sc).call(this,{type:"pending",context:A,variables:r,isPaused:s})}const T=await he(this,Au).start();return await((h=(d=he(this,Gs).config).onSuccess)==null?void 0:h.call(d,T,r,this.state.context,this)),await((p=(g=this.options).onSuccess)==null?void 0:p.call(g,T,r,this.state.context)),await((b=(N=he(this,Gs).config).onSettled)==null?void 0:b.call(N,T,null,this.state.variables,this.state.context,this)),await((E=(D=this.options).onSettled)==null?void 0:E.call(D,T,null,r,this.state.context)),hr(this,so,sc).call(this,{type:"success",data:T}),T}catch(T){try{throw await((P=(j=he(this,Gs).config).onError)==null?void 0:P.call(j,T,r,this.state.context,this)),await((k=(w=this.options).onError)==null?void 0:k.call(w,T,r,this.state.context)),await((S=(V=he(this,Gs).config).onSettled)==null?void 0:S.call(V,void 0,T,this.state.variables,this.state.context,this)),await((M=(R=this.options).onSettled)==null?void 0:M.call(R,void 0,T,r,this.state.context)),T}finally{hr(this,so,sc).call(this,{type:"error",error:T})}}finally{he(this,Gs).runNext(this)}}},no=new WeakMap,Gs=new WeakMap,Au=new WeakMap,so=new WeakSet,sc=function(r){const n=s=>{switch(r.type){case"failed":return{...s,failureCount:r.failureCount,failureReason:r.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:r.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:r.isPaused,status:"pending",variables:r.variables,submittedAt:Date.now()};case"success":return{...s,data:r.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:r.error,failureCount:s.failureCount+1,failureReason:r.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Yn.batch(()=>{he(this,no).forEach(s=>{s.onMutationUpdate(r)}),he(this,Gs).notify({mutation:this,type:"updated",action:r})})},R9);function l7(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var wi,kg,M9,sY=(M9=class extends Nh{constructor(r={}){super();Wt(this,wi);Wt(this,kg);this.config=r,vt(this,wi,new Map),vt(this,kg,Date.now())}build(r,n,s){const a=new nY({mutationCache:this,mutationId:++ab(this,kg)._,options:r.defaultMutationOptions(n),state:s});return this.add(a),a}add(r){const n=ob(r),s=he(this,wi).get(n)??[];s.push(r),he(this,wi).set(n,s),this.notify({type:"added",mutation:r})}remove(r){var s;const n=ob(r);if(he(this,wi).has(n)){const a=(s=he(this,wi).get(n))==null?void 0:s.filter(l=>l!==r);a&&(a.length===0?he(this,wi).delete(n):he(this,wi).set(n,a))}this.notify({type:"removed",mutation:r})}canRun(r){var s;const n=(s=he(this,wi).get(ob(r)))==null?void 0:s.find(a=>a.state.status==="pending");return!n||n===r}runNext(r){var s;const n=(s=he(this,wi).get(ob(r)))==null?void 0:s.find(a=>a!==r&&a.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Yn.batch(()=>{this.getAll().forEach(r=>{this.remove(r)})})}getAll(){return[...he(this,wi).values()].flat()}find(r){const n={exact:!0,...r};return this.getAll().find(s=>dR(n,s))}findAll(r={}){return this.getAll().filter(n=>dR(r,n))}notify(r){Yn.batch(()=>{this.listeners.forEach(n=>{n(r)})})}resumePausedMutations(){const r=this.getAll().filter(n=>n.state.isPaused);return Yn.batch(()=>Promise.all(r.map(n=>n.continue().catch(Yi))))}},wi=new WeakMap,kg=new WeakMap,M9);function ob(e){var r;return((r=e.options.scope)==null?void 0:r.id)??String(e.mutationId)}function pR(e){return{onFetch:(r,n)=>{var g,p,N,b,D;const s=r.options,a=(N=(p=(g=r.fetchOptions)==null?void 0:g.meta)==null?void 0:p.fetchMore)==null?void 0:N.direction,l=((b=r.state.data)==null?void 0:b.pages)||[],c=((D=r.state.data)==null?void 0:D.pageParams)||[];let u={pages:[],pageParams:[]},d=0;const h=async()=>{let E=!1;const j=k=>{Object.defineProperty(k,"signal",{enumerable:!0,get:()=>(r.signal.aborted?E=!0:r.signal.addEventListener("abort",()=>{E=!0}),r.signal)})},P=r7(r.options,r.fetchOptions),w=async(k,V,S)=>{if(E)return Promise.reject();if(V==null&&k.pages.length)return Promise.resolve(k);const R={queryKey:r.queryKey,pageParam:V,direction:S?"backward":"forward",meta:r.options.meta};j(R);const M=await P(R),{maxPages:T}=r.options,A=S?qq:Kq;return{pages:A(k.pages,M,T),pageParams:A(k.pageParams,V,T)}};if(a&&l.length){const k=a==="backward",V=k?iY:gR,S={pages:l,pageParams:c},R=V(s,S);u=await w(S,R,k)}else{const k=e??l.length;do{const V=d===0?c[0]??s.initialPageParam:gR(s,u);if(d>0&&V==null)break;u=await w(u,V),d++}while(d<k)}return u};r.options.persister?r.fetchFn=()=>{var E,j;return(j=(E=r.options).persister)==null?void 0:j.call(E,h,{queryKey:r.queryKey,meta:r.options.meta,signal:r.signal},n)}:r.fetchFn=h}}}function gR(e,{pages:r,pageParams:n}){const s=r.length-1;return r.length>0?e.getNextPageParam(r[s],r,n[s],n):void 0}function iY(e,{pages:r,pageParams:n}){var s;return r.length>0?(s=e.getPreviousPageParam)==null?void 0:s.call(e,r[0],r,n[0],n):void 0}var En,dc,hc,Ld,$d,fc,Bd,zd,T9,aY=(T9=class{constructor(e={}){Wt(this,En);Wt(this,dc);Wt(this,hc);Wt(this,Ld);Wt(this,$d);Wt(this,fc);Wt(this,Bd);Wt(this,zd);vt(this,En,e.queryCache||new rY),vt(this,dc,e.mutationCache||new sY),vt(this,hc,e.defaultOptions||{}),vt(this,Ld,new Map),vt(this,$d,new Map),vt(this,fc,0)}mount(){ab(this,fc)._++,he(this,fc)===1&&(vt(this,Bd,Oj.subscribe(async e=>{e&&(await this.resumePausedMutations(),he(this,En).onFocus())})),vt(this,zd,iv.subscribe(async e=>{e&&(await this.resumePausedMutations(),he(this,En).onOnline())})))}unmount(){var e,r;ab(this,fc)._--,he(this,fc)===0&&((e=he(this,Bd))==null||e.call(this),vt(this,Bd,void 0),(r=he(this,zd))==null||r.call(this),vt(this,zd,void 0))}isFetching(e){return he(this,En).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return he(this,dc).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const r=this.defaultQueryOptions({queryKey:e});return(n=he(this,En).get(r.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const r=this.getQueryData(e.queryKey);if(r===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),s=he(this,En).build(this,n);return e.revalidateIfStale&&s.isStaleByTime(Dd(n.staleTime,s))&&this.prefetchQuery(n),Promise.resolve(r)}}getQueriesData(e){return he(this,En).findAll(e).map(({queryKey:r,state:n})=>{const s=n.data;return[r,s]})}setQueryData(e,r,n){const s=this.defaultQueryOptions({queryKey:e}),a=he(this,En).get(s.queryHash),l=a==null?void 0:a.state.data,c=Hq(r,l);if(c!==void 0)return he(this,En).build(this,s).setData(c,{...n,manual:!0})}setQueriesData(e,r,n){return Yn.batch(()=>he(this,En).findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,r,n)]))}getQueryState(e){var n;const r=this.defaultQueryOptions({queryKey:e});return(n=he(this,En).get(r.queryHash))==null?void 0:n.state}removeQueries(e){const r=he(this,En);Yn.batch(()=>{r.findAll(e).forEach(n=>{r.remove(n)})})}resetQueries(e,r){const n=he(this,En),s={type:"active",...e};return Yn.batch(()=>(n.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries(s,r)))}cancelQueries(e={},r={}){const n={revert:!0,...r},s=Yn.batch(()=>he(this,En).findAll(e).map(a=>a.cancel(n)));return Promise.all(s).then(Yi).catch(Yi)}invalidateQueries(e={},r={}){return Yn.batch(()=>{if(he(this,En).findAll(e).forEach(s=>{s.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,r)})}refetchQueries(e={},r){const n={...r,cancelRefetch:(r==null?void 0:r.cancelRefetch)??!0},s=Yn.batch(()=>he(this,En).findAll(e).filter(a=>!a.isDisabled()).map(a=>{let l=a.fetch(void 0,n);return n.throwOnError||(l=l.catch(Yi)),a.state.fetchStatus==="paused"?Promise.resolve():l}));return Promise.all(s).then(Yi)}fetchQuery(e){const r=this.defaultQueryOptions(e);r.retry===void 0&&(r.retry=!1);const n=he(this,En).build(this,r);return n.isStaleByTime(Dd(r.staleTime,n))?n.fetch(r):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Yi).catch(Yi)}fetchInfiniteQuery(e){return e.behavior=pR(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Yi).catch(Yi)}ensureInfiniteQueryData(e){return e.behavior=pR(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return iv.isOnline()?he(this,dc).resumePausedMutations():Promise.resolve()}getQueryCache(){return he(this,En)}getMutationCache(){return he(this,dc)}getDefaultOptions(){return he(this,hc)}setDefaultOptions(e){vt(this,hc,e)}setQueryDefaults(e,r){he(this,Ld).set(zu(e),{queryKey:e,defaultOptions:r})}getQueryDefaults(e){const r=[...he(this,Ld).values()];let n={};return r.forEach(s=>{tg(e,s.queryKey)&&(n={...n,...s.defaultOptions})}),n}setMutationDefaults(e,r){he(this,$d).set(zu(e),{mutationKey:e,defaultOptions:r})}getMutationDefaults(e){const r=[...he(this,$d).values()];let n={};return r.forEach(s=>{tg(e,s.mutationKey)&&(n={...n,...s.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const r={...he(this,hc).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return r.queryHash||(r.queryHash=Ij(r.queryKey,r)),r.refetchOnReconnect===void 0&&(r.refetchOnReconnect=r.networkMode!=="always"),r.throwOnError===void 0&&(r.throwOnError=!!r.suspense),!r.networkMode&&r.persister&&(r.networkMode="offlineFirst"),r.enabled!==!0&&r.queryFn===sv&&(r.enabled=!1),r}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...he(this,hc).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){he(this,En).clear(),he(this,dc).clear()}},En=new WeakMap,dc=new WeakMap,hc=new WeakMap,Ld=new WeakMap,$d=new WeakMap,fc=new WeakMap,Bd=new WeakMap,zd=new WeakMap,T9),oi,Vr,Eg,Hs,_u,Wd,pc,io,Dg,Ud,Gd,Fu,Iu,gc,Hd,Kr,Lp,ND,xD,bD,vD,yD,wD,kD,c7,A9,oY=(A9=class extends Nh{constructor(r,n){super();Wt(this,Kr);Wt(this,oi);Wt(this,Vr);Wt(this,Eg);Wt(this,Hs);Wt(this,_u);Wt(this,Wd);Wt(this,pc);Wt(this,io);Wt(this,Dg);Wt(this,Ud);Wt(this,Gd);Wt(this,Fu);Wt(this,Iu);Wt(this,gc);Wt(this,Hd,new Set);this.options=n,vt(this,oi,r),vt(this,io,null),vt(this,pc,gD()),this.options.experimental_prefetchInRender||he(this,pc).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(he(this,Vr).addObserver(this),NR(he(this,Vr),this.options)?hr(this,Kr,Lp).call(this):this.updateResult(),hr(this,Kr,vD).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return ED(he(this,Vr),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return ED(he(this,Vr),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,hr(this,Kr,yD).call(this),hr(this,Kr,wD).call(this),he(this,Vr).removeObserver(this)}setOptions(r,n){const s=this.options,a=he(this,Vr);if(this.options=he(this,oi).defaultQueryOptions(r),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ea(this.options.enabled,he(this,Vr))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");hr(this,Kr,kD).call(this),he(this,Vr).setOptions(this.options),s._defaulted&&!nv(this.options,s)&&he(this,oi).getQueryCache().notify({type:"observerOptionsUpdated",query:he(this,Vr),observer:this});const l=this.hasListeners();l&&xR(he(this,Vr),a,this.options,s)&&hr(this,Kr,Lp).call(this),this.updateResult(n),l&&(he(this,Vr)!==a||Ea(this.options.enabled,he(this,Vr))!==Ea(s.enabled,he(this,Vr))||Dd(this.options.staleTime,he(this,Vr))!==Dd(s.staleTime,he(this,Vr)))&&hr(this,Kr,ND).call(this);const c=hr(this,Kr,xD).call(this);l&&(he(this,Vr)!==a||Ea(this.options.enabled,he(this,Vr))!==Ea(s.enabled,he(this,Vr))||c!==he(this,gc))&&hr(this,Kr,bD).call(this,c)}getOptimisticResult(r){const n=he(this,oi).getQueryCache().build(he(this,oi),r),s=this.createResult(n,r);return cY(this,s)&&(vt(this,Hs,s),vt(this,Wd,this.options),vt(this,_u,he(this,Vr).state)),s}getCurrentResult(){return he(this,Hs)}trackResult(r,n){const s={};return Object.keys(r).forEach(a=>{Object.defineProperty(s,a,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(a),n==null||n(a),r[a])})}),s}trackProp(r){he(this,Hd).add(r)}getCurrentQuery(){return he(this,Vr)}refetch({...r}={}){return this.fetch({...r})}fetchOptimistic(r){const n=he(this,oi).defaultQueryOptions(r),s=he(this,oi).getQueryCache().build(he(this,oi),n);return s.fetch().then(()=>this.createResult(s,n))}fetch(r){return hr(this,Kr,Lp).call(this,{...r,cancelRefetch:r.cancelRefetch??!0}).then(()=>(this.updateResult(),he(this,Hs)))}createResult(r,n){var T;const s=he(this,Vr),a=this.options,l=he(this,Hs),c=he(this,_u),u=he(this,Wd),h=r!==s?r.state:he(this,Eg),{state:g}=r;let p={...g},N=!1,b;if(n._optimisticResults){const A=this.hasListeners(),F=!A&&NR(r,n),L=A&&xR(r,s,n,a);(F||L)&&(p={...p,...o7(g.data,r.options)}),n._optimisticResults==="isRestoring"&&(p.fetchStatus="idle")}let{error:D,errorUpdatedAt:E,status:j}=p;if(n.select&&p.data!==void 0)if(l&&p.data===(c==null?void 0:c.data)&&n.select===he(this,Dg))b=he(this,Ud);else try{vt(this,Dg,n.select),b=n.select(p.data),b=pD(l==null?void 0:l.data,b,n),vt(this,Ud,b),vt(this,io,null)}catch(A){vt(this,io,A)}else b=p.data;if(n.placeholderData!==void 0&&b===void 0&&j==="pending"){let A;if(l!=null&&l.isPlaceholderData&&n.placeholderData===(u==null?void 0:u.placeholderData))A=l.data;else if(A=typeof n.placeholderData=="function"?n.placeholderData((T=he(this,Gd))==null?void 0:T.state.data,he(this,Gd)):n.placeholderData,n.select&&A!==void 0)try{A=n.select(A),vt(this,io,null)}catch(F){vt(this,io,F)}A!==void 0&&(j="success",b=pD(l==null?void 0:l.data,A,n),N=!0)}he(this,io)&&(D=he(this,io),b=he(this,Ud),E=Date.now(),j="error");const P=p.fetchStatus==="fetching",w=j==="pending",k=j==="error",V=w&&P,S=b!==void 0,M={status:j,fetchStatus:p.fetchStatus,isPending:w,isSuccess:j==="success",isError:k,isInitialLoading:V,isLoading:V,data:b,dataUpdatedAt:p.dataUpdatedAt,error:D,errorUpdatedAt:E,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>h.dataUpdateCount||p.errorUpdateCount>h.errorUpdateCount,isFetching:P,isRefetching:P&&!w,isLoadingError:k&&!S,isPaused:p.fetchStatus==="paused",isPlaceholderData:N,isRefetchError:k&&S,isStale:Lj(r,n),refetch:this.refetch,promise:he(this,pc)};if(this.options.experimental_prefetchInRender){const A=$=>{M.status==="error"?$.reject(M.error):M.data!==void 0&&$.resolve(M.data)},F=()=>{const $=vt(this,pc,M.promise=gD());A($)},L=he(this,pc);switch(L.status){case"pending":r.queryHash===s.queryHash&&A(L);break;case"fulfilled":(M.status==="error"||M.data!==L.value)&&F();break;case"rejected":(M.status!=="error"||M.error!==L.reason)&&F();break}}return M}updateResult(r){const n=he(this,Hs),s=this.createResult(he(this,Vr),this.options);if(vt(this,_u,he(this,Vr).state),vt(this,Wd,this.options),he(this,_u).data!==void 0&&vt(this,Gd,he(this,Vr)),nv(s,n))return;vt(this,Hs,s);const a={},l=()=>{if(!n)return!0;const{notifyOnChangeProps:c}=this.options,u=typeof c=="function"?c():c;if(u==="all"||!u&&!he(this,Hd).size)return!0;const d=new Set(u??he(this,Hd));return this.options.throwOnError&&d.add("error"),Object.keys(he(this,Hs)).some(h=>{const g=h;return he(this,Hs)[g]!==n[g]&&d.has(g)})};(r==null?void 0:r.listeners)!==!1&&l()&&(a.listeners=!0),hr(this,Kr,c7).call(this,{...a,...r})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&hr(this,Kr,vD).call(this)}},oi=new WeakMap,Vr=new WeakMap,Eg=new WeakMap,Hs=new WeakMap,_u=new WeakMap,Wd=new WeakMap,pc=new WeakMap,io=new WeakMap,Dg=new WeakMap,Ud=new WeakMap,Gd=new WeakMap,Fu=new WeakMap,Iu=new WeakMap,gc=new WeakMap,Hd=new WeakMap,Kr=new WeakSet,Lp=function(r){hr(this,Kr,kD).call(this);let n=he(this,Vr).fetch(this.options,r);return r!=null&&r.throwOnError||(n=n.catch(Yi)),n},ND=function(){hr(this,Kr,yD).call(this);const r=Dd(this.options.staleTime,he(this,Vr));if(Bu||he(this,Hs).isStale||!dD(r))return;const s=t7(he(this,Hs).dataUpdatedAt,r)+1;vt(this,Fu,setTimeout(()=>{he(this,Hs).isStale||this.updateResult()},s))},xD=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(he(this,Vr)):this.options.refetchInterval)??!1},bD=function(r){hr(this,Kr,wD).call(this),vt(this,gc,r),!(Bu||Ea(this.options.enabled,he(this,Vr))===!1||!dD(he(this,gc))||he(this,gc)===0)&&vt(this,Iu,setInterval(()=>{(this.options.refetchIntervalInBackground||Oj.isFocused())&&hr(this,Kr,Lp).call(this)},he(this,gc)))},vD=function(){hr(this,Kr,ND).call(this),hr(this,Kr,bD).call(this,hr(this,Kr,xD).call(this))},yD=function(){he(this,Fu)&&(clearTimeout(he(this,Fu)),vt(this,Fu,void 0))},wD=function(){he(this,Iu)&&(clearInterval(he(this,Iu)),vt(this,Iu,void 0))},kD=function(){const r=he(this,oi).getQueryCache().build(he(this,oi),this.options);if(r===he(this,Vr))return;const n=he(this,Vr);vt(this,Vr,r),vt(this,Eg,r.state),this.hasListeners()&&(n==null||n.removeObserver(this),r.addObserver(this))},c7=function(r){Yn.batch(()=>{r.listeners&&this.listeners.forEach(n=>{n(he(this,Hs))}),he(this,oi).getQueryCache().notify({query:he(this,Vr),type:"observerResultsUpdated"})})},A9);function lY(e,r){return Ea(r.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&r.retryOnMount===!1)}function NR(e,r){return lY(e,r)||e.state.data!==void 0&&ED(e,r,r.refetchOnMount)}function ED(e,r,n){if(Ea(r.enabled,e)!==!1){const s=typeof n=="function"?n(e):n;return s==="always"||s!==!1&&Lj(e,r)}return!1}function xR(e,r,n,s){return(e!==r||Ea(s.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&Lj(e,n)}function Lj(e,r){return Ea(r.enabled,e)!==!1&&e.isStaleByTime(Dd(r.staleTime,e))}function cY(e,r){return!nv(e.getCurrentResult(),r)}var Nc,xc,li,sl,cl,Lb,DD,_9,uY=(_9=class extends Nh{constructor(n,s){super();Wt(this,cl);Wt(this,Nc);Wt(this,xc);Wt(this,li);Wt(this,sl);vt(this,Nc,n),this.setOptions(s),this.bindMethods(),hr(this,cl,Lb).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var a;const s=this.options;this.options=he(this,Nc).defaultMutationOptions(n),nv(this.options,s)||he(this,Nc).getMutationCache().notify({type:"observerOptionsUpdated",mutation:he(this,li),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&zu(s.mutationKey)!==zu(this.options.mutationKey)?this.reset():((a=he(this,li))==null?void 0:a.state.status)==="pending"&&he(this,li).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=he(this,li))==null||n.removeObserver(this)}onMutationUpdate(n){hr(this,cl,Lb).call(this),hr(this,cl,DD).call(this,n)}getCurrentResult(){return he(this,xc)}reset(){var n;(n=he(this,li))==null||n.removeObserver(this),vt(this,li,void 0),hr(this,cl,Lb).call(this),hr(this,cl,DD).call(this)}mutate(n,s){var a;return vt(this,sl,s),(a=he(this,li))==null||a.removeObserver(this),vt(this,li,he(this,Nc).getMutationCache().build(he(this,Nc),this.options)),he(this,li).addObserver(this),he(this,li).execute(n)}},Nc=new WeakMap,xc=new WeakMap,li=new WeakMap,sl=new WeakMap,cl=new WeakSet,Lb=function(){var s;const n=((s=he(this,li))==null?void 0:s.state)??l7();vt(this,xc,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},DD=function(n){Yn.batch(()=>{var s,a,l,c,u,d,h,g;if(he(this,sl)&&this.hasListeners()){const p=he(this,xc).variables,N=he(this,xc).context;(n==null?void 0:n.type)==="success"?((a=(s=he(this,sl)).onSuccess)==null||a.call(s,n.data,p,N),(c=(l=he(this,sl)).onSettled)==null||c.call(l,n.data,null,p,N)):(n==null?void 0:n.type)==="error"&&((d=(u=he(this,sl)).onError)==null||d.call(u,n.error,p,N),(g=(h=he(this,sl)).onSettled)==null||g.call(h,void 0,n.error,p,N))}this.listeners.forEach(p=>{p(he(this,xc))})})},_9),u7={exports:{}},$b={};/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){var e=v,r=Symbol.for("react.element"),n=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),b=Symbol.for("react.offscreen"),D=Symbol.iterator,E="@@iterator";function j(X){if(X===null||typeof X!="object")return null;var Se=D&&X[D]||X[E];return typeof Se=="function"?Se:null}var P=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function w(X){{for(var Se=arguments.length,Ge=new Array(Se>1?Se-1:0),Ze=1;Ze<Se;Ze++)Ge[Ze-1]=arguments[Ze];k("error",X,Ge)}}function k(X,Se,Ge){{var Ze=P.ReactDebugCurrentFrame,ct=Ze.getStackAddendum();ct!==""&&(Se+="%s",Ge=Ge.concat([ct]));var nt=Ge.map(function(Tt){return String(Tt)});nt.unshift("Warning: "+Se),Function.prototype.apply.call(console[X],console,nt)}}var V=!1,S=!1,R=!1,M=!1,T=!1,A;A=Symbol.for("react.module.reference");function F(X){return!!(typeof X=="string"||typeof X=="function"||X===s||X===l||T||X===a||X===h||X===g||M||X===b||V||S||R||typeof X=="object"&&X!==null&&(X.$$typeof===N||X.$$typeof===p||X.$$typeof===c||X.$$typeof===u||X.$$typeof===d||X.$$typeof===A||X.getModuleId!==void 0))}function L(X,Se,Ge){var Ze=X.displayName;if(Ze)return Ze;var ct=Se.displayName||Se.name||"";return ct!==""?Ge+"("+ct+")":Ge}function $(X){return X.displayName||"Context"}function W(X){if(X==null)return null;if(typeof X.tag=="number"&&w("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof X=="function")return X.displayName||X.name||null;if(typeof X=="string")return X;switch(X){case s:return"Fragment";case n:return"Portal";case l:return"Profiler";case a:return"StrictMode";case h:return"Suspense";case g:return"SuspenseList"}if(typeof X=="object")switch(X.$$typeof){case u:var Se=X;return $(Se)+".Consumer";case c:var Ge=X;return $(Ge._context)+".Provider";case d:return L(X,X.render,"ForwardRef");case p:var Ze=X.displayName||null;return Ze!==null?Ze:W(X.type)||"Memo";case N:{var ct=X,nt=ct._payload,Tt=ct._init;try{return W(Tt(nt))}catch{return null}}}return null}var O=Object.assign,Y=0,H,q,z,G,ee,K,be;function _e(){}_e.__reactDisabledLog=!0;function oe(){{if(Y===0){H=console.log,q=console.info,z=console.warn,G=console.error,ee=console.group,K=console.groupCollapsed,be=console.groupEnd;var X={configurable:!0,enumerable:!0,value:_e,writable:!0};Object.defineProperties(console,{info:X,log:X,warn:X,error:X,group:X,groupCollapsed:X,groupEnd:X})}Y++}}function fe(){{if(Y--,Y===0){var X={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:O({},X,{value:H}),info:O({},X,{value:q}),warn:O({},X,{value:z}),error:O({},X,{value:G}),group:O({},X,{value:ee}),groupCollapsed:O({},X,{value:K}),groupEnd:O({},X,{value:be})})}Y<0&&w("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var Ae=P.ReactCurrentDispatcher,ge;function Pe(X,Se,Ge){{if(ge===void 0)try{throw Error()}catch(ct){var Ze=ct.stack.trim().match(/\n( *(at )?)/);ge=Ze&&Ze[1]||""}return`
`+ge+X}}var ze=!1,We;{var Re=typeof WeakMap=="function"?WeakMap:Map;We=new Re}function Ee(X,Se){if(!X||ze)return"";{var Ge=We.get(X);if(Ge!==void 0)return Ge}var Ze;ze=!0;var ct=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var nt;nt=Ae.current,Ae.current=null,oe();try{if(Se){var Tt=function(){throw Error()};if(Object.defineProperty(Tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Tt,[])}catch(tn){Ze=tn}Reflect.construct(X,[],Tt)}else{try{Tt.call()}catch(tn){Ze=tn}X.call(Tt.prototype)}}else{try{throw Error()}catch(tn){Ze=tn}X()}}catch(tn){if(tn&&Ze&&typeof tn.stack=="string"){for(var jt=tn.stack.split(`
`),sr=Ze.stack.split(`
`),dr=jt.length-1,Tr=sr.length-1;dr>=1&&Tr>=0&&jt[dr]!==sr[Tr];)Tr--;for(;dr>=1&&Tr>=0;dr--,Tr--)if(jt[dr]!==sr[Tr]){if(dr!==1||Tr!==1)do if(dr--,Tr--,Tr<0||jt[dr]!==sr[Tr]){var sn=`
`+jt[dr].replace(" at new "," at ");return X.displayName&&sn.includes("<anonymous>")&&(sn=sn.replace("<anonymous>",X.displayName)),typeof X=="function"&&We.set(X,sn),sn}while(dr>=1&&Tr>=0);break}}}finally{ze=!1,Ae.current=nt,fe(),Error.prepareStackTrace=ct}var en=X?X.displayName||X.name:"",Zn=en?Pe(en):"";return typeof X=="function"&&We.set(X,Zn),Zn}function ie(X,Se,Ge){return Ee(X,!1)}function ve(X){var Se=X.prototype;return!!(Se&&Se.isReactComponent)}function ne(X,Se,Ge){if(X==null)return"";if(typeof X=="function")return Ee(X,ve(X));if(typeof X=="string")return Pe(X);switch(X){case h:return Pe("Suspense");case g:return Pe("SuspenseList")}if(typeof X=="object")switch(X.$$typeof){case d:return ie(X.render);case p:return ne(X.type,Se,Ge);case N:{var Ze=X,ct=Ze._payload,nt=Ze._init;try{return ne(nt(ct),Se,Ge)}catch{}}}return""}var le=Object.prototype.hasOwnProperty,Ue={},bt=P.ReactDebugCurrentFrame;function ht(X){if(X){var Se=X._owner,Ge=ne(X.type,X._source,Se?Se.type:null);bt.setExtraStackFrame(Ge)}else bt.setExtraStackFrame(null)}function Mt(X,Se,Ge,Ze,ct){{var nt=Function.call.bind(le);for(var Tt in X)if(nt(X,Tt)){var jt=void 0;try{if(typeof X[Tt]!="function"){var sr=Error((Ze||"React class")+": "+Ge+" type `"+Tt+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof X[Tt]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw sr.name="Invariant Violation",sr}jt=X[Tt](Se,Tt,Ze,Ge,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(dr){jt=dr}jt&&!(jt instanceof Error)&&(ht(ct),w("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",Ze||"React class",Ge,Tt,typeof jt),ht(null)),jt instanceof Error&&!(jt.message in Ue)&&(Ue[jt.message]=!0,ht(ct),w("Failed %s type: %s",Ge,jt.message),ht(null))}}}var Kt=Array.isArray;function re(X){return Kt(X)}function ye(X){{var Se=typeof Symbol=="function"&&Symbol.toStringTag,Ge=Se&&X[Symbol.toStringTag]||X.constructor.name||"Object";return Ge}}function ue(X){try{return we(X),!1}catch{return!0}}function we(X){return""+X}function Ve(X){if(ue(X))return w("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",ye(X)),we(X)}var ke=P.ReactCurrentOwner,Oe={key:!0,ref:!0,__self:!0,__source:!0},et,Fe;function Je(X){if(le.call(X,"ref")){var Se=Object.getOwnPropertyDescriptor(X,"ref").get;if(Se&&Se.isReactWarning)return!1}return X.ref!==void 0}function Nt(X){if(le.call(X,"key")){var Se=Object.getOwnPropertyDescriptor(X,"key").get;if(Se&&Se.isReactWarning)return!1}return X.key!==void 0}function Vt(X,Se){typeof X.ref=="string"&&ke.current}function Ot(X,Se){{var Ge=function(){et||(et=!0,w("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",Se))};Ge.isReactWarning=!0,Object.defineProperty(X,"key",{get:Ge,configurable:!0})}}function fr(X,Se){{var Ge=function(){Fe||(Fe=!0,w("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",Se))};Ge.isReactWarning=!0,Object.defineProperty(X,"ref",{get:Ge,configurable:!0})}}var _t=function(X,Se,Ge,Ze,ct,nt,Tt){var jt={$$typeof:r,type:X,key:Se,ref:Ge,props:Tt,_owner:nt};return jt._store={},Object.defineProperty(jt._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(jt,"_self",{configurable:!1,enumerable:!1,writable:!1,value:Ze}),Object.defineProperty(jt,"_source",{configurable:!1,enumerable:!1,writable:!1,value:ct}),Object.freeze&&(Object.freeze(jt.props),Object.freeze(jt)),jt};function Zr(X,Se,Ge,Ze,ct){{var nt,Tt={},jt=null,sr=null;Ge!==void 0&&(Ve(Ge),jt=""+Ge),Nt(Se)&&(Ve(Se.key),jt=""+Se.key),Je(Se)&&(sr=Se.ref,Vt(Se,ct));for(nt in Se)le.call(Se,nt)&&!Oe.hasOwnProperty(nt)&&(Tt[nt]=Se[nt]);if(X&&X.defaultProps){var dr=X.defaultProps;for(nt in dr)Tt[nt]===void 0&&(Tt[nt]=dr[nt])}if(jt||sr){var Tr=typeof X=="function"?X.displayName||X.name||"Unknown":X;jt&&Ot(Tt,Tr),sr&&fr(Tt,Tr)}return _t(X,jt,sr,ct,Ze,ke.current,Tt)}}var xr=P.ReactCurrentOwner,mr=P.ReactDebugCurrentFrame;function wr(X){if(X){var Se=X._owner,Ge=ne(X.type,X._source,Se?Se.type:null);mr.setExtraStackFrame(Ge)}else mr.setExtraStackFrame(null)}var gn;gn=!1;function Nn(X){return typeof X=="object"&&X!==null&&X.$$typeof===r}function $r(){{if(xr.current){var X=W(xr.current.type);if(X)return`

Check the render method of \``+X+"`."}return""}}function Ds(X){return""}var di={};function Ys(X){{var Se=$r();if(!Se){var Ge=typeof X=="string"?X:X.displayName||X.name;Ge&&(Se=`

Check the top-level render call using <`+Ge+">.")}return Se}}function Xs(X,Se){{if(!X._store||X._store.validated||X.key!=null)return;X._store.validated=!0;var Ge=Ys(Se);if(di[Ge])return;di[Ge]=!0;var Ze="";X&&X._owner&&X._owner!==xr.current&&(Ze=" It was passed a child from "+W(X._owner.type)+"."),wr(X),w('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',Ge,Ze),wr(null)}}function Qs(X,Se){{if(typeof X!="object")return;if(re(X))for(var Ge=0;Ge<X.length;Ge++){var Ze=X[Ge];Nn(Ze)&&Xs(Ze,Se)}else if(Nn(X))X._store&&(X._store.validated=!0);else if(X){var ct=j(X);if(typeof ct=="function"&&ct!==X.entries)for(var nt=ct.call(X),Tt;!(Tt=nt.next()).done;)Nn(Tt.value)&&Xs(Tt.value,Se)}}}function Zs(X){{var Se=X.type;if(Se==null||typeof Se=="string")return;var Ge;if(typeof Se=="function")Ge=Se.propTypes;else if(typeof Se=="object"&&(Se.$$typeof===d||Se.$$typeof===p))Ge=Se.propTypes;else return;if(Ge){var Ze=W(Se);Mt(Ge,X.props,"prop",Ze,X)}else if(Se.PropTypes!==void 0&&!gn){gn=!0;var ct=W(Se);w("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",ct||"Unknown")}typeof Se.getDefaultProps=="function"&&!Se.getDefaultProps.isReactClassApproved&&w("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function _s(X){{for(var Se=Object.keys(X.props),Ge=0;Ge<Se.length;Ge++){var Ze=Se[Ge];if(Ze!=="children"&&Ze!=="key"){wr(X),w("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",Ze),wr(null);break}}X.ref!==null&&(wr(X),w("Invalid attribute `ref` supplied to `React.Fragment`."),wr(null))}}var us={};function Qn(X,Se,Ge,Ze,ct,nt){{var Tt=F(X);if(!Tt){var jt="";(X===void 0||typeof X=="object"&&X!==null&&Object.keys(X).length===0)&&(jt+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var sr=Ds();sr?jt+=sr:jt+=$r();var dr;X===null?dr="null":re(X)?dr="array":X!==void 0&&X.$$typeof===r?(dr="<"+(W(X.type)||"Unknown")+" />",jt=" Did you accidentally export a JSX literal instead of a component?"):dr=typeof X,w("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",dr,jt)}var Tr=Zr(X,Se,Ge,ct,nt);if(Tr==null)return Tr;if(Tt){var sn=Se.children;if(sn!==void 0)if(Ze)if(re(sn)){for(var en=0;en<sn.length;en++)Qs(sn[en],X);Object.freeze&&Object.freeze(sn)}else w("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else Qs(sn,X)}if(le.call(Se,"key")){var Zn=W(X),tn=Object.keys(Se).filter(function(kl){return kl!=="key"}),Xt=tn.length>0?"{key: someKey, "+tn.join(": ..., ")+": ...}":"{key: someKey}";if(!us[Zn+Xt]){var sa=tn.length>0?"{"+tn.join(": ..., ")+": ...}":"{}";w(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,Xt,Zn,sa,Zn),us[Zn+Xt]=!0}}return X===s?_s(Tr):Zs(Tr),Tr}}function ei(X,Se,Ge){return Qn(X,Se,Ge,!0)}function na(X,Se,Ge){return Qn(X,Se,Ge,!1)}var ce=na,Ye=ei;$b.Fragment=s,$b.jsx=ce,$b.jsxs=Ye})();u7.exports=$b;var U=u7.exports,m7=v.createContext(void 0),Yv=e=>{const r=v.useContext(m7);if(!r)throw new Error("No QueryClient set, use QueryClientProvider to set one");return r},mY=({client:e,children:r})=>(v.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),U.jsx(m7.Provider,{value:e,children:r})),d7=v.createContext(!1),dY=()=>v.useContext(d7);d7.Provider;function hY(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var fY=v.createContext(hY()),pY=()=>v.useContext(fY);function h7(e,r){return typeof e=="function"?e(...r):!!e}function jD(){}var gY=(e,r)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(r.isReset()||(e.retryOnMount=!1))},NY=e=>{v.useEffect(()=>{e.clearReset()},[e])},xY=({result:e,errorResetBoundary:r,throwOnError:n,query:s})=>e.isError&&!r.isReset()&&!e.isFetching&&s&&h7(n,[e.error,s]),bY=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},vY=(e,r)=>e.isLoading&&e.isFetching&&!r,yY=(e,r)=>(e==null?void 0:e.suspense)&&r.isPending,bR=(e,r,n)=>r.fetchOptimistic(e).catch(()=>{n.clearReset()});function wY(e,r,n){var g,p,N,b,D;if(typeof e!="object"||Array.isArray(e))throw new Error('Bad argument type. Starting with v5, only the "Object" form is allowed when calling query related functions. Please use the error stack to find the culprit call. More info here: https://tanstack.com/query/latest/docs/react/guides/migrating-to-v5#supports-a-single-signature-one-object');const s=Yv(),a=dY(),l=pY(),c=s.defaultQueryOptions(e);(p=(g=s.getDefaultOptions().queries)==null?void 0:g._experimental_beforeQuery)==null||p.call(g,c),c._optimisticResults=a?"isRestoring":"optimistic",bY(c),gY(c,l),NY(l);const u=!s.getQueryCache().get(c.queryHash),[d]=v.useState(()=>new r(s,c)),h=d.getOptimisticResult(c);if(v.useSyncExternalStore(v.useCallback(E=>{const j=a?jD:d.subscribe(Yn.batchCalls(E));return d.updateResult(),j},[d,a]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),v.useEffect(()=>{d.setOptions(c,{listeners:!1})},[c,d]),yY(c,h))throw bR(c,d,l);if(xY({result:h,errorResetBoundary:l,throwOnError:c.throwOnError,query:s.getQueryCache().get(c.queryHash)}))throw h.error;if((b=(N=s.getDefaultOptions().queries)==null?void 0:N._experimental_afterQuery)==null||b.call(N,c,h),c.experimental_prefetchInRender&&!Bu&&vY(h,a)){const E=u?bR(c,d,l):(D=s.getQueryCache().get(c.queryHash))==null?void 0:D.promise;E==null||E.catch(jD).finally(()=>{d.updateResult()})}return c.notifyOnChangeProps?h:d.trackResult(h)}function yt(e,r){return wY(e,oY)}function Qr(e,r){const n=Yv(),[s]=v.useState(()=>new uY(n,e));v.useEffect(()=>{s.setOptions(e)},[s,e]);const a=v.useSyncExternalStore(v.useCallback(c=>s.subscribe(Yn.batchCalls(c)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),l=v.useCallback((c,u)=>{s.mutate(c,u).catch(jD)},[s]);if(a.error&&h7(s.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:l,mutateAsync:a.mutate}}async function f7(e){if(!e.ok){if(e.status===401)throw window.location.pathname!=="/auth"&&(window.location.href="/auth"),new Error("401: Unauthorized");const r=await e.text()||e.statusText;throw new Error(`${e.status}: ${r}`)}}async function Zt(e,r,n){const s=await fetch(r,{method:e,headers:n?{"Content-Type":"application/json"}:{},body:n?JSON.stringify(n):void 0,credentials:"include"});return await f7(s),s}const p7=({on401:e})=>async({queryKey:r})=>{const n=[],s=new URLSearchParams;for(const u of r)if(typeof u=="object"&&u!==null&&!Array.isArray(u))for(const[d,h]of Object.entries(u))h!=null&&s.append(d,String(h));else if(u!=null){const d=String(u);n.push(d.startsWith("/")?d:"/"+d)}let a=n.join("");const l=s.toString();l&&(a+="?"+l);const c=await fetch(a,{credentials:"include"});return e==="returnNull"&&c.status===401?null:(await f7(c),await c.json())},vr=new aY({defaultOptions:{queries:{queryFn:p7({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),kY=1,EY=1e6;let pE=0;function DY(){return pE=(pE+1)%Number.MAX_SAFE_INTEGER,pE.toString()}const gE=new Map,vR=e=>{if(gE.has(e))return;const r=setTimeout(()=>{gE.delete(e),Hp({type:"REMOVE_TOAST",toastId:e})},EY);gE.set(e,r)},jY=(e,r)=>{switch(r.type){case"ADD_TOAST":return{...e,toasts:[r.toast,...e.toasts].slice(0,kY)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===r.toast.id?{...n,...r.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=r;return n?vR(n):e.toasts.forEach(s=>{vR(s.id)}),{...e,toasts:e.toasts.map(s=>s.id===n||n===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return r.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==r.toastId)}}},Bb=[];let zb={toasts:[]};function Hp(e){zb=jY(zb,e),Bb.forEach(r=>{r(zb)})}function VY({...e}){const r=DY(),n=a=>Hp({type:"UPDATE_TOAST",toast:{...a,id:r}}),s=()=>Hp({type:"DISMISS_TOAST",toastId:r});return Hp({type:"ADD_TOAST",toast:{...e,id:r,open:!0,onOpenChange:a=>{a||s()}}}),{id:r,dismiss:s,update:n}}function ur(){const[e,r]=v.useState(zb);return v.useEffect(()=>(Bb.push(r),()=>{const n=Bb.indexOf(r);n>-1&&Bb.splice(n,1)}),[e]),{...e,toast:VY,dismiss:n=>Hp({type:"DISMISS_TOAST",toastId:n})}}function Et(e,r,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e==null||e(a),n===!1||!a.defaultPrevented)return r==null?void 0:r(a)}}function yR(e,r){if(typeof e=="function")return e(r);e!=null&&(e.current=r)}function g7(...e){return r=>{let n=!1;const s=e.map(a=>{const l=yR(a,r);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<s.length;a++){const l=s[a];typeof l=="function"?l():yR(e[a],null)}}}}function Nr(...e){return v.useCallback(g7(...e),e)}function PY(e,r){const n=v.createContext(r),s=l=>{const{children:c,...u}=l,d=v.useMemo(()=>u,Object.values(u));return U.jsx(n.Provider,{value:d,children:c})};s.displayName=e+"Provider";function a(l){const c=v.useContext(n);if(c)return c;if(r!==void 0)return r;throw new Error(`\`${l}\` must be used within \`${e}\``)}return[s,a]}function As(e,r=[]){let n=[];function s(l,c){const u=v.createContext(c),d=n.length;n=[...n,c];const h=p=>{var P;const{scope:N,children:b,...D}=p,E=((P=N==null?void 0:N[e])==null?void 0:P[d])||u,j=v.useMemo(()=>D,Object.values(D));return U.jsx(E.Provider,{value:j,children:b})};h.displayName=l+"Provider";function g(p,N){var E;const b=((E=N==null?void 0:N[e])==null?void 0:E[d])||u,D=v.useContext(b);if(D)return D;if(c!==void 0)return c;throw new Error(`\`${p}\` must be used within \`${l}\``)}return[h,g]}const a=()=>{const l=n.map(c=>v.createContext(c));return function(u){const d=(u==null?void 0:u[e])||l;return v.useMemo(()=>({[`__scope${e}`]:{...u,[e]:d}}),[u,d])}};return a.scopeName=e,[s,SY(a,...r)]}function SY(...e){const r=e[0];if(e.length===1)return r;const n=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(l){const c=s.reduce((u,{useScope:d,scopeName:h})=>{const p=d(l)[`__scope${h}`];return{...u,...p}},{});return v.useMemo(()=>({[`__scope${r.scopeName}`]:c}),[c])}};return n.scopeName=r.scopeName,n}function Jd(e){const r=CY(e),n=v.forwardRef((s,a)=>{const{children:l,...c}=s,u=v.Children.toArray(l),d=u.find(RY);if(d){const h=d.props.children,g=u.map(p=>p===d?v.Children.count(h)>1?v.Children.only(null):v.isValidElement(h)?h.props.children:null:p);return U.jsx(r,{...c,ref:a,children:v.isValidElement(h)?v.cloneElement(h,void 0,g):null})}return U.jsx(r,{...c,ref:a,children:l})});return n.displayName=`${e}.Slot`,n}var N7=Jd("Slot");function CY(e){const r=v.forwardRef((n,s)=>{const{children:a,...l}=n;if(v.isValidElement(a)){const c=TY(a),u=MY(l,a.props);return a.type!==v.Fragment&&(u.ref=s?g7(s,c):c),v.cloneElement(a,u)}return v.Children.count(a)>1?v.Children.only(null):null});return r.displayName=`${e}.SlotClone`,r}var x7=Symbol("radix.slottable");function b7(e){const r=({children:n})=>U.jsx(U.Fragment,{children:n});return r.displayName=`${e}.Slottable`,r.__radixId=x7,r}function RY(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===x7}function MY(e,r){const n={...r};for(const s in r){const a=e[s],l=r[s];/^on[A-Z]/.test(s)?a&&l?n[s]=(...u)=>{l(...u),a(...u)}:a&&(n[s]=a):s==="style"?n[s]={...a,...l}:s==="className"&&(n[s]=[a,l].filter(Boolean).join(" "))}return{...e,...n}}function TY(e){var s,a;let r=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=r&&"isReactWarning"in r&&r.isReactWarning;return n?e.ref:(r=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=r&&"isReactWarning"in r&&r.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Xv(e){const r=e+"CollectionProvider",[n,s]=As(r),[a,l]=n(r,{collectionRef:{current:null},itemMap:new Map}),c=E=>{const{scope:j,children:P}=E,w=St.useRef(null),k=St.useRef(new Map).current;return U.jsx(a,{scope:j,itemMap:k,collectionRef:w,children:P})};c.displayName=r;const u=e+"CollectionSlot",d=Jd(u),h=St.forwardRef((E,j)=>{const{scope:P,children:w}=E,k=l(u,P),V=Nr(j,k.collectionRef);return U.jsx(d,{ref:V,children:w})});h.displayName=u;const g=e+"CollectionItemSlot",p="data-radix-collection-item",N=Jd(g),b=St.forwardRef((E,j)=>{const{scope:P,children:w,...k}=E,V=St.useRef(null),S=Nr(j,V),R=l(g,P);return St.useEffect(()=>(R.itemMap.set(V,{ref:V,...k}),()=>void R.itemMap.delete(V))),U.jsx(N,{[p]:"",ref:S,children:w})});b.displayName=g;function D(E){const j=l(e+"CollectionConsumer",E);return St.useCallback(()=>{const w=j.collectionRef.current;if(!w)return[];const k=Array.from(w.querySelectorAll(`[${p}]`));return Array.from(j.itemMap.values()).sort((R,M)=>k.indexOf(R.ref.current)-k.indexOf(M.ref.current))},[j.collectionRef,j.itemMap])}return[{Provider:c,Slot:h,ItemSlot:b},D,s]}var AY=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],At=AY.reduce((e,r)=>{const n=Jd(`Primitive.${r}`),s=v.forwardRef((a,l)=>{const{asChild:c,...u}=a,d=c?n:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),U.jsx(d,{...u,ref:l})});return s.displayName=`Primitive.${r}`,{...e,[r]:s}},{});function v7(e,r){e&&em.flushSync(()=>e.dispatchEvent(r))}function Cn(e){const r=v.useRef(e);return v.useEffect(()=>{r.current=e}),v.useMemo(()=>(...n)=>{var s;return(s=r.current)==null?void 0:s.call(r,...n)},[])}function _Y(e,r=globalThis==null?void 0:globalThis.document){const n=Cn(e);v.useEffect(()=>{const s=a=>{a.key==="Escape"&&n(a)};return r.addEventListener("keydown",s,{capture:!0}),()=>r.removeEventListener("keydown",s,{capture:!0})},[n,r])}var FY="DismissableLayer",VD="dismissableLayer.update",IY="dismissableLayer.pointerDownOutside",OY="dismissableLayer.focusOutside",wR,y7=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),jg=v.forwardRef((e,r)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:l,onInteractOutside:c,onDismiss:u,...d}=e,h=v.useContext(y7),[g,p]=v.useState(null),N=(g==null?void 0:g.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,b]=v.useState({}),D=Nr(r,M=>p(M)),E=Array.from(h.layers),[j]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),P=E.indexOf(j),w=g?E.indexOf(g):-1,k=h.layersWithOutsidePointerEventsDisabled.size>0,V=w>=P,S=$Y(M=>{const T=M.target,A=[...h.branches].some(F=>F.contains(T));!V||A||(a==null||a(M),c==null||c(M),M.defaultPrevented||u==null||u())},N),R=BY(M=>{const T=M.target;[...h.branches].some(F=>F.contains(T))||(l==null||l(M),c==null||c(M),M.defaultPrevented||u==null||u())},N);return _Y(M=>{w===h.layers.size-1&&(s==null||s(M),!M.defaultPrevented&&u&&(M.preventDefault(),u()))},N),v.useEffect(()=>{if(g)return n&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(wR=N.body.style.pointerEvents,N.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(g)),h.layers.add(g),kR(),()=>{n&&h.layersWithOutsidePointerEventsDisabled.size===1&&(N.body.style.pointerEvents=wR)}},[g,N,n,h]),v.useEffect(()=>()=>{g&&(h.layers.delete(g),h.layersWithOutsidePointerEventsDisabled.delete(g),kR())},[g,h]),v.useEffect(()=>{const M=()=>b({});return document.addEventListener(VD,M),()=>document.removeEventListener(VD,M)},[]),U.jsx(At.div,{...d,ref:D,style:{pointerEvents:k?V?"auto":"none":void 0,...e.style},onFocusCapture:Et(e.onFocusCapture,R.onFocusCapture),onBlurCapture:Et(e.onBlurCapture,R.onBlurCapture),onPointerDownCapture:Et(e.onPointerDownCapture,S.onPointerDownCapture)})});jg.displayName=FY;var LY="DismissableLayerBranch",w7=v.forwardRef((e,r)=>{const n=v.useContext(y7),s=v.useRef(null),a=Nr(r,s);return v.useEffect(()=>{const l=s.current;if(l)return n.branches.add(l),()=>{n.branches.delete(l)}},[n.branches]),U.jsx(At.div,{...e,ref:a})});w7.displayName=LY;function $Y(e,r=globalThis==null?void 0:globalThis.document){const n=Cn(e),s=v.useRef(!1),a=v.useRef(()=>{});return v.useEffect(()=>{const l=u=>{if(u.target&&!s.current){let d=function(){k7(IY,n,h,{discrete:!0})};const h={originalEvent:u};u.pointerType==="touch"?(r.removeEventListener("click",a.current),a.current=d,r.addEventListener("click",a.current,{once:!0})):d()}else r.removeEventListener("click",a.current);s.current=!1},c=window.setTimeout(()=>{r.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(c),r.removeEventListener("pointerdown",l),r.removeEventListener("click",a.current)}},[r,n]),{onPointerDownCapture:()=>s.current=!0}}function BY(e,r=globalThis==null?void 0:globalThis.document){const n=Cn(e),s=v.useRef(!1);return v.useEffect(()=>{const a=l=>{l.target&&!s.current&&k7(OY,n,{originalEvent:l},{discrete:!1})};return r.addEventListener("focusin",a),()=>r.removeEventListener("focusin",a)},[r,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function kR(){const e=new CustomEvent(VD);document.dispatchEvent(e)}function k7(e,r,n,{discrete:s}){const a=n.originalEvent.target,l=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});r&&a.addEventListener(e,r,{once:!0}),s?v7(a,l):a.dispatchEvent(l)}var zY=jg,WY=w7,cs=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},UY="Portal",Qv=v.forwardRef((e,r)=>{var u;const{container:n,...s}=e,[a,l]=v.useState(!1);cs(()=>l(!0),[]);const c=n||a&&((u=globalThis==null?void 0:globalThis.document)==null?void 0:u.body);return c?Dq.createPortal(U.jsx(At.div,{...s,ref:r}),c):null});Qv.displayName=UY;function GY(e,r){return v.useReducer((n,s)=>r[n][s]??n,e)}var mi=e=>{const{present:r,children:n}=e,s=HY(r),a=typeof n=="function"?n({present:s.isPresent}):v.Children.only(n),l=Nr(s.ref,JY(a));return typeof n=="function"||s.isPresent?v.cloneElement(a,{ref:l}):null};mi.displayName="Presence";function HY(e){const[r,n]=v.useState(),s=v.useRef({}),a=v.useRef(e),l=v.useRef("none"),c=e?"mounted":"unmounted",[u,d]=GY(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const h=lb(s.current);l.current=u==="mounted"?h:"none"},[u]),cs(()=>{const h=s.current,g=a.current;if(g!==e){const N=l.current,b=lb(h);e?d("MOUNT"):b==="none"||(h==null?void 0:h.display)==="none"?d("UNMOUNT"):d(g&&N!==b?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,d]),cs(()=>{if(r){let h;const g=r.ownerDocument.defaultView??window,p=b=>{const E=lb(s.current).includes(b.animationName);if(b.target===r&&E&&(d("ANIMATION_END"),!a.current)){const j=r.style.animationFillMode;r.style.animationFillMode="forwards",h=g.setTimeout(()=>{r.style.animationFillMode==="forwards"&&(r.style.animationFillMode=j)})}},N=b=>{b.target===r&&(l.current=lb(s.current))};return r.addEventListener("animationstart",N),r.addEventListener("animationcancel",p),r.addEventListener("animationend",p),()=>{g.clearTimeout(h),r.removeEventListener("animationstart",N),r.removeEventListener("animationcancel",p),r.removeEventListener("animationend",p)}}else d("ANIMATION_END")},[r,d]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:v.useCallback(h=>{h&&(s.current=getComputedStyle(h)),n(h)},[])}}function lb(e){return(e==null?void 0:e.animationName)||"none"}function JY(e){var s,a;let r=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=r&&"isReactWarning"in r&&r.isReactWarning;return n?e.ref:(r=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=r&&"isReactWarning"in r&&r.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function ea({prop:e,defaultProp:r,onChange:n=()=>{}}){const[s,a]=KY({defaultProp:r,onChange:n}),l=e!==void 0,c=l?e:s,u=Cn(n),d=v.useCallback(h=>{if(l){const p=typeof h=="function"?h(e):h;p!==e&&u(p)}else a(h)},[l,e,a,u]);return[c,d]}function KY({defaultProp:e,onChange:r}){const n=v.useState(e),[s]=n,a=v.useRef(s),l=Cn(r);return v.useEffect(()=>{a.current!==s&&(l(s),a.current=s)},[s,a,l]),n}var qY="VisuallyHidden",Vg=v.forwardRef((e,r)=>U.jsx(At.span,{...e,ref:r,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Vg.displayName=qY;var YY=Vg,$j="ToastProvider",[Bj,XY,QY]=Xv("Toast"),[E7]=As("Toast",[QY]),[ZY,Zv]=E7($j),D7=e=>{const{__scopeToast:r,label:n="Notification",duration:s=5e3,swipeDirection:a="right",swipeThreshold:l=50,children:c}=e,[u,d]=v.useState(null),[h,g]=v.useState(0),p=v.useRef(!1),N=v.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${$j}\`. Expected non-empty \`string\`.`),U.jsx(Bj.Provider,{scope:r,children:U.jsx(ZY,{scope:r,label:n,duration:s,swipeDirection:a,swipeThreshold:l,toastCount:h,viewport:u,onViewportChange:d,onToastAdd:v.useCallback(()=>g(b=>b+1),[]),onToastRemove:v.useCallback(()=>g(b=>b-1),[]),isFocusedToastEscapeKeyDownRef:p,isClosePausedRef:N,children:c})})};D7.displayName=$j;var j7="ToastViewport",eX=["F8"],PD="toast.viewportPause",SD="toast.viewportResume",V7=v.forwardRef((e,r)=>{const{__scopeToast:n,hotkey:s=eX,label:a="Notifications ({hotkey})",...l}=e,c=Zv(j7,n),u=XY(n),d=v.useRef(null),h=v.useRef(null),g=v.useRef(null),p=v.useRef(null),N=Nr(r,p,c.onViewportChange),b=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),D=c.toastCount>0;v.useEffect(()=>{const j=P=>{var k;s.length!==0&&s.every(V=>P[V]||P.code===V)&&((k=p.current)==null||k.focus())};return document.addEventListener("keydown",j),()=>document.removeEventListener("keydown",j)},[s]),v.useEffect(()=>{const j=d.current,P=p.current;if(D&&j&&P){const w=()=>{if(!c.isClosePausedRef.current){const R=new CustomEvent(PD);P.dispatchEvent(R),c.isClosePausedRef.current=!0}},k=()=>{if(c.isClosePausedRef.current){const R=new CustomEvent(SD);P.dispatchEvent(R),c.isClosePausedRef.current=!1}},V=R=>{!j.contains(R.relatedTarget)&&k()},S=()=>{j.contains(document.activeElement)||k()};return j.addEventListener("focusin",w),j.addEventListener("focusout",V),j.addEventListener("pointermove",w),j.addEventListener("pointerleave",S),window.addEventListener("blur",w),window.addEventListener("focus",k),()=>{j.removeEventListener("focusin",w),j.removeEventListener("focusout",V),j.removeEventListener("pointermove",w),j.removeEventListener("pointerleave",S),window.removeEventListener("blur",w),window.removeEventListener("focus",k)}}},[D,c.isClosePausedRef]);const E=v.useCallback(({tabbingDirection:j})=>{const w=u().map(k=>{const V=k.ref.current,S=[V,...hX(V)];return j==="forwards"?S:S.reverse()});return(j==="forwards"?w.reverse():w).flat()},[u]);return v.useEffect(()=>{const j=p.current;if(j){const P=w=>{var S,R,M;const k=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!k){const T=document.activeElement,A=w.shiftKey;if(w.target===j&&A){(S=h.current)==null||S.focus();return}const $=E({tabbingDirection:A?"backwards":"forwards"}),W=$.findIndex(O=>O===T);NE($.slice(W+1))?w.preventDefault():A?(R=h.current)==null||R.focus():(M=g.current)==null||M.focus()}};return j.addEventListener("keydown",P),()=>j.removeEventListener("keydown",P)}},[u,E]),U.jsxs(WY,{ref:d,role:"region","aria-label":a.replace("{hotkey}",b),tabIndex:-1,style:{pointerEvents:D?void 0:"none"},children:[D&&U.jsx(CD,{ref:h,onFocusFromOutsideViewport:()=>{const j=E({tabbingDirection:"forwards"});NE(j)}}),U.jsx(Bj.Slot,{scope:n,children:U.jsx(At.ol,{tabIndex:-1,...l,ref:N})}),D&&U.jsx(CD,{ref:g,onFocusFromOutsideViewport:()=>{const j=E({tabbingDirection:"backwards"});NE(j)}})]})});V7.displayName=j7;var P7="ToastFocusProxy",CD=v.forwardRef((e,r)=>{const{__scopeToast:n,onFocusFromOutsideViewport:s,...a}=e,l=Zv(P7,n);return U.jsx(Vg,{"aria-hidden":!0,tabIndex:0,...a,ref:r,style:{position:"fixed"},onFocus:c=>{var h;const u=c.relatedTarget;!((h=l.viewport)!=null&&h.contains(u))&&s()}})});CD.displayName=P7;var e0="Toast",tX="toast.swipeStart",rX="toast.swipeMove",nX="toast.swipeCancel",sX="toast.swipeEnd",S7=v.forwardRef((e,r)=>{const{forceMount:n,open:s,defaultOpen:a,onOpenChange:l,...c}=e,[u=!0,d]=ea({prop:s,defaultProp:a,onChange:l});return U.jsx(mi,{present:n||u,children:U.jsx(oX,{open:u,...c,ref:r,onClose:()=>d(!1),onPause:Cn(e.onPause),onResume:Cn(e.onResume),onSwipeStart:Et(e.onSwipeStart,h=>{h.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Et(e.onSwipeMove,h=>{const{x:g,y:p}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","move"),h.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${g}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${p}px`)}),onSwipeCancel:Et(e.onSwipeCancel,h=>{h.currentTarget.setAttribute("data-swipe","cancel"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Et(e.onSwipeEnd,h=>{const{x:g,y:p}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","end"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${g}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${p}px`),d(!1)})})})});S7.displayName=e0;var[iX,aX]=E7(e0,{onClose(){}}),oX=v.forwardRef((e,r)=>{const{__scopeToast:n,type:s="foreground",duration:a,open:l,onClose:c,onEscapeKeyDown:u,onPause:d,onResume:h,onSwipeStart:g,onSwipeMove:p,onSwipeCancel:N,onSwipeEnd:b,...D}=e,E=Zv(e0,n),[j,P]=v.useState(null),w=Nr(r,O=>P(O)),k=v.useRef(null),V=v.useRef(null),S=a||E.duration,R=v.useRef(0),M=v.useRef(S),T=v.useRef(0),{onToastAdd:A,onToastRemove:F}=E,L=Cn(()=>{var Y;(j==null?void 0:j.contains(document.activeElement))&&((Y=E.viewport)==null||Y.focus()),c()}),$=v.useCallback(O=>{!O||O===1/0||(window.clearTimeout(T.current),R.current=new Date().getTime(),T.current=window.setTimeout(L,O))},[L]);v.useEffect(()=>{const O=E.viewport;if(O){const Y=()=>{$(M.current),h==null||h()},H=()=>{const q=new Date().getTime()-R.current;M.current=M.current-q,window.clearTimeout(T.current),d==null||d()};return O.addEventListener(PD,H),O.addEventListener(SD,Y),()=>{O.removeEventListener(PD,H),O.removeEventListener(SD,Y)}}},[E.viewport,S,d,h,$]),v.useEffect(()=>{l&&!E.isClosePausedRef.current&&$(S)},[l,S,E.isClosePausedRef,$]),v.useEffect(()=>(A(),()=>F()),[A,F]);const W=v.useMemo(()=>j?F7(j):null,[j]);return E.viewport?U.jsxs(U.Fragment,{children:[W&&U.jsx(lX,{__scopeToast:n,role:"status","aria-live":s==="foreground"?"assertive":"polite","aria-atomic":!0,children:W}),U.jsx(iX,{scope:n,onClose:L,children:em.createPortal(U.jsx(Bj.ItemSlot,{scope:n,children:U.jsx(zY,{asChild:!0,onEscapeKeyDown:Et(u,()=>{E.isFocusedToastEscapeKeyDownRef.current||L(),E.isFocusedToastEscapeKeyDownRef.current=!1}),children:U.jsx(At.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":l?"open":"closed","data-swipe-direction":E.swipeDirection,...D,ref:w,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Et(e.onKeyDown,O=>{O.key==="Escape"&&(u==null||u(O.nativeEvent),O.nativeEvent.defaultPrevented||(E.isFocusedToastEscapeKeyDownRef.current=!0,L()))}),onPointerDown:Et(e.onPointerDown,O=>{O.button===0&&(k.current={x:O.clientX,y:O.clientY})}),onPointerMove:Et(e.onPointerMove,O=>{if(!k.current)return;const Y=O.clientX-k.current.x,H=O.clientY-k.current.y,q=!!V.current,z=["left","right"].includes(E.swipeDirection),G=["left","up"].includes(E.swipeDirection)?Math.min:Math.max,ee=z?G(0,Y):0,K=z?0:G(0,H),be=O.pointerType==="touch"?10:2,_e={x:ee,y:K},oe={originalEvent:O,delta:_e};q?(V.current=_e,cb(rX,p,oe,{discrete:!1})):ER(_e,E.swipeDirection,be)?(V.current=_e,cb(tX,g,oe,{discrete:!1}),O.target.setPointerCapture(O.pointerId)):(Math.abs(Y)>be||Math.abs(H)>be)&&(k.current=null)}),onPointerUp:Et(e.onPointerUp,O=>{const Y=V.current,H=O.target;if(H.hasPointerCapture(O.pointerId)&&H.releasePointerCapture(O.pointerId),V.current=null,k.current=null,Y){const q=O.currentTarget,z={originalEvent:O,delta:Y};ER(Y,E.swipeDirection,E.swipeThreshold)?cb(sX,b,z,{discrete:!0}):cb(nX,N,z,{discrete:!0}),q.addEventListener("click",G=>G.preventDefault(),{once:!0})}})})})}),E.viewport)})]}):null}),lX=e=>{const{__scopeToast:r,children:n,...s}=e,a=Zv(e0,r),[l,c]=v.useState(!1),[u,d]=v.useState(!1);return mX(()=>c(!0)),v.useEffect(()=>{const h=window.setTimeout(()=>d(!0),1e3);return()=>window.clearTimeout(h)},[]),u?null:U.jsx(Qv,{asChild:!0,children:U.jsx(Vg,{...s,children:l&&U.jsxs(U.Fragment,{children:[a.label," ",n]})})})},cX="ToastTitle",C7=v.forwardRef((e,r)=>{const{__scopeToast:n,...s}=e;return U.jsx(At.div,{...s,ref:r})});C7.displayName=cX;var uX="ToastDescription",R7=v.forwardRef((e,r)=>{const{__scopeToast:n,...s}=e;return U.jsx(At.div,{...s,ref:r})});R7.displayName=uX;var M7="ToastAction",T7=v.forwardRef((e,r)=>{const{altText:n,...s}=e;return n.trim()?U.jsx(_7,{altText:n,asChild:!0,children:U.jsx(zj,{...s,ref:r})}):(console.error(`Invalid prop \`altText\` supplied to \`${M7}\`. Expected non-empty \`string\`.`),null)});T7.displayName=M7;var A7="ToastClose",zj=v.forwardRef((e,r)=>{const{__scopeToast:n,...s}=e,a=aX(A7,n);return U.jsx(_7,{asChild:!0,children:U.jsx(At.button,{type:"button",...s,ref:r,onClick:Et(e.onClick,a.onClose)})})});zj.displayName=A7;var _7=v.forwardRef((e,r)=>{const{__scopeToast:n,altText:s,...a}=e;return U.jsx(At.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...a,ref:r})});function F7(e){const r=[];return Array.from(e.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&r.push(s.textContent),dX(s)){const a=s.ariaHidden||s.hidden||s.style.display==="none",l=s.dataset.radixToastAnnounceExclude==="";if(!a)if(l){const c=s.dataset.radixToastAnnounceAlt;c&&r.push(c)}else r.push(...F7(s))}}),r}function cb(e,r,n,{discrete:s}){const a=n.originalEvent.currentTarget,l=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});r&&a.addEventListener(e,r,{once:!0}),s?v7(a,l):a.dispatchEvent(l)}var ER=(e,r,n=0)=>{const s=Math.abs(e.x),a=Math.abs(e.y),l=s>a;return r==="left"||r==="right"?l&&s>n:!l&&a>n};function mX(e=()=>{}){const r=Cn(e);cs(()=>{let n=0,s=0;return n=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(r)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(s)}},[r])}function dX(e){return e.nodeType===e.ELEMENT_NODE}function hX(e){const r=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)r.push(n.currentNode);return r}function NE(e){const r=document.activeElement;return e.some(n=>n===r?!0:(n.focus(),document.activeElement!==r))}var fX=D7,I7=V7,O7=S7,L7=C7,$7=R7,B7=T7,z7=zj;function W7(e){var r,n,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(r=0;r<a;r++)e[r]&&(n=W7(e[r]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}function U7(){for(var e,r,n=0,s="",a=arguments.length;n<a;n++)(e=arguments[n])&&(r=W7(e))&&(s&&(s+=" "),s+=r);return s}const DR=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,jR=U7,xh=(e,r)=>n=>{var s;if((r==null?void 0:r.variants)==null)return jR(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:a,defaultVariants:l}=r,c=Object.keys(a).map(h=>{const g=n==null?void 0:n[h],p=l==null?void 0:l[h];if(g===null)return null;const N=DR(g)||DR(p);return a[h][N]}),u=n&&Object.entries(n).reduce((h,g)=>{let[p,N]=g;return N===void 0||(h[p]=N),h},{}),d=r==null||(s=r.compoundVariants)===null||s===void 0?void 0:s.reduce((h,g)=>{let{class:p,className:N,...b}=g;return Object.entries(b).every(D=>{let[E,j]=D;return Array.isArray(j)?j.includes({...l,...u}[E]):{...l,...u}[E]===j})?[...h,p,N]:h},[]);return jR(e,c,d,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pX=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),G7=(...e)=>e.filter((r,n,s)=>!!r&&s.indexOf(r)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var gX={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NX=v.forwardRef(({color:e="currentColor",size:r=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:c,...u},d)=>v.createElement("svg",{ref:d,...gX,width:r,height:r,stroke:e,strokeWidth:s?Number(n)*24/Number(r):n,className:G7("lucide",a),...u},[...c.map(([h,g])=>v.createElement(h,g)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=(e,r)=>{const n=v.forwardRef(({className:s,...a},l)=>v.createElement(NX,{ref:l,iconNode:r,className:G7(`lucide-${pX(e)}`,s),...a}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wj=qe("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mo=qe("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xX=qe("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bX=qe("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jn=qe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ar=qe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vX=qe("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yX=qe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H7=qe("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bh=qe("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t0=qe("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wX=qe("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ul=qe("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ys=qe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r0=qe("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jd=qe("ChartNoAxesColumnIncreasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uj=qe("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xi=qe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wo=qe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J7=qe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wu=qe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gj=qe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dt=qe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dn=qe("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tr=qe("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dc=qe("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kX=qe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qs=qe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EX=qe("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hj=qe("Compass",[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DX=qe("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K7=qe("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jX=qe("Crosshair",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n0=qe("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vh=qe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yh=qe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vi=qe("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VX=qe("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s0=qe("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pg=qe("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VR=qe("FileImage",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PR=qe("FilePen",[["path",{d:"M12.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v9.5",key:"1couwa"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M13.378 15.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"1y4qbx"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PX=qe("FileSearch",[["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M4.268 21a2 2 0 0 0 1.727 1H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3",key:"ms7g94"}],["path",{d:"m9 18-1.5-1.5",key:"1j6qii"}],["circle",{cx:"5",cy:"14",r:"3",key:"ufru5t"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q7=qe("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Es=qe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y7=qe("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SX=qe("FolderKanban",[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z",key:"1fr9dc"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M12 10v2",key:"hh53o1"}],["path",{d:"M16 10v6",key:"1d6xys"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X7=qe("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CX=qe("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RX=qe("GitCompare",[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M13 6h3a2 2 0 0 1 2 2v7",key:"1yeb86"}],["path",{d:"M11 18H8a2 2 0 0 1-2-2V9",key:"19pyzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uu=qe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jj=qe("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MX=qe("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TX=qe("Handshake",[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3",key:"efffak"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4",key:"9pr0kb"}],["path",{d:"m21 3 1 11h-2",key:"1tisrp"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3",key:"1uvwmv"}],["path",{d:"M3 4h8",key:"1ep09j"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AX=qe("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q7=qe("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _X=qe("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z7=qe("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bo=qe("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kj=qe("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sg=qe("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eA=qe("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FX=qe("Library",[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yn=qe("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=qe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IX=qe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tA=qe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RD=qe("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cg=qe("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rA=qe("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nA=qe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qj=qe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OX=qe("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yj=qe("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LX=qe("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xj=qe("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $X=qe("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const av=qe("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kd=qe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xE=qe("Puzzle",[["path",{d:"M19.439 7.85c-.049.322.059.648.289.878l1.568 1.568c.47.47.706 1.087.706 1.704s-.235 1.233-.706 1.704l-1.611 1.611a.98.98 0 0 1-.837.276c-.47-.07-.802-.48-.968-.925a2.501 2.501 0 1 0-3.214 3.214c.446.166.855.497.925.968a.979.979 0 0 1-.276.837l-1.61 1.61a2.404 2.404 0 0 1-1.705.707 2.402 2.402 0 0 1-1.704-.706l-1.568-1.568a1.026 1.026 0 0 0-.877-.29c-.493.074-.84.504-1.02.968a2.5 2.5 0 1 1-3.237-3.237c.464-.18.894-.527.967-1.02a1.026 1.026 0 0 0-.289-.877l-1.568-1.568A2.402 2.402 0 0 1 1.998 12c0-.617.236-1.234.706-1.704L4.23 8.77c.24-.24.581-.353.917-.303.515.077.877.528 1.073 1.01a2.5 2.5 0 1 0 3.259-3.259c-.482-.196-.933-.558-1.01-1.073-.05-.336.062-.676.303-.917l1.525-1.525A2.402 2.402 0 0 1 12 1.998c.617 0 1.234.236 1.704.706l1.568 1.568c.23.23.556.338.877.29.493-.074.84-.504 1.02-.968a2.5 2.5 0 1 1 3.237 3.237c-.464.18-.894.527-.967 1.02Z",key:"i0oyt7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BX=qe("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rg=qe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rg=qe("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sA=qe("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iA=qe("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gu=qe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i0=qe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a0=qe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zX=qe("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ma=qe("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SR=qe("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WX=qe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UX=qe("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ng=qe("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GX=qe("Swords",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xr=qe("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vo=qe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qj=qe("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cn=qe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qr=qe("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HX=qe("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aA=qe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const On=qe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ri=qe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wh=qe("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JX=qe("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KX=qe("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),Zj="-",qX=e=>{const r=XX(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:c=>{const u=c.split(Zj);return u[0]===""&&u.length!==1&&u.shift(),oA(u,r)||YX(c)},getConflictingClassGroupIds:(c,u)=>{const d=n[c]||[];return u&&s[c]?[...d,...s[c]]:d}}},oA=(e,r)=>{var c;if(e.length===0)return r.classGroupId;const n=e[0],s=r.nextPart.get(n),a=s?oA(e.slice(1),s):void 0;if(a)return a;if(r.validators.length===0)return;const l=e.join(Zj);return(c=r.validators.find(({validator:u})=>u(l)))==null?void 0:c.classGroupId},CR=/^\[(.+)\]$/,YX=e=>{if(CR.test(e)){const r=CR.exec(e)[1],n=r==null?void 0:r.substring(0,r.indexOf(":"));if(n)return"arbitrary.."+n}},XX=e=>{const{theme:r,prefix:n}=e,s={nextPart:new Map,validators:[]};return ZX(Object.entries(e.classGroups),n).forEach(([l,c])=>{MD(c,s,l,r)}),s},MD=(e,r,n,s)=>{e.forEach(a=>{if(typeof a=="string"){const l=a===""?r:RR(r,a);l.classGroupId=n;return}if(typeof a=="function"){if(QX(a)){MD(a(s),r,n,s);return}r.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([l,c])=>{MD(c,RR(r,l),n,s)})})},RR=(e,r)=>{let n=e;return r.split(Zj).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},QX=e=>e.isThemeGetter,ZX=(e,r)=>r?e.map(([n,s])=>{const a=s.map(l=>typeof l=="string"?r+l:typeof l=="object"?Object.fromEntries(Object.entries(l).map(([c,u])=>[r+c,u])):l);return[n,a]}):e,eQ=e=>{if(e<1)return{get:()=>{},set:()=>{}};let r=0,n=new Map,s=new Map;const a=(l,c)=>{n.set(l,c),r++,r>e&&(r=0,s=n,n=new Map)};return{get(l){let c=n.get(l);if(c!==void 0)return c;if((c=s.get(l))!==void 0)return a(l,c),c},set(l,c){n.has(l)?n.set(l,c):a(l,c)}}},lA="!",tQ=e=>{const{separator:r,experimentalParseClassName:n}=e,s=r.length===1,a=r[0],l=r.length,c=u=>{const d=[];let h=0,g=0,p;for(let j=0;j<u.length;j++){let P=u[j];if(h===0){if(P===a&&(s||u.slice(j,j+l)===r)){d.push(u.slice(g,j)),g=j+l;continue}if(P==="/"){p=j;continue}}P==="["?h++:P==="]"&&h--}const N=d.length===0?u:u.substring(g),b=N.startsWith(lA),D=b?N.substring(1):N,E=p&&p>g?p-g:void 0;return{modifiers:d,hasImportantModifier:b,baseClassName:D,maybePostfixModifierPosition:E}};return n?u=>n({className:u,parseClassName:c}):c},rQ=e=>{if(e.length<=1)return e;const r=[];let n=[];return e.forEach(s=>{s[0]==="["?(r.push(...n.sort(),s),n=[]):n.push(s)}),r.push(...n.sort()),r},nQ=e=>({cache:eQ(e.cacheSize),parseClassName:tQ(e),...qX(e)}),sQ=/\s+/,iQ=(e,r)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:a}=r,l=[],c=e.trim().split(sQ);let u="";for(let d=c.length-1;d>=0;d-=1){const h=c[d],{modifiers:g,hasImportantModifier:p,baseClassName:N,maybePostfixModifierPosition:b}=n(h);let D=!!b,E=s(D?N.substring(0,b):N);if(!E){if(!D){u=h+(u.length>0?" "+u:u);continue}if(E=s(N),!E){u=h+(u.length>0?" "+u:u);continue}D=!1}const j=rQ(g).join(":"),P=p?j+lA:j,w=P+E;if(l.includes(w))continue;l.push(w);const k=a(E,D);for(let V=0;V<k.length;++V){const S=k[V];l.push(P+S)}u=h+(u.length>0?" "+u:u)}return u};function aQ(){let e=0,r,n,s="";for(;e<arguments.length;)(r=arguments[e++])&&(n=cA(r))&&(s&&(s+=" "),s+=n);return s}const cA=e=>{if(typeof e=="string")return e;let r,n="";for(let s=0;s<e.length;s++)e[s]&&(r=cA(e[s]))&&(n&&(n+=" "),n+=r);return n};function oQ(e,...r){let n,s,a,l=c;function c(d){const h=r.reduce((g,p)=>p(g),e());return n=nQ(h),s=n.cache.get,a=n.cache.set,l=u,u(d)}function u(d){const h=s(d);if(h)return h;const g=iQ(d,n);return a(d,g),g}return function(){return l(aQ.apply(null,arguments))}}const mn=e=>{const r=n=>n[e]||[];return r.isThemeGetter=!0,r},uA=/^\[(?:([a-z-]+):)?(.+)\]$/i,lQ=/^\d+\/\d+$/,cQ=new Set(["px","full","screen"]),uQ=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,mQ=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,dQ=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,hQ=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,fQ=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,el=e=>Vd(e)||cQ.has(e)||lQ.test(e),Zl=e=>kh(e,"length",wQ),Vd=e=>!!e&&!Number.isNaN(Number(e)),bE=e=>kh(e,"number",Vd),Ep=e=>!!e&&Number.isInteger(Number(e)),pQ=e=>e.endsWith("%")&&Vd(e.slice(0,-1)),cr=e=>uA.test(e),ec=e=>uQ.test(e),gQ=new Set(["length","size","percentage"]),NQ=e=>kh(e,gQ,mA),xQ=e=>kh(e,"position",mA),bQ=new Set(["image","url"]),vQ=e=>kh(e,bQ,EQ),yQ=e=>kh(e,"",kQ),Dp=()=>!0,kh=(e,r,n)=>{const s=uA.exec(e);return s?s[1]?typeof r=="string"?s[1]===r:r.has(s[1]):n(s[2]):!1},wQ=e=>mQ.test(e)&&!dQ.test(e),mA=()=>!1,kQ=e=>hQ.test(e),EQ=e=>fQ.test(e),DQ=()=>{const e=mn("colors"),r=mn("spacing"),n=mn("blur"),s=mn("brightness"),a=mn("borderColor"),l=mn("borderRadius"),c=mn("borderSpacing"),u=mn("borderWidth"),d=mn("contrast"),h=mn("grayscale"),g=mn("hueRotate"),p=mn("invert"),N=mn("gap"),b=mn("gradientColorStops"),D=mn("gradientColorStopPositions"),E=mn("inset"),j=mn("margin"),P=mn("opacity"),w=mn("padding"),k=mn("saturate"),V=mn("scale"),S=mn("sepia"),R=mn("skew"),M=mn("space"),T=mn("translate"),A=()=>["auto","contain","none"],F=()=>["auto","hidden","clip","visible","scroll"],L=()=>["auto",cr,r],$=()=>[cr,r],W=()=>["",el,Zl],O=()=>["auto",Vd,cr],Y=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],H=()=>["solid","dashed","dotted","double","none"],q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],z=()=>["start","end","center","between","around","evenly","stretch"],G=()=>["","0",cr],ee=()=>["auto","avoid","all","avoid-page","page","left","right","column"],K=()=>[Vd,cr];return{cacheSize:500,separator:":",theme:{colors:[Dp],spacing:[el,Zl],blur:["none","",ec,cr],brightness:K(),borderColor:[e],borderRadius:["none","","full",ec,cr],borderSpacing:$(),borderWidth:W(),contrast:K(),grayscale:G(),hueRotate:K(),invert:G(),gap:$(),gradientColorStops:[e],gradientColorStopPositions:[pQ,Zl],inset:L(),margin:L(),opacity:K(),padding:$(),saturate:K(),scale:K(),sepia:G(),skew:K(),space:$(),translate:$()},classGroups:{aspect:[{aspect:["auto","square","video",cr]}],container:["container"],columns:[{columns:[ec]}],"break-after":[{"break-after":ee()}],"break-before":[{"break-before":ee()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Y(),cr]}],overflow:[{overflow:F()}],"overflow-x":[{"overflow-x":F()}],"overflow-y":[{"overflow-y":F()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[E]}],"inset-x":[{"inset-x":[E]}],"inset-y":[{"inset-y":[E]}],start:[{start:[E]}],end:[{end:[E]}],top:[{top:[E]}],right:[{right:[E]}],bottom:[{bottom:[E]}],left:[{left:[E]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ep,cr]}],basis:[{basis:L()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",cr]}],grow:[{grow:G()}],shrink:[{shrink:G()}],order:[{order:["first","last","none",Ep,cr]}],"grid-cols":[{"grid-cols":[Dp]}],"col-start-end":[{col:["auto",{span:["full",Ep,cr]},cr]}],"col-start":[{"col-start":O()}],"col-end":[{"col-end":O()}],"grid-rows":[{"grid-rows":[Dp]}],"row-start-end":[{row:["auto",{span:[Ep,cr]},cr]}],"row-start":[{"row-start":O()}],"row-end":[{"row-end":O()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",cr]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",cr]}],gap:[{gap:[N]}],"gap-x":[{"gap-x":[N]}],"gap-y":[{"gap-y":[N]}],"justify-content":[{justify:["normal",...z()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...z(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...z(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[j]}],mx:[{mx:[j]}],my:[{my:[j]}],ms:[{ms:[j]}],me:[{me:[j]}],mt:[{mt:[j]}],mr:[{mr:[j]}],mb:[{mb:[j]}],ml:[{ml:[j]}],"space-x":[{"space-x":[M]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[M]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",cr,r]}],"min-w":[{"min-w":[cr,r,"min","max","fit"]}],"max-w":[{"max-w":[cr,r,"none","full","min","max","fit","prose",{screen:[ec]},ec]}],h:[{h:[cr,r,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[cr,r,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[cr,r,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[cr,r,"auto","min","max","fit"]}],"font-size":[{text:["base",ec,Zl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",bE]}],"font-family":[{font:[Dp]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",cr]}],"line-clamp":[{"line-clamp":["none",Vd,bE]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",el,cr]}],"list-image":[{"list-image":["none",cr]}],"list-style-type":[{list:["none","disc","decimal",cr]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[P]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[P]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...H(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",el,Zl]}],"underline-offset":[{"underline-offset":["auto",el,cr]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:$()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",cr]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",cr]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[P]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Y(),xQ]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",NQ]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},vQ]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[D]}],"gradient-via-pos":[{via:[D]}],"gradient-to-pos":[{to:[D]}],"gradient-from":[{from:[b]}],"gradient-via":[{via:[b]}],"gradient-to":[{to:[b]}],rounded:[{rounded:[l]}],"rounded-s":[{"rounded-s":[l]}],"rounded-e":[{"rounded-e":[l]}],"rounded-t":[{"rounded-t":[l]}],"rounded-r":[{"rounded-r":[l]}],"rounded-b":[{"rounded-b":[l]}],"rounded-l":[{"rounded-l":[l]}],"rounded-ss":[{"rounded-ss":[l]}],"rounded-se":[{"rounded-se":[l]}],"rounded-ee":[{"rounded-ee":[l]}],"rounded-es":[{"rounded-es":[l]}],"rounded-tl":[{"rounded-tl":[l]}],"rounded-tr":[{"rounded-tr":[l]}],"rounded-br":[{"rounded-br":[l]}],"rounded-bl":[{"rounded-bl":[l]}],"border-w":[{border:[u]}],"border-w-x":[{"border-x":[u]}],"border-w-y":[{"border-y":[u]}],"border-w-s":[{"border-s":[u]}],"border-w-e":[{"border-e":[u]}],"border-w-t":[{"border-t":[u]}],"border-w-r":[{"border-r":[u]}],"border-w-b":[{"border-b":[u]}],"border-w-l":[{"border-l":[u]}],"border-opacity":[{"border-opacity":[P]}],"border-style":[{border:[...H(),"hidden"]}],"divide-x":[{"divide-x":[u]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[u]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[P]}],"divide-style":[{divide:H()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...H()]}],"outline-offset":[{"outline-offset":[el,cr]}],"outline-w":[{outline:[el,Zl]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:W()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[P]}],"ring-offset-w":[{"ring-offset":[el,Zl]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ec,yQ]}],"shadow-color":[{shadow:[Dp]}],opacity:[{opacity:[P]}],"mix-blend":[{"mix-blend":[...q(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":q()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[s]}],contrast:[{contrast:[d]}],"drop-shadow":[{"drop-shadow":["","none",ec,cr]}],grayscale:[{grayscale:[h]}],"hue-rotate":[{"hue-rotate":[g]}],invert:[{invert:[p]}],saturate:[{saturate:[k]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[d]}],"backdrop-grayscale":[{"backdrop-grayscale":[h]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[g]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[P]}],"backdrop-saturate":[{"backdrop-saturate":[k]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[c]}],"border-spacing-x":[{"border-spacing-x":[c]}],"border-spacing-y":[{"border-spacing-y":[c]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",cr]}],duration:[{duration:K()}],ease:[{ease:["linear","in","out","in-out",cr]}],delay:[{delay:K()}],animate:[{animate:["none","spin","ping","pulse","bounce",cr]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[V]}],"scale-x":[{"scale-x":[V]}],"scale-y":[{"scale-y":[V]}],rotate:[{rotate:[Ep,cr]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[R]}],"skew-y":[{"skew-y":[R]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",cr]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",cr]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":$()}],"scroll-mx":[{"scroll-mx":$()}],"scroll-my":[{"scroll-my":$()}],"scroll-ms":[{"scroll-ms":$()}],"scroll-me":[{"scroll-me":$()}],"scroll-mt":[{"scroll-mt":$()}],"scroll-mr":[{"scroll-mr":$()}],"scroll-mb":[{"scroll-mb":$()}],"scroll-ml":[{"scroll-ml":$()}],"scroll-p":[{"scroll-p":$()}],"scroll-px":[{"scroll-px":$()}],"scroll-py":[{"scroll-py":$()}],"scroll-ps":[{"scroll-ps":$()}],"scroll-pe":[{"scroll-pe":$()}],"scroll-pt":[{"scroll-pt":$()}],"scroll-pr":[{"scroll-pr":$()}],"scroll-pb":[{"scroll-pb":$()}],"scroll-pl":[{"scroll-pl":$()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",cr]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[el,Zl,bE]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},jQ=oQ(DQ);function Ke(...e){return jQ(U7(e))}const VQ=fX,dA=v.forwardRef(({className:e,...r},n)=>t.jsxDEV(I7,{ref:n,className:Ke("fixed bottom-0 right-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:flex-col md:max-w-[420px]",e),...r},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/toast.tsx",lineNumber:14,columnNumber:3},void 0));dA.displayName=I7.displayName;const PQ=xh("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full backdrop-blur-md",{variants:{variant:{default:"border-border bg-card/95 text-card-foreground dark:bg-card/95",destructive:"destructive group border-destructive bg-destructive/95 text-destructive-foreground backdrop-blur-md"}},defaultVariants:{variant:"default"}}),hA=v.forwardRef(({className:e,variant:r,...n},s)=>t.jsxDEV(O7,{ref:s,className:Ke(PQ({variant:r}),e),...n},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/toast.tsx",lineNumber:47,columnNumber:5},void 0));hA.displayName=O7.displayName;const SQ=v.forwardRef(({className:e,...r},n)=>t.jsxDEV(B7,{ref:n,className:Ke("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...r},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/toast.tsx",lineNumber:60,columnNumber:3},void 0));SQ.displayName=B7.displayName;const fA=v.forwardRef(({className:e,...r},n)=>t.jsxDEV(z7,{ref:n,className:Ke("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...r,children:t.jsxDEV(Ri,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/toast.tsx",lineNumber:84,columnNumber:5},void 0)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/toast.tsx",lineNumber:75,columnNumber:3},void 0));fA.displayName=z7.displayName;const pA=v.forwardRef(({className:e,...r},n)=>t.jsxDEV(L7,{ref:n,className:Ke("text-sm font-semibold",e),...r},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/toast.tsx",lineNumber:93,columnNumber:3},void 0));pA.displayName=L7.displayName;const gA=v.forwardRef(({className:e,...r},n)=>t.jsxDEV($7,{ref:n,className:Ke("text-sm opacity-90",e),...r},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/toast.tsx",lineNumber:105,columnNumber:3},void 0));gA.displayName=$7.displayName;function MR(){const{toasts:e}=ur();return t.jsxDEV(VQ,{children:[e.map(function({id:r,title:n,description:s,action:a,...l}){return t.jsxDEV(hA,{...l,children:[t.jsxDEV("div",{className:"grid gap-1",children:[n&&t.jsxDEV(pA,{children:n},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/toaster.tsx",lineNumber:20,columnNumber:25},this),s&&t.jsxDEV(gA,{children:s},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/toaster.tsx",lineNumber:22,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/ui/toaster.tsx",lineNumber:19,columnNumber:13},this),a,t.jsxDEV(fA,{},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/toaster.tsx",lineNumber:26,columnNumber:13},this)]},r,!0,{fileName:"/home/runner/workspace/client/src/components/ui/toaster.tsx",lineNumber:18,columnNumber:11},this)}),t.jsxDEV(dA,{},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/toaster.tsx",lineNumber:30,columnNumber:7},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/ui/toaster.tsx",lineNumber:15,columnNumber:5},this)}var CQ=O9[" useId ".trim().toString()]||(()=>{}),RQ=0;function Ta(e){const[r,n]=v.useState(CQ());return cs(()=>{n(s=>s??String(RQ++))},[e]),r?`radix-${r}`:""}const MQ=["top","right","bottom","left"],jc=Math.min,Ei=Math.max,ov=Math.round,ub=Math.floor,ho=e=>({x:e,y:e}),TQ={left:"right",right:"left",bottom:"top",top:"bottom"},AQ={start:"end",end:"start"};function TD(e,r,n){return Ei(e,jc(r,n))}function ml(e,r){return typeof e=="function"?e(r):e}function dl(e){return e.split("-")[0]}function Eh(e){return e.split("-")[1]}function eV(e){return e==="x"?"y":"x"}function tV(e){return e==="y"?"height":"width"}function Vc(e){return["top","bottom"].includes(dl(e))?"y":"x"}function rV(e){return eV(Vc(e))}function _Q(e,r,n){n===void 0&&(n=!1);const s=Eh(e),a=rV(e),l=tV(a);let c=a==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return r.reference[l]>r.floating[l]&&(c=lv(c)),[c,lv(c)]}function FQ(e){const r=lv(e);return[AD(e),r,AD(r)]}function AD(e){return e.replace(/start|end/g,r=>AQ[r])}function IQ(e,r,n){const s=["left","right"],a=["right","left"],l=["top","bottom"],c=["bottom","top"];switch(e){case"top":case"bottom":return n?r?a:s:r?s:a;case"left":case"right":return r?l:c;default:return[]}}function OQ(e,r,n,s){const a=Eh(e);let l=IQ(dl(e),n==="start",s);return a&&(l=l.map(c=>c+"-"+a),r&&(l=l.concat(l.map(AD)))),l}function lv(e){return e.replace(/left|right|bottom|top/g,r=>TQ[r])}function LQ(e){return{top:0,right:0,bottom:0,left:0,...e}}function NA(e){return typeof e!="number"?LQ(e):{top:e,right:e,bottom:e,left:e}}function cv(e){const{x:r,y:n,width:s,height:a}=e;return{width:s,height:a,top:n,left:r,right:r+s,bottom:n+a,x:r,y:n}}function TR(e,r,n){let{reference:s,floating:a}=e;const l=Vc(r),c=rV(r),u=tV(c),d=dl(r),h=l==="y",g=s.x+s.width/2-a.width/2,p=s.y+s.height/2-a.height/2,N=s[u]/2-a[u]/2;let b;switch(d){case"top":b={x:g,y:s.y-a.height};break;case"bottom":b={x:g,y:s.y+s.height};break;case"right":b={x:s.x+s.width,y:p};break;case"left":b={x:s.x-a.width,y:p};break;default:b={x:s.x,y:s.y}}switch(Eh(r)){case"start":b[c]-=N*(n&&h?-1:1);break;case"end":b[c]+=N*(n&&h?-1:1);break}return b}const $Q=async(e,r,n)=>{const{placement:s="bottom",strategy:a="absolute",middleware:l=[],platform:c}=n,u=l.filter(Boolean),d=await(c.isRTL==null?void 0:c.isRTL(r));let h=await c.getElementRects({reference:e,floating:r,strategy:a}),{x:g,y:p}=TR(h,s,d),N=s,b={},D=0;for(let E=0;E<u.length;E++){const{name:j,fn:P}=u[E],{x:w,y:k,data:V,reset:S}=await P({x:g,y:p,initialPlacement:s,placement:N,strategy:a,middlewareData:b,rects:h,platform:c,elements:{reference:e,floating:r}});g=w??g,p=k??p,b={...b,[j]:{...b[j],...V}},S&&D<=50&&(D++,typeof S=="object"&&(S.placement&&(N=S.placement),S.rects&&(h=S.rects===!0?await c.getElementRects({reference:e,floating:r,strategy:a}):S.rects),{x:g,y:p}=TR(h,N,d)),E=-1)}return{x:g,y:p,placement:N,strategy:a,middlewareData:b}};async function sg(e,r){var n;r===void 0&&(r={});const{x:s,y:a,platform:l,rects:c,elements:u,strategy:d}=e,{boundary:h="clippingAncestors",rootBoundary:g="viewport",elementContext:p="floating",altBoundary:N=!1,padding:b=0}=ml(r,e),D=NA(b),j=u[N?p==="floating"?"reference":"floating":p],P=cv(await l.getClippingRect({element:(n=await(l.isElement==null?void 0:l.isElement(j)))==null||n?j:j.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(u.floating)),boundary:h,rootBoundary:g,strategy:d})),w=p==="floating"?{x:s,y:a,width:c.floating.width,height:c.floating.height}:c.reference,k=await(l.getOffsetParent==null?void 0:l.getOffsetParent(u.floating)),V=await(l.isElement==null?void 0:l.isElement(k))?await(l.getScale==null?void 0:l.getScale(k))||{x:1,y:1}:{x:1,y:1},S=cv(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:w,offsetParent:k,strategy:d}):w);return{top:(P.top-S.top+D.top)/V.y,bottom:(S.bottom-P.bottom+D.bottom)/V.y,left:(P.left-S.left+D.left)/V.x,right:(S.right-P.right+D.right)/V.x}}const BQ=e=>({name:"arrow",options:e,async fn(r){const{x:n,y:s,placement:a,rects:l,platform:c,elements:u,middlewareData:d}=r,{element:h,padding:g=0}=ml(e,r)||{};if(h==null)return{};const p=NA(g),N={x:n,y:s},b=rV(a),D=tV(b),E=await c.getDimensions(h),j=b==="y",P=j?"top":"left",w=j?"bottom":"right",k=j?"clientHeight":"clientWidth",V=l.reference[D]+l.reference[b]-N[b]-l.floating[D],S=N[b]-l.reference[b],R=await(c.getOffsetParent==null?void 0:c.getOffsetParent(h));let M=R?R[k]:0;(!M||!await(c.isElement==null?void 0:c.isElement(R)))&&(M=u.floating[k]||l.floating[D]);const T=V/2-S/2,A=M/2-E[D]/2-1,F=jc(p[P],A),L=jc(p[w],A),$=F,W=M-E[D]-L,O=M/2-E[D]/2+T,Y=TD($,O,W),H=!d.arrow&&Eh(a)!=null&&O!==Y&&l.reference[D]/2-(O<$?F:L)-E[D]/2<0,q=H?O<$?O-$:O-W:0;return{[b]:N[b]+q,data:{[b]:Y,centerOffset:O-Y-q,...H&&{alignmentOffset:q}},reset:H}}}),zQ=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(r){var n,s;const{placement:a,middlewareData:l,rects:c,initialPlacement:u,platform:d,elements:h}=r,{mainAxis:g=!0,crossAxis:p=!0,fallbackPlacements:N,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:D="none",flipAlignment:E=!0,...j}=ml(e,r);if((n=l.arrow)!=null&&n.alignmentOffset)return{};const P=dl(a),w=Vc(u),k=dl(u)===u,V=await(d.isRTL==null?void 0:d.isRTL(h.floating)),S=N||(k||!E?[lv(u)]:FQ(u)),R=D!=="none";!N&&R&&S.push(...OQ(u,E,D,V));const M=[u,...S],T=await sg(r,j),A=[];let F=((s=l.flip)==null?void 0:s.overflows)||[];if(g&&A.push(T[P]),p){const O=_Q(a,c,V);A.push(T[O[0]],T[O[1]])}if(F=[...F,{placement:a,overflows:A}],!A.every(O=>O<=0)){var L,$;const O=(((L=l.flip)==null?void 0:L.index)||0)+1,Y=M[O];if(Y)return{data:{index:O,overflows:F},reset:{placement:Y}};let H=($=F.filter(q=>q.overflows[0]<=0).sort((q,z)=>q.overflows[1]-z.overflows[1])[0])==null?void 0:$.placement;if(!H)switch(b){case"bestFit":{var W;const q=(W=F.filter(z=>{if(R){const G=Vc(z.placement);return G===w||G==="y"}return!0}).map(z=>[z.placement,z.overflows.filter(G=>G>0).reduce((G,ee)=>G+ee,0)]).sort((z,G)=>z[1]-G[1])[0])==null?void 0:W[0];q&&(H=q);break}case"initialPlacement":H=u;break}if(a!==H)return{reset:{placement:H}}}return{}}}};function AR(e,r){return{top:e.top-r.height,right:e.right-r.width,bottom:e.bottom-r.height,left:e.left-r.width}}function _R(e){return MQ.some(r=>e[r]>=0)}const WQ=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(r){const{rects:n}=r,{strategy:s="referenceHidden",...a}=ml(e,r);switch(s){case"referenceHidden":{const l=await sg(r,{...a,elementContext:"reference"}),c=AR(l,n.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:_R(c)}}}case"escaped":{const l=await sg(r,{...a,altBoundary:!0}),c=AR(l,n.floating);return{data:{escapedOffsets:c,escaped:_R(c)}}}default:return{}}}}};async function UQ(e,r){const{placement:n,platform:s,elements:a}=e,l=await(s.isRTL==null?void 0:s.isRTL(a.floating)),c=dl(n),u=Eh(n),d=Vc(n)==="y",h=["left","top"].includes(c)?-1:1,g=l&&d?-1:1,p=ml(r,e);let{mainAxis:N,crossAxis:b,alignmentAxis:D}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return u&&typeof D=="number"&&(b=u==="end"?D*-1:D),d?{x:b*g,y:N*h}:{x:N*h,y:b*g}}const GQ=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(r){var n,s;const{x:a,y:l,placement:c,middlewareData:u}=r,d=await UQ(r,e);return c===((n=u.offset)==null?void 0:n.placement)&&(s=u.arrow)!=null&&s.alignmentOffset?{}:{x:a+d.x,y:l+d.y,data:{...d,placement:c}}}}},HQ=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(r){const{x:n,y:s,placement:a}=r,{mainAxis:l=!0,crossAxis:c=!1,limiter:u={fn:j=>{let{x:P,y:w}=j;return{x:P,y:w}}},...d}=ml(e,r),h={x:n,y:s},g=await sg(r,d),p=Vc(dl(a)),N=eV(p);let b=h[N],D=h[p];if(l){const j=N==="y"?"top":"left",P=N==="y"?"bottom":"right",w=b+g[j],k=b-g[P];b=TD(w,b,k)}if(c){const j=p==="y"?"top":"left",P=p==="y"?"bottom":"right",w=D+g[j],k=D-g[P];D=TD(w,D,k)}const E=u.fn({...r,[N]:b,[p]:D});return{...E,data:{x:E.x-n,y:E.y-s,enabled:{[N]:l,[p]:c}}}}}},JQ=function(e){return e===void 0&&(e={}),{options:e,fn(r){const{x:n,y:s,placement:a,rects:l,middlewareData:c}=r,{offset:u=0,mainAxis:d=!0,crossAxis:h=!0}=ml(e,r),g={x:n,y:s},p=Vc(a),N=eV(p);let b=g[N],D=g[p];const E=ml(u,r),j=typeof E=="number"?{mainAxis:E,crossAxis:0}:{mainAxis:0,crossAxis:0,...E};if(d){const k=N==="y"?"height":"width",V=l.reference[N]-l.floating[k]+j.mainAxis,S=l.reference[N]+l.reference[k]-j.mainAxis;b<V?b=V:b>S&&(b=S)}if(h){var P,w;const k=N==="y"?"width":"height",V=["top","left"].includes(dl(a)),S=l.reference[p]-l.floating[k]+(V&&((P=c.offset)==null?void 0:P[p])||0)+(V?0:j.crossAxis),R=l.reference[p]+l.reference[k]+(V?0:((w=c.offset)==null?void 0:w[p])||0)-(V?j.crossAxis:0);D<S?D=S:D>R&&(D=R)}return{[N]:b,[p]:D}}}},KQ=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(r){var n,s;const{placement:a,rects:l,platform:c,elements:u}=r,{apply:d=()=>{},...h}=ml(e,r),g=await sg(r,h),p=dl(a),N=Eh(a),b=Vc(a)==="y",{width:D,height:E}=l.floating;let j,P;p==="top"||p==="bottom"?(j=p,P=N===(await(c.isRTL==null?void 0:c.isRTL(u.floating))?"start":"end")?"left":"right"):(P=p,j=N==="end"?"top":"bottom");const w=E-g.top-g.bottom,k=D-g.left-g.right,V=jc(E-g[j],w),S=jc(D-g[P],k),R=!r.middlewareData.shift;let M=V,T=S;if((n=r.middlewareData.shift)!=null&&n.enabled.x&&(T=k),(s=r.middlewareData.shift)!=null&&s.enabled.y&&(M=w),R&&!N){const F=Ei(g.left,0),L=Ei(g.right,0),$=Ei(g.top,0),W=Ei(g.bottom,0);b?T=D-2*(F!==0||L!==0?F+L:Ei(g.left,g.right)):M=E-2*($!==0||W!==0?$+W:Ei(g.top,g.bottom))}await d({...r,availableWidth:T,availableHeight:M});const A=await c.getDimensions(u.floating);return D!==A.width||E!==A.height?{reset:{rects:!0}}:{}}}};function o0(){return typeof window<"u"}function Dh(e){return xA(e)?(e.nodeName||"").toLowerCase():"#document"}function Pi(e){var r;return(e==null||(r=e.ownerDocument)==null?void 0:r.defaultView)||window}function ko(e){var r;return(r=(xA(e)?e.ownerDocument:e.document)||window.document)==null?void 0:r.documentElement}function xA(e){return o0()?e instanceof Node||e instanceof Pi(e).Node:!1}function Fa(e){return o0()?e instanceof Element||e instanceof Pi(e).Element:!1}function yo(e){return o0()?e instanceof HTMLElement||e instanceof Pi(e).HTMLElement:!1}function FR(e){return!o0()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Pi(e).ShadowRoot}function Mg(e){const{overflow:r,overflowX:n,overflowY:s,display:a}=Ia(e);return/auto|scroll|overlay|hidden|clip/.test(r+s+n)&&!["inline","contents"].includes(a)}function qQ(e){return["table","td","th"].includes(Dh(e))}function l0(e){return[":popover-open",":modal"].some(r=>{try{return e.matches(r)}catch{return!1}})}function nV(e){const r=sV(),n=Fa(e)?Ia(e):e;return["transform","translate","scale","rotate","perspective"].some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!r&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!r&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(s=>(n.willChange||"").includes(s))||["paint","layout","strict","content"].some(s=>(n.contain||"").includes(s))}function YQ(e){let r=Pc(e);for(;yo(r)&&!qd(r);){if(nV(r))return r;if(l0(r))return null;r=Pc(r)}return null}function sV(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function qd(e){return["html","body","#document"].includes(Dh(e))}function Ia(e){return Pi(e).getComputedStyle(e)}function c0(e){return Fa(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Pc(e){if(Dh(e)==="html")return e;const r=e.assignedSlot||e.parentNode||FR(e)&&e.host||ko(e);return FR(r)?r.host:r}function bA(e){const r=Pc(e);return qd(r)?e.ownerDocument?e.ownerDocument.body:e.body:yo(r)&&Mg(r)?r:bA(r)}function ig(e,r,n){var s;r===void 0&&(r=[]),n===void 0&&(n=!0);const a=bA(e),l=a===((s=e.ownerDocument)==null?void 0:s.body),c=Pi(a);if(l){const u=_D(c);return r.concat(c,c.visualViewport||[],Mg(a)?a:[],u&&n?ig(u):[])}return r.concat(a,ig(a,[],n))}function _D(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function vA(e){const r=Ia(e);let n=parseFloat(r.width)||0,s=parseFloat(r.height)||0;const a=yo(e),l=a?e.offsetWidth:n,c=a?e.offsetHeight:s,u=ov(n)!==l||ov(s)!==c;return u&&(n=l,s=c),{width:n,height:s,$:u}}function iV(e){return Fa(e)?e:e.contextElement}function Pd(e){const r=iV(e);if(!yo(r))return ho(1);const n=r.getBoundingClientRect(),{width:s,height:a,$:l}=vA(r);let c=(l?ov(n.width):n.width)/s,u=(l?ov(n.height):n.height)/a;return(!c||!Number.isFinite(c))&&(c=1),(!u||!Number.isFinite(u))&&(u=1),{x:c,y:u}}const XQ=ho(0);function yA(e){const r=Pi(e);return!sV()||!r.visualViewport?XQ:{x:r.visualViewport.offsetLeft,y:r.visualViewport.offsetTop}}function QQ(e,r,n){return r===void 0&&(r=!1),!n||r&&n!==Pi(e)?!1:r}function Hu(e,r,n,s){r===void 0&&(r=!1),n===void 0&&(n=!1);const a=e.getBoundingClientRect(),l=iV(e);let c=ho(1);r&&(s?Fa(s)&&(c=Pd(s)):c=Pd(e));const u=QQ(l,n,s)?yA(l):ho(0);let d=(a.left+u.x)/c.x,h=(a.top+u.y)/c.y,g=a.width/c.x,p=a.height/c.y;if(l){const N=Pi(l),b=s&&Fa(s)?Pi(s):s;let D=N,E=_D(D);for(;E&&s&&b!==D;){const j=Pd(E),P=E.getBoundingClientRect(),w=Ia(E),k=P.left+(E.clientLeft+parseFloat(w.paddingLeft))*j.x,V=P.top+(E.clientTop+parseFloat(w.paddingTop))*j.y;d*=j.x,h*=j.y,g*=j.x,p*=j.y,d+=k,h+=V,D=Pi(E),E=_D(D)}}return cv({width:g,height:p,x:d,y:h})}function aV(e,r){const n=c0(e).scrollLeft;return r?r.left+n:Hu(ko(e)).left+n}function wA(e,r,n){n===void 0&&(n=!1);const s=e.getBoundingClientRect(),a=s.left+r.scrollLeft-(n?0:aV(e,s)),l=s.top+r.scrollTop;return{x:a,y:l}}function ZQ(e){let{elements:r,rect:n,offsetParent:s,strategy:a}=e;const l=a==="fixed",c=ko(s),u=r?l0(r.floating):!1;if(s===c||u&&l)return n;let d={scrollLeft:0,scrollTop:0},h=ho(1);const g=ho(0),p=yo(s);if((p||!p&&!l)&&((Dh(s)!=="body"||Mg(c))&&(d=c0(s)),yo(s))){const b=Hu(s);h=Pd(s),g.x=b.x+s.clientLeft,g.y=b.y+s.clientTop}const N=c&&!p&&!l?wA(c,d,!0):ho(0);return{width:n.width*h.x,height:n.height*h.y,x:n.x*h.x-d.scrollLeft*h.x+g.x+N.x,y:n.y*h.y-d.scrollTop*h.y+g.y+N.y}}function eZ(e){return Array.from(e.getClientRects())}function tZ(e){const r=ko(e),n=c0(e),s=e.ownerDocument.body,a=Ei(r.scrollWidth,r.clientWidth,s.scrollWidth,s.clientWidth),l=Ei(r.scrollHeight,r.clientHeight,s.scrollHeight,s.clientHeight);let c=-n.scrollLeft+aV(e);const u=-n.scrollTop;return Ia(s).direction==="rtl"&&(c+=Ei(r.clientWidth,s.clientWidth)-a),{width:a,height:l,x:c,y:u}}function rZ(e,r){const n=Pi(e),s=ko(e),a=n.visualViewport;let l=s.clientWidth,c=s.clientHeight,u=0,d=0;if(a){l=a.width,c=a.height;const h=sV();(!h||h&&r==="fixed")&&(u=a.offsetLeft,d=a.offsetTop)}return{width:l,height:c,x:u,y:d}}function nZ(e,r){const n=Hu(e,!0,r==="fixed"),s=n.top+e.clientTop,a=n.left+e.clientLeft,l=yo(e)?Pd(e):ho(1),c=e.clientWidth*l.x,u=e.clientHeight*l.y,d=a*l.x,h=s*l.y;return{width:c,height:u,x:d,y:h}}function IR(e,r,n){let s;if(r==="viewport")s=rZ(e,n);else if(r==="document")s=tZ(ko(e));else if(Fa(r))s=nZ(r,n);else{const a=yA(e);s={x:r.x-a.x,y:r.y-a.y,width:r.width,height:r.height}}return cv(s)}function kA(e,r){const n=Pc(e);return n===r||!Fa(n)||qd(n)?!1:Ia(n).position==="fixed"||kA(n,r)}function sZ(e,r){const n=r.get(e);if(n)return n;let s=ig(e,[],!1).filter(u=>Fa(u)&&Dh(u)!=="body"),a=null;const l=Ia(e).position==="fixed";let c=l?Pc(e):e;for(;Fa(c)&&!qd(c);){const u=Ia(c),d=nV(c);!d&&u.position==="fixed"&&(a=null),(l?!d&&!a:!d&&u.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||Mg(c)&&!d&&kA(e,c))?s=s.filter(g=>g!==c):a=u,c=Pc(c)}return r.set(e,s),s}function iZ(e){let{element:r,boundary:n,rootBoundary:s,strategy:a}=e;const c=[...n==="clippingAncestors"?l0(r)?[]:sZ(r,this._c):[].concat(n),s],u=c[0],d=c.reduce((h,g)=>{const p=IR(r,g,a);return h.top=Ei(p.top,h.top),h.right=jc(p.right,h.right),h.bottom=jc(p.bottom,h.bottom),h.left=Ei(p.left,h.left),h},IR(r,u,a));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function aZ(e){const{width:r,height:n}=vA(e);return{width:r,height:n}}function oZ(e,r,n){const s=yo(r),a=ko(r),l=n==="fixed",c=Hu(e,!0,l,r);let u={scrollLeft:0,scrollTop:0};const d=ho(0);if(s||!s&&!l)if((Dh(r)!=="body"||Mg(a))&&(u=c0(r)),s){const N=Hu(r,!0,l,r);d.x=N.x+r.clientLeft,d.y=N.y+r.clientTop}else a&&(d.x=aV(a));const h=a&&!s&&!l?wA(a,u):ho(0),g=c.left+u.scrollLeft-d.x-h.x,p=c.top+u.scrollTop-d.y-h.y;return{x:g,y:p,width:c.width,height:c.height}}function vE(e){return Ia(e).position==="static"}function OR(e,r){if(!yo(e)||Ia(e).position==="fixed")return null;if(r)return r(e);let n=e.offsetParent;return ko(e)===n&&(n=n.ownerDocument.body),n}function EA(e,r){const n=Pi(e);if(l0(e))return n;if(!yo(e)){let a=Pc(e);for(;a&&!qd(a);){if(Fa(a)&&!vE(a))return a;a=Pc(a)}return n}let s=OR(e,r);for(;s&&qQ(s)&&vE(s);)s=OR(s,r);return s&&qd(s)&&vE(s)&&!nV(s)?n:s||YQ(e)||n}const lZ=async function(e){const r=this.getOffsetParent||EA,n=this.getDimensions,s=await n(e.floating);return{reference:oZ(e.reference,await r(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function cZ(e){return Ia(e).direction==="rtl"}const uZ={convertOffsetParentRelativeRectToViewportRelativeRect:ZQ,getDocumentElement:ko,getClippingRect:iZ,getOffsetParent:EA,getElementRects:lZ,getClientRects:eZ,getDimensions:aZ,getScale:Pd,isElement:Fa,isRTL:cZ};function DA(e,r){return e.x===r.x&&e.y===r.y&&e.width===r.width&&e.height===r.height}function mZ(e,r){let n=null,s;const a=ko(e);function l(){var u;clearTimeout(s),(u=n)==null||u.disconnect(),n=null}function c(u,d){u===void 0&&(u=!1),d===void 0&&(d=1),l();const h=e.getBoundingClientRect(),{left:g,top:p,width:N,height:b}=h;if(u||r(),!N||!b)return;const D=ub(p),E=ub(a.clientWidth-(g+N)),j=ub(a.clientHeight-(p+b)),P=ub(g),k={rootMargin:-D+"px "+-E+"px "+-j+"px "+-P+"px",threshold:Ei(0,jc(1,d))||1};let V=!0;function S(R){const M=R[0].intersectionRatio;if(M!==d){if(!V)return c();M?c(!1,M):s=setTimeout(()=>{c(!1,1e-7)},1e3)}M===1&&!DA(h,e.getBoundingClientRect())&&c(),V=!1}try{n=new IntersectionObserver(S,{...k,root:a.ownerDocument})}catch{n=new IntersectionObserver(S,k)}n.observe(e)}return c(!0),l}function dZ(e,r,n,s){s===void 0&&(s={});const{ancestorScroll:a=!0,ancestorResize:l=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:d=!1}=s,h=iV(e),g=a||l?[...h?ig(h):[],...ig(r)]:[];g.forEach(P=>{a&&P.addEventListener("scroll",n,{passive:!0}),l&&P.addEventListener("resize",n)});const p=h&&u?mZ(h,n):null;let N=-1,b=null;c&&(b=new ResizeObserver(P=>{let[w]=P;w&&w.target===h&&b&&(b.unobserve(r),cancelAnimationFrame(N),N=requestAnimationFrame(()=>{var k;(k=b)==null||k.observe(r)})),n()}),h&&!d&&b.observe(h),b.observe(r));let D,E=d?Hu(e):null;d&&j();function j(){const P=Hu(e);E&&!DA(E,P)&&n(),E=P,D=requestAnimationFrame(j)}return n(),()=>{var P;g.forEach(w=>{a&&w.removeEventListener("scroll",n),l&&w.removeEventListener("resize",n)}),p==null||p(),(P=b)==null||P.disconnect(),b=null,d&&cancelAnimationFrame(D)}}const hZ=GQ,fZ=HQ,pZ=zQ,gZ=KQ,NZ=WQ,LR=BQ,xZ=JQ,bZ=(e,r,n)=>{const s=new Map,a={platform:uZ,...n},l={...a.platform,_c:s};return $Q(e,r,{...a,platform:l})};var Wb=typeof document<"u"?v.useLayoutEffect:v.useEffect;function uv(e,r){if(e===r)return!0;if(typeof e!=typeof r)return!1;if(typeof e=="function"&&e.toString()===r.toString())return!0;let n,s,a;if(e&&r&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==r.length)return!1;for(s=n;s--!==0;)if(!uv(e[s],r[s]))return!1;return!0}if(a=Object.keys(e),n=a.length,n!==Object.keys(r).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(r,a[s]))return!1;for(s=n;s--!==0;){const l=a[s];if(!(l==="_owner"&&e.$$typeof)&&!uv(e[l],r[l]))return!1}return!0}return e!==e&&r!==r}function jA(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function $R(e,r){const n=jA(e);return Math.round(r*n)/n}function yE(e){const r=v.useRef(e);return Wb(()=>{r.current=e}),r}function vZ(e){e===void 0&&(e={});const{placement:r="bottom",strategy:n="absolute",middleware:s=[],platform:a,elements:{reference:l,floating:c}={},transform:u=!0,whileElementsMounted:d,open:h}=e,[g,p]=v.useState({x:0,y:0,strategy:n,placement:r,middlewareData:{},isPositioned:!1}),[N,b]=v.useState(s);uv(N,s)||b(s);const[D,E]=v.useState(null),[j,P]=v.useState(null),w=v.useCallback(z=>{z!==R.current&&(R.current=z,E(z))},[]),k=v.useCallback(z=>{z!==M.current&&(M.current=z,P(z))},[]),V=l||D,S=c||j,R=v.useRef(null),M=v.useRef(null),T=v.useRef(g),A=d!=null,F=yE(d),L=yE(a),$=yE(h),W=v.useCallback(()=>{if(!R.current||!M.current)return;const z={placement:r,strategy:n,middleware:N};L.current&&(z.platform=L.current),bZ(R.current,M.current,z).then(G=>{const ee={...G,isPositioned:$.current!==!1};O.current&&!uv(T.current,ee)&&(T.current=ee,em.flushSync(()=>{p(ee)}))})},[N,r,n,L,$]);Wb(()=>{h===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,p(z=>({...z,isPositioned:!1})))},[h]);const O=v.useRef(!1);Wb(()=>(O.current=!0,()=>{O.current=!1}),[]),Wb(()=>{if(V&&(R.current=V),S&&(M.current=S),V&&S){if(F.current)return F.current(V,S,W);W()}},[V,S,W,F,A]);const Y=v.useMemo(()=>({reference:R,floating:M,setReference:w,setFloating:k}),[w,k]),H=v.useMemo(()=>({reference:V,floating:S}),[V,S]),q=v.useMemo(()=>{const z={position:n,left:0,top:0};if(!H.floating)return z;const G=$R(H.floating,g.x),ee=$R(H.floating,g.y);return u?{...z,transform:"translate("+G+"px, "+ee+"px)",...jA(H.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:G,top:ee}},[n,u,H.floating,g.x,g.y]);return v.useMemo(()=>({...g,update:W,refs:Y,elements:H,floatingStyles:q}),[g,W,Y,H,q])}const yZ=e=>{function r(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:s,padding:a}=typeof e=="function"?e(n):e;return s&&r(s)?s.current!=null?LR({element:s.current,padding:a}).fn(n):{}:s?LR({element:s,padding:a}).fn(n):{}}}},wZ=(e,r)=>({...hZ(e),options:[e,r]}),kZ=(e,r)=>({...fZ(e),options:[e,r]}),EZ=(e,r)=>({...xZ(e),options:[e,r]}),DZ=(e,r)=>({...pZ(e),options:[e,r]}),jZ=(e,r)=>({...gZ(e),options:[e,r]}),VZ=(e,r)=>({...NZ(e),options:[e,r]}),PZ=(e,r)=>({...yZ(e),options:[e,r]});var SZ="Arrow",VA=v.forwardRef((e,r)=>{const{children:n,width:s=10,height:a=5,...l}=e;return U.jsx(At.svg,{...l,ref:r,width:s,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:U.jsx("polygon",{points:"0,0 30,0 15,10"})})});VA.displayName=SZ;var CZ=VA;function oV(e){const[r,n]=v.useState(void 0);return cs(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const l=a[0];let c,u;if("borderBoxSize"in l){const d=l.borderBoxSize,h=Array.isArray(d)?d[0]:d;c=h.inlineSize,u=h.blockSize}else c=e.offsetWidth,u=e.offsetHeight;n({width:c,height:u})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else n(void 0)},[e]),r}var lV="Popper",[PA,u0]=As(lV),[RZ,SA]=PA(lV),CA=e=>{const{__scopePopper:r,children:n}=e,[s,a]=v.useState(null);return U.jsx(RZ,{scope:r,anchor:s,onAnchorChange:a,children:n})};CA.displayName=lV;var RA="PopperAnchor",MA=v.forwardRef((e,r)=>{const{__scopePopper:n,virtualRef:s,...a}=e,l=SA(RA,n),c=v.useRef(null),u=Nr(r,c);return v.useEffect(()=>{l.onAnchorChange((s==null?void 0:s.current)||c.current)}),s?null:U.jsx(At.div,{...a,ref:u})});MA.displayName=RA;var cV="PopperContent",[MZ,TZ]=PA(cV),TA=v.forwardRef((e,r)=>{var ge,Pe,ze,We,Re,Ee;const{__scopePopper:n,side:s="bottom",sideOffset:a=0,align:l="center",alignOffset:c=0,arrowPadding:u=0,avoidCollisions:d=!0,collisionBoundary:h=[],collisionPadding:g=0,sticky:p="partial",hideWhenDetached:N=!1,updatePositionStrategy:b="optimized",onPlaced:D,...E}=e,j=SA(cV,n),[P,w]=v.useState(null),k=Nr(r,ie=>w(ie)),[V,S]=v.useState(null),R=oV(V),M=(R==null?void 0:R.width)??0,T=(R==null?void 0:R.height)??0,A=s+(l!=="center"?"-"+l:""),F=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},L=Array.isArray(h)?h:[h],$=L.length>0,W={padding:F,boundary:L.filter(_Z),altBoundary:$},{refs:O,floatingStyles:Y,placement:H,isPositioned:q,middlewareData:z}=vZ({strategy:"fixed",placement:A,whileElementsMounted:(...ie)=>dZ(...ie,{animationFrame:b==="always"}),elements:{reference:j.anchor},middleware:[wZ({mainAxis:a+T,alignmentAxis:c}),d&&kZ({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?EZ():void 0,...W}),d&&DZ({...W}),jZ({...W,apply:({elements:ie,rects:ve,availableWidth:ne,availableHeight:le})=>{const{width:Ue,height:bt}=ve.reference,ht=ie.floating.style;ht.setProperty("--radix-popper-available-width",`${ne}px`),ht.setProperty("--radix-popper-available-height",`${le}px`),ht.setProperty("--radix-popper-anchor-width",`${Ue}px`),ht.setProperty("--radix-popper-anchor-height",`${bt}px`)}}),V&&PZ({element:V,padding:u}),FZ({arrowWidth:M,arrowHeight:T}),N&&VZ({strategy:"referenceHidden",...W})]}),[G,ee]=FA(H),K=Cn(D);cs(()=>{q&&(K==null||K())},[q,K]);const be=(ge=z.arrow)==null?void 0:ge.x,_e=(Pe=z.arrow)==null?void 0:Pe.y,oe=((ze=z.arrow)==null?void 0:ze.centerOffset)!==0,[fe,Ae]=v.useState();return cs(()=>{P&&Ae(window.getComputedStyle(P).zIndex)},[P]),U.jsx("div",{ref:O.setFloating,"data-radix-popper-content-wrapper":"",style:{...Y,transform:q?Y.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:fe,"--radix-popper-transform-origin":[(We=z.transformOrigin)==null?void 0:We.x,(Re=z.transformOrigin)==null?void 0:Re.y].join(" "),...((Ee=z.hide)==null?void 0:Ee.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:U.jsx(MZ,{scope:n,placedSide:G,onArrowChange:S,arrowX:be,arrowY:_e,shouldHideArrow:oe,children:U.jsx(At.div,{"data-side":G,"data-align":ee,...E,ref:k,style:{...E.style,animation:q?void 0:"none"}})})})});TA.displayName=cV;var AA="PopperArrow",AZ={top:"bottom",right:"left",bottom:"top",left:"right"},_A=v.forwardRef(function(r,n){const{__scopePopper:s,...a}=r,l=TZ(AA,s),c=AZ[l.placedSide];return U.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:U.jsx(CZ,{...a,ref:n,style:{...a.style,display:"block"}})})});_A.displayName=AA;function _Z(e){return e!==null}var FZ=e=>({name:"transformOrigin",options:e,fn(r){var j,P,w;const{placement:n,rects:s,middlewareData:a}=r,c=((j=a.arrow)==null?void 0:j.centerOffset)!==0,u=c?0:e.arrowWidth,d=c?0:e.arrowHeight,[h,g]=FA(n),p={start:"0%",center:"50%",end:"100%"}[g],N=(((P=a.arrow)==null?void 0:P.x)??0)+u/2,b=(((w=a.arrow)==null?void 0:w.y)??0)+d/2;let D="",E="";return h==="bottom"?(D=c?p:`${N}px`,E=`${-d}px`):h==="top"?(D=c?p:`${N}px`,E=`${s.floating.height+d}px`):h==="right"?(D=`${-d}px`,E=c?p:`${b}px`):h==="left"&&(D=`${s.floating.width+d}px`,E=c?p:`${b}px`),{data:{x:D,y:E}}}});function FA(e){const[r,n="center"]=e.split("-");return[r,n]}var IA=CA,OA=MA,LA=TA,$A=_A,[m0]=As("Tooltip",[u0]),d0=u0(),BA="TooltipProvider",IZ=700,FD="tooltip.open",[OZ,uV]=m0(BA),zA=e=>{const{__scopeTooltip:r,delayDuration:n=IZ,skipDelayDuration:s=300,disableHoverableContent:a=!1,children:l}=e,c=v.useRef(!0),u=v.useRef(!1),d=v.useRef(0);return v.useEffect(()=>{const h=d.current;return()=>window.clearTimeout(h)},[]),U.jsx(OZ,{scope:r,isOpenDelayedRef:c,delayDuration:n,onOpen:v.useCallback(()=>{window.clearTimeout(d.current),c.current=!1},[]),onClose:v.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>c.current=!0,s)},[s]),isPointerInTransitRef:u,onPointerInTransitChange:v.useCallback(h=>{u.current=h},[]),disableHoverableContent:a,children:l})};zA.displayName=BA;var h0="Tooltip",[LZ,f0]=m0(h0),WA=e=>{const{__scopeTooltip:r,children:n,open:s,defaultOpen:a=!1,onOpenChange:l,disableHoverableContent:c,delayDuration:u}=e,d=uV(h0,e.__scopeTooltip),h=d0(r),[g,p]=v.useState(null),N=Ta(),b=v.useRef(0),D=c??d.disableHoverableContent,E=u??d.delayDuration,j=v.useRef(!1),[P=!1,w]=ea({prop:s,defaultProp:a,onChange:M=>{M?(d.onOpen(),document.dispatchEvent(new CustomEvent(FD))):d.onClose(),l==null||l(M)}}),k=v.useMemo(()=>P?j.current?"delayed-open":"instant-open":"closed",[P]),V=v.useCallback(()=>{window.clearTimeout(b.current),b.current=0,j.current=!1,w(!0)},[w]),S=v.useCallback(()=>{window.clearTimeout(b.current),b.current=0,w(!1)},[w]),R=v.useCallback(()=>{window.clearTimeout(b.current),b.current=window.setTimeout(()=>{j.current=!0,w(!0),b.current=0},E)},[E,w]);return v.useEffect(()=>()=>{b.current&&(window.clearTimeout(b.current),b.current=0)},[]),U.jsx(IA,{...h,children:U.jsx(LZ,{scope:r,contentId:N,open:P,stateAttribute:k,trigger:g,onTriggerChange:p,onTriggerEnter:v.useCallback(()=>{d.isOpenDelayedRef.current?R():V()},[d.isOpenDelayedRef,R,V]),onTriggerLeave:v.useCallback(()=>{D?S():(window.clearTimeout(b.current),b.current=0)},[S,D]),onOpen:V,onClose:S,disableHoverableContent:D,children:n})})};WA.displayName=h0;var ID="TooltipTrigger",UA=v.forwardRef((e,r)=>{const{__scopeTooltip:n,...s}=e,a=f0(ID,n),l=uV(ID,n),c=d0(n),u=v.useRef(null),d=Nr(r,u,a.onTriggerChange),h=v.useRef(!1),g=v.useRef(!1),p=v.useCallback(()=>h.current=!1,[]);return v.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),U.jsx(OA,{asChild:!0,...c,children:U.jsx(At.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...s,ref:d,onPointerMove:Et(e.onPointerMove,N=>{N.pointerType!=="touch"&&!g.current&&!l.isPointerInTransitRef.current&&(a.onTriggerEnter(),g.current=!0)}),onPointerLeave:Et(e.onPointerLeave,()=>{a.onTriggerLeave(),g.current=!1}),onPointerDown:Et(e.onPointerDown,()=>{a.open&&a.onClose(),h.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:Et(e.onFocus,()=>{h.current||a.onOpen()}),onBlur:Et(e.onBlur,a.onClose),onClick:Et(e.onClick,a.onClose)})})});UA.displayName=ID;var $Z="TooltipPortal",[qve,BZ]=m0($Z,{forceMount:void 0}),Yd="TooltipContent",GA=v.forwardRef((e,r)=>{const n=BZ(Yd,e.__scopeTooltip),{forceMount:s=n.forceMount,side:a="top",...l}=e,c=f0(Yd,e.__scopeTooltip);return U.jsx(mi,{present:s||c.open,children:c.disableHoverableContent?U.jsx(HA,{side:a,...l,ref:r}):U.jsx(zZ,{side:a,...l,ref:r})})}),zZ=v.forwardRef((e,r)=>{const n=f0(Yd,e.__scopeTooltip),s=uV(Yd,e.__scopeTooltip),a=v.useRef(null),l=Nr(r,a),[c,u]=v.useState(null),{trigger:d,onClose:h}=n,g=a.current,{onPointerInTransitChange:p}=s,N=v.useCallback(()=>{u(null),p(!1)},[p]),b=v.useCallback((D,E)=>{const j=D.currentTarget,P={x:D.clientX,y:D.clientY},w=JZ(P,j.getBoundingClientRect()),k=KZ(P,w),V=qZ(E.getBoundingClientRect()),S=XZ([...k,...V]);u(S),p(!0)},[p]);return v.useEffect(()=>()=>N(),[N]),v.useEffect(()=>{if(d&&g){const D=j=>b(j,g),E=j=>b(j,d);return d.addEventListener("pointerleave",D),g.addEventListener("pointerleave",E),()=>{d.removeEventListener("pointerleave",D),g.removeEventListener("pointerleave",E)}}},[d,g,b,N]),v.useEffect(()=>{if(c){const D=E=>{const j=E.target,P={x:E.clientX,y:E.clientY},w=(d==null?void 0:d.contains(j))||(g==null?void 0:g.contains(j)),k=!YZ(P,c);w?N():k&&(N(),h())};return document.addEventListener("pointermove",D),()=>document.removeEventListener("pointermove",D)}},[d,g,c,h,N]),U.jsx(HA,{...e,ref:l})}),[WZ,UZ]=m0(h0,{isInside:!1}),GZ=b7("TooltipContent"),HA=v.forwardRef((e,r)=>{const{__scopeTooltip:n,children:s,"aria-label":a,onEscapeKeyDown:l,onPointerDownOutside:c,...u}=e,d=f0(Yd,n),h=d0(n),{onClose:g}=d;return v.useEffect(()=>(document.addEventListener(FD,g),()=>document.removeEventListener(FD,g)),[g]),v.useEffect(()=>{if(d.trigger){const p=N=>{const b=N.target;b!=null&&b.contains(d.trigger)&&g()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[d.trigger,g]),U.jsx(jg,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:p=>p.preventDefault(),onDismiss:g,children:U.jsxs(LA,{"data-state":d.stateAttribute,...h,...u,ref:r,style:{...u.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[U.jsx(GZ,{children:s}),U.jsx(WZ,{scope:n,isInside:!0,children:U.jsx(YY,{id:d.contentId,role:"tooltip",children:a||s})})]})})});GA.displayName=Yd;var JA="TooltipArrow",HZ=v.forwardRef((e,r)=>{const{__scopeTooltip:n,...s}=e,a=d0(n);return UZ(JA,n).isInside?null:U.jsx($A,{...a,...s,ref:r})});HZ.displayName=JA;function JZ(e,r){const n=Math.abs(r.top-e.y),s=Math.abs(r.bottom-e.y),a=Math.abs(r.right-e.x),l=Math.abs(r.left-e.x);switch(Math.min(n,s,a,l)){case l:return"left";case a:return"right";case n:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function KZ(e,r,n=5){const s=[];switch(r){case"top":s.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":s.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":s.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":s.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return s}function qZ(e){const{top:r,right:n,bottom:s,left:a}=e;return[{x:a,y:r},{x:n,y:r},{x:n,y:s},{x:a,y:s}]}function YZ(e,r){const{x:n,y:s}=e;let a=!1;for(let l=0,c=r.length-1;l<r.length;c=l++){const u=r[l].x,d=r[l].y,h=r[c].x,g=r[c].y;d>s!=g>s&&n<(h-u)*(s-d)/(g-d)+u&&(a=!a)}return a}function XZ(e){const r=e.slice();return r.sort((n,s)=>n.x<s.x?-1:n.x>s.x?1:n.y<s.y?-1:n.y>s.y?1:0),QZ(r)}function QZ(e){if(e.length<=1)return e.slice();const r=[];for(let s=0;s<e.length;s++){const a=e[s];for(;r.length>=2;){const l=r[r.length-1],c=r[r.length-2];if((l.x-c.x)*(a.y-c.y)>=(l.y-c.y)*(a.x-c.x))r.pop();else break}r.push(a)}r.pop();const n=[];for(let s=e.length-1;s>=0;s--){const a=e[s];for(;n.length>=2;){const l=n[n.length-1],c=n[n.length-2];if((l.x-c.x)*(a.y-c.y)>=(l.y-c.y)*(a.x-c.x))n.pop();else break}n.push(a)}return n.pop(),r.length===1&&n.length===1&&r[0].x===n[0].x&&r[0].y===n[0].y?r:r.concat(n)}var ZZ=zA,eee=WA,tee=UA,KA=GA;const OD=ZZ,ree=eee,nee=tee,qA=v.forwardRef(({className:e,sideOffset:r=4,...n},s)=>t.jsxDEV(KA,{ref:s,sideOffset:r,className:Ke("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...n},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/tooltip.tsx",lineNumber:18,columnNumber:3},void 0));qA.displayName=KA.displayName;const YA=v.createContext(null);function see({children:e}){const{data:r,isLoading:n}=yt({queryKey:["/api/auth/user"],queryFn:p7({on401:"returnNull"}),retry:!1,staleTime:0,refetchOnMount:"always"});return t.jsxDEV(YA.Provider,{value:{user:r??null,isLoading:n,isAuthenticated:!!r},children:e},void 0,!1,{fileName:"/home/runner/workspace/client/src/hooks/use-auth.tsx",lineNumber:24,columnNumber:5},this)}function xl(){const e=v.useContext(YA);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e}const XA=v.createContext(void 0);function iee({children:e}){const[r,n]=v.useState(()=>localStorage.getItem("selectedProgramId")||null),{data:s=[],isLoading:a}=yt({queryKey:["/api/programs"]});return v.useEffect(()=>{if(!r&&s.length>0){const l=s[0].id;n(l),localStorage.setItem("selectedProgramId",l)}},[s,r]),v.useEffect(()=>{r&&localStorage.setItem("selectedProgramId",r)},[r]),t.jsxDEV(XA.Provider,{value:{selectedProgramId:r,setSelectedProgramId:n,programs:s,isLoading:a},children:e},void 0,!1,{fileName:"/home/runner/workspace/client/src/contexts/ProgramContext.tsx",lineNumber:38,columnNumber:5},this)}function aee(){const e=v.useContext(XA);if(e===void 0)throw new Error("useProgram must be used within a ProgramProvider");return e}const QA=v.createContext(void 0);function oee({children:e}){const{toast:r}=ur(),[,n]=or(),[s,a]=v.useState(new Set),{data:l,isLoading:c,refetch:u}=yt({queryKey:["all-user-jobs"],queryFn:async()=>{const N=await fetch("/api/background-jobs?limit=50");if(!N.ok){if(N.status===401)return{jobs:[]};throw new Error("Failed to fetch jobs")}return N.json()},refetchInterval:3e3,retry:!1}),d=(l==null?void 0:l.jobs)||[],h=d.filter(N=>N.status==="pending"||N.status==="running"),g=d.filter(N=>N.status==="completed");v.useEffect(()=>{g.forEach(N=>{var j;if(s.has(N.id))return;const b=new Date(N.completedAt);if((new Date().getTime()-b.getTime())/1e3<30)if(a(P=>new Set(P).add(N.id)),N.jobType==="epm_generation"){const P=(j=N.resultData)==null?void 0:j.programId;r({title:" EPM Generation Complete!",description:"Your program is ready to view",duration:15e3}),P&&setTimeout(()=>n(`/strategy-workspace/epm/${P}`),500)}else r({title:" Job Complete!",description:`${N.jobType} finished successfully`,duration:1e4})})},[g,s,r,n]);const p=(N,b)=>h.some(D=>D.sessionId===N&&D.jobType===b);return t.jsxDEV(QA.Provider,{value:{runningJobs:h,completedJobs:g,allJobs:d,isLoading:c,refetch:u,hasRunningJobForSession:p},children:e},void 0,!1,{fileName:"/home/runner/workspace/client/src/contexts/JobContext.tsx",lineNumber:107,columnNumber:5},this)}function mV(){const e=v.useContext(QA);if(e===void 0)throw new Error("useJobs must be used within a JobProvider");return e}const ZA=v.createContext(null),BR="documentInsightsNotifications";function lee({children:e}){const[r,n]=v.useState([]),[s,a]=v.useState(!1);v.useEffect(()=>{const d=localStorage.getItem(BR);if(d)try{const h=JSON.parse(d);n(h)}catch(h){console.error("[DocumentInsights] Error loading from localStorage:",h)}},[]),v.useEffect(()=>{localStorage.setItem(BR,JSON.stringify(r))},[r]);const l=d=>{n(h=>h.find(g=>g.id===d.id)?h:[...h,d])},c=d=>{n(h=>h.filter(g=>g.id!==d))},u=d=>{window.location.href=`/repository/${d}`};return t.jsxDEV(ZA.Provider,{value:{pendingInsights:r,addNotification:l,dismissNotification:c,openInsights:u,isPanelOpen:s,setPanelOpen:a},children:e},void 0,!1,{fileName:"/home/runner/workspace/client/src/contexts/DocumentInsightsContext.tsx",lineNumber:67,columnNumber:5},this)}function dV(){const e=v.useContext(ZA);if(!e)throw new Error("useDocumentInsights must be used within DocumentInsightsProvider");return e}const Z=v.forwardRef(({className:e,...r},n)=>t.jsxDEV("div",{ref:n,className:Ke("rounded-lg border bg-card text-card-foreground shadow-sm",e),...r},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/card.tsx",lineNumber:9,columnNumber:3},void 0));Z.displayName="Card";const de=v.forwardRef(({className:e,...r},n)=>t.jsxDEV("div",{ref:n,className:Ke("flex flex-col space-y-1.5 p-6",e),...r},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/card.tsx",lineNumber:24,columnNumber:3},void 0));de.displayName="CardHeader";const pe=v.forwardRef(({className:e,...r},n)=>t.jsxDEV("div",{ref:n,className:Ke("text-2xl font-semibold leading-none tracking-tight",e),...r},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/card.tsx",lineNumber:36,columnNumber:3},void 0));pe.displayName="CardTitle";const He=v.forwardRef(({className:e,...r},n)=>t.jsxDEV("div",{ref:n,className:Ke("text-sm text-muted-foreground",e),...r},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/card.tsx",lineNumber:51,columnNumber:3},void 0));He.displayName="CardDescription";const te=v.forwardRef(({className:e,...r},n)=>t.jsxDEV("div",{ref:n,className:Ke("p-6 pt-0",e),...r},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/card.tsx",lineNumber:63,columnNumber:3},void 0));te.displayName="CardContent";const e6=v.forwardRef(({className:e,...r},n)=>t.jsxDEV("div",{ref:n,className:Ke("flex items-center p-6 pt-0",e),...r},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/card.tsx",lineNumber:71,columnNumber:3},void 0));e6.displayName="CardFooter";var hV="Progress",fV=100,[cee]=As(hV),[uee,mee]=cee(hV),t6=v.forwardRef((e,r)=>{const{__scopeProgress:n,value:s=null,max:a,getValueLabel:l=dee,...c}=e;(a||a===0)&&!zR(a)&&console.error(hee(`${a}`,"Progress"));const u=zR(a)?a:fV;s!==null&&!WR(s,u)&&console.error(fee(`${s}`,"Progress"));const d=WR(s,u)?s:null,h=mv(d)?l(d,u):void 0;return U.jsx(uee,{scope:n,value:d,max:u,children:U.jsx(At.div,{"aria-valuemax":u,"aria-valuemin":0,"aria-valuenow":mv(d)?d:void 0,"aria-valuetext":h,role:"progressbar","data-state":s6(d,u),"data-value":d??void 0,"data-max":u,...c,ref:r})})});t6.displayName=hV;var r6="ProgressIndicator",n6=v.forwardRef((e,r)=>{const{__scopeProgress:n,...s}=e,a=mee(r6,n);return U.jsx(At.div,{"data-state":s6(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...s,ref:r})});n6.displayName=r6;function dee(e,r){return`${Math.round(e/r*100)}%`}function s6(e,r){return e==null?"indeterminate":e===r?"complete":"loading"}function mv(e){return typeof e=="number"}function zR(e){return mv(e)&&!isNaN(e)&&e>0}function WR(e,r){return mv(e)&&!isNaN(e)&&e<=r&&e>=0}function hee(e,r){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${r}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${fV}\`.`}function fee(e,r){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${r}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${fV} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var i6=t6,pee=n6;const Ln=v.forwardRef(({className:e,value:r,...n},s)=>t.jsxDEV(i6,{ref:s,className:Ke("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:t.jsxDEV(pee,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(r||0)}%)`}},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/progress.tsx",lineNumber:20,columnNumber:5},void 0)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/progress.tsx",lineNumber:12,columnNumber:3},void 0));Ln.displayName=i6.displayName;const pV=xh("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-11 px-4 py-2",sm:"h-11 rounded-md px-3",lg:"h-12 rounded-md px-8",icon:"h-11 w-11"}},defaultVariants:{variant:"default",size:"default"}}),me=v.forwardRef(({className:e,variant:r,size:n,asChild:s=!1,...a},l)=>{const c=s?N7:"button";return t.jsxDEV(c,{className:Ke(pV({variant:r,size:n,className:e})),ref:l,...a},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/button.tsx",lineNumber:46,columnNumber:7},void 0)});me.displayName="Button";function gee(){const{runningJobs:e}=mV(),[r,n]=or(),{toast:s}=ur(),[a,l]=v.useState(new Set),[c,u]=v.useState(new Set),[d,h]=v.useState(!1),g=Qr({mutationFn:async P=>await Zt("DELETE",`/api/background-jobs/${P}`),onSuccess:(P,w)=>{s({title:"Job Cancelled",description:"The background job has been cancelled successfully."}),l(k=>new Set(k).add(w))},onError:P=>{s({title:"Cancellation Failed",description:(P==null?void 0:P.message)||"Unable to cancel the job. It may have already completed.",variant:"destructive"})}});if(r.includes("/strategy-workspace/prioritization")||e.length===0)return null;const N=e.filter(P=>!a.has(P.id));if(N.length===0)return null;const b=P=>{switch(P){case"epm_generation":return"EPM Generation";case"bmc_analysis":return"Business Model Canvas Analysis";case"five_whys_generation":return"Five Whys Analysis";case"porters_analysis":return"Porter's Five Forces Analysis";case"pestle_analysis":return"PESTLE Analysis";case"web_research":return"Web Research";case"strategic_understanding":return"Strategic Understanding";default:return P}},D=P=>{const w=P.inputData||{};if(P.jobType==="epm_generation"&&w.strategyName){const k=w.strategyName;return k.length>40?k.substring(0,37)+"...":k}return b(P.jobType)},E=N.length>3,j=E&&!d?N.slice(0,2):N;return t.jsxDEV("div",{className:"fixed bottom-4 right-4 w-full sm:w-96 max-w-[calc(100vw-2rem)] max-h-[calc(100vh-2rem)] overflow-y-auto space-y-2 z-50","data-testid":"global-job-tracker",children:[j.map(P=>c.has(P.id)?t.jsxDEV(Z,{className:"shadow-lg border-2 cursor-pointer hover:shadow-xl transition-shadow bg-card dark:bg-gray-900 opacity-100",onClick:()=>u(k=>{const V=new Set(k);return V.delete(P.id),V}),"data-testid":`minimized-job-${P.id}`,style:{backgroundColor:"var(--card)"},children:t.jsxDEV(te,{className:"p-3 bg-card dark:bg-gray-900",children:t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(lt,{className:"h-4 w-4 animate-spin text-blue-500 flex-shrink-0"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/GlobalJobTracker.tsx",lineNumber:104,columnNumber:19},this),t.jsxDEV("div",{className:"flex-1 min-w-0",children:[t.jsxDEV("p",{className:"text-sm font-medium truncate",children:D(P)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/GlobalJobTracker.tsx",lineNumber:106,columnNumber:21},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground truncate",children:[P.progress,"% - ",P.progressMessage||"Processing..."]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/GlobalJobTracker.tsx",lineNumber:109,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/GlobalJobTracker.tsx",lineNumber:105,columnNumber:19},this),t.jsxDEV(me,{variant:"ghost",size:"icon",className:"h-6 w-6 flex-shrink-0",onClick:k=>{k.stopPropagation(),l(V=>new Set(V).add(P.id))},"data-testid":"button-dismiss-minimized",children:t.jsxDEV(Ri,{className:"h-3 w-3"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/GlobalJobTracker.tsx",lineNumber:123,columnNumber:21},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/GlobalJobTracker.tsx",lineNumber:113,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/GlobalJobTracker.tsx",lineNumber:103,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/GlobalJobTracker.tsx",lineNumber:102,columnNumber:15},this)},P.id,!1,{fileName:"/home/runner/workspace/client/src/components/GlobalJobTracker.tsx",lineNumber:91,columnNumber:13},this):t.jsxDEV(Z,{className:"shadow-lg border-2 bg-card dark:bg-gray-900 opacity-100","data-testid":`expanded-job-${P.id}`,style:{backgroundColor:"var(--card)"},children:[t.jsxDEV(de,{className:"pb-3 bg-background dark:bg-gray-900",children:t.jsxDEV("div",{className:"flex items-center justify-between bg-background dark:bg-gray-900 relative z-10",children:[t.jsxDEV("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[t.jsxDEV(lt,{className:"h-4 w-4 animate-spin text-blue-500 flex-shrink-0"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/GlobalJobTracker.tsx",lineNumber:142,columnNumber:19},this),t.jsxDEV(pe,{className:"text-base truncate bg-background dark:bg-gray-900",children:D(P)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/GlobalJobTracker.tsx",lineNumber:143,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/GlobalJobTracker.tsx",lineNumber:141,columnNumber:17},this),t.jsxDEV("div",{className:"flex items-center gap-1",children:[t.jsxDEV(me,{variant:"ghost",size:"icon",onClick:()=>u(k=>new Set(k).add(P.id)),className:"h-6 w-6","data-testid":"button-minimize-job",children:t.jsxDEV(OX,{className:"h-3 w-3"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/GlobalJobTracker.tsx",lineNumber:155,columnNumber:21},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/GlobalJobTracker.tsx",lineNumber:148,columnNumber:19},this),t.jsxDEV(me,{variant:"ghost",size:"icon",onClick:()=>l(k=>new Set(k).add(P.id)),className:"h-6 w-6","data-testid":"button-dismiss-job",children:t.jsxDEV(Ri,{className:"h-3 w-3"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/GlobalJobTracker.tsx",lineNumber:164,columnNumber:21},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/GlobalJobTracker.tsx",lineNumber:157,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/GlobalJobTracker.tsx",lineNumber:147,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/GlobalJobTracker.tsx",lineNumber:140,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/GlobalJobTracker.tsx",lineNumber:139,columnNumber:13},this),t.jsxDEV(te,{className:"space-y-3",children:[t.jsxDEV("div",{children:[t.jsxDEV(Ln,{value:P.progress,className:"h-2"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/GlobalJobTracker.tsx",lineNumber:171,columnNumber:17},this),t.jsxDEV("div",{className:"flex items-center justify-between mt-1 gap-2",children:[t.jsxDEV("p",{className:"text-xs text-muted-foreground line-clamp-2 flex-1",children:P.progressMessage||"Processing..."},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/GlobalJobTracker.tsx",lineNumber:173,columnNumber:19},this),t.jsxDEV("p",{className:"text-xs font-medium flex-shrink-0",children:[P.progress,"%"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/GlobalJobTracker.tsx",lineNumber:176,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/GlobalJobTracker.tsx",lineNumber:172,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/GlobalJobTracker.tsx",lineNumber:170,columnNumber:15},this),t.jsxDEV("div",{className:"bg-muted/50 rounded-lg p-2",children:t.jsxDEV("p",{className:"text-xs text-muted-foreground",children:" You can safely navigate anywhere. We'll notify you when it's ready."},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/GlobalJobTracker.tsx",lineNumber:181,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/GlobalJobTracker.tsx",lineNumber:180,columnNumber:15},this),t.jsxDEV("div",{className:"flex flex-col sm:flex-row gap-2",children:[P.jobType==="epm_generation"&&t.jsxDEV(me,{variant:"outline",className:"flex-1 text-xs sm:text-sm",size:"sm",onClick:()=>n("/strategy-workspace/programs"),"data-testid":"button-view-programs",children:["Go to Programs",t.jsxDEV(Wu,{className:"h-4 w-4 ml-2"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/GlobalJobTracker.tsx",lineNumber:196,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/GlobalJobTracker.tsx",lineNumber:188,columnNumber:19},this),t.jsxDEV(me,{variant:"outline",size:"sm",className:P.jobType==="epm_generation"?"text-xs sm:text-sm":"w-full text-xs sm:text-sm",onClick:()=>g.mutate(P.id),disabled:g.isPending,"data-testid":`button-cancel-job-${P.id}`,children:[t.jsxDEV(Dc,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/GlobalJobTracker.tsx",lineNumber:207,columnNumber:19},this),"Cancel"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/GlobalJobTracker.tsx",lineNumber:199,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/GlobalJobTracker.tsx",lineNumber:186,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/GlobalJobTracker.tsx",lineNumber:169,columnNumber:13},this)]},P.id,!0,{fileName:"/home/runner/workspace/client/src/components/GlobalJobTracker.tsx",lineNumber:133,columnNumber:11},this)),E&&!d&&t.jsxDEV(Z,{className:"shadow-lg border-2 border-blue-500/50","data-testid":"job-overflow-summary",children:t.jsxDEV(te,{className:"p-4",children:t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(lt,{className:"h-4 w-4 animate-spin text-blue-500"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/GlobalJobTracker.tsx",lineNumber:222,columnNumber:17},this),t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-sm font-medium",children:["+ ",N.length-2," more job",N.length-2!==1?"s":""," running"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/GlobalJobTracker.tsx",lineNumber:224,columnNumber:19},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"All jobs processing in background"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/GlobalJobTracker.tsx",lineNumber:227,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/GlobalJobTracker.tsx",lineNumber:223,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/GlobalJobTracker.tsx",lineNumber:221,columnNumber:15},this),t.jsxDEV(me,{variant:"outline",size:"sm",onClick:()=>h(!0),"data-testid":"button-show-all-jobs",children:"View All"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/GlobalJobTracker.tsx",lineNumber:232,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/GlobalJobTracker.tsx",lineNumber:220,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/GlobalJobTracker.tsx",lineNumber:219,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/GlobalJobTracker.tsx",lineNumber:218,columnNumber:9},this),E&&d&&t.jsxDEV(Z,{className:"shadow-lg border-2 border-blue-500/50","data-testid":"job-collapse-summary",children:t.jsxDEV(te,{className:"p-3",children:t.jsxDEV(me,{variant:"ghost",size:"sm",onClick:()=>h(!1),className:"w-full","data-testid":"button-collapse-jobs",children:"Show Less"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/GlobalJobTracker.tsx",lineNumber:249,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/GlobalJobTracker.tsx",lineNumber:248,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/GlobalJobTracker.tsx",lineNumber:247,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/GlobalJobTracker.tsx",lineNumber:84,columnNumber:5},this)}const Nee=xh("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function se({className:e,variant:r,...n}){return t.jsxDEV("div",{className:Ke(Nee({variant:r}),e),...n},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/badge.tsx",lineNumber:32,columnNumber:5},this)}function xee(){const{pendingInsights:e,setPanelOpen:r}=dV();return e.length===0?null:t.jsxDEV("div",{className:"fixed bottom-6 right-6 z-50","data-testid":"fab-document-insights",children:t.jsxDEV(me,{onClick:()=>r(!0),size:"lg",className:"rounded-full shadow-lg relative","data-testid":"button-open-insights",children:[t.jsxDEV(yn,{className:"h-5 w-5 mr-2"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/DocumentInsightsFAB.tsx",lineNumber:24,columnNumber:9},this),"Document Insights",t.jsxDEV(se,{className:"ml-2 bg-primary-foreground text-primary",children:e.length},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/DocumentInsightsFAB.tsx",lineNumber:26,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/DocumentInsightsFAB.tsx",lineNumber:18,columnNumber:7},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/DocumentInsightsFAB.tsx",lineNumber:14,columnNumber:5},this)}var wE="focusScope.autoFocusOnMount",kE="focusScope.autoFocusOnUnmount",UR={bubbles:!1,cancelable:!0},bee="FocusScope",gV=v.forwardRef((e,r)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:a,onUnmountAutoFocus:l,...c}=e,[u,d]=v.useState(null),h=Cn(a),g=Cn(l),p=v.useRef(null),N=Nr(r,E=>d(E)),b=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(s){let E=function(k){if(b.paused||!u)return;const V=k.target;u.contains(V)?p.current=V:ic(p.current,{select:!0})},j=function(k){if(b.paused||!u)return;const V=k.relatedTarget;V!==null&&(u.contains(V)||ic(p.current,{select:!0}))},P=function(k){if(document.activeElement===document.body)for(const S of k)S.removedNodes.length>0&&ic(u)};document.addEventListener("focusin",E),document.addEventListener("focusout",j);const w=new MutationObserver(P);return u&&w.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",E),document.removeEventListener("focusout",j),w.disconnect()}}},[s,u,b.paused]),v.useEffect(()=>{if(u){HR.add(b);const E=document.activeElement;if(!u.contains(E)){const P=new CustomEvent(wE,UR);u.addEventListener(wE,h),u.dispatchEvent(P),P.defaultPrevented||(vee(Dee(a6(u)),{select:!0}),document.activeElement===E&&ic(u))}return()=>{u.removeEventListener(wE,h),setTimeout(()=>{const P=new CustomEvent(kE,UR);u.addEventListener(kE,g),u.dispatchEvent(P),P.defaultPrevented||ic(E??document.body,{select:!0}),u.removeEventListener(kE,g),HR.remove(b)},0)}}},[u,h,g,b]);const D=v.useCallback(E=>{if(!n&&!s||b.paused)return;const j=E.key==="Tab"&&!E.altKey&&!E.ctrlKey&&!E.metaKey,P=document.activeElement;if(j&&P){const w=E.currentTarget,[k,V]=yee(w);k&&V?!E.shiftKey&&P===V?(E.preventDefault(),n&&ic(k,{select:!0})):E.shiftKey&&P===k&&(E.preventDefault(),n&&ic(V,{select:!0})):P===w&&E.preventDefault()}},[n,s,b.paused]);return U.jsx(At.div,{tabIndex:-1,...c,ref:N,onKeyDown:D})});gV.displayName=bee;function vee(e,{select:r=!1}={}){const n=document.activeElement;for(const s of e)if(ic(s,{select:r}),document.activeElement!==n)return}function yee(e){const r=a6(e),n=GR(r,e),s=GR(r.reverse(),e);return[n,s]}function a6(e){const r=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)r.push(n.currentNode);return r}function GR(e,r){for(const n of e)if(!wee(n,{upTo:r}))return n}function wee(e,{upTo:r}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(r!==void 0&&e===r)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function kee(e){return e instanceof HTMLInputElement&&"select"in e}function ic(e,{select:r=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&kee(e)&&r&&e.select()}}var HR=Eee();function Eee(){let e=[];return{add(r){const n=e[0];r!==n&&(n==null||n.pause()),e=JR(e,r),e.unshift(r)},remove(r){var n;e=JR(e,r),(n=e[0])==null||n.resume()}}}function JR(e,r){const n=[...e],s=n.indexOf(r);return s!==-1&&n.splice(s,1),n}function Dee(e){return e.filter(r=>r.tagName!=="A")}var EE=0;function o6(){v.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??KR()),document.body.insertAdjacentElement("beforeend",e[1]??KR()),EE++,()=>{EE===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),EE--}},[])}function KR(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var lo=function(){return lo=Object.assign||function(r){for(var n,s=1,a=arguments.length;s<a;s++){n=arguments[s];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(r[l]=n[l])}return r},lo.apply(this,arguments)};function l6(e,r){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&r.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)r.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(n[s[a]]=e[s[a]]);return n}function jee(e,r,n){if(n||arguments.length===2)for(var s=0,a=r.length,l;s<a;s++)(l||!(s in r))&&(l||(l=Array.prototype.slice.call(r,0,s)),l[s]=r[s]);return e.concat(l||Array.prototype.slice.call(r))}var Ub="right-scroll-bar-position",Gb="width-before-scroll-bar",Vee="with-scroll-bars-hidden",Pee="--removed-body-scroll-bar-size";function DE(e,r){return typeof e=="function"?e(r):e&&(e.current=r),e}function See(e,r){var n=v.useState(function(){return{value:e,callback:r,facade:{get current(){return n.value},set current(s){var a=n.value;a!==s&&(n.value=s,n.callback(s,a))}}}})[0];return n.callback=r,n.facade}var Cee=typeof window<"u"?v.useLayoutEffect:v.useEffect,qR=new WeakMap;function Ree(e,r){var n=See(null,function(s){return e.forEach(function(a){return DE(a,s)})});return Cee(function(){var s=qR.get(n);if(s){var a=new Set(s),l=new Set(e),c=n.current;a.forEach(function(u){l.has(u)||DE(u,null)}),l.forEach(function(u){a.has(u)||DE(u,c)})}qR.set(n,e)},[e]),n}function Mee(e){return e}function Tee(e,r){r===void 0&&(r=Mee);var n=[],s=!1,a={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(l){var c=r(l,s);return n.push(c),function(){n=n.filter(function(u){return u!==c})}},assignSyncMedium:function(l){for(s=!0;n.length;){var c=n;n=[],c.forEach(l)}n={push:function(u){return l(u)},filter:function(){return n}}},assignMedium:function(l){s=!0;var c=[];if(n.length){var u=n;n=[],u.forEach(l),c=n}var d=function(){var g=c;c=[],g.forEach(l)},h=function(){return Promise.resolve().then(d)};h(),n={push:function(g){c.push(g),h()},filter:function(g){return c=c.filter(g),n}}}};return a}function Aee(e){e===void 0&&(e={});var r=Tee(null);return r.options=lo({async:!0,ssr:!1},e),r}var c6=function(e){var r=e.sideCar,n=l6(e,["sideCar"]);if(!r)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=r.read();if(!s)throw new Error("Sidecar medium not found");return v.createElement(s,lo({},n))};c6.isSideCarExport=!0;function _ee(e,r){return e.useMedium(r),c6}var u6=Aee(),jE=function(){},p0=v.forwardRef(function(e,r){var n=v.useRef(null),s=v.useState({onScrollCapture:jE,onWheelCapture:jE,onTouchMoveCapture:jE}),a=s[0],l=s[1],c=e.forwardProps,u=e.children,d=e.className,h=e.removeScrollBar,g=e.enabled,p=e.shards,N=e.sideCar,b=e.noIsolation,D=e.inert,E=e.allowPinchZoom,j=e.as,P=j===void 0?"div":j,w=e.gapMode,k=l6(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),V=N,S=Ree([n,r]),R=lo(lo({},k),a);return v.createElement(v.Fragment,null,g&&v.createElement(V,{sideCar:u6,removeScrollBar:h,shards:p,noIsolation:b,inert:D,setCallbacks:l,allowPinchZoom:!!E,lockRef:n,gapMode:w}),c?v.cloneElement(v.Children.only(u),lo(lo({},R),{ref:S})):v.createElement(P,lo({},R,{className:d,ref:S}),u))});p0.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};p0.classNames={fullWidth:Gb,zeroRight:Ub};var Fee=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Iee(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var r=Fee();return r&&e.setAttribute("nonce",r),e}function Oee(e,r){e.styleSheet?e.styleSheet.cssText=r:e.appendChild(document.createTextNode(r))}function Lee(e){var r=document.head||document.getElementsByTagName("head")[0];r.appendChild(e)}var $ee=function(){var e=0,r=null;return{add:function(n){e==0&&(r=Iee())&&(Oee(r,n),Lee(r)),e++},remove:function(){e--,!e&&r&&(r.parentNode&&r.parentNode.removeChild(r),r=null)}}},Bee=function(){var e=$ee();return function(r,n){v.useEffect(function(){return e.add(r),function(){e.remove()}},[r&&n])}},m6=function(){var e=Bee(),r=function(n){var s=n.styles,a=n.dynamic;return e(s,a),null};return r},zee={left:0,top:0,right:0,gap:0},VE=function(e){return parseInt(e||"",10)||0},Wee=function(e){var r=window.getComputedStyle(document.body),n=r[e==="padding"?"paddingLeft":"marginLeft"],s=r[e==="padding"?"paddingTop":"marginTop"],a=r[e==="padding"?"paddingRight":"marginRight"];return[VE(n),VE(s),VE(a)]},Uee=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return zee;var r=Wee(e),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:r[0],top:r[1],right:r[2],gap:Math.max(0,s-n+r[2]-r[0])}},Gee=m6(),Sd="data-scroll-locked",Hee=function(e,r,n,s){var a=e.left,l=e.top,c=e.right,u=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(Vee,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(u,"px ").concat(s,`;
  }
  body[`).concat(Sd,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([r&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(u,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ub,` {
    right: `).concat(u,"px ").concat(s,`;
  }
  
  .`).concat(Gb,` {
    margin-right: `).concat(u,"px ").concat(s,`;
  }
  
  .`).concat(Ub," .").concat(Ub,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(Gb," .").concat(Gb,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(Sd,`] {
    `).concat(Pee,": ").concat(u,`px;
  }
`)},YR=function(){var e=parseInt(document.body.getAttribute(Sd)||"0",10);return isFinite(e)?e:0},Jee=function(){v.useEffect(function(){return document.body.setAttribute(Sd,(YR()+1).toString()),function(){var e=YR()-1;e<=0?document.body.removeAttribute(Sd):document.body.setAttribute(Sd,e.toString())}},[])},Kee=function(e){var r=e.noRelative,n=e.noImportant,s=e.gapMode,a=s===void 0?"margin":s;Jee();var l=v.useMemo(function(){return Uee(a)},[a]);return v.createElement(Gee,{styles:Hee(l,!r,a,n?"":"!important")})},LD=!1;if(typeof window<"u")try{var mb=Object.defineProperty({},"passive",{get:function(){return LD=!0,!0}});window.addEventListener("test",mb,mb),window.removeEventListener("test",mb,mb)}catch{LD=!1}var ad=LD?{passive:!1}:!1,qee=function(e){return e.tagName==="TEXTAREA"},d6=function(e,r){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[r]!=="hidden"&&!(n.overflowY===n.overflowX&&!qee(e)&&n[r]==="visible")},Yee=function(e){return d6(e,"overflowY")},Xee=function(e){return d6(e,"overflowX")},XR=function(e,r){var n=r.ownerDocument,s=r;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var a=h6(e,s);if(a){var l=f6(e,s),c=l[1],u=l[2];if(c>u)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},Qee=function(e){var r=e.scrollTop,n=e.scrollHeight,s=e.clientHeight;return[r,n,s]},Zee=function(e){var r=e.scrollLeft,n=e.scrollWidth,s=e.clientWidth;return[r,n,s]},h6=function(e,r){return e==="v"?Yee(r):Xee(r)},f6=function(e,r){return e==="v"?Qee(r):Zee(r)},ete=function(e,r){return e==="h"&&r==="rtl"?-1:1},tte=function(e,r,n,s,a){var l=ete(e,window.getComputedStyle(r).direction),c=l*s,u=n.target,d=r.contains(u),h=!1,g=c>0,p=0,N=0;do{var b=f6(e,u),D=b[0],E=b[1],j=b[2],P=E-j-l*D;(D||P)&&h6(e,u)&&(p+=P,N+=D),u instanceof ShadowRoot?u=u.host:u=u.parentNode}while(!d&&u!==document.body||d&&(r.contains(u)||r===u));return(g&&Math.abs(p)<1||!g&&Math.abs(N)<1)&&(h=!0),h},db=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},QR=function(e){return[e.deltaX,e.deltaY]},ZR=function(e){return e&&"current"in e?e.current:e},rte=function(e,r){return e[0]===r[0]&&e[1]===r[1]},nte=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},ste=0,od=[];function ite(e){var r=v.useRef([]),n=v.useRef([0,0]),s=v.useRef(),a=v.useState(ste++)[0],l=v.useState(m6)[0],c=v.useRef(e);v.useEffect(function(){c.current=e},[e]),v.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var E=jee([e.lockRef.current],(e.shards||[]).map(ZR),!0).filter(Boolean);return E.forEach(function(j){return j.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),E.forEach(function(j){return j.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var u=v.useCallback(function(E,j){if("touches"in E&&E.touches.length===2||E.type==="wheel"&&E.ctrlKey)return!c.current.allowPinchZoom;var P=db(E),w=n.current,k="deltaX"in E?E.deltaX:w[0]-P[0],V="deltaY"in E?E.deltaY:w[1]-P[1],S,R=E.target,M=Math.abs(k)>Math.abs(V)?"h":"v";if("touches"in E&&M==="h"&&R.type==="range")return!1;var T=XR(M,R);if(!T)return!0;if(T?S=M:(S=M==="v"?"h":"v",T=XR(M,R)),!T)return!1;if(!s.current&&"changedTouches"in E&&(k||V)&&(s.current=S),!S)return!0;var A=s.current||S;return tte(A,j,E,A==="h"?k:V)},[]),d=v.useCallback(function(E){var j=E;if(!(!od.length||od[od.length-1]!==l)){var P="deltaY"in j?QR(j):db(j),w=r.current.filter(function(S){return S.name===j.type&&(S.target===j.target||j.target===S.shadowParent)&&rte(S.delta,P)})[0];if(w&&w.should){j.cancelable&&j.preventDefault();return}if(!w){var k=(c.current.shards||[]).map(ZR).filter(Boolean).filter(function(S){return S.contains(j.target)}),V=k.length>0?u(j,k[0]):!c.current.noIsolation;V&&j.cancelable&&j.preventDefault()}}},[]),h=v.useCallback(function(E,j,P,w){var k={name:E,delta:j,target:P,should:w,shadowParent:ate(P)};r.current.push(k),setTimeout(function(){r.current=r.current.filter(function(V){return V!==k})},1)},[]),g=v.useCallback(function(E){n.current=db(E),s.current=void 0},[]),p=v.useCallback(function(E){h(E.type,QR(E),E.target,u(E,e.lockRef.current))},[]),N=v.useCallback(function(E){h(E.type,db(E),E.target,u(E,e.lockRef.current))},[]);v.useEffect(function(){return od.push(l),e.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:N}),document.addEventListener("wheel",d,ad),document.addEventListener("touchmove",d,ad),document.addEventListener("touchstart",g,ad),function(){od=od.filter(function(E){return E!==l}),document.removeEventListener("wheel",d,ad),document.removeEventListener("touchmove",d,ad),document.removeEventListener("touchstart",g,ad)}},[]);var b=e.removeScrollBar,D=e.inert;return v.createElement(v.Fragment,null,D?v.createElement(l,{styles:nte(a)}):null,b?v.createElement(Kee,{gapMode:e.gapMode}):null)}function ate(e){for(var r=null;e!==null;)e instanceof ShadowRoot&&(r=e.host,e=e.host),e=e.parentNode;return r}const ote=_ee(u6,ite);var NV=v.forwardRef(function(e,r){return v.createElement(p0,lo({},e,{ref:r,sideCar:ote}))});NV.classNames=p0.classNames;var lte=function(e){if(typeof document>"u")return null;var r=Array.isArray(e)?e[0]:e;return r.ownerDocument.body},ld=new WeakMap,hb=new WeakMap,fb={},PE=0,p6=function(e){return e&&(e.host||p6(e.parentNode))},cte=function(e,r){return r.map(function(n){if(e.contains(n))return n;var s=p6(n);return s&&e.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},ute=function(e,r,n,s){var a=cte(r,Array.isArray(e)?e:[e]);fb[n]||(fb[n]=new WeakMap);var l=fb[n],c=[],u=new Set,d=new Set(a),h=function(p){!p||u.has(p)||(u.add(p),h(p.parentNode))};a.forEach(h);var g=function(p){!p||d.has(p)||Array.prototype.forEach.call(p.children,function(N){if(u.has(N))g(N);else try{var b=N.getAttribute(s),D=b!==null&&b!=="false",E=(ld.get(N)||0)+1,j=(l.get(N)||0)+1;ld.set(N,E),l.set(N,j),c.push(N),E===1&&D&&hb.set(N,!0),j===1&&N.setAttribute(n,"true"),D||N.setAttribute(s,"true")}catch(P){console.error("aria-hidden: cannot operate on ",N,P)}})};return g(r),u.clear(),PE++,function(){c.forEach(function(p){var N=ld.get(p)-1,b=l.get(p)-1;ld.set(p,N),l.set(p,b),N||(hb.has(p)||p.removeAttribute(s),hb.delete(p)),b||p.removeAttribute(n)}),PE--,PE||(ld=new WeakMap,ld=new WeakMap,hb=new WeakMap,fb={})}},g6=function(e,r,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),a=lte(e);return a?(s.push.apply(s,Array.from(a.querySelectorAll("[aria-live]"))),ute(s,a,n,"aria-hidden")):function(){return null}},xV="Dialog",[N6,x6]=As(xV),[mte,La]=N6(xV),b6=e=>{const{__scopeDialog:r,children:n,open:s,defaultOpen:a,onOpenChange:l,modal:c=!0}=e,u=v.useRef(null),d=v.useRef(null),[h=!1,g]=ea({prop:s,defaultProp:a,onChange:l});return U.jsx(mte,{scope:r,triggerRef:u,contentRef:d,contentId:Ta(),titleId:Ta(),descriptionId:Ta(),open:h,onOpenChange:g,onOpenToggle:v.useCallback(()=>g(p=>!p),[g]),modal:c,children:n})};b6.displayName=xV;var v6="DialogTrigger",y6=v.forwardRef((e,r)=>{const{__scopeDialog:n,...s}=e,a=La(v6,n),l=Nr(r,a.triggerRef);return U.jsx(At.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":yV(a.open),...s,ref:l,onClick:Et(e.onClick,a.onOpenToggle)})});y6.displayName=v6;var bV="DialogPortal",[dte,w6]=N6(bV,{forceMount:void 0}),k6=e=>{const{__scopeDialog:r,forceMount:n,children:s,container:a}=e,l=La(bV,r);return U.jsx(dte,{scope:r,forceMount:n,children:v.Children.map(s,c=>U.jsx(mi,{present:n||l.open,children:U.jsx(Qv,{asChild:!0,container:a,children:c})}))})};k6.displayName=bV;var dv="DialogOverlay",E6=v.forwardRef((e,r)=>{const n=w6(dv,e.__scopeDialog),{forceMount:s=n.forceMount,...a}=e,l=La(dv,e.__scopeDialog);return l.modal?U.jsx(mi,{present:s||l.open,children:U.jsx(fte,{...a,ref:r})}):null});E6.displayName=dv;var hte=Jd("DialogOverlay.RemoveScroll"),fte=v.forwardRef((e,r)=>{const{__scopeDialog:n,...s}=e,a=La(dv,n);return U.jsx(NV,{as:hte,allowPinchZoom:!0,shards:[a.contentRef],children:U.jsx(At.div,{"data-state":yV(a.open),...s,ref:r,style:{pointerEvents:"auto",...s.style}})})}),Ju="DialogContent",D6=v.forwardRef((e,r)=>{const n=w6(Ju,e.__scopeDialog),{forceMount:s=n.forceMount,...a}=e,l=La(Ju,e.__scopeDialog);return U.jsx(mi,{present:s||l.open,children:l.modal?U.jsx(pte,{...a,ref:r}):U.jsx(gte,{...a,ref:r})})});D6.displayName=Ju;var pte=v.forwardRef((e,r)=>{const n=La(Ju,e.__scopeDialog),s=v.useRef(null),a=Nr(r,n.contentRef,s);return v.useEffect(()=>{const l=s.current;if(l)return g6(l)},[]),U.jsx(j6,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Et(e.onCloseAutoFocus,l=>{var c;l.preventDefault(),(c=n.triggerRef.current)==null||c.focus()}),onPointerDownOutside:Et(e.onPointerDownOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0;(c.button===2||u)&&l.preventDefault()}),onFocusOutside:Et(e.onFocusOutside,l=>l.preventDefault())})}),gte=v.forwardRef((e,r)=>{const n=La(Ju,e.__scopeDialog),s=v.useRef(!1),a=v.useRef(!1);return U.jsx(j6,{...e,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{var c,u;(c=e.onCloseAutoFocus)==null||c.call(e,l),l.defaultPrevented||(s.current||(u=n.triggerRef.current)==null||u.focus(),l.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:l=>{var d,h;(d=e.onInteractOutside)==null||d.call(e,l),l.defaultPrevented||(s.current=!0,l.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const c=l.target;((h=n.triggerRef.current)==null?void 0:h.contains(c))&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&a.current&&l.preventDefault()}})}),j6=v.forwardRef((e,r)=>{const{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:l,...c}=e,u=La(Ju,n),d=v.useRef(null),h=Nr(r,d);return o6(),U.jsxs(U.Fragment,{children:[U.jsx(gV,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:l,children:U.jsx(jg,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":yV(u.open),...c,ref:h,onDismiss:()=>u.onOpenChange(!1)})}),U.jsxs(U.Fragment,{children:[U.jsx(xte,{titleId:u.titleId}),U.jsx(vte,{contentRef:d,descriptionId:u.descriptionId})]})]})}),vV="DialogTitle",V6=v.forwardRef((e,r)=>{const{__scopeDialog:n,...s}=e,a=La(vV,n);return U.jsx(At.h2,{id:a.titleId,...s,ref:r})});V6.displayName=vV;var P6="DialogDescription",S6=v.forwardRef((e,r)=>{const{__scopeDialog:n,...s}=e,a=La(P6,n);return U.jsx(At.p,{id:a.descriptionId,...s,ref:r})});S6.displayName=P6;var C6="DialogClose",R6=v.forwardRef((e,r)=>{const{__scopeDialog:n,...s}=e,a=La(C6,n);return U.jsx(At.button,{type:"button",...s,ref:r,onClick:Et(e.onClick,()=>a.onOpenChange(!1))})});R6.displayName=C6;function yV(e){return e?"open":"closed"}var M6="DialogTitleWarning",[Nte,T6]=PY(M6,{contentName:Ju,titleName:vV,docsSlug:"dialog"}),xte=({titleId:e})=>{const r=T6(M6),n=`\`${r.contentName}\` requires a \`${r.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${r.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${r.docsSlug}`;return v.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},bte="DialogDescriptionWarning",vte=({contentRef:e,descriptionId:r})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${T6(bte).contentName}}.`;return v.useEffect(()=>{var l;const a=(l=e.current)==null?void 0:l.getAttribute("aria-describedby");r&&a&&(document.getElementById(r)||console.warn(s))},[s,e,r]),null},wV=b6,A6=y6,kV=k6,Tg=E6,Ag=D6,_g=V6,Fg=S6,g0=R6;const yte=wV,wte=kV,_6=v.forwardRef(({className:e,...r},n)=>t.jsxDEV(Tg,{className:Ke("fixed inset-0 z-50 bg-black dark:bg-black  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...r,ref:n},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/sheet.tsx",lineNumber:22,columnNumber:3},void 0));_6.displayName=Tg.displayName;const kte=xh("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),F6=v.forwardRef(({side:e="right",className:r,children:n,...s},a)=>t.jsxDEV(wte,{children:[t.jsxDEV(_6,{},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/sheet.tsx",lineNumber:61,columnNumber:5},void 0),t.jsxDEV(Ag,{ref:a,className:Ke(kte({side:e}),r),...s,children:[n,t.jsxDEV(g0,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[t.jsxDEV(Ri,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/sheet.tsx",lineNumber:69,columnNumber:9},void 0),t.jsxDEV("span",{className:"sr-only",children:"Close"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/sheet.tsx",lineNumber:70,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/ui/sheet.tsx",lineNumber:68,columnNumber:7},void 0)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/ui/sheet.tsx",lineNumber:62,columnNumber:5},void 0)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/ui/sheet.tsx",lineNumber:60,columnNumber:3},void 0));F6.displayName=Ag.displayName;const I6=({className:e,...r})=>t.jsxDEV("div",{className:Ke("flex flex-col space-y-2 text-center sm:text-left",e),...r},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/sheet.tsx",lineNumber:81,columnNumber:3},void 0);I6.displayName="SheetHeader";const O6=v.forwardRef(({className:e,...r},n)=>t.jsxDEV(_g,{ref:n,className:Ke("text-lg font-semibold text-foreground",e),...r},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/sheet.tsx",lineNumber:109,columnNumber:3},void 0));O6.displayName=_g.displayName;const L6=v.forwardRef(({className:e,...r},n)=>t.jsxDEV(Fg,{ref:n,className:Ke("text-sm text-muted-foreground",e),...r},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/sheet.tsx",lineNumber:121,columnNumber:3},void 0));L6.displayName=Fg.displayName;function nn(e){const r=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&r==="[object Date]"?new e.constructor(+e):typeof e=="number"||r==="[object Number]"||typeof e=="string"||r==="[object String]"?new Date(e):new Date(NaN)}function Sc(e,r){return e instanceof Date?new e.constructor(r):new Date(r)}const $6=6048e5,Ete=864e5,EV=6e4,B6=36e5,pb=43200,e4=1440;let Dte={};function Ig(){return Dte}function ag(e,r){var u,d,h,g;const n=Ig(),s=(r==null?void 0:r.weekStartsOn)??((d=(u=r==null?void 0:r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??n.weekStartsOn??((g=(h=n.locale)==null?void 0:h.options)==null?void 0:g.weekStartsOn)??0,a=nn(e),l=a.getDay(),c=(l<s?7:0)+l-s;return a.setDate(a.getDate()-c),a.setHours(0,0,0,0),a}function hv(e){return ag(e,{weekStartsOn:1})}function z6(e){const r=nn(e),n=r.getFullYear(),s=Sc(e,0);s.setFullYear(n+1,0,4),s.setHours(0,0,0,0);const a=hv(s),l=Sc(e,0);l.setFullYear(n,0,4),l.setHours(0,0,0,0);const c=hv(l);return r.getTime()>=a.getTime()?n+1:r.getTime()>=c.getTime()?n:n-1}function t4(e){const r=nn(e);return r.setHours(0,0,0,0),r}function fv(e){const r=nn(e),n=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return n.setUTCFullYear(r.getFullYear()),+e-+n}function jte(e,r){const n=t4(e),s=t4(r),a=+n-fv(n),l=+s-fv(s);return Math.round((a-l)/Ete)}function Vte(e){const r=z6(e),n=Sc(e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),hv(n)}function Hb(e,r){const n=nn(e),s=nn(r),a=n.getTime()-s.getTime();return a<0?-1:a>0?1:a}function Pte(e){return Sc(e,Date.now())}function Ste(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Cte(e){if(!Ste(e)&&typeof e!="number")return!1;const r=nn(e);return!isNaN(Number(r))}function Rte(e,r){const n=nn(e),s=nn(r),a=n.getFullYear()-s.getFullYear(),l=n.getMonth()-s.getMonth();return a*12+l}function W6(e){return r=>{const s=(e?Math[e]:Math.trunc)(r);return s===0?0:s}}function U6(e,r){return+nn(e)-+nn(r)}function Mte(e,r,n){const s=U6(e,r)/EV;return W6(n==null?void 0:n.roundingMethod)(s)}function Tte(e){const r=nn(e);return r.setHours(23,59,59,999),r}function Ate(e){const r=nn(e),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function _te(e){const r=nn(e);return+Tte(r)==+Ate(r)}function Fte(e,r){const n=nn(e),s=nn(r),a=Hb(n,s),l=Math.abs(Rte(n,s));let c;if(l<1)c=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-a*l);let u=Hb(n,s)===-a;_te(nn(e))&&l===1&&Hb(e,s)===1&&(u=!1),c=a*(l-Number(u))}return c===0?0:c}function Ite(e,r,n){const s=U6(e,r)/1e3;return W6(n==null?void 0:n.roundingMethod)(s)}function Ote(e){const r=nn(e),n=Sc(e,0);return n.setFullYear(r.getFullYear(),0,1),n.setHours(0,0,0,0),n}const Lte={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},$te=(e,r,n)=>{let s;const a=Lte[e];return typeof a=="string"?s=a:r===1?s=a.one:s=a.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function SE(e){return(r={})=>{const n=r.width?String(r.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const Bte={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},zte={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Wte={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Ute={date:SE({formats:Bte,defaultWidth:"full"}),time:SE({formats:zte,defaultWidth:"full"}),dateTime:SE({formats:Wte,defaultWidth:"full"})},Gte={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Hte=(e,r,n,s)=>Gte[e];function jp(e){return(r,n)=>{const s=n!=null&&n.context?String(n.context):"standalone";let a;if(s==="formatting"&&e.formattingValues){const c=e.defaultFormattingWidth||e.defaultWidth,u=n!=null&&n.width?String(n.width):c;a=e.formattingValues[u]||e.formattingValues[c]}else{const c=e.defaultWidth,u=n!=null&&n.width?String(n.width):e.defaultWidth;a=e.values[u]||e.values[c]}const l=e.argumentCallback?e.argumentCallback(r):r;return a[l]}}const Jte={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Kte={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},qte={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Yte={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Xte={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Qte={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Zte=(e,r)=>{const n=Number(e),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},ere={ordinalNumber:Zte,era:jp({values:Jte,defaultWidth:"wide"}),quarter:jp({values:Kte,defaultWidth:"wide",argumentCallback:e=>e-1}),month:jp({values:qte,defaultWidth:"wide"}),day:jp({values:Yte,defaultWidth:"wide"}),dayPeriod:jp({values:Xte,defaultWidth:"wide",formattingValues:Qte,defaultFormattingWidth:"wide"})};function Vp(e){return(r,n={})=>{const s=n.width,a=s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth],l=r.match(a);if(!l)return null;const c=l[0],u=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth],d=Array.isArray(u)?rre(u,p=>p.test(c)):tre(u,p=>p.test(c));let h;h=e.valueCallback?e.valueCallback(d):d,h=n.valueCallback?n.valueCallback(h):h;const g=r.slice(c.length);return{value:h,rest:g}}}function tre(e,r){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&r(e[n]))return n}function rre(e,r){for(let n=0;n<e.length;n++)if(r(e[n]))return n}function nre(e){return(r,n={})=>{const s=r.match(e.matchPattern);if(!s)return null;const a=s[0],l=r.match(e.parsePattern);if(!l)return null;let c=e.valueCallback?e.valueCallback(l[0]):l[0];c=n.valueCallback?n.valueCallback(c):c;const u=r.slice(a.length);return{value:c,rest:u}}}const sre=/^(\d+)(th|st|nd|rd)?/i,ire=/\d+/i,are={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},ore={any:[/^b/i,/^(a|c)/i]},lre={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},cre={any:[/1/i,/2/i,/3/i,/4/i]},ure={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},mre={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},dre={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},hre={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},fre={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},pre={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},gre={ordinalNumber:nre({matchPattern:sre,parsePattern:ire,valueCallback:e=>parseInt(e,10)}),era:Vp({matchPatterns:are,defaultMatchWidth:"wide",parsePatterns:ore,defaultParseWidth:"any"}),quarter:Vp({matchPatterns:lre,defaultMatchWidth:"wide",parsePatterns:cre,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Vp({matchPatterns:ure,defaultMatchWidth:"wide",parsePatterns:mre,defaultParseWidth:"any"}),day:Vp({matchPatterns:dre,defaultMatchWidth:"wide",parsePatterns:hre,defaultParseWidth:"any"}),dayPeriod:Vp({matchPatterns:fre,defaultMatchWidth:"any",parsePatterns:pre,defaultParseWidth:"any"})},G6={code:"en-US",formatDistance:$te,formatLong:Ute,formatRelative:Hte,localize:ere,match:gre,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Nre(e){const r=nn(e);return jte(r,Ote(r))+1}function xre(e){const r=nn(e),n=+hv(r)-+Vte(r);return Math.round(n/$6)+1}function H6(e,r){var g,p,N,b;const n=nn(e),s=n.getFullYear(),a=Ig(),l=(r==null?void 0:r.firstWeekContainsDate)??((p=(g=r==null?void 0:r.locale)==null?void 0:g.options)==null?void 0:p.firstWeekContainsDate)??a.firstWeekContainsDate??((b=(N=a.locale)==null?void 0:N.options)==null?void 0:b.firstWeekContainsDate)??1,c=Sc(e,0);c.setFullYear(s+1,0,l),c.setHours(0,0,0,0);const u=ag(c,r),d=Sc(e,0);d.setFullYear(s,0,l),d.setHours(0,0,0,0);const h=ag(d,r);return n.getTime()>=u.getTime()?s+1:n.getTime()>=h.getTime()?s:s-1}function bre(e,r){var u,d,h,g;const n=Ig(),s=(r==null?void 0:r.firstWeekContainsDate)??((d=(u=r==null?void 0:r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??n.firstWeekContainsDate??((g=(h=n.locale)==null?void 0:h.options)==null?void 0:g.firstWeekContainsDate)??1,a=H6(e,r),l=Sc(e,0);return l.setFullYear(a,0,s),l.setHours(0,0,0,0),ag(l,r)}function vre(e,r){const n=nn(e),s=+ag(n,r)-+bre(n,r);return Math.round(s/$6)+1}function Yr(e,r){const n=e<0?"-":"",s=Math.abs(e).toString().padStart(r,"0");return n+s}const tc={y(e,r){const n=e.getFullYear(),s=n>0?n:1-n;return Yr(r==="yy"?s%100:s,r.length)},M(e,r){const n=e.getMonth();return r==="M"?String(n+1):Yr(n+1,2)},d(e,r){return Yr(e.getDate(),r.length)},a(e,r){const n=e.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,r){return Yr(e.getHours()%12||12,r.length)},H(e,r){return Yr(e.getHours(),r.length)},m(e,r){return Yr(e.getMinutes(),r.length)},s(e,r){return Yr(e.getSeconds(),r.length)},S(e,r){const n=r.length,s=e.getMilliseconds(),a=Math.trunc(s*Math.pow(10,n-3));return Yr(a,r.length)}},cd={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},r4={G:function(e,r,n){const s=e.getFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(s,{width:"abbreviated"});case"GGGGG":return n.era(s,{width:"narrow"});case"GGGG":default:return n.era(s,{width:"wide"})}},y:function(e,r,n){if(r==="yo"){const s=e.getFullYear(),a=s>0?s:1-s;return n.ordinalNumber(a,{unit:"year"})}return tc.y(e,r)},Y:function(e,r,n,s){const a=H6(e,s),l=a>0?a:1-a;if(r==="YY"){const c=l%100;return Yr(c,2)}return r==="Yo"?n.ordinalNumber(l,{unit:"year"}):Yr(l,r.length)},R:function(e,r){const n=z6(e);return Yr(n,r.length)},u:function(e,r){const n=e.getFullYear();return Yr(n,r.length)},Q:function(e,r,n){const s=Math.ceil((e.getMonth()+1)/3);switch(r){case"Q":return String(s);case"QQ":return Yr(s,2);case"Qo":return n.ordinalNumber(s,{unit:"quarter"});case"QQQ":return n.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,r,n){const s=Math.ceil((e.getMonth()+1)/3);switch(r){case"q":return String(s);case"qq":return Yr(s,2);case"qo":return n.ordinalNumber(s,{unit:"quarter"});case"qqq":return n.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,r,n){const s=e.getMonth();switch(r){case"M":case"MM":return tc.M(e,r);case"Mo":return n.ordinalNumber(s+1,{unit:"month"});case"MMM":return n.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(s,{width:"wide",context:"formatting"})}},L:function(e,r,n){const s=e.getMonth();switch(r){case"L":return String(s+1);case"LL":return Yr(s+1,2);case"Lo":return n.ordinalNumber(s+1,{unit:"month"});case"LLL":return n.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(s,{width:"wide",context:"standalone"})}},w:function(e,r,n,s){const a=vre(e,s);return r==="wo"?n.ordinalNumber(a,{unit:"week"}):Yr(a,r.length)},I:function(e,r,n){const s=xre(e);return r==="Io"?n.ordinalNumber(s,{unit:"week"}):Yr(s,r.length)},d:function(e,r,n){return r==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):tc.d(e,r)},D:function(e,r,n){const s=Nre(e);return r==="Do"?n.ordinalNumber(s,{unit:"dayOfYear"}):Yr(s,r.length)},E:function(e,r,n){const s=e.getDay();switch(r){case"E":case"EE":case"EEE":return n.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(s,{width:"short",context:"formatting"});case"EEEE":default:return n.day(s,{width:"wide",context:"formatting"})}},e:function(e,r,n,s){const a=e.getDay(),l=(a-s.weekStartsOn+8)%7||7;switch(r){case"e":return String(l);case"ee":return Yr(l,2);case"eo":return n.ordinalNumber(l,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});case"eeee":default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,r,n,s){const a=e.getDay(),l=(a-s.weekStartsOn+8)%7||7;switch(r){case"c":return String(l);case"cc":return Yr(l,r.length);case"co":return n.ordinalNumber(l,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});case"cccc":default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,r,n){const s=e.getDay(),a=s===0?7:s;switch(r){case"i":return String(a);case"ii":return Yr(a,r.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(s,{width:"short",context:"formatting"});case"iiii":default:return n.day(s,{width:"wide",context:"formatting"})}},a:function(e,r,n){const a=e.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,r,n){const s=e.getHours();let a;switch(s===12?a=cd.noon:s===0?a=cd.midnight:a=s/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,r,n){const s=e.getHours();let a;switch(s>=17?a=cd.evening:s>=12?a=cd.afternoon:s>=4?a=cd.morning:a=cd.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,r,n){if(r==="ho"){let s=e.getHours()%12;return s===0&&(s=12),n.ordinalNumber(s,{unit:"hour"})}return tc.h(e,r)},H:function(e,r,n){return r==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):tc.H(e,r)},K:function(e,r,n){const s=e.getHours()%12;return r==="Ko"?n.ordinalNumber(s,{unit:"hour"}):Yr(s,r.length)},k:function(e,r,n){let s=e.getHours();return s===0&&(s=24),r==="ko"?n.ordinalNumber(s,{unit:"hour"}):Yr(s,r.length)},m:function(e,r,n){return r==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):tc.m(e,r)},s:function(e,r,n){return r==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):tc.s(e,r)},S:function(e,r){return tc.S(e,r)},X:function(e,r,n){const s=e.getTimezoneOffset();if(s===0)return"Z";switch(r){case"X":return s4(s);case"XXXX":case"XX":return wu(s);case"XXXXX":case"XXX":default:return wu(s,":")}},x:function(e,r,n){const s=e.getTimezoneOffset();switch(r){case"x":return s4(s);case"xxxx":case"xx":return wu(s);case"xxxxx":case"xxx":default:return wu(s,":")}},O:function(e,r,n){const s=e.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+n4(s,":");case"OOOO":default:return"GMT"+wu(s,":")}},z:function(e,r,n){const s=e.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+n4(s,":");case"zzzz":default:return"GMT"+wu(s,":")}},t:function(e,r,n){const s=Math.trunc(e.getTime()/1e3);return Yr(s,r.length)},T:function(e,r,n){const s=e.getTime();return Yr(s,r.length)}};function n4(e,r=""){const n=e>0?"-":"+",s=Math.abs(e),a=Math.trunc(s/60),l=s%60;return l===0?n+String(a):n+String(a)+r+Yr(l,2)}function s4(e,r){return e%60===0?(e>0?"-":"+")+Yr(Math.abs(e)/60,2):wu(e,r)}function wu(e,r=""){const n=e>0?"-":"+",s=Math.abs(e),a=Yr(Math.trunc(s/60),2),l=Yr(s%60,2);return n+a+r+l}const i4=(e,r)=>{switch(e){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},J6=(e,r)=>{switch(e){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},yre=(e,r)=>{const n=e.match(/(P+)(p+)?/)||[],s=n[1],a=n[2];if(!a)return i4(e,r);let l;switch(s){case"P":l=r.dateTime({width:"short"});break;case"PP":l=r.dateTime({width:"medium"});break;case"PPP":l=r.dateTime({width:"long"});break;case"PPPP":default:l=r.dateTime({width:"full"});break}return l.replace("{{date}}",i4(s,r)).replace("{{time}}",J6(a,r))},wre={p:J6,P:yre},kre=/^D+$/,Ere=/^Y+$/,Dre=["D","DD","YY","YYYY"];function jre(e){return kre.test(e)}function Vre(e){return Ere.test(e)}function Pre(e,r,n){const s=Sre(e,r,n);if(console.warn(s),Dre.includes(e))throw new RangeError(s)}function Sre(e,r,n){const s=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${r}\`) for formatting ${s} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Cre=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Rre=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Mre=/^'([^]*?)'?$/,Tre=/''/g,Are=/[a-zA-Z]/;function bc(e,r,n){var g,p,N,b;const s=Ig(),a=s.locale??G6,l=s.firstWeekContainsDate??((p=(g=s.locale)==null?void 0:g.options)==null?void 0:p.firstWeekContainsDate)??1,c=s.weekStartsOn??((b=(N=s.locale)==null?void 0:N.options)==null?void 0:b.weekStartsOn)??0,u=nn(e);if(!Cte(u))throw new RangeError("Invalid time value");let d=r.match(Rre).map(D=>{const E=D[0];if(E==="p"||E==="P"){const j=wre[E];return j(D,a.formatLong)}return D}).join("").match(Cre).map(D=>{if(D==="''")return{isToken:!1,value:"'"};const E=D[0];if(E==="'")return{isToken:!1,value:_re(D)};if(r4[E])return{isToken:!0,value:D};if(E.match(Are))throw new RangeError("Format string contains an unescaped latin alphabet character `"+E+"`");return{isToken:!1,value:D}});a.localize.preprocessor&&(d=a.localize.preprocessor(u,d));const h={firstWeekContainsDate:l,weekStartsOn:c,locale:a};return d.map(D=>{if(!D.isToken)return D.value;const E=D.value;(Vre(E)||jre(E))&&Pre(E,r,String(e));const j=r4[E[0]];return j(u,E,a.localize,h)}).join("")}function _re(e){const r=e.match(Mre);return r?r[1].replace(Tre,"'"):e}function Fre(e,r,n){const s=Ig(),a=(n==null?void 0:n.locale)??s.locale??G6,l=2520,c=Hb(e,r);if(isNaN(c))throw new RangeError("Invalid time value");const u=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:c});let d,h;c>0?(d=nn(r),h=nn(e)):(d=nn(e),h=nn(r));const g=Ite(h,d),p=(fv(h)-fv(d))/1e3,N=Math.round((g-p)/60);let b;if(N<2)return n!=null&&n.includeSeconds?g<5?a.formatDistance("lessThanXSeconds",5,u):g<10?a.formatDistance("lessThanXSeconds",10,u):g<20?a.formatDistance("lessThanXSeconds",20,u):g<40?a.formatDistance("halfAMinute",0,u):g<60?a.formatDistance("lessThanXMinutes",1,u):a.formatDistance("xMinutes",1,u):N===0?a.formatDistance("lessThanXMinutes",1,u):a.formatDistance("xMinutes",N,u);if(N<45)return a.formatDistance("xMinutes",N,u);if(N<90)return a.formatDistance("aboutXHours",1,u);if(N<e4){const D=Math.round(N/60);return a.formatDistance("aboutXHours",D,u)}else{if(N<l)return a.formatDistance("xDays",1,u);if(N<pb){const D=Math.round(N/e4);return a.formatDistance("xDays",D,u)}else if(N<pb*2)return b=Math.round(N/pb),a.formatDistance("aboutXMonths",b,u)}if(b=Fte(h,d),b<12){const D=Math.round(N/pb);return a.formatDistance("xMonths",D,u)}else{const D=b%12,E=Math.trunc(b/12);return D<3?a.formatDistance("aboutXYears",E,u):D<9?a.formatDistance("overXYears",E,u):a.formatDistance("almostXYears",E+1,u)}}function Si(e,r){return Fre(e,Pte(e),r)}function Ire(e,r){const s=Bre(e);let a;if(s.date){const d=zre(s.date,2);a=Wre(d.restDateString,d.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);const l=a.getTime();let c=0,u;if(s.time&&(c=Ure(s.time),isNaN(c)))return new Date(NaN);if(s.timezone){if(u=Gre(s.timezone),isNaN(u))return new Date(NaN)}else{const d=new Date(l+c),h=new Date(0);return h.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),h.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),h}return new Date(l+c+u)}const gb={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Ore=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Lre=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,$re=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Bre(e){const r={},n=e.split(gb.dateTimeDelimiter);let s;if(n.length>2)return r;if(/:/.test(n[0])?s=n[0]:(r.date=n[0],s=n[1],gb.timeZoneDelimiter.test(r.date)&&(r.date=e.split(gb.timeZoneDelimiter)[0],s=e.substr(r.date.length,e.length))),s){const a=gb.timezone.exec(s);a?(r.time=s.replace(a[1],""),r.timezone=a[1]):r.time=s}return r}function zre(e,r){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+r)+"})|(\\d{2}|[+-]\\d{"+(2+r)+"})$)"),s=e.match(n);if(!s)return{year:NaN,restDateString:""};const a=s[1]?parseInt(s[1]):null,l=s[2]?parseInt(s[2]):null;return{year:l===null?a:l*100,restDateString:e.slice((s[1]||s[2]).length)}}function Wre(e,r){if(r===null)return new Date(NaN);const n=e.match(Ore);if(!n)return new Date(NaN);const s=!!n[4],a=Pp(n[1]),l=Pp(n[2])-1,c=Pp(n[3]),u=Pp(n[4]),d=Pp(n[5])-1;if(s)return Yre(r,u,d)?Hre(r,u,d):new Date(NaN);{const h=new Date(0);return!Kre(r,l,c)||!qre(r,a)?new Date(NaN):(h.setUTCFullYear(r,l,Math.max(a,c)),h)}}function Pp(e){return e?parseInt(e):1}function Ure(e){const r=e.match(Lre);if(!r)return NaN;const n=CE(r[1]),s=CE(r[2]),a=CE(r[3]);return Xre(n,s,a)?n*B6+s*EV+a*1e3:NaN}function CE(e){return e&&parseFloat(e.replace(",","."))||0}function Gre(e){if(e==="Z")return 0;const r=e.match($re);if(!r)return 0;const n=r[1]==="+"?-1:1,s=parseInt(r[2]),a=r[3]&&parseInt(r[3])||0;return Qre(s,a)?n*(s*B6+a*EV):NaN}function Hre(e,r,n){const s=new Date(0);s.setUTCFullYear(e,0,4);const a=s.getUTCDay()||7,l=(r-1)*7+n+1-a;return s.setUTCDate(s.getUTCDate()+l),s}const Jre=[31,null,31,30,31,30,31,31,30,31,30,31];function K6(e){return e%400===0||e%4===0&&e%100!==0}function Kre(e,r,n){return r>=0&&r<=11&&n>=1&&n<=(Jre[r]||(K6(e)?29:28))}function qre(e,r){return r>=1&&r<=(K6(e)?366:365)}function Yre(e,r,n){return r>=1&&r<=53&&n>=0&&n<=6}function Xre(e,r,n){return e===24?r===0&&n===0:n>=0&&n<60&&r>=0&&r<60&&e>=0&&e<25}function Qre(e,r){return r>=0&&r<=59}function Zre(){const{pendingInsights:e,isPanelOpen:r,setPanelOpen:n,dismissNotification:s,openInsights:a}=dV();return t.jsxDEV(yte,{open:r,onOpenChange:n,children:t.jsxDEV(F6,{className:"w-full sm:max-w-lg overflow-y-auto","data-testid":"panel-document-insights",children:[t.jsxDEV(I6,{children:[t.jsxDEV(O6,{children:"Document Insights"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/DocumentInsightsPanel.tsx",lineNumber:23,columnNumber:11},this),t.jsxDEV(L6,{children:"Knowledge extracted from your uploaded documents"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/DocumentInsightsPanel.tsx",lineNumber:24,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/DocumentInsightsPanel.tsx",lineNumber:22,columnNumber:9},this),t.jsxDEV("div",{className:"mt-6 space-y-4",children:e.length===0?t.jsxDEV("div",{className:"text-center py-12 text-muted-foreground",children:[t.jsxDEV(Es,{className:"h-12 w-12 mx-auto mb-4 opacity-50"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/DocumentInsightsPanel.tsx",lineNumber:32,columnNumber:15},this),t.jsxDEV("p",{children:"No new insights available"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/DocumentInsightsPanel.tsx",lineNumber:33,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/DocumentInsightsPanel.tsx",lineNumber:31,columnNumber:13},this):e.map(l=>t.jsxDEV(Z,{"data-testid":`insight-card-${l.id}`,children:[t.jsxDEV(de,{children:t.jsxDEV("div",{className:"flex items-start justify-between",children:[t.jsxDEV("div",{className:"flex-1",children:[t.jsxDEV(pe,{className:"text-base flex items-center gap-2",children:[t.jsxDEV(Es,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/DocumentInsightsPanel.tsx",lineNumber:42,columnNumber:25},this),l.fileName||"Document"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/DocumentInsightsPanel.tsx",lineNumber:41,columnNumber:23},this),t.jsxDEV(He,{className:"mt-1",children:Si(new Date(l.completedAt),{addSuffix:!0})},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/DocumentInsightsPanel.tsx",lineNumber:45,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/DocumentInsightsPanel.tsx",lineNumber:40,columnNumber:21},this),t.jsxDEV(me,{variant:"ghost",size:"icon",onClick:()=>s(l.id),"data-testid":`button-dismiss-${l.id}`,children:t.jsxDEV(Ri,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/DocumentInsightsPanel.tsx",lineNumber:55,columnNumber:23},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/DocumentInsightsPanel.tsx",lineNumber:49,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/DocumentInsightsPanel.tsx",lineNumber:39,columnNumber:19},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/DocumentInsightsPanel.tsx",lineNumber:38,columnNumber:17},this),t.jsxDEV(te,{children:t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV(se,{variant:"secondary",children:[l.entityCount," statement",l.entityCount!==1?"s":""," extracted"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/DocumentInsightsPanel.tsx",lineNumber:61,columnNumber:21},this),t.jsxDEV(me,{size:"sm",onClick:()=>a(l.understandingId),"data-testid":`button-view-${l.id}`,children:[t.jsxDEV(s0,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/DocumentInsightsPanel.tsx",lineNumber:69,columnNumber:23},this),"View in Knowledge Graph"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/DocumentInsightsPanel.tsx",lineNumber:64,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/DocumentInsightsPanel.tsx",lineNumber:60,columnNumber:19},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/DocumentInsightsPanel.tsx",lineNumber:59,columnNumber:17},this)]},l.id,!0,{fileName:"/home/runner/workspace/client/src/components/DocumentInsightsPanel.tsx",lineNumber:37,columnNumber:15},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/DocumentInsightsPanel.tsx",lineNumber:29,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/DocumentInsightsPanel.tsx",lineNumber:21,columnNumber:7},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/DocumentInsightsPanel.tsx",lineNumber:20,columnNumber:5},this)}function ene({isOpen:e=!1,onToggle:r=()=>{}}){var c,u,d,h,g;const{user:n}=xl(),[s,a]=or(),l=p=>{a(p),window.innerWidth<1024&&r()};return t.jsxDEV(t.Fragment,{children:[e&&t.jsxDEV("div",{className:"fixed inset-0 bg-background/95 lg:hidden z-40",onClick:r,"data-testid":"sidebar-overlay"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/layout/sidebar.tsx",lineNumber:41,columnNumber:9},this),t.jsxDEV("aside",{className:Ke("fixed lg:static inset-y-0 left-0 z-50","w-64 bg-background/98 backdrop-blur-md border-r border-border","flex flex-col transition-transform duration-200 ease-in-out lg:translate-x-0",e?"translate-x-0":"-translate-x-full"),children:[t.jsxDEV("div",{className:"p-6 border-b border-border",children:t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("div",{className:"flex items-center space-x-3",children:[t.jsxDEV("div",{className:"text-2xl font-bold",style:{background:"linear-gradient(135deg, #3b82f6 0%, #10b981 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:"PREMISIA"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/layout/sidebar.tsx",lineNumber:58,columnNumber:15},this),t.jsxDEV("span",{className:"px-2 py-1 text-xs font-semibold bg-primary/10 text-primary rounded",children:"BETA"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/layout/sidebar.tsx",lineNumber:69,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/layout/sidebar.tsx",lineNumber:57,columnNumber:13},this),t.jsxDEV(me,{variant:"ghost",size:"icon",onClick:r,className:"lg:hidden text-white hover:text-white","data-testid":"button-close-sidebar",children:t.jsxDEV(Ri,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/layout/sidebar.tsx",lineNumber:78,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/layout/sidebar.tsx",lineNumber:71,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/layout/sidebar.tsx",lineNumber:56,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/layout/sidebar.tsx",lineNumber:55,columnNumber:9},this),t.jsxDEV("header",{className:"px-4 py-2 border-b border-border",children:t.jsxDEV("div",{className:"flex items-center gap-2",children:[n!=null&&n.profileImageUrl?t.jsxDEV("img",{src:n.profileImageUrl,alt:"Profile",className:"w-8 h-8 rounded-full object-cover"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/layout/sidebar.tsx",lineNumber:87,columnNumber:15},this):t.jsxDEV("div",{className:"w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center",children:t.jsxDEV("span",{className:"text-primary font-semibold text-xs",children:((u=(c=n==null?void 0:n.firstName)==null?void 0:c.substring(0,1))==null?void 0:u.toUpperCase())||((h=(d=n==null?void 0:n.email)==null?void 0:d.substring(0,1))==null?void 0:h.toUpperCase())||"U"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/layout/sidebar.tsx",lineNumber:94,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/layout/sidebar.tsx",lineNumber:93,columnNumber:15},this),t.jsxDEV("div",{className:"flex-1 min-w-0 flex items-center gap-2",children:[t.jsxDEV("span",{className:"text-sm font-medium text-white truncate",children:(n==null?void 0:n.firstName)||((g=n==null?void 0:n.email)==null?void 0:g.split("@")[0])||"User"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/layout/sidebar.tsx",lineNumber:100,columnNumber:15},this),t.jsxDEV("span",{className:"text-[10px] px-1.5 py-0.5 rounded bg-primary/10 text-primary font-medium",children:(n==null?void 0:n.role)||"Viewer"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/layout/sidebar.tsx",lineNumber:103,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/layout/sidebar.tsx",lineNumber:99,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/layout/sidebar.tsx",lineNumber:85,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/layout/sidebar.tsx",lineNumber:84,columnNumber:9},this),t.jsxDEV("nav",{className:"flex-1 p-4 overflow-y-auto",children:t.jsxDEV("div",{className:"space-y-1",children:[t.jsxDEV(me,{variant:s==="/"?"default":"ghost",className:Ke("w-full justify-start h-10 px-3 py-2 text-white hover:text-white",s==="/"&&"bg-primary text-primary-foreground"),onClick:()=>l("/"),"data-testid":"nav-home",children:[t.jsxDEV(_X,{className:"h-5 w-5 mr-3 flex-shrink-0"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/layout/sidebar.tsx",lineNumber:123,columnNumber:15},this),t.jsxDEV("span",{className:"font-medium",children:"Home"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/layout/sidebar.tsx",lineNumber:124,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/layout/sidebar.tsx",lineNumber:114,columnNumber:13},this),t.jsxDEV(me,{variant:s.startsWith("/strategic-consultant")?"default":"ghost",className:Ke("w-full justify-start h-10 px-3 py-2 text-white hover:text-white",s.startsWith("/strategic-consultant")&&"bg-primary text-primary-foreground"),onClick:()=>l("/strategic-consultant/input"),"data-testid":"nav-strategic-consultant",children:[t.jsxDEV(Ma,{className:"h-5 w-5 mr-3 flex-shrink-0"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/layout/sidebar.tsx",lineNumber:137,columnNumber:15},this),t.jsxDEV("span",{className:"font-medium",children:"Strategic Consultant"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/layout/sidebar.tsx",lineNumber:138,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/layout/sidebar.tsx",lineNumber:128,columnNumber:13},this),t.jsxDEV(me,{variant:s==="/marketing-consultant"?"default":"ghost",className:Ke("w-full justify-start h-10 px-3 py-2 text-white hover:text-white",s==="/marketing-consultant"&&"bg-primary text-primary-foreground"),onClick:()=>l("/marketing-consultant"),"data-testid":"nav-marketing-consultant",children:[t.jsxDEV(r0,{className:"h-5 w-5 mr-3 flex-shrink-0"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/layout/sidebar.tsx",lineNumber:151,columnNumber:15},this),t.jsxDEV("span",{className:"font-medium",children:"Marketing Consultant"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/layout/sidebar.tsx",lineNumber:152,columnNumber:15},this),t.jsxDEV(se,{variant:"secondary",className:"ml-2 px-1.5 py-0 text-[10px] font-semibold bg-primary/10 text-primary",children:"BETA"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/layout/sidebar.tsx",lineNumber:153,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/layout/sidebar.tsx",lineNumber:142,columnNumber:13},this),t.jsxDEV(me,{variant:s==="/marketing-consultant/discoveries"?"default":"ghost",className:Ke("w-full justify-start h-10 px-3 py-2 pl-8 text-white hover:text-white",s==="/marketing-consultant/discoveries"&&"bg-primary text-primary-foreground"),onClick:()=>l("/marketing-consultant/discoveries"),"data-testid":"nav-my-discoveries",children:[t.jsxDEV(X7,{className:"h-4 w-4 mr-3 flex-shrink-0"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/layout/sidebar.tsx",lineNumber:166,columnNumber:15},this),t.jsxDEV("span",{className:"font-medium text-sm",children:"My Discoveries"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/layout/sidebar.tsx",lineNumber:167,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/layout/sidebar.tsx",lineNumber:157,columnNumber:13},this),t.jsxDEV(me,{variant:s.startsWith("/strategies")?"default":"ghost",className:Ke("w-full justify-start h-10 px-3 py-2 text-white hover:text-white",s.startsWith("/strategies")&&"bg-primary text-primary-foreground"),onClick:()=>l("/strategies"),"data-testid":"nav-strategies",children:[t.jsxDEV(Xr,{className:"h-5 w-5 mr-3 flex-shrink-0"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/layout/sidebar.tsx",lineNumber:180,columnNumber:15},this),t.jsxDEV("span",{className:"font-medium",children:"Strategies Hub"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/layout/sidebar.tsx",lineNumber:181,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/layout/sidebar.tsx",lineNumber:171,columnNumber:13},this),t.jsxDEV(me,{variant:s==="/repository"?"default":"ghost",className:Ke("w-full justify-start h-10 px-3 py-2 text-white hover:text-white",s==="/repository"&&"bg-primary text-primary-foreground"),onClick:()=>l("/repository"),"data-testid":"nav-repository",children:[t.jsxDEV(mo,{className:"h-5 w-5 mr-3 flex-shrink-0"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/layout/sidebar.tsx",lineNumber:194,columnNumber:15},this),t.jsxDEV("span",{className:"font-medium",children:"Analysis Repository"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/layout/sidebar.tsx",lineNumber:195,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/layout/sidebar.tsx",lineNumber:185,columnNumber:13},this),t.jsxDEV(me,{variant:s.startsWith("/strategy-workspace")?"default":"ghost",className:Ke("w-full justify-start h-10 px-3 py-2 text-white hover:text-white",s.startsWith("/strategy-workspace")&&"bg-primary text-primary-foreground"),onClick:()=>l("/strategy-workspace/programs"),"data-testid":"nav-epm-programs",children:[t.jsxDEV(Es,{className:"h-5 w-5 mr-3 flex-shrink-0"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/layout/sidebar.tsx",lineNumber:208,columnNumber:15},this),t.jsxDEV("span",{className:"font-medium",children:"EPM Programs"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/layout/sidebar.tsx",lineNumber:209,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/layout/sidebar.tsx",lineNumber:199,columnNumber:13},this),t.jsxDEV(me,{variant:s==="/journeys"?"default":"ghost",className:Ke("w-full justify-start h-10 px-3 py-2 text-white hover:text-white",s==="/journeys"&&"bg-primary text-primary-foreground"),onClick:()=>l("/journeys"),"data-testid":"nav-journeys",children:[t.jsxDEV(Cg,{className:"h-5 w-5 mr-3 flex-shrink-0"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/layout/sidebar.tsx",lineNumber:222,columnNumber:15},this),t.jsxDEV("span",{className:"font-medium",children:"Journeys"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/layout/sidebar.tsx",lineNumber:223,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/layout/sidebar.tsx",lineNumber:213,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/layout/sidebar.tsx",lineNumber:112,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/layout/sidebar.tsx",lineNumber:111,columnNumber:9},this),t.jsxDEV("footer",{className:"p-3 border-t border-border",children:t.jsxDEV("div",{className:"flex items-center justify-around gap-2",children:[t.jsxDEV(me,{variant:"ghost",size:"icon",className:"h-9 w-9 text-white hover:text-white",title:"Settings","aria-label":"Settings","data-testid":"nav-settings",children:t.jsxDEV(i0,{className:"h-5 w-5"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/layout/sidebar.tsx",lineNumber:239,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/layout/sidebar.tsx",lineNumber:231,columnNumber:13},this),t.jsxDEV(me,{variant:"ghost",size:"icon",className:"h-9 w-9 text-red-400 hover:text-red-300",title:"Logout","aria-label":"Logout",onClick:()=>window.location.href="/api/logout","data-testid":"button-logout",children:t.jsxDEV(tA,{className:"h-5 w-5"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/layout/sidebar.tsx",lineNumber:250,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/layout/sidebar.tsx",lineNumber:241,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/layout/sidebar.tsx",lineNumber:230,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/layout/sidebar.tsx",lineNumber:229,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/layout/sidebar.tsx",lineNumber:48,columnNumber:7},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/layout/sidebar.tsx",lineNumber:38,columnNumber:5},this)}function $D(e,[r,n]){return Math.min(n,Math.max(r,e))}var tne=v.createContext(void 0);function jh(e){const r=v.useContext(tne);return e||r||"ltr"}function DV(e){const r=v.useRef({value:e,previous:e});return v.useMemo(()=>(r.current.value!==e&&(r.current.previous=r.current.value,r.current.value=e),r.current.previous),[e])}var rne=[" ","Enter","ArrowUp","ArrowDown"],nne=[" ","Enter"],Og="Select",[N0,x0,sne]=Xv(Og),[Vh]=As(Og,[sne,u0]),b0=u0(),[ine,Tc]=Vh(Og),[ane,one]=Vh(Og),q6=e=>{const{__scopeSelect:r,children:n,open:s,defaultOpen:a,onOpenChange:l,value:c,defaultValue:u,onValueChange:d,dir:h,name:g,autoComplete:p,disabled:N,required:b,form:D}=e,E=b0(r),[j,P]=v.useState(null),[w,k]=v.useState(null),[V,S]=v.useState(!1),R=jh(h),[M=!1,T]=ea({prop:s,defaultProp:a,onChange:l}),[A,F]=ea({prop:c,defaultProp:u,onChange:d}),L=v.useRef(null),$=j?D||!!j.closest("form"):!0,[W,O]=v.useState(new Set),Y=Array.from(W).map(H=>H.props.value).join(";");return U.jsx(IA,{...E,children:U.jsxs(ine,{required:b,scope:r,trigger:j,onTriggerChange:P,valueNode:w,onValueNodeChange:k,valueNodeHasChildren:V,onValueNodeHasChildrenChange:S,contentId:Ta(),value:A,onValueChange:F,open:M,onOpenChange:T,dir:R,triggerPointerDownPosRef:L,disabled:N,children:[U.jsx(N0.Provider,{scope:r,children:U.jsx(ane,{scope:e.__scopeSelect,onNativeOptionAdd:v.useCallback(H=>{O(q=>new Set(q).add(H))},[]),onNativeOptionRemove:v.useCallback(H=>{O(q=>{const z=new Set(q);return z.delete(H),z})},[]),children:n})}),$?U.jsxs(v_,{"aria-hidden":!0,required:b,tabIndex:-1,name:g,autoComplete:p,value:A,onChange:H=>F(H.target.value),disabled:N,form:D,children:[A===void 0?U.jsx("option",{value:""}):null,Array.from(W)]},Y):null]})})};q6.displayName=Og;var Y6="SelectTrigger",X6=v.forwardRef((e,r)=>{const{__scopeSelect:n,disabled:s=!1,...a}=e,l=b0(n),c=Tc(Y6,n),u=c.disabled||s,d=Nr(r,c.onTriggerChange),h=x0(n),g=v.useRef("touch"),[p,N,b]=y_(E=>{const j=h().filter(k=>!k.disabled),P=j.find(k=>k.value===c.value),w=w_(j,E,P);w!==void 0&&c.onValueChange(w.value)}),D=E=>{u||(c.onOpenChange(!0),b()),E&&(c.triggerPointerDownPosRef.current={x:Math.round(E.pageX),y:Math.round(E.pageY)})};return U.jsx(OA,{asChild:!0,...l,children:U.jsx(At.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":b_(c.value)?"":void 0,...a,ref:d,onClick:Et(a.onClick,E=>{E.currentTarget.focus(),g.current!=="mouse"&&D(E)}),onPointerDown:Et(a.onPointerDown,E=>{g.current=E.pointerType;const j=E.target;j.hasPointerCapture(E.pointerId)&&j.releasePointerCapture(E.pointerId),E.button===0&&E.ctrlKey===!1&&E.pointerType==="mouse"&&(D(E),E.preventDefault())}),onKeyDown:Et(a.onKeyDown,E=>{const j=p.current!=="";!(E.ctrlKey||E.altKey||E.metaKey)&&E.key.length===1&&N(E.key),!(j&&E.key===" ")&&rne.includes(E.key)&&(D(),E.preventDefault())})})})});X6.displayName=Y6;var Q6="SelectValue",Z6=v.forwardRef((e,r)=>{const{__scopeSelect:n,className:s,style:a,children:l,placeholder:c="",...u}=e,d=Tc(Q6,n),{onValueNodeHasChildrenChange:h}=d,g=l!==void 0,p=Nr(r,d.onValueNodeChange);return cs(()=>{h(g)},[h,g]),U.jsx(At.span,{...u,ref:p,style:{pointerEvents:"none"},children:b_(d.value)?U.jsx(U.Fragment,{children:c}):l})});Z6.displayName=Q6;var lne="SelectIcon",e_=v.forwardRef((e,r)=>{const{__scopeSelect:n,children:s,...a}=e;return U.jsx(At.span,{"aria-hidden":!0,...a,ref:r,children:s||""})});e_.displayName=lne;var cne="SelectPortal",t_=e=>U.jsx(Qv,{asChild:!0,...e});t_.displayName=cne;var Ku="SelectContent",r_=v.forwardRef((e,r)=>{const n=Tc(Ku,e.__scopeSelect),[s,a]=v.useState();if(cs(()=>{a(new DocumentFragment)},[]),!n.open){const l=s;return l?em.createPortal(U.jsx(n_,{scope:e.__scopeSelect,children:U.jsx(N0.Slot,{scope:e.__scopeSelect,children:U.jsx("div",{children:e.children})})}),l):null}return U.jsx(s_,{...e,ref:r})});r_.displayName=Ku;var ba=10,[n_,Ac]=Vh(Ku),une="SelectContentImpl",mne=Jd("SelectContent.RemoveScroll"),s_=v.forwardRef((e,r)=>{const{__scopeSelect:n,position:s="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:l,onPointerDownOutside:c,side:u,sideOffset:d,align:h,alignOffset:g,arrowPadding:p,collisionBoundary:N,collisionPadding:b,sticky:D,hideWhenDetached:E,avoidCollisions:j,...P}=e,w=Tc(Ku,n),[k,V]=v.useState(null),[S,R]=v.useState(null),M=Nr(r,ge=>V(ge)),[T,A]=v.useState(null),[F,L]=v.useState(null),$=x0(n),[W,O]=v.useState(!1),Y=v.useRef(!1);v.useEffect(()=>{if(k)return g6(k)},[k]),o6();const H=v.useCallback(ge=>{const[Pe,...ze]=$().map(Ee=>Ee.ref.current),[We]=ze.slice(-1),Re=document.activeElement;for(const Ee of ge)if(Ee===Re||(Ee==null||Ee.scrollIntoView({block:"nearest"}),Ee===Pe&&S&&(S.scrollTop=0),Ee===We&&S&&(S.scrollTop=S.scrollHeight),Ee==null||Ee.focus(),document.activeElement!==Re))return},[$,S]),q=v.useCallback(()=>H([T,k]),[H,T,k]);v.useEffect(()=>{W&&q()},[W,q]);const{onOpenChange:z,triggerPointerDownPosRef:G}=w;v.useEffect(()=>{if(k){let ge={x:0,y:0};const Pe=We=>{var Re,Ee;ge={x:Math.abs(Math.round(We.pageX)-(((Re=G.current)==null?void 0:Re.x)??0)),y:Math.abs(Math.round(We.pageY)-(((Ee=G.current)==null?void 0:Ee.y)??0))}},ze=We=>{ge.x<=10&&ge.y<=10?We.preventDefault():k.contains(We.target)||z(!1),document.removeEventListener("pointermove",Pe),G.current=null};return G.current!==null&&(document.addEventListener("pointermove",Pe),document.addEventListener("pointerup",ze,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Pe),document.removeEventListener("pointerup",ze,{capture:!0})}}},[k,z,G]),v.useEffect(()=>{const ge=()=>z(!1);return window.addEventListener("blur",ge),window.addEventListener("resize",ge),()=>{window.removeEventListener("blur",ge),window.removeEventListener("resize",ge)}},[z]);const[ee,K]=y_(ge=>{const Pe=$().filter(Re=>!Re.disabled),ze=Pe.find(Re=>Re.ref.current===document.activeElement),We=w_(Pe,ge,ze);We&&setTimeout(()=>We.ref.current.focus())}),be=v.useCallback((ge,Pe,ze)=>{const We=!Y.current&&!ze;(w.value!==void 0&&w.value===Pe||We)&&(A(ge),We&&(Y.current=!0))},[w.value]),_e=v.useCallback(()=>k==null?void 0:k.focus(),[k]),oe=v.useCallback((ge,Pe,ze)=>{const We=!Y.current&&!ze;(w.value!==void 0&&w.value===Pe||We)&&L(ge)},[w.value]),fe=s==="popper"?BD:i_,Ae=fe===BD?{side:u,sideOffset:d,align:h,alignOffset:g,arrowPadding:p,collisionBoundary:N,collisionPadding:b,sticky:D,hideWhenDetached:E,avoidCollisions:j}:{};return U.jsx(n_,{scope:n,content:k,viewport:S,onViewportChange:R,itemRefCallback:be,selectedItem:T,onItemLeave:_e,itemTextRefCallback:oe,focusSelectedItem:q,selectedItemText:F,position:s,isPositioned:W,searchRef:ee,children:U.jsx(NV,{as:mne,allowPinchZoom:!0,children:U.jsx(gV,{asChild:!0,trapped:w.open,onMountAutoFocus:ge=>{ge.preventDefault()},onUnmountAutoFocus:Et(a,ge=>{var Pe;(Pe=w.trigger)==null||Pe.focus({preventScroll:!0}),ge.preventDefault()}),children:U.jsx(jg,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:ge=>ge.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:U.jsx(fe,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:ge=>ge.preventDefault(),...P,...Ae,onPlaced:()=>O(!0),ref:M,style:{display:"flex",flexDirection:"column",outline:"none",...P.style},onKeyDown:Et(P.onKeyDown,ge=>{const Pe=ge.ctrlKey||ge.altKey||ge.metaKey;if(ge.key==="Tab"&&ge.preventDefault(),!Pe&&ge.key.length===1&&K(ge.key),["ArrowUp","ArrowDown","Home","End"].includes(ge.key)){let We=$().filter(Re=>!Re.disabled).map(Re=>Re.ref.current);if(["ArrowUp","End"].includes(ge.key)&&(We=We.slice().reverse()),["ArrowUp","ArrowDown"].includes(ge.key)){const Re=ge.target,Ee=We.indexOf(Re);We=We.slice(Ee+1)}setTimeout(()=>H(We)),ge.preventDefault()}})})})})})})});s_.displayName=une;var dne="SelectItemAlignedPosition",i_=v.forwardRef((e,r)=>{const{__scopeSelect:n,onPlaced:s,...a}=e,l=Tc(Ku,n),c=Ac(Ku,n),[u,d]=v.useState(null),[h,g]=v.useState(null),p=Nr(r,M=>g(M)),N=x0(n),b=v.useRef(!1),D=v.useRef(!0),{viewport:E,selectedItem:j,selectedItemText:P,focusSelectedItem:w}=c,k=v.useCallback(()=>{if(l.trigger&&l.valueNode&&u&&h&&E&&j&&P){const M=l.trigger.getBoundingClientRect(),T=h.getBoundingClientRect(),A=l.valueNode.getBoundingClientRect(),F=P.getBoundingClientRect();if(l.dir!=="rtl"){const Re=F.left-T.left,Ee=A.left-Re,ie=M.left-Ee,ve=M.width+ie,ne=Math.max(ve,T.width),le=window.innerWidth-ba,Ue=$D(Ee,[ba,Math.max(ba,le-ne)]);u.style.minWidth=ve+"px",u.style.left=Ue+"px"}else{const Re=T.right-F.right,Ee=window.innerWidth-A.right-Re,ie=window.innerWidth-M.right-Ee,ve=M.width+ie,ne=Math.max(ve,T.width),le=window.innerWidth-ba,Ue=$D(Ee,[ba,Math.max(ba,le-ne)]);u.style.minWidth=ve+"px",u.style.right=Ue+"px"}const L=N(),$=window.innerHeight-ba*2,W=E.scrollHeight,O=window.getComputedStyle(h),Y=parseInt(O.borderTopWidth,10),H=parseInt(O.paddingTop,10),q=parseInt(O.borderBottomWidth,10),z=parseInt(O.paddingBottom,10),G=Y+H+W+z+q,ee=Math.min(j.offsetHeight*5,G),K=window.getComputedStyle(E),be=parseInt(K.paddingTop,10),_e=parseInt(K.paddingBottom,10),oe=M.top+M.height/2-ba,fe=$-oe,Ae=j.offsetHeight/2,ge=j.offsetTop+Ae,Pe=Y+H+ge,ze=G-Pe;if(Pe<=oe){const Re=L.length>0&&j===L[L.length-1].ref.current;u.style.bottom="0px";const Ee=h.clientHeight-E.offsetTop-E.offsetHeight,ie=Math.max(fe,Ae+(Re?_e:0)+Ee+q),ve=Pe+ie;u.style.height=ve+"px"}else{const Re=L.length>0&&j===L[0].ref.current;u.style.top="0px";const ie=Math.max(oe,Y+E.offsetTop+(Re?be:0)+Ae)+ze;u.style.height=ie+"px",E.scrollTop=Pe-oe+E.offsetTop}u.style.margin=`${ba}px 0`,u.style.minHeight=ee+"px",u.style.maxHeight=$+"px",s==null||s(),requestAnimationFrame(()=>b.current=!0)}},[N,l.trigger,l.valueNode,u,h,E,j,P,l.dir,s]);cs(()=>k(),[k]);const[V,S]=v.useState();cs(()=>{h&&S(window.getComputedStyle(h).zIndex)},[h]);const R=v.useCallback(M=>{M&&D.current===!0&&(k(),w==null||w(),D.current=!1)},[k,w]);return U.jsx(fne,{scope:n,contentWrapper:u,shouldExpandOnScrollRef:b,onScrollButtonChange:R,children:U.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:V},children:U.jsx(At.div,{...a,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});i_.displayName=dne;var hne="SelectPopperPosition",BD=v.forwardRef((e,r)=>{const{__scopeSelect:n,align:s="start",collisionPadding:a=ba,...l}=e,c=b0(n);return U.jsx(LA,{...c,...l,ref:r,align:s,collisionPadding:a,style:{boxSizing:"border-box",...l.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});BD.displayName=hne;var[fne,jV]=Vh(Ku,{}),zD="SelectViewport",a_=v.forwardRef((e,r)=>{const{__scopeSelect:n,nonce:s,...a}=e,l=Ac(zD,n),c=jV(zD,n),u=Nr(r,l.onViewportChange),d=v.useRef(0);return U.jsxs(U.Fragment,{children:[U.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),U.jsx(N0.Slot,{scope:n,children:U.jsx(At.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:u,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:Et(a.onScroll,h=>{const g=h.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:N}=c;if(N!=null&&N.current&&p){const b=Math.abs(d.current-g.scrollTop);if(b>0){const D=window.innerHeight-ba*2,E=parseFloat(p.style.minHeight),j=parseFloat(p.style.height),P=Math.max(E,j);if(P<D){const w=P+b,k=Math.min(D,w),V=w-k;p.style.height=k+"px",p.style.bottom==="0px"&&(g.scrollTop=V>0?V:0,p.style.justifyContent="flex-end")}}}d.current=g.scrollTop})})})]})});a_.displayName=zD;var o_="SelectGroup",[pne,gne]=Vh(o_),Nne=v.forwardRef((e,r)=>{const{__scopeSelect:n,...s}=e,a=Ta();return U.jsx(pne,{scope:n,id:a,children:U.jsx(At.div,{role:"group","aria-labelledby":a,...s,ref:r})})});Nne.displayName=o_;var l_="SelectLabel",c_=v.forwardRef((e,r)=>{const{__scopeSelect:n,...s}=e,a=gne(l_,n);return U.jsx(At.div,{id:a.id,...s,ref:r})});c_.displayName=l_;var pv="SelectItem",[xne,u_]=Vh(pv),m_=v.forwardRef((e,r)=>{const{__scopeSelect:n,value:s,disabled:a=!1,textValue:l,...c}=e,u=Tc(pv,n),d=Ac(pv,n),h=u.value===s,[g,p]=v.useState(l??""),[N,b]=v.useState(!1),D=Nr(r,w=>{var k;return(k=d.itemRefCallback)==null?void 0:k.call(d,w,s,a)}),E=Ta(),j=v.useRef("touch"),P=()=>{a||(u.onValueChange(s),u.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return U.jsx(xne,{scope:n,value:s,disabled:a,textId:E,isSelected:h,onItemTextChange:v.useCallback(w=>{p(k=>k||((w==null?void 0:w.textContent)??"").trim())},[]),children:U.jsx(N0.ItemSlot,{scope:n,value:s,disabled:a,textValue:g,children:U.jsx(At.div,{role:"option","aria-labelledby":E,"data-highlighted":N?"":void 0,"aria-selected":h&&N,"data-state":h?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...c,ref:D,onFocus:Et(c.onFocus,()=>b(!0)),onBlur:Et(c.onBlur,()=>b(!1)),onClick:Et(c.onClick,()=>{j.current!=="mouse"&&P()}),onPointerUp:Et(c.onPointerUp,()=>{j.current==="mouse"&&P()}),onPointerDown:Et(c.onPointerDown,w=>{j.current=w.pointerType}),onPointerMove:Et(c.onPointerMove,w=>{var k;j.current=w.pointerType,a?(k=d.onItemLeave)==null||k.call(d):j.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Et(c.onPointerLeave,w=>{var k;w.currentTarget===document.activeElement&&((k=d.onItemLeave)==null||k.call(d))}),onKeyDown:Et(c.onKeyDown,w=>{var V;((V=d.searchRef)==null?void 0:V.current)!==""&&w.key===" "||(nne.includes(w.key)&&P(),w.key===" "&&w.preventDefault())})})})})});m_.displayName=pv;var $p="SelectItemText",d_=v.forwardRef((e,r)=>{const{__scopeSelect:n,className:s,style:a,...l}=e,c=Tc($p,n),u=Ac($p,n),d=u_($p,n),h=one($p,n),[g,p]=v.useState(null),N=Nr(r,P=>p(P),d.onItemTextChange,P=>{var w;return(w=u.itemTextRefCallback)==null?void 0:w.call(u,P,d.value,d.disabled)}),b=g==null?void 0:g.textContent,D=v.useMemo(()=>U.jsx("option",{value:d.value,disabled:d.disabled,children:b},d.value),[d.disabled,d.value,b]),{onNativeOptionAdd:E,onNativeOptionRemove:j}=h;return cs(()=>(E(D),()=>j(D)),[E,j,D]),U.jsxs(U.Fragment,{children:[U.jsx(At.span,{id:d.textId,...l,ref:N}),d.isSelected&&c.valueNode&&!c.valueNodeHasChildren?em.createPortal(l.children,c.valueNode):null]})});d_.displayName=$p;var h_="SelectItemIndicator",f_=v.forwardRef((e,r)=>{const{__scopeSelect:n,...s}=e;return u_(h_,n).isSelected?U.jsx(At.span,{"aria-hidden":!0,...s,ref:r}):null});f_.displayName=h_;var WD="SelectScrollUpButton",p_=v.forwardRef((e,r)=>{const n=Ac(WD,e.__scopeSelect),s=jV(WD,e.__scopeSelect),[a,l]=v.useState(!1),c=Nr(r,s.onScrollButtonChange);return cs(()=>{if(n.viewport&&n.isPositioned){let u=function(){const h=d.scrollTop>0;l(h)};const d=n.viewport;return u(),d.addEventListener("scroll",u),()=>d.removeEventListener("scroll",u)}},[n.viewport,n.isPositioned]),a?U.jsx(N_,{...e,ref:c,onAutoScroll:()=>{const{viewport:u,selectedItem:d}=n;u&&d&&(u.scrollTop=u.scrollTop-d.offsetHeight)}}):null});p_.displayName=WD;var UD="SelectScrollDownButton",g_=v.forwardRef((e,r)=>{const n=Ac(UD,e.__scopeSelect),s=jV(UD,e.__scopeSelect),[a,l]=v.useState(!1),c=Nr(r,s.onScrollButtonChange);return cs(()=>{if(n.viewport&&n.isPositioned){let u=function(){const h=d.scrollHeight-d.clientHeight,g=Math.ceil(d.scrollTop)<h;l(g)};const d=n.viewport;return u(),d.addEventListener("scroll",u),()=>d.removeEventListener("scroll",u)}},[n.viewport,n.isPositioned]),a?U.jsx(N_,{...e,ref:c,onAutoScroll:()=>{const{viewport:u,selectedItem:d}=n;u&&d&&(u.scrollTop=u.scrollTop+d.offsetHeight)}}):null});g_.displayName=UD;var N_=v.forwardRef((e,r)=>{const{__scopeSelect:n,onAutoScroll:s,...a}=e,l=Ac("SelectScrollButton",n),c=v.useRef(null),u=x0(n),d=v.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return v.useEffect(()=>()=>d(),[d]),cs(()=>{var g;const h=u().find(p=>p.ref.current===document.activeElement);(g=h==null?void 0:h.ref.current)==null||g.scrollIntoView({block:"nearest"})},[u]),U.jsx(At.div,{"aria-hidden":!0,...a,ref:r,style:{flexShrink:0,...a.style},onPointerDown:Et(a.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(s,50))}),onPointerMove:Et(a.onPointerMove,()=>{var h;(h=l.onItemLeave)==null||h.call(l),c.current===null&&(c.current=window.setInterval(s,50))}),onPointerLeave:Et(a.onPointerLeave,()=>{d()})})}),bne="SelectSeparator",x_=v.forwardRef((e,r)=>{const{__scopeSelect:n,...s}=e;return U.jsx(At.div,{"aria-hidden":!0,...s,ref:r})});x_.displayName=bne;var GD="SelectArrow",vne=v.forwardRef((e,r)=>{const{__scopeSelect:n,...s}=e,a=b0(n),l=Tc(GD,n),c=Ac(GD,n);return l.open&&c.position==="popper"?U.jsx($A,{...a,...s,ref:r}):null});vne.displayName=GD;function b_(e){return e===""||e===void 0}var v_=v.forwardRef((e,r)=>{const{value:n,...s}=e,a=v.useRef(null),l=Nr(r,a),c=DV(n);return v.useEffect(()=>{const u=a.current,d=window.HTMLSelectElement.prototype,g=Object.getOwnPropertyDescriptor(d,"value").set;if(c!==n&&g){const p=new Event("change",{bubbles:!0});g.call(u,n),u.dispatchEvent(p)}},[c,n]),U.jsx(Vg,{asChild:!0,children:U.jsx("select",{...s,ref:l,defaultValue:n})})});v_.displayName="BubbleSelect";function y_(e){const r=Cn(e),n=v.useRef(""),s=v.useRef(0),a=v.useCallback(c=>{const u=n.current+c;r(u),function d(h){n.current=h,window.clearTimeout(s.current),h!==""&&(s.current=window.setTimeout(()=>d(""),1e3))}(u)},[r]),l=v.useCallback(()=>{n.current="",window.clearTimeout(s.current)},[]);return v.useEffect(()=>()=>window.clearTimeout(s.current),[]),[n,a,l]}function w_(e,r,n){const a=r.length>1&&Array.from(r).every(h=>h===r[0])?r[0]:r,l=n?e.indexOf(n):-1;let c=yne(e,Math.max(l,0));a.length===1&&(c=c.filter(h=>h!==n));const d=c.find(h=>h.textValue.toLowerCase().startsWith(a.toLowerCase()));return d!==n?d:void 0}function yne(e,r){return e.map((n,s)=>e[(r+s)%e.length])}var wne=q6,k_=X6,kne=Z6,Ene=e_,Dne=t_,E_=r_,jne=a_,D_=c_,j_=m_,Vne=d_,Pne=f_,V_=p_,P_=g_,S_=x_;const Pa=wne,Sa=kne,Qi=v.forwardRef(({className:e,children:r,...n},s)=>t.jsxDEV(k_,{ref:s,className:Ke("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[r,t.jsxDEV(Ene,{asChild:!0,children:t.jsxDEV(wo,{className:"h-4 w-4 opacity-50"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/select.tsx",lineNumber:29,columnNumber:7},void 0)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/select.tsx",lineNumber:28,columnNumber:5},void 0)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/ui/select.tsx",lineNumber:19,columnNumber:3},void 0));Qi.displayName=k_.displayName;const C_=v.forwardRef(({className:e,...r},n)=>t.jsxDEV(V_,{ref:n,className:Ke("flex cursor-default items-center justify-center py-1",e),...r,children:t.jsxDEV(Gj,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/select.tsx",lineNumber:47,columnNumber:5},void 0)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/select.tsx",lineNumber:39,columnNumber:3},void 0));C_.displayName=V_.displayName;const R_=v.forwardRef(({className:e,...r},n)=>t.jsxDEV(P_,{ref:n,className:Ke("flex cursor-default items-center justify-center py-1",e),...r,children:t.jsxDEV(wo,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/select.tsx",lineNumber:64,columnNumber:5},void 0)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/select.tsx",lineNumber:56,columnNumber:3},void 0));R_.displayName=P_.displayName;const Zi=v.forwardRef(({className:e,children:r,position:n="popper",...s},a)=>t.jsxDEV(Dne,{children:t.jsxDEV(E_,{ref:a,className:Ke("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),style:{backgroundColor:"#0f172a",color:"#f8fafc",borderColor:"#334155"},position:n,...s,children:[t.jsxDEV(C_,{},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/select.tsx",lineNumber:87,columnNumber:7},void 0),t.jsxDEV(jne,{className:Ke("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/select.tsx",lineNumber:88,columnNumber:7},void 0),t.jsxDEV(R_,{},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/select.tsx",lineNumber:97,columnNumber:7},void 0)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/ui/select.tsx",lineNumber:75,columnNumber:5},void 0)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/select.tsx",lineNumber:74,columnNumber:3},void 0));Zi.displayName=E_.displayName;const Sne=v.forwardRef(({className:e,...r},n)=>t.jsxDEV(D_,{ref:n,className:Ke("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...r},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/select.tsx",lineNumber:107,columnNumber:3},void 0));Sne.displayName=D_.displayName;const as=v.forwardRef(({className:e,children:r,...n},s)=>t.jsxDEV(j_,{ref:s,className:Ke("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-slate-700 hover:bg-slate-700 data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[t.jsxDEV("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsxDEV(Pne,{children:t.jsxDEV(Xi,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/select.tsx",lineNumber:129,columnNumber:9},void 0)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/select.tsx",lineNumber:128,columnNumber:7},void 0)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/select.tsx",lineNumber:127,columnNumber:5},void 0),t.jsxDEV(Vne,{children:r},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/select.tsx",lineNumber:133,columnNumber:5},void 0)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/ui/select.tsx",lineNumber:119,columnNumber:3},void 0));as.displayName=j_.displayName;const Cne=v.forwardRef(({className:e,...r},n)=>t.jsxDEV(S_,{ref:n,className:Ke("-mx-1 my-1 h-px bg-muted",e),...r},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/select.tsx",lineNumber:142,columnNumber:3},void 0));Cne.displayName=S_.displayName;function Rne({title:e,subtitle:r,onToggleSidebar:n}){const{selectedProgramId:s,setSelectedProgramId:a,programs:l,isLoading:c}=aee(),{pendingInsights:u,setPanelOpen:d}=dV();return t.jsxDEV("header",{className:"sticky top-0 z-20 bg-background/95 backdrop-blur-md shadow-md border-b border-border",children:t.jsxDEV("div",{className:"flex items-center justify-between px-6 py-4",children:[t.jsxDEV("div",{className:"flex items-center gap-4",children:[t.jsxDEV(me,{variant:"ghost",size:"icon",onClick:n,className:"lg:hidden text-white hover:text-white hover:bg-white/20 bg-white/10","data-testid":"button-toggle-sidebar",children:t.jsxDEV(nA,{className:"h-6 w-6"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/layout/top-bar.tsx",lineNumber:28,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/layout/top-bar.tsx",lineNumber:21,columnNumber:11},this),t.jsxDEV("div",{children:[t.jsxDEV("h2",{className:"text-lg md:text-xl font-bold text-foreground",children:e},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/layout/top-bar.tsx",lineNumber:31,columnNumber:13},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:r},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/layout/top-bar.tsx",lineNumber:32,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/layout/top-bar.tsx",lineNumber:30,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/layout/top-bar.tsx",lineNumber:20,columnNumber:9},this),t.jsxDEV("div",{className:"flex items-center gap-3 flex-wrap",children:[!c&&l.length>0&&t.jsxDEV("div",{className:"flex items-center gap-2 bg-accent/50 px-3 py-1.5 rounded-md",children:[t.jsxDEV(SX,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/layout/top-bar.tsx",lineNumber:39,columnNumber:15},this),t.jsxDEV(Pa,{value:s||"",onValueChange:a,children:[t.jsxDEV(Qi,{className:"w-[200px] border-0 bg-transparent focus:ring-0 focus:ring-offset-0","data-testid":"select-program",children:t.jsxDEV(Sa,{placeholder:"Select program"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/layout/top-bar.tsx",lineNumber:42,columnNumber:19},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/layout/top-bar.tsx",lineNumber:41,columnNumber:17},this),t.jsxDEV(Zi,{children:l.map(h=>t.jsxDEV(as,{value:h.id,"data-testid":`select-program-${h.id}`,children:h.name},h.id,!1,{fileName:"/home/runner/workspace/client/src/components/layout/top-bar.tsx",lineNumber:46,columnNumber:21},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/layout/top-bar.tsx",lineNumber:44,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/layout/top-bar.tsx",lineNumber:40,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/layout/top-bar.tsx",lineNumber:38,columnNumber:13},this),t.jsxDEV(me,{variant:"outline",size:"icon",className:"relative hidden sm:flex",onClick:()=>d(!0),"data-testid":"button-notifications",children:[t.jsxDEV(yX,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/layout/top-bar.tsx",lineNumber:61,columnNumber:13},this),u.length>0&&t.jsxDEV("span",{className:"absolute top-1 right-1 w-2 h-2 bg-destructive rounded-full"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/layout/top-bar.tsx",lineNumber:63,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/layout/top-bar.tsx",lineNumber:54,columnNumber:11},this),t.jsxDEV(me,{variant:"outline",size:"icon",className:"hidden sm:flex","data-testid":"button-search",children:t.jsxDEV(Gu,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/layout/top-bar.tsx",lineNumber:72,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/layout/top-bar.tsx",lineNumber:66,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/layout/top-bar.tsx",lineNumber:36,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/layout/top-bar.tsx",lineNumber:19,columnNumber:7},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/layout/top-bar.tsx",lineNumber:18,columnNumber:5},this)}function st({children:e,title:r,subtitle:n,showTopBar:s=!0,sidebarOpen:a,onSidebarToggle:l}){const[c,u]=v.useState(!1),d=a!==void 0?a:c,h=l||(()=>u(!c));return t.jsxDEV("div",{className:"flex h-screen overflow-hidden bg-background",children:[t.jsxDEV(ene,{isOpen:d,onToggle:h},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/layout/AppLayout.tsx",lineNumber:31,columnNumber:7},this),t.jsxDEV("main",{className:"flex-1 overflow-y-auto",children:[s&&r&&n&&t.jsxDEV(Rne,{title:r,subtitle:n,onToggleSidebar:h},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/layout/AppLayout.tsx",lineNumber:38,columnNumber:11},this),s&&r&&n?t.jsxDEV("div",{className:"p-6",children:e},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/layout/AppLayout.tsx",lineNumber:46,columnNumber:11},this):e]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/layout/AppLayout.tsx",lineNumber:36,columnNumber:7},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/layout/AppLayout.tsx",lineNumber:30,columnNumber:5},this)}function Jt({className:e,...r}){return t.jsxDEV("div",{className:Ke("animate-pulse rounded-md bg-muted",e),...r},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/skeleton.tsx",lineNumber:8,columnNumber:5},this)}function RE({type:e="fractal",size:r="medium",className:n=""}){const s=r==="small"?`${e}-loader-small`:"";return{cube:t.jsxDEV("div",{className:`cube-loader ${s} ${n}`,children:[t.jsxDEV("div",{className:"cube-face"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/loaders/GeometricLoader.tsx",lineNumber:17,columnNumber:9},this),t.jsxDEV("div",{className:"cube-face"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/loaders/GeometricLoader.tsx",lineNumber:18,columnNumber:9},this),t.jsxDEV("div",{className:"cube-face"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/loaders/GeometricLoader.tsx",lineNumber:19,columnNumber:9},this),t.jsxDEV("div",{className:"cube-face"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/loaders/GeometricLoader.tsx",lineNumber:20,columnNumber:9},this),t.jsxDEV("div",{className:"cube-face"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/loaders/GeometricLoader.tsx",lineNumber:21,columnNumber:9},this),t.jsxDEV("div",{className:"cube-face"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/loaders/GeometricLoader.tsx",lineNumber:22,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/loaders/GeometricLoader.tsx",lineNumber:16,columnNumber:7},this),hexagon:t.jsxDEV("div",{className:`hexagon-loader ${s} ${n}`,children:t.jsxDEV("div",{className:"hexagon"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/loaders/GeometricLoader.tsx",lineNumber:27,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/loaders/GeometricLoader.tsx",lineNumber:26,columnNumber:7},this),orbit:t.jsxDEV("div",{className:`orbit-loader ${s} ${n}`,children:[t.jsxDEV("div",{className:"orbit-center"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/loaders/GeometricLoader.tsx",lineNumber:32,columnNumber:9},this),t.jsxDEV("div",{className:"orbit-ring",children:t.jsxDEV("div",{className:"orbit-dot"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/loaders/GeometricLoader.tsx",lineNumber:34,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/loaders/GeometricLoader.tsx",lineNumber:33,columnNumber:9},this),t.jsxDEV("div",{className:"orbit-ring",children:t.jsxDEV("div",{className:"orbit-dot"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/loaders/GeometricLoader.tsx",lineNumber:37,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/loaders/GeometricLoader.tsx",lineNumber:36,columnNumber:9},this),t.jsxDEV("div",{className:"orbit-ring",children:t.jsxDEV("div",{className:"orbit-dot"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/loaders/GeometricLoader.tsx",lineNumber:40,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/loaders/GeometricLoader.tsx",lineNumber:39,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/loaders/GeometricLoader.tsx",lineNumber:31,columnNumber:7},this),fractal:t.jsxDEV("div",{className:`fractal-loader ${s} ${n}`,children:[t.jsxDEV("div",{className:"fractal-square"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/loaders/GeometricLoader.tsx",lineNumber:46,columnNumber:9},this),t.jsxDEV("div",{className:"fractal-square"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/loaders/GeometricLoader.tsx",lineNumber:47,columnNumber:9},this),t.jsxDEV("div",{className:"fractal-square"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/loaders/GeometricLoader.tsx",lineNumber:48,columnNumber:9},this),t.jsxDEV("div",{className:"fractal-square"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/loaders/GeometricLoader.tsx",lineNumber:49,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/loaders/GeometricLoader.tsx",lineNumber:45,columnNumber:7},this),dots:t.jsxDEV("div",{className:`dots-loader ${n}`,children:[t.jsxDEV("span",{className:"dot"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/loaders/GeometricLoader.tsx",lineNumber:54,columnNumber:9},this),t.jsxDEV("span",{className:"dot"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/loaders/GeometricLoader.tsx",lineNumber:55,columnNumber:9},this),t.jsxDEV("span",{className:"dot"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/loaders/GeometricLoader.tsx",lineNumber:56,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/loaders/GeometricLoader.tsx",lineNumber:53,columnNumber:7},this),ripple:t.jsxDEV("div",{className:`ripple-loader ${s} ${n}`,children:[t.jsxDEV("div",{className:"ripple-ring"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/loaders/GeometricLoader.tsx",lineNumber:61,columnNumber:9},this),t.jsxDEV("div",{className:"ripple-ring"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/loaders/GeometricLoader.tsx",lineNumber:62,columnNumber:9},this),t.jsxDEV("div",{className:"ripple-ring"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/loaders/GeometricLoader.tsx",lineNumber:63,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/loaders/GeometricLoader.tsx",lineNumber:60,columnNumber:7},this)}[e]}const a4=[{text:"The greatest danger in times of turbulence is to act with yesterday's logic.",author:"Peter F. Drucker",source:"druckerforum.org"},{text:"Speed is often a strategy in and of itself those who learn faster will also win.",author:"Alex Singla, Senior Partner, McKinsey",source:"McKinsey & Company"},{text:"A strategic inflection point is a time when fundamentals are about to change.",author:"Andrew S. Grove",source:"Only the Paranoid Survive"},{text:"Speed matters in today's volatile environment; leaders who streamline decisions and empower the frontline have a clear edge.",author:"McKinsey",source:"McKinsey & Company"},{text:"CEOs are balancing short-term ROI and long-term innovation when adopting AI those who keep innovating in uncertainty will emerge stronger.",author:"IBM Institute for Business Value",source:"IBM Newsroom"},{text:"Given constant change, leaders must continue to evolve find traction in the tensions.",author:"Deloitte",source:"Global Human Capital Trends"},{text:"The pace of change has never been this fast, yet it will never be this slow again.",author:"Justin Trudeau",source:"World Economic Forum"}];function Mne(){const[e,r]=v.useState(0),[n,s]=v.useState(!0);v.useEffect(()=>{const l=setInterval(()=>{s(!1),setTimeout(()=>{r(c=>(c+1)%a4.length),s(!0)},500)},1e4);return()=>clearInterval(l)},[]);const a=a4[e];return t.jsxDEV("p",{className:Ke("text-xs text-muted-foreground text-center mt-8 italic max-w-2xl mx-auto transition-opacity duration-500",n?"opacity-100":"opacity-0"),children:['"',a.text,'"',t.jsxDEV("span",{className:"block mt-1 not-italic opacity-70",children:[" ",a.author,", ",a.source]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:99,columnNumber:7},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:92,columnNumber:5},this)}const Sp=[{id:1,title:"Strategic Consultant",icon:Ma,description:"AI-powered strategic analysis with evidence-based insights",features:["Multi-agent AI system tests assumptions and frames problems","Real-time web research with source validation and anti-bias checks","Battle-tested frameworks: Five Whys, BMC, PESTLE, Porter's Forces","AI coaching validates your thinking against quality criteria","Upload documents (PDF, Word, Excel, images) for context enrichment"],color:"from-blue-500 to-blue-600",path:"/strategic-consultant/input"},{id:2,title:"Strategies Hub",icon:Xr,description:"Unified view of all strategic initiatives with full provenance",features:["AI-generated titles for easy navigation and recognition","Journey timeline showing framework progression and versioning","Research library with confidence scores and component mapping","Context inheritance - start new journeys from existing strategies","Full artifact hierarchy: journeys, analyses, decisions, EPM programs"],color:"from-indigo-500 to-indigo-600",path:"/strategies"},{id:3,title:"Analysis Repository",icon:mo,description:"Access your strategic intelligence knowledge base",features:["All completed analyses with framework-specific insights","Knowledge graph tracks entities, relationships, and contradictions","Export professional reports in multiple formats (PDF, Word, Markdown)","Compare strategy versions and track how decisions evolved","Encrypted storage protects your strategic IP"],color:"from-purple-500 to-purple-600",path:"/repository"},{id:4,title:"EPM Programs",icon:Es,description:"Complete execution blueprints ready to launch",features:["14-component programs: workstreams, timelines, resources, financials","AI-powered scheduling with critical path and dependency management","Risk registers, KPIs, governance, and benefits realization","Interactive Gantt charts with resource conflict detection","Board-ready outputs in one session vs. weeks of consulting work"],color:"from-green-500 to-green-600",path:"/strategy-workspace/programs"}];function Tne(){const[e,r]=v.useState(0),[,n]=or(),s=()=>{n("/strategic-consultant/input")},a=Sp[e],l=a.icon;return t.jsxDEV(t.Fragment,{children:[t.jsxDEV("style",{children:`
        @keyframes float {
          0%, 100% { transform: translate(0, 0) scale(1); }
          33% { transform: translate(30px, -30px) scale(1.1); }
          66% { transform: translate(-20px, 20px) scale(0.9); }
        }
        .onboarding-bg {
          position: fixed;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          z-index: -1;
          background: #0f1419;
          overflow: hidden;
        }
        .gradient-orb {
          position: absolute;
          border-radius: 50%;
          filter: blur(80px);
          opacity: 0.3;
          animation: float 20s infinite ease-in-out;
        }
        .orb1 {
          width: 600px;
          height: 600px;
          background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
          top: -200px;
          right: -200px;
          animation-delay: 0s;
        }
        .orb2 {
          width: 500px;
          height: 500px;
          background: linear-gradient(135deg, #3b82f6 0%, #10b981 100%);
          bottom: -150px;
          left: -150px;
          animation-delay: 5s;
        }
        .orb3 {
          width: 400px;
          height: 400px;
          background: linear-gradient(135deg, #f59e0b 0%, #ef4444 100%);
          top: 50%;
          left: 50%;
          animation-delay: 10s;
        }
      `},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:181,columnNumber:7},this),t.jsxDEV("div",{className:"onboarding-bg",children:[t.jsxDEV("div",{className:"gradient-orb orb1"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:231,columnNumber:9},this),t.jsxDEV("div",{className:"gradient-orb orb2"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:232,columnNumber:9},this),t.jsxDEV("div",{className:"gradient-orb orb3"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:233,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:230,columnNumber:7},this),t.jsxDEV("div",{className:"min-h-screen text-white p-4 sm:p-6",children:t.jsxDEV("div",{className:"max-w-6xl mx-auto",children:[t.jsxDEV("div",{className:"text-center mb-8 sm:mb-12",children:[t.jsxDEV("div",{className:"flex flex-col items-center mb-6 sm:mb-8",children:t.jsxDEV("span",{className:"px-3 py-1 text-sm font-semibold bg-white/10 text-white rounded-lg backdrop-blur-sm",children:"BETA"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:241,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:240,columnNumber:13},this),t.jsxDEV("p",{className:"text-base sm:text-lg md:text-xl text-gray-300 max-w-3xl mx-auto leading-relaxed px-2",children:["Premisia structures complex choices so leaders can align, commit, and move. ",t.jsxDEV("span",{className:"font-semibold text-white",children:"66% of EMEA leaders already see significant AI productivity gains"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:244,columnNumber:91},this),"it's time to turn that into strategic advantage."]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:243,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:239,columnNumber:11},this),t.jsxDEV("div",{className:"flex justify-center mb-8 px-4",children:t.jsxDEV("div",{className:"flex flex-col sm:flex-row items-center gap-3 sm:gap-0",children:Sp.map((c,u)=>t.jsxDEV("div",{className:"flex sm:flex-row flex-col items-center",children:[t.jsxDEV("div",{className:Ke("w-10 h-10 rounded-full flex items-center justify-center font-semibold transition-all",u===e?"bg-gradient-to-r from-[#3b82f6] to-[#10b981] text-white shadow-lg shadow-blue-500/50 scale-110":u<e?"bg-white/20 text-white backdrop-blur-sm":"bg-white/10 text-gray-400 backdrop-blur-sm"),"data-testid":`step-indicator-${u}`,children:u<e?t.jsxDEV(Dn,{className:"h-5 w-5"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:265,columnNumber:23},this):c.id},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:253,columnNumber:19},this),u<Sp.length-1&&t.jsxDEV("div",{className:Ke("w-1 h-8 sm:w-12 sm:h-1 sm:mx-2 my-0 transition-all hidden sm:block",u<e?"bg-gradient-to-r from-[#3b82f6] to-[#10b981]":"bg-white/20")},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:271,columnNumber:21},this)]},c.id,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:252,columnNumber:17},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:250,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:249,columnNumber:11},this),t.jsxDEV(Z,{className:"max-w-4xl mx-auto bg-white/5 backdrop-blur-md border-white/10 shadow-2xl",children:t.jsxDEV(te,{className:"p-4 sm:p-6 md:p-8",children:t.jsxDEV("div",{className:"flex flex-col md:flex-row gap-8",children:[t.jsxDEV("div",{className:"flex-shrink-0",children:t.jsxDEV("div",{className:Ke("w-24 h-24 rounded-2xl bg-gradient-to-br flex items-center justify-center shadow-lg",a.color),children:t.jsxDEV(l,{className:"h-12 w-12 text-white"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:293,columnNumber:21},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:289,columnNumber:19},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:288,columnNumber:17},this),t.jsxDEV("div",{className:"flex-1",children:[t.jsxDEV("div",{className:"flex items-center gap-2 mb-2",children:t.jsxDEV("span",{className:"text-sm font-medium text-gray-400",children:["Step ",e+1," of ",Sp.length]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:300,columnNumber:21},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:299,columnNumber:19},this),t.jsxDEV("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-3",children:a.title},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:304,columnNumber:19},this),t.jsxDEV("p",{className:"text-lg text-gray-300 mb-6",children:a.description},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:307,columnNumber:19},this),t.jsxDEV("div",{className:"space-y-3 mb-8",children:a.features.map((c,u)=>t.jsxDEV("div",{className:"flex items-start gap-3",children:[t.jsxDEV("div",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-white/10 flex items-center justify-center mt-0.5",children:t.jsxDEV(Dn,{className:"h-4 w-4 text-[#10b981]"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:316,columnNumber:27},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:315,columnNumber:25},this),t.jsxDEV("p",{className:"text-gray-200",children:c},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:318,columnNumber:25},this)]},u,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:314,columnNumber:23},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:312,columnNumber:19},this),t.jsxDEV("div",{className:"flex items-center gap-4",children:[e>0&&t.jsxDEV(me,{variant:"outline",onClick:()=>r(e-1),className:"border-white/20 bg-white/5 text-white hover:bg-white/10 hover:text-white backdrop-blur-sm","data-testid":"button-previous",children:"Previous"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:326,columnNumber:23},this),e<Sp.length-1?t.jsxDEV(me,{onClick:()=>r(e+1),className:"ml-auto bg-gradient-to-r from-[#3b82f6] to-[#10b981] text-white hover:shadow-lg hover:shadow-blue-500/50 transition-all","data-testid":"button-next",children:["Next",t.jsxDEV(ar,{className:"ml-2 h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:343,columnNumber:25},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:337,columnNumber:23},this):t.jsxDEV(me,{onClick:s,className:"ml-auto bg-gradient-to-r from-[#3b82f6] to-[#10b981] text-white hover:shadow-lg hover:shadow-blue-500/50 transition-all",size:"lg","data-testid":"button-get-started",children:[t.jsxDEV(Ma,{className:"mr-2 h-5 w-5"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:352,columnNumber:25},this),"Start your first journey"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:346,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:324,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:298,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:286,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:285,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:284,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:237,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:236,columnNumber:7},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:179,columnNumber:5},this)}function Ane({summary:e}){const[,r]=or();return t.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-accent/5 pt-2 pb-6 space-y-3",children:t.jsxDEV("div",{className:"max-w-6xl mx-auto px-6 space-y-3",children:[t.jsxDEV("div",{className:"flex justify-center mb-4",children:t.jsxDEV(me,{onClick:()=>r("/strategic-consultant/input"),className:"bg-gradient-to-r from-primary to-primary/80 shadow-lg hover:shadow-xl transition-all",size:"lg","data-testid":"button-start-new-analysis",children:[t.jsxDEV(Ma,{className:"mr-2 h-5 w-5"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:381,columnNumber:13},this),"Start a new strategic journey"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:375,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:374,columnNumber:9},this),t.jsxDEV("div",{className:"grid gap-2 grid-cols-2 md:grid-cols-4 md:gap-4",children:[t.jsxDEV(os,{href:"/repository",children:t.jsxDEV(Z,{className:"shadow-lg border-primary/20 hover:shadow-xl hover:border-primary/40 transition-all cursor-pointer group","data-testid":"button-go-to-analyses",children:t.jsxDEV(te,{className:"p-3 md:p-5",children:t.jsxDEV("div",{className:"flex flex-col md:flex-row items-center md:gap-3 text-center md:text-left",children:[t.jsxDEV("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-xl bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center flex-shrink-0 shadow-md group-hover:scale-110 transition-transform mb-2 md:mb-0",children:t.jsxDEV(cn,{className:"h-5 w-5 md:h-6 md:w-6 text-white"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:394,columnNumber:19},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:393,columnNumber:17},this),t.jsxDEV("div",{className:"flex-1",children:[t.jsxDEV("p",{className:"text-[10px] md:text-xs font-medium text-muted-foreground leading-tight",children:[t.jsxDEV("span",{className:"md:hidden",children:["Analyses",t.jsxDEV("br",{},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:398,columnNumber:57},this),"Complete"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:398,columnNumber:21},this),t.jsxDEV("span",{className:"hidden md:inline",children:"Analyses Complete"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:399,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:397,columnNumber:19},this),t.jsxDEV("p",{className:"text-xl md:text-2xl font-bold text-foreground",children:e.counts.analyses},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:401,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:396,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:392,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:391,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:390,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:389,columnNumber:9},this),t.jsxDEV(os,{href:"/strategies",children:t.jsxDEV(Z,{className:"shadow-lg border-primary/20 hover:shadow-xl hover:border-primary/40 transition-all cursor-pointer group","data-testid":"button-go-to-strategies",children:t.jsxDEV(te,{className:"p-3 md:p-5",children:t.jsxDEV("div",{className:"flex flex-col md:flex-row items-center md:gap-3 text-center md:text-left",children:[t.jsxDEV("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-xl bg-gradient-to-br from-indigo-500 to-indigo-600 flex items-center justify-center flex-shrink-0 shadow-md group-hover:scale-110 transition-transform mb-2 md:mb-0",children:t.jsxDEV(Xr,{className:"h-5 w-5 md:h-6 md:w-6 text-white"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:414,columnNumber:19},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:413,columnNumber:17},this),t.jsxDEV("div",{className:"flex-1",children:[t.jsxDEV("p",{className:"text-[10px] md:text-xs font-medium text-muted-foreground leading-tight",children:[t.jsxDEV("span",{className:"md:hidden",children:["Strategies",t.jsxDEV("br",{},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:418,columnNumber:59},this),"Complete"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:418,columnNumber:21},this),t.jsxDEV("span",{className:"hidden md:inline",children:"Strategies Complete"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:419,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:417,columnNumber:19},this),t.jsxDEV("p",{className:"text-xl md:text-2xl font-bold text-foreground",children:e.counts.strategies},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:421,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:416,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:412,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:411,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:410,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:409,columnNumber:9},this),t.jsxDEV(os,{href:"/strategy-workspace/programs",children:t.jsxDEV(Z,{className:"shadow-lg border-primary/20 hover:shadow-xl hover:border-primary/40 transition-all cursor-pointer group","data-testid":"button-go-to-programs",children:t.jsxDEV(te,{className:"p-3 md:p-5",children:t.jsxDEV("div",{className:"flex flex-col md:flex-row items-center md:gap-3 text-center md:text-left",children:[t.jsxDEV("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-xl bg-gradient-to-br from-green-500 to-green-600 flex items-center justify-center flex-shrink-0 shadow-md group-hover:scale-110 transition-transform mb-2 md:mb-0",children:t.jsxDEV(Es,{className:"h-5 w-5 md:h-6 md:w-6 text-white"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:434,columnNumber:19},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:433,columnNumber:17},this),t.jsxDEV("div",{className:"flex-1",children:[t.jsxDEV("p",{className:"text-[10px] md:text-xs font-medium text-muted-foreground leading-tight",children:[t.jsxDEV("span",{className:"md:hidden",children:["Programs",t.jsxDEV("br",{},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:438,columnNumber:57},this),"Complete"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:438,columnNumber:21},this),t.jsxDEV("span",{className:"hidden md:inline",children:"Programs Complete"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:439,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:437,columnNumber:19},this),t.jsxDEV("p",{className:"text-xl md:text-2xl font-bold text-foreground",children:e.counts.programs},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:441,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:436,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:432,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:431,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:430,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:429,columnNumber:9},this),t.jsxDEV(os,{href:"/marketing-consultant/input",children:t.jsxDEV(Z,{className:"shadow-lg border-primary/20 hover:shadow-xl hover:border-primary/40 transition-all cursor-pointer group","data-testid":"button-go-to-segments",children:t.jsxDEV(te,{className:"p-3 md:p-5",children:t.jsxDEV("div",{className:"flex flex-col md:flex-row items-center md:gap-3 text-center md:text-left",children:[t.jsxDEV("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-xl bg-gradient-to-br from-orange-500 to-orange-600 flex items-center justify-center flex-shrink-0 shadow-md group-hover:scale-110 transition-transform mb-2 md:mb-0",children:t.jsxDEV(On,{className:"h-5 w-5 md:h-6 md:w-6 text-white"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:454,columnNumber:19},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:453,columnNumber:17},this),t.jsxDEV("div",{className:"flex-1",children:[t.jsxDEV("p",{className:"text-[10px] md:text-xs font-medium text-muted-foreground leading-tight",children:[t.jsxDEV("span",{className:"md:hidden",children:["Segments",t.jsxDEV("br",{},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:458,columnNumber:57},this),"Found"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:458,columnNumber:21},this),t.jsxDEV("span",{className:"hidden md:inline",children:"Segments Discovered"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:459,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:457,columnNumber:19},this),t.jsxDEV("p",{className:"text-xl md:text-2xl font-bold text-foreground",children:e.counts.segments},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:461,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:456,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:452,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:451,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:450,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:449,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:387,columnNumber:9},this),t.jsxDEV("div",{children:t.jsxDEV(Z,{className:"shadow-lg",children:[t.jsxDEV(de,{children:[t.jsxDEV(pe,{className:"text-xl",children:"Recent Activity"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:473,columnNumber:13},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Your last 5 artifacts"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:474,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:472,columnNumber:11},this),t.jsxDEV(te,{children:e.recentArtifacts.length===0?t.jsxDEV("div",{className:"text-center py-12",children:[t.jsxDEV("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-primary to-primary/80 flex items-center justify-center mx-auto mb-4 shadow-md",children:t.jsxDEV(Ma,{className:"h-8 w-8 text-white"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:480,columnNumber:19},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:479,columnNumber:17},this),t.jsxDEV("p",{className:"text-muted-foreground text-lg mb-6",children:"No artifacts yet. Start by creating your first strategic analysis!"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:482,columnNumber:17},this),t.jsxDEV(me,{onClick:()=>r("/strategic-consultant/input"),className:"bg-gradient-to-r from-primary to-primary/80 shadow-lg",size:"lg","data-testid":"button-empty-state-start",children:[t.jsxDEV(Ma,{className:"mr-2 h-5 w-5"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:491,columnNumber:19},this),"Get Started"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:485,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:478,columnNumber:15},this):t.jsxDEV("div",{className:"space-y-3",children:e.recentArtifacts.map(n=>t.jsxDEV(os,{href:n.link,children:t.jsxDEV("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4 p-4 rounded-xl border border-border hover:shadow-md hover:border-primary/30 transition-all cursor-pointer bg-card","data-testid":`artifact-${n.id}`,children:[t.jsxDEV("div",{className:"flex items-center gap-4 flex-1 min-w-0",children:[t.jsxDEV("div",{className:Ke("w-12 h-12 rounded-xl flex items-center justify-center flex-shrink-0 shadow-sm",n.type==="analysis"&&"bg-gradient-to-br from-purple-500 to-purple-600",n.type==="program"&&"bg-gradient-to-br from-green-500 to-green-600"),children:n.type==="analysis"?t.jsxDEV(mo,{className:"h-6 w-6 text-white"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:510,columnNumber:29},this):t.jsxDEV(Es,{className:"h-6 w-6 text-white"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:512,columnNumber:29},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:504,columnNumber:25},this),t.jsxDEV("div",{className:"flex-1 min-w-0",children:[t.jsxDEV("h4",{className:"font-semibold text-foreground truncate text-lg",children:n.title},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:516,columnNumber:27},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:n.type==="analysis"?"Strategic Analysis":"EPM Program"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:517,columnNumber:27},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:515,columnNumber:25},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:503,columnNumber:23},this),t.jsxDEV("div",{className:"flex items-center gap-2 text-sm text-muted-foreground flex-shrink-0 pl-16 sm:pl-0",children:[t.jsxDEV(ys,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:523,columnNumber:25},this),t.jsxDEV("span",{className:"whitespace-nowrap",children:bc(new Date(n.createdAt),"MMM d, yyyy")},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:524,columnNumber:25},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:522,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:499,columnNumber:21},this)},n.id,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:498,columnNumber:19},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:496,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:476,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:471,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:470,columnNumber:9},this),t.jsxDEV(Mne,{},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:535,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:372,columnNumber:7},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:371,columnNumber:5},this)}function _ne(){const[e,r]=v.useState(!1),[n,s]=v.useState(!1),[a,l]=v.useState(!1),c=v.useRef(null),[u,d]=v.useState({frameworks:0,analysis:0,availability:0,clicks:0});v.useEffect(()=>{const N=()=>{s(window.scrollY>50)};window.addEventListener("scroll",N);const b=new IntersectionObserver(j=>{j.forEach(P=>{P.isIntersecting&&!a&&(l(!0),h())})},{threshold:.3});c.current&&b.observe(c.current);const D=j=>{const P=document.querySelectorAll(".gradient-orb"),w=j.clientX/window.innerWidth,k=j.clientY/window.innerHeight;P.forEach((V,S)=>{const R=(S+1)*10;V.style.transform=`translate(${w*R}px, ${k*R}px)`})};document.addEventListener("mousemove",D);const E=setInterval(()=>{document.querySelectorAll(".orbit-dot").forEach(P=>{P.style.background=`hsl(${Math.random()*60+180}, 70%, 50%)`})},3e3);return()=>{window.removeEventListener("scroll",N),document.removeEventListener("mousemove",D),clearInterval(E),c.current&&b.unobserve(c.current)}},[a]);const h=()=>{const b=Date.now(),D=()=>{const E=Date.now()-b,j=Math.min(E/2e3,1);d({frameworks:Math.floor(5*j),analysis:Math.floor(100*j),availability:Math.floor(24*j),clicks:Math.floor(1*j)}),j<1&&requestAnimationFrame(D)};requestAnimationFrame(D)},g=()=>{r(!0),window.location.href="/api/login"},p=N=>{var b;(b=document.getElementById(N))==null||b.scrollIntoView({behavior:"smooth"})};return t.jsxDEV(t.Fragment,{children:[t.jsxDEV("style",{children:`
        @keyframes float {
          0%, 100% { transform: translate(0, 0) scale(1); }
          33% { transform: translate(30px, -30px) scale(1.1); }
          66% { transform: translate(-20px, 20px) scale(0.9); }
        }

        @keyframes fadeInUp {
          from { opacity: 0; transform: translateY(30px); }
          to { opacity: 1; transform: translateY(0); }
        }

        @keyframes fadeIn {
          from { opacity: 0; }
          to { opacity: 1; }
        }

        @keyframes breathe {
          0%, 100% { transform: scale(1); }
          50% { transform: scale(1.05); }
        }

        @keyframes rotate {
          from { transform: rotate(0deg); }
          to { transform: rotate(360deg); }
        }

        @keyframes slideInLeft {
          from { opacity: 0; transform: translateX(-50px); }
          to { opacity: 1; transform: translateX(0); }
        }

        @keyframes slideInRight {
          from { opacity: 0; transform: translateX(50px); }
          to { opacity: 1; transform: translateX(0); }
        }

        .animated-bg {
          position: fixed;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          z-index: -1;
          background: #0f1419;
          overflow: hidden;
          pointer-events: none;
        }

        .gradient-orb {
          position: absolute;
          border-radius: 50%;
          filter: blur(80px);
          opacity: 0.3;
          animation: float 20s infinite ease-in-out;
          will-change: transform;
        }

        .orb1 {
          width: 600px;
          height: 600px;
          background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
          top: -200px;
          right: -200px;
          animation-delay: 0s;
        }

        .orb2 {
          width: 500px;
          height: 500px;
          background: linear-gradient(135deg, #3b82f6 0%, #10b981 100%);
          bottom: -150px;
          left: -150px;
          animation-delay: 5s;
        }

        .orb3 {
          width: 400px;
          height: 400px;
          background: linear-gradient(135deg, #f59e0b 0%, #ef4444 100%);
          top: 50%;
          left: 50%;
          animation-delay: 10s;
        }

        .hero-title {
          animation: fadeInUp 0.8s ease;
        }

        .hero-subtitle {
          animation: fadeInUp 0.8s ease 0.2s both;
        }

        .hero-headline {
          animation: fadeInUp 0.8s ease 0.4s both;
        }

        .hero-description {
          animation: fadeInUp 0.8s ease 0.6s both;
        }

        .hero-buttons {
          animation: fadeInUp 0.8s ease 0.8s both;
        }

        .hero-visual {
          animation: fadeIn 1s ease;
        }

        .brain-core {
          animation: breathe 3s infinite ease-in-out;
        }

        .orbit {
          position: absolute;
          border: 2px solid rgba(59, 130, 246, 0.3);
          border-radius: 50%;
          animation: rotate 20s linear infinite;
        }

        .orbit1 { 
          width: 300px; 
          height: 300px; 
          animation-duration: 15s; 
        }

        .orbit2 { 
          width: 400px; 
          height: 400px; 
          animation-duration: 20s; 
          animation-direction: reverse; 
        }

        .orbit3 { 
          width: 500px; 
          height: 500px; 
          animation-duration: 25s; 
        }

        .orbit-dot {
          position: absolute;
          width: 10px;
          height: 10px;
          background: #10b981;
          border-radius: 50%;
          top: -5px;
          left: 50%;
          transform: translateX(-50%);
          box-shadow: 0 0 20px #10b981;
          transition: background 0.3s ease;
        }

        .stat-card {
          position: relative;
          overflow: hidden;
        }

        .stat-card:before {
          content: '';
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;
          height: 3px;
          background: linear-gradient(135deg, #3b82f6 0%, #10b981 100%);
        }

        .stat-card:hover {
          transform: translateY(-10px);
          box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
        }

        .feature-card {
          position: relative;
          overflow: hidden;
          opacity: 0;
          transform: translateY(20px);
          animation: fadeInUp 0.6s ease forwards;
        }

        .feature-card:nth-child(1) { animation-delay: 0.1s; }
        .feature-card:nth-child(2) { animation-delay: 0.2s; }
        .feature-card:nth-child(3) { animation-delay: 0.3s; }
        .feature-card:nth-child(4) { animation-delay: 0.4s; }
        .feature-card:nth-child(5) { animation-delay: 0.5s; }
        .feature-card:nth-child(6) { animation-delay: 0.6s; }

        .feature-card:hover {
          transform: translateY(-5px);
          box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
        }

        .feature-badge {
          position: absolute;
          top: 20px;
          right: 20px;
          padding: 5px 10px;
          background: #8b5cf6;
          color: white;
          font-size: 12px;
          border-radius: 20px;
          font-weight: 600;
        }

        .timeline {
          position: relative;
          padding: 40px 0;
          display: flex;
          flex-direction: column;
          gap: 40px;
        }

        .timeline-item {
          display: flex;
          opacity: 0;
          animation: fadeInUp 0.6s ease forwards;
        }

        .timeline-item:nth-child(1) { animation-delay: 0.1s; justify-content: flex-start; }
        .timeline-item:nth-child(2) { animation-delay: 0.2s; justify-content: flex-end; }
        .timeline-item:nth-child(3) { animation-delay: 0.3s; justify-content: flex-start; }
        .timeline-item:nth-child(4) { animation-delay: 0.4s; justify-content: flex-end; }
        .timeline-item:nth-child(5) { animation-delay: 0.5s; justify-content: flex-start; }

        .timeline-content {
          width: 100%;
          max-width: 500px;
          padding: 30px;
          background: #202938;
          border-radius: 15px;
          position: relative;
        }

        @media (max-width: 768px) {
          .timeline-item {
            justify-content: flex-start !important;
          }

          .timeline-content {
            max-width: 100%;
          }

          .navbar.scrolled {
            padding: 15px 20px;
          }
        }

        .navbar.scrolled {
          padding: 15px 50px;
          background: rgba(15, 20, 25, 0.95);
        }
      `},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:642,columnNumber:7},this),t.jsxDEV("div",{className:"animated-bg",children:[t.jsxDEV("div",{className:"gradient-orb orb1"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:897,columnNumber:9},this),t.jsxDEV("div",{className:"gradient-orb orb2"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:898,columnNumber:9},this),t.jsxDEV("div",{className:"gradient-orb orb3"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:899,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:896,columnNumber:7},this),t.jsxDEV("div",{className:"min-h-screen text-white overflow-x-hidden",children:[t.jsxDEV("nav",{className:Ke("fixed top-0 w-full px-6 md:px-12 py-5 z-[1000] transition-all duration-300",n&&"py-4"),style:{background:n?"rgba(15, 20, 25, 0.95)":"rgba(15, 20, 25, 0.8)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"},"data-testid":"navbar",children:t.jsxDEV("div",{className:"max-w-7xl mx-auto flex justify-between items-center",children:[t.jsxDEV("div",{className:"text-2xl md:text-3xl font-bold bg-gradient-to-r from-[#3b82f6] to-[#10b981] bg-clip-text text-transparent","data-testid":"logo-text",children:"PREMISIA"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:917,columnNumber:13},this),t.jsxDEV("div",{className:"flex gap-4 md:gap-8 items-center",children:[t.jsxDEV("button",{onClick:()=>p("features"),className:"hidden md:block text-gray-400 hover:text-white transition-colors text-sm md:text-base","data-testid":"link-features",children:"Features"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:924,columnNumber:15},this),t.jsxDEV("button",{onClick:()=>p("process"),className:"hidden md:block text-gray-400 hover:text-white transition-colors text-sm md:text-base","data-testid":"link-how-it-works",children:"How it Works"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:931,columnNumber:15},this),t.jsxDEV("button",{onClick:()=>p("security"),className:"hidden md:block text-gray-400 hover:text-white transition-colors text-sm md:text-base","data-testid":"link-security",children:"Security"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:938,columnNumber:15},this),t.jsxDEV("button",{onClick:g,disabled:e,className:Ke("px-4 md:px-6 py-2 md:py-3 bg-gradient-to-r from-[#3b82f6] to-[#10b981] text-white rounded-lg font-semibold transition-all duration-300",!e&&"hover:-translate-y-0.5 hover:shadow-[0_10px_30px_rgba(59,130,246,0.3)]",e&&"opacity-90 cursor-not-allowed"),"data-testid":"button-login",children:e?t.jsxDEV("span",{className:"flex items-center gap-2",children:[t.jsxDEV(RE,{type:"dots",size:"small"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:957,columnNumber:21},this),t.jsxDEV("span",{children:"Signing in..."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:958,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:956,columnNumber:19},this):"Login"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:945,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:923,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:916,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:904,columnNumber:9},this),t.jsxDEV("section",{className:"min-h-screen flex items-center px-6 md:px-12 pt-32 pb-20 relative","data-testid":"section-hero",children:t.jsxDEV("div",{className:"max-w-7xl mx-auto w-full",children:t.jsxDEV("div",{className:"grid md:grid-cols-2 gap-12 md:gap-16 items-center",children:[t.jsxDEV("div",{children:[t.jsxDEV("h1",{className:"hero-title text-5xl md:text-7xl lg:text-[72px] font-bold mb-5 bg-gradient-to-r from-[#3b82f6] to-[#10b981] bg-clip-text text-transparent","data-testid":"text-hero-title",children:"PREMISIA"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:977,columnNumber:17},this),t.jsxDEV("p",{className:"hero-subtitle text-2xl md:text-3xl lg:text-[32px] text-[#10b981] mb-8","data-testid":"text-hero-subtitle",children:"Think it through"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:980,columnNumber:17},this),t.jsxDEV("h2",{className:"hero-headline text-3xl md:text-4xl lg:text-[36px] font-bold mb-5 text-white","data-testid":"text-hero-headline",children:"Turn Your Wild Ideas into Real Strategies"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:983,columnNumber:17},this),t.jsxDEV("p",{className:"hero-description text-base md:text-lg text-gray-300 mb-10 leading-relaxed","data-testid":"text-hero-description",children:`Stop staring at blank whiteboards. Premisia uses AI to help you structure messy ideas into clear strategic plans. From "I have this crazy idea" to "here's exactly how we do it" in hours, not weeks.`},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:986,columnNumber:17},this),t.jsxDEV("div",{className:"hero-buttons flex flex-col sm:flex-row gap-5",children:[t.jsxDEV("button",{onClick:g,disabled:e,className:Ke("px-6 md:px-8 py-3 md:py-4 bg-gradient-to-r from-[#3b82f6] to-[#10b981] text-white rounded-xl text-base md:text-lg font-semibold transition-all duration-300",!e&&"hover:-translate-y-0.5 hover:shadow-[0_10px_40px_rgba(59,130,246,0.4)]",e&&"opacity-90 cursor-not-allowed"),"data-testid":"button-cta-try-free",children:e?t.jsxDEV("span",{className:"flex items-center justify-center gap-2",children:[t.jsxDEV(RE,{type:"orbit",size:"small"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1004,columnNumber:25},this),t.jsxDEV("span",{children:"Starting..."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1005,columnNumber:25},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1003,columnNumber:23},this):" Try It Now - It's Free"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:992,columnNumber:19},this),t.jsxDEV("button",{onClick:()=>p("features"),className:"px-6 md:px-8 py-3 md:py-4 bg-transparent border-2 border-[#3b82f6] text-white rounded-xl text-base md:text-lg font-semibold transition-all duration-300 hover:bg-[#3b82f6] hover:text-white","data-testid":"button-cta-see-how",children:" See How It Works"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1011,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:991,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:976,columnNumber:15},this),t.jsxDEV("div",{className:"hero-visual hidden md:flex justify-center items-center","data-testid":"animation-brain",children:t.jsxDEV("div",{className:"relative w-full h-[500px] flex items-center justify-center",children:[t.jsxDEV("div",{className:"orbit orbit1",children:t.jsxDEV("div",{className:"orbit-dot"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1026,columnNumber:21},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1025,columnNumber:19},this),t.jsxDEV("div",{className:"orbit orbit2",children:t.jsxDEV("div",{className:"orbit-dot"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1029,columnNumber:21},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1028,columnNumber:19},this),t.jsxDEV("div",{className:"orbit orbit3",children:t.jsxDEV("div",{className:"orbit-dot"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1032,columnNumber:21},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1031,columnNumber:19},this),t.jsxDEV("div",{className:"brain-core w-[200px] h-[200px] bg-gradient-to-br from-[#3b82f6] to-[#10b981] rounded-full relative",style:{boxShadow:"0 0 100px rgba(59, 130, 246, 0.5)"}},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1036,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1023,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1022,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:974,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:973,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:969,columnNumber:9},this),t.jsxDEV("section",{id:"stats",ref:c,className:"py-16 md:py-20 px-6 md:px-12 bg-[#1a1f2e] relative overflow-hidden","data-testid":"section-stats",children:t.jsxDEV("div",{className:"max-w-7xl mx-auto",children:t.jsxDEV("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-6 md:gap-10",children:[t.jsxDEV("div",{className:"stat-card text-center p-6 md:p-10 bg-[#202938] rounded-2xl md:rounded-3xl transition-all duration-300","data-testid":"card-stat-frameworks",children:[t.jsxDEV("div",{className:"text-4xl md:text-5xl font-bold bg-gradient-to-r from-[#3b82f6] to-[#10b981] bg-clip-text text-transparent mb-2 md:mb-3",children:u.frameworks},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1059,columnNumber:17},this),t.jsxDEV("div",{className:"text-sm md:text-lg text-gray-400",children:"Strategic Frameworks"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1062,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1055,columnNumber:15},this),t.jsxDEV("div",{className:"stat-card text-center p-6 md:p-10 bg-[#202938] rounded-2xl md:rounded-3xl transition-all duration-300","data-testid":"card-stat-analysis",children:[t.jsxDEV("div",{className:"text-4xl md:text-5xl font-bold bg-gradient-to-r from-[#3b82f6] to-[#10b981] bg-clip-text text-transparent mb-2 md:mb-3",children:[u.analysis,"+"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1068,columnNumber:17},this),t.jsxDEV("div",{className:"text-sm md:text-lg text-gray-400",children:"Analysis Points"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1071,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1064,columnNumber:15},this),t.jsxDEV("div",{className:"stat-card text-center p-6 md:p-10 bg-[#202938] rounded-2xl md:rounded-3xl transition-all duration-300","data-testid":"card-stat-availability",children:[t.jsxDEV("div",{className:"text-4xl md:text-5xl font-bold bg-gradient-to-r from-[#3b82f6] to-[#10b981] bg-clip-text text-transparent mb-2 md:mb-3",children:[u.availability,"/7"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1077,columnNumber:17},this),t.jsxDEV("div",{className:"text-sm md:text-lg text-gray-400",children:"AI Available"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1080,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1073,columnNumber:15},this),t.jsxDEV("div",{className:"stat-card text-center p-6 md:p-10 bg-[#202938] rounded-2xl md:rounded-3xl transition-all duration-300","data-testid":"card-stat-clicks",children:[t.jsxDEV("div",{className:"text-4xl md:text-5xl font-bold bg-gradient-to-r from-[#3b82f6] to-[#10b981] bg-clip-text text-transparent mb-2 md:mb-3",children:[u.clicks," Click"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1086,columnNumber:17},this),t.jsxDEV("div",{className:"text-sm md:text-lg text-gray-400",children:"To Get Started"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1089,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1082,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1054,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1053,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1047,columnNumber:9},this),t.jsxDEV("section",{id:"features",className:"py-16 md:py-24 px-6 md:px-12","data-testid":"section-features",children:t.jsxDEV("div",{className:"max-w-7xl mx-auto",children:[t.jsxDEV("div",{className:"text-center mb-12 md:mb-16",children:[t.jsxDEV("h2",{className:"text-3xl md:text-4xl lg:text-5xl font-bold mb-4 md:mb-5 bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent","data-testid":"heading-features",children:"Not Your Average Strategy Tool"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1103,columnNumber:15},this),t.jsxDEV("p",{className:"text-base md:text-lg lg:text-xl text-gray-400","data-testid":"subheading-features",children:"We built this because consultants are expensive and your napkin sketches deserve better"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1106,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1102,columnNumber:13},this),t.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8",children:[t.jsxDEV("div",{className:"feature-card p-6 md:p-10 bg-[#202938] rounded-2xl md:rounded-3xl transition-all duration-300 cursor-pointer","data-testid":"card-feature-multi-agent",children:[t.jsxDEV("div",{className:"feature-badge",children:"AI Magic"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1117,columnNumber:17},this),t.jsxDEV("div",{className:"w-12 h-12 md:w-[60px] md:h-[60px] bg-gradient-to-br from-[#3b82f6] to-[#10b981] rounded-xl md:rounded-2xl flex items-center justify-center mb-4 md:mb-5 text-2xl md:text-3xl transition-all duration-300",style:{willChange:"transform"},children:""},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1118,columnNumber:17},this),t.jsxDEV("h3",{className:"text-xl md:text-2xl font-bold mb-3 md:mb-4 text-white",children:"Multi-Agent AI Brain"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1124,columnNumber:17},this),t.jsxDEV("p",{className:"text-sm md:text-base text-gray-400 leading-relaxed",children:"Three specialized AI agents work together: one challenges your assumptions, one builds your strategy, and one makes sure it actually makes sense."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1125,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1113,columnNumber:15},this),t.jsxDEV("div",{className:"feature-card p-6 md:p-10 bg-[#202938] rounded-2xl md:rounded-3xl transition-all duration-300 cursor-pointer","data-testid":"card-feature-five-whys",children:[t.jsxDEV("div",{className:"w-12 h-12 md:w-[60px] md:h-[60px] bg-gradient-to-br from-[#3b82f6] to-[#10b981] rounded-xl md:rounded-2xl flex items-center justify-center mb-4 md:mb-5 text-2xl md:text-3xl transition-all duration-300",children:""},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1135,columnNumber:17},this),t.jsxDEV("h3",{className:"text-xl md:text-2xl font-bold mb-3 md:mb-4 text-white",children:"Five Whys on Steroids"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1140,columnNumber:17},this),t.jsxDEV("p",{className:"text-sm md:text-base text-gray-400 leading-relaxed",children:`Our AI doesn't just ask "why" five times. It digs deep, finds patterns you missed, and calls out the elephant in the room you've been ignoring.`},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1141,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1131,columnNumber:15},this),t.jsxDEV("div",{className:"feature-card p-6 md:p-10 bg-[#202938] rounded-2xl md:rounded-3xl transition-all duration-300 cursor-pointer","data-testid":"card-feature-bmc",children:[t.jsxDEV("div",{className:"w-12 h-12 md:w-[60px] md:h-[60px] bg-gradient-to-br from-[#3b82f6] to-[#10b981] rounded-xl md:rounded-2xl flex items-center justify-center mb-4 md:mb-5 text-2xl md:text-3xl transition-all duration-300",children:""},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1151,columnNumber:17},this),t.jsxDEV("h3",{className:"text-xl md:text-2xl font-bold mb-3 md:mb-4 text-white",children:"Business Model Canvas++"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1156,columnNumber:17},this),t.jsxDEV("p",{className:"text-sm md:text-base text-gray-400 leading-relaxed",children:"Fill out a BMC that actually thinks. It spots gaps, suggests connections, and tells you when your revenue model doesn't match your value prop."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1157,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1147,columnNumber:15},this),t.jsxDEV("div",{className:"feature-card p-6 md:p-10 bg-[#202938] rounded-2xl md:rounded-3xl transition-all duration-300 cursor-pointer","data-testid":"card-feature-bias-detector",children:[t.jsxDEV("div",{className:"w-12 h-12 md:w-[60px] md:h-[60px] bg-gradient-to-br from-[#3b82f6] to-[#10b981] rounded-xl md:rounded-2xl flex items-center justify-center mb-4 md:mb-5 text-2xl md:text-3xl transition-all duration-300",children:""},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1167,columnNumber:17},this),t.jsxDEV("h3",{className:"text-xl md:text-2xl font-bold mb-3 md:mb-4 text-white",children:"Bias Detector"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1172,columnNumber:17},this),t.jsxDEV("p",{className:"text-sm md:text-base text-gray-400 leading-relaxed",children:"We all drink our own Kool-Aid. Our AI is that friend who tells you your idea might not be as brilliant as you think (but helps you fix it)."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1173,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1163,columnNumber:15},this),t.jsxDEV("div",{className:"feature-card p-6 md:p-10 bg-[#202938] rounded-2xl md:rounded-3xl transition-all duration-300 cursor-pointer","data-testid":"card-feature-program-plans",children:[t.jsxDEV("div",{className:"w-12 h-12 md:w-[60px] md:h-[60px] bg-gradient-to-br from-[#3b82f6] to-[#10b981] rounded-xl md:rounded-2xl flex items-center justify-center mb-4 md:mb-5 text-2xl md:text-3xl transition-all duration-300",children:""},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1183,columnNumber:17},this),t.jsxDEV("h3",{className:"text-xl md:text-2xl font-bold mb-3 md:mb-4 text-white",children:"Instant Program Plans"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1188,columnNumber:17},this),t.jsxDEV("p",{className:"text-sm md:text-base text-gray-400 leading-relaxed",children:"Go from strategy to execution roadmap in minutes. Complete with milestones, dependencies, and reality checks."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1189,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1179,columnNumber:15},this),t.jsxDEV("div",{className:"feature-card p-6 md:p-10 bg-[#202938] rounded-2xl md:rounded-3xl transition-all duration-300 cursor-pointer","data-testid":"card-feature-security",children:[t.jsxDEV("div",{className:"feature-badge",children:"Live"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1199,columnNumber:17},this),t.jsxDEV("div",{className:"w-12 h-12 md:w-[60px] md:h-[60px] bg-gradient-to-br from-[#3b82f6] to-[#10b981] rounded-xl md:rounded-2xl flex items-center justify-center mb-4 md:mb-5 text-2xl md:text-3xl transition-all duration-300",children:""},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1200,columnNumber:17},this),t.jsxDEV("h3",{className:"text-xl md:text-2xl font-bold mb-3 md:mb-4 text-white",children:"Enterprise-Grade Security"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1205,columnNumber:17},this),t.jsxDEV("p",{className:"text-sm md:text-base text-gray-400 leading-relaxed",children:"AWS KMS envelope encryption with AES-256-GCM. Every record gets unique encryption keys. The same security trusted by Fortune 500 companies."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1206,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1195,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1111,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1101,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1096,columnNumber:9},this),t.jsxDEV("section",{id:"process",className:"py-16 md:py-24 px-6 md:px-12 bg-[#1a1f2e]","data-testid":"section-process",children:t.jsxDEV("div",{className:"max-w-7xl mx-auto",children:[t.jsxDEV("div",{className:"text-center mb-12 md:mb-16",children:[t.jsxDEV("h2",{className:"text-3xl md:text-4xl lg:text-5xl font-bold mb-4 md:mb-5 bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent","data-testid":"heading-process",children:"From Chaos to Clarity in 5 Steps"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1222,columnNumber:15},this),t.jsxDEV("p",{className:"text-base md:text-lg lg:text-xl text-gray-400","data-testid":"subheading-process",children:"How we turn your 3am shower thoughts into boardroom-ready strategies"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1225,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1221,columnNumber:13},this),t.jsxDEV("div",{className:"timeline max-w-4xl mx-auto",children:[t.jsxDEV("div",{className:"timeline-item","data-testid":"timeline-step-1",children:t.jsxDEV("div",{className:"timeline-content",children:[t.jsxDEV("h3",{className:"text-xl md:text-2xl font-bold text-[#3b82f6] mb-3 md:mb-4",children:"1. Brain Dump"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1234,columnNumber:19},this),t.jsxDEV("p",{className:"text-sm md:text-base text-gray-400 leading-relaxed",children:"Type, talk, or upload your messy ideas. Half-baked is fine. Contradictory is expected."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1235,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1233,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1232,columnNumber:15},this),t.jsxDEV("div",{className:"timeline-item","data-testid":"timeline-step-2",children:t.jsxDEV("div",{className:"timeline-content",children:[t.jsxDEV("h3",{className:"text-xl md:text-2xl font-bold text-[#3b82f6] mb-3 md:mb-4",children:"2. AI Interrogation"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1244,columnNumber:19},this),t.jsxDEV("p",{className:"text-sm md:text-base text-gray-400 leading-relaxed",children:"Our AI asks the hard questions you've been avoiding. It's like therapy for your business idea."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1245,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1243,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1242,columnNumber:15},this),t.jsxDEV("div",{className:"timeline-item","data-testid":"timeline-step-3",children:t.jsxDEV("div",{className:"timeline-content",children:[t.jsxDEV("h3",{className:"text-xl md:text-2xl font-bold text-[#3b82f6] mb-3 md:mb-4",children:"3. Structure Emerges"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1254,columnNumber:19},this),t.jsxDEV("p",{className:"text-sm md:text-base text-gray-400 leading-relaxed",children:"Watch as your random thoughts transform into organized frameworks. It's oddly satisfying."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1255,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1253,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1252,columnNumber:15},this),t.jsxDEV("div",{className:"timeline-item","data-testid":"timeline-step-4",children:t.jsxDEV("div",{className:"timeline-content",children:[t.jsxDEV("h3",{className:"text-xl md:text-2xl font-bold text-[#3b82f6] mb-3 md:mb-4",children:"4. Reality Check"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1264,columnNumber:19},this),t.jsxDEV("p",{className:"text-sm md:text-base text-gray-400 leading-relaxed",children:"Our bias detector and feasibility analyzer make sure you're not building castles in the sky."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1265,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1263,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1262,columnNumber:15},this),t.jsxDEV("div",{className:"timeline-item","data-testid":"timeline-step-5",children:t.jsxDEV("div",{className:"timeline-content",children:[t.jsxDEV("h3",{className:"text-xl md:text-2xl font-bold text-[#3b82f6] mb-3 md:mb-4",children:"5. Action Plan"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1274,columnNumber:19},this),t.jsxDEV("p",{className:"text-sm md:text-base text-gray-400 leading-relaxed",children:"Get a complete execution roadmap with timelines, resources, and KPIs. Ready to present or implement."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1275,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1273,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1272,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1230,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1220,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1215,columnNumber:9},this),t.jsxDEV("section",{id:"how-it-works",className:"py-16 md:py-24 px-6 md:px-12","data-testid":"section-how-it-works",children:t.jsxDEV("div",{className:"max-w-7xl mx-auto",children:[t.jsxDEV("div",{className:"text-center mb-12 md:mb-20",children:[t.jsxDEV("h2",{className:"text-3xl md:text-4xl lg:text-5xl font-bold mb-4 md:mb-5 bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent","data-testid":"heading-how-it-works",children:"See the Platform in Action"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1292,columnNumber:15},this),t.jsxDEV("p",{className:"text-base md:text-lg lg:text-xl text-gray-400","data-testid":"subheading-how-it-works",children:'A real example: transforming "open cafe dubai" into a complete business strategy'},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1295,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1291,columnNumber:13},this),t.jsxDEV("div",{className:"mb-16 md:mb-24",children:t.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 md:gap-12 items-center",children:[t.jsxDEV("div",{className:"order-2 lg:order-1",children:[t.jsxDEV("div",{className:"inline-block px-3 py-1 bg-[#3b82f6]/20 text-[#3b82f6] rounded-full text-sm font-semibold mb-4",children:"Step 1"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1304,columnNumber:19},this),t.jsxDEV("h3",{className:"text-2xl md:text-3xl font-bold text-white mb-4",children:"Start with Your Idea"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1307,columnNumber:19},this),t.jsxDEV("p",{className:"text-base md:text-lg text-gray-400 leading-relaxed mb-4",children:"Simply type your strategic challenge or business idea. No need for formal planning languagejust describe what you're thinking about."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1308,columnNumber:19},this),t.jsxDEV("p",{className:"text-sm md:text-base text-gray-500 leading-relaxed",children:"Upload supporting documents (PDF, Word, Excel, images) to give the AI more context. The system starts processing your input immediately."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1311,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1303,columnNumber:17},this),t.jsxDEV("div",{className:"order-1 lg:order-2",children:t.jsxDEV("div",{className:"rounded-2xl overflow-hidden shadow-2xl border border-[#3b82f6]/30 bg-[#202938] p-8 md:p-12 flex items-center justify-center min-h-[300px]",children:t.jsxDEV("div",{className:"text-center",children:[t.jsxDEV("div",{className:"text-6xl mb-4",children:""},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1318,columnNumber:23},this),t.jsxDEV("p",{className:"text-gray-400",children:"Strategic Input Interface"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1319,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1317,columnNumber:21},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1316,columnNumber:19},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1315,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1302,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1301,columnNumber:13},this),t.jsxDEV("div",{className:"text-center py-8 px-6 bg-[#202938] rounded-2xl",children:[t.jsxDEV("p",{className:"text-gray-400 text-lg",children:" Interactive product walkthrough coming soon - showcasing the complete journey from idea to EPM program"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1328,columnNumber:15},this),t.jsxDEV("p",{className:"text-gray-500 text-sm mt-2",children:"12 steps: Input  Clarification  Classification  Journey Selection  Five Whys  Research  Decisions  Prioritization  EPM Summary  Timeline  Workstreams  Resources"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1331,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1327,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1290,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1285,columnNumber:9},this),t.jsxDEV("section",{id:"security",className:"py-16 md:py-24 px-6 md:px-12","data-testid":"section-security",children:t.jsxDEV("div",{className:"max-w-7xl mx-auto",children:[t.jsxDEV("div",{className:"text-center mb-12 md:mb-16",children:[t.jsxDEV("h2",{className:"text-3xl md:text-4xl lg:text-5xl font-bold mb-4 md:mb-5 bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent","data-testid":"heading-security",children:" Enterprise-Grade Security"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1347,columnNumber:15},this),t.jsxDEV("p",{className:"text-base md:text-lg lg:text-xl text-gray-400","data-testid":"subheading-security",children:"Your strategic ideas deserve serious protection"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1350,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1346,columnNumber:13},this),t.jsxDEV("div",{className:"p-6 md:p-10 bg-[#202938] rounded-2xl md:rounded-3xl mb-8 md:mb-12 transition-all duration-300 hover:-translate-y-1",style:{border:"2px solid",borderImage:"linear-gradient(135deg, #10b981 0%, #059669 100%) 1"},"data-testid":"card-bank-encryption",children:[t.jsxDEV("h3",{className:"text-2xl md:text-3xl font-bold mb-6 text-[#10b981]",children:"Bank-Grade Encryption"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1361,columnNumber:15},this),t.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxDEV("div",{children:[t.jsxDEV("div",{className:"flex items-start gap-3 mb-4",children:[t.jsxDEV("div",{className:"w-6 h-6 rounded-full bg-[#10b981]/20 flex items-center justify-center flex-shrink-0 mt-1",children:t.jsxDEV(Xi,{className:"h-4 w-4 text-[#10b981]"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1366,columnNumber:23},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1365,columnNumber:21},this),t.jsxDEV("div",{children:[t.jsxDEV("h4",{className:"font-semibold text-white mb-1",children:"AWS KMS Envelope Encryption"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1369,columnNumber:23},this),t.jsxDEV("p",{className:"text-sm text-gray-400",children:"The same encryption system trusted by Fortune 500 companies"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1370,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1368,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1364,columnNumber:19},this),t.jsxDEV("div",{className:"flex items-start gap-3 mb-4",children:[t.jsxDEV("div",{className:"w-6 h-6 rounded-full bg-[#10b981]/20 flex items-center justify-center flex-shrink-0 mt-1",children:t.jsxDEV(Xi,{className:"h-4 w-4 text-[#10b981]"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1375,columnNumber:23},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1374,columnNumber:21},this),t.jsxDEV("div",{children:[t.jsxDEV("h4",{className:"font-semibold text-white mb-1",children:"AES-256-GCM"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1378,columnNumber:23},this),t.jsxDEV("p",{className:"text-sm text-gray-400",children:"Military-grade encryption with authenticated integrity protection"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1379,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1377,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1373,columnNumber:19},this),t.jsxDEV("div",{className:"flex items-start gap-3",children:[t.jsxDEV("div",{className:"w-6 h-6 rounded-full bg-[#10b981]/20 flex items-center justify-center flex-shrink-0 mt-1",children:t.jsxDEV(Xi,{className:"h-4 w-4 text-[#10b981]"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1384,columnNumber:23},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1383,columnNumber:21},this),t.jsxDEV("div",{children:[t.jsxDEV("h4",{className:"font-semibold text-white mb-1",children:"Unique Encryption Keys"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1387,columnNumber:23},this),t.jsxDEV("p",{className:"text-sm text-gray-400",children:"Every record gets its own data encryption key"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1388,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1386,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1382,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1363,columnNumber:17},this),t.jsxDEV("div",{children:[t.jsxDEV("div",{className:"flex items-start gap-3 mb-4",children:[t.jsxDEV("div",{className:"w-6 h-6 rounded-full bg-[#10b981]/20 flex items-center justify-center flex-shrink-0 mt-1",children:t.jsxDEV(Xi,{className:"h-4 w-4 text-[#10b981]"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1395,columnNumber:23},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1394,columnNumber:21},this),t.jsxDEV("div",{children:[t.jsxDEV("h4",{className:"font-semibold text-white mb-1",children:"Secure Data Transit"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1398,columnNumber:23},this),t.jsxDEV("p",{className:"text-sm text-gray-400",children:"HTTPS encryption for all data transmission"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1399,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1397,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1393,columnNumber:19},this),t.jsxDEV("div",{className:"flex items-start gap-3",children:[t.jsxDEV("div",{className:"w-6 h-6 rounded-full bg-[#10b981]/20 flex items-center justify-center flex-shrink-0 mt-1",children:t.jsxDEV(Xi,{className:"h-4 w-4 text-[#10b981]"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1404,columnNumber:23},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1403,columnNumber:21},this),t.jsxDEV("div",{children:[t.jsxDEV("h4",{className:"font-semibold text-white mb-1",children:"Server-Side Protection"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1407,columnNumber:23},this),t.jsxDEV("p",{className:"text-sm text-gray-400",children:"Your data is encrypted at rest in our secure infrastructure"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1408,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1406,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1402,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1392,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1362,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1356,columnNumber:13},this),t.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 md:gap-8 mb-8 md:mb-12",children:[t.jsxDEV("div",{className:"p-6 md:p-10 bg-[#202938] rounded-2xl md:rounded-3xl transition-all duration-300 hover:-translate-y-1","data-testid":"card-data-flow",children:[t.jsxDEV("h3",{className:"text-2xl font-bold mb-6 text-[#3b82f6]",children:"How Your Data Flows"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1422,columnNumber:17},this),t.jsxDEV("div",{className:"space-y-4",children:[t.jsxDEV("div",{className:"flex items-center gap-3",children:[t.jsxDEV("div",{className:"w-8 h-8 rounded-full bg-[#3b82f6]/20 flex items-center justify-center flex-shrink-0",children:t.jsxDEV("span",{className:"text-sm font-bold text-[#3b82f6]",children:"1"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1426,columnNumber:23},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1425,columnNumber:21},this),t.jsxDEV("p",{className:"text-sm text-gray-300",children:"You input your strategic idea"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1428,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1424,columnNumber:19},this),t.jsxDEV("div",{className:"flex items-center gap-3",children:[t.jsxDEV("div",{className:"w-8 h-8 rounded-full bg-[#3b82f6]/20 flex items-center justify-center flex-shrink-0",children:t.jsxDEV("span",{className:"text-sm font-bold text-[#3b82f6]",children:"2"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1432,columnNumber:23},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1431,columnNumber:21},this),t.jsxDEV("p",{className:"text-sm text-gray-300",children:"HTTPS encrypts data in transit"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1434,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1430,columnNumber:19},this),t.jsxDEV("div",{className:"flex items-center gap-3",children:[t.jsxDEV("div",{className:"w-8 h-8 rounded-full bg-[#3b82f6]/20 flex items-center justify-center flex-shrink-0",children:t.jsxDEV("span",{className:"text-sm font-bold text-[#3b82f6]",children:"3"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1438,columnNumber:23},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1437,columnNumber:21},this),t.jsxDEV("p",{className:"text-sm text-gray-300",children:"AES-256-GCM encrypts with unique key"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1440,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1436,columnNumber:19},this),t.jsxDEV("div",{className:"flex items-center gap-3",children:[t.jsxDEV("div",{className:"w-8 h-8 rounded-full bg-[#3b82f6]/20 flex items-center justify-center flex-shrink-0",children:t.jsxDEV("span",{className:"text-sm font-bold text-[#3b82f6]",children:"4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1444,columnNumber:23},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1443,columnNumber:21},this),t.jsxDEV("p",{className:"text-sm text-gray-300",children:"AWS KMS secures encryption keys"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1446,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1442,columnNumber:19},this),t.jsxDEV("div",{className:"flex items-center gap-3",children:[t.jsxDEV("div",{className:"w-8 h-8 rounded-full bg-[#3b82f6]/20 flex items-center justify-center flex-shrink-0",children:t.jsxDEV("span",{className:"text-sm font-bold text-[#3b82f6]",children:"5"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1450,columnNumber:23},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1449,columnNumber:21},this),t.jsxDEV("p",{className:"text-sm text-gray-300",children:"Encrypted data stored securely"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1452,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1448,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1423,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1418,columnNumber:15},this),t.jsxDEV("div",{className:"p-6 md:p-10 bg-[#202938] rounded-2xl md:rounded-3xl transition-all duration-300 hover:-translate-y-1","data-testid":"card-access-control",children:[t.jsxDEV("h3",{className:"text-2xl font-bold mb-6 text-[#3b82f6]",children:"Access Control"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1462,columnNumber:17},this),t.jsxDEV("div",{className:"space-y-4",children:[t.jsxDEV("p",{className:"text-sm text-gray-300 leading-relaxed",children:"Your data is processed server-side to enable AI analysis and strategic recommendations."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1464,columnNumber:19},this),t.jsxDEV("p",{className:"text-sm text-gray-300 leading-relaxed",children:"This means our servers decrypt your data during processing."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1467,columnNumber:19},this),t.jsxDEV("div",{className:"p-4 bg-[#3b82f6]/10 rounded-lg border border-[#3b82f6]/30",children:[t.jsxDEV("h4",{className:"font-semibold text-white mb-2",children:"Why this matters:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1471,columnNumber:21},this),t.jsxDEV("p",{className:"text-sm text-gray-300 leading-relaxed",children:"We can provide powerful AI insights while maintaining strong security. Your data is protected from external threats and unauthorized access."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1472,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1470,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1463,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1458,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1416,columnNumber:13},this),t.jsxDEV("div",{className:"p-6 md:p-10 bg-[#202938] rounded-2xl md:rounded-3xl mb-8 md:mb-12 transition-all duration-300 hover:-translate-y-1",style:{border:"2px solid #a855f7"},"data-testid":"card-security-roadmap",children:[t.jsxDEV("h3",{className:"text-2xl md:text-3xl font-bold mb-6 text-purple-400",children:"Security Roadmap"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1486,columnNumber:15},this),t.jsxDEV("p",{className:"text-gray-400 mb-6",children:"Future enhancements we're building:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1487,columnNumber:15},this),t.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxDEV("div",{className:"flex items-center gap-3",children:[t.jsxDEV(ar,{className:"h-5 w-5 text-purple-400 flex-shrink-0"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1490,columnNumber:19},this),t.jsxDEV("p",{className:"text-sm text-gray-300",children:"Client-side encryption options"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1491,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1489,columnNumber:17},this),t.jsxDEV("div",{className:"flex items-center gap-3",children:[t.jsxDEV(ar,{className:"h-5 w-5 text-purple-400 flex-shrink-0"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1494,columnNumber:19},this),t.jsxDEV("p",{className:"text-sm text-gray-300",children:"Zero-knowledge architecture for sensitive data"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1495,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1493,columnNumber:17},this),t.jsxDEV("div",{className:"flex items-center gap-3",children:[t.jsxDEV(ar,{className:"h-5 w-5 text-purple-400 flex-shrink-0"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1498,columnNumber:19},this),t.jsxDEV("p",{className:"text-sm text-gray-300",children:"SOC 2 Type II certification"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1499,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1497,columnNumber:17},this),t.jsxDEV("div",{className:"flex items-center gap-3",children:[t.jsxDEV(ar,{className:"h-5 w-5 text-purple-400 flex-shrink-0"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1502,columnNumber:19},this),t.jsxDEV("p",{className:"text-sm text-gray-300",children:"Bring your own encryption keys"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1503,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1501,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1488,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1481,columnNumber:13},this),t.jsxDEV("div",{children:[t.jsxDEV("h3",{className:"text-2xl md:text-3xl font-bold mb-8 text-center text-white",children:"Your Data, Your Control"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1510,columnNumber:15},this),t.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[t.jsxDEV("div",{className:"p-6 bg-[#202938] rounded-xl transition-all duration-300 hover:-translate-y-1","data-testid":"data-control-delete",children:[t.jsxDEV("div",{className:"text-4xl mb-4",children:""},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1516,columnNumber:19},this),t.jsxDEV("h4",{className:"font-semibold text-white mb-2",children:"Delete Anytime"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1517,columnNumber:19},this),t.jsxDEV("p",{className:"text-sm text-gray-400",children:"Remove your data whenever you want"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1518,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1512,columnNumber:17},this),t.jsxDEV("div",{className:"p-6 bg-[#202938] rounded-xl transition-all duration-300 hover:-translate-y-1","data-testid":"data-control-export",children:[t.jsxDEV("div",{className:"text-4xl mb-4",children:""},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1524,columnNumber:19},this),t.jsxDEV("h4",{className:"font-semibold text-white mb-2",children:"Export Everything"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1525,columnNumber:19},this),t.jsxDEV("p",{className:"text-sm text-gray-400",children:"Download your work in standard formats"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1526,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1520,columnNumber:17},this),t.jsxDEV("div",{className:"p-6 bg-[#202938] rounded-xl transition-all duration-300 hover:-translate-y-1","data-testid":"data-control-sales",children:[t.jsxDEV("div",{className:"text-4xl mb-4",children:""},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1532,columnNumber:19},this),t.jsxDEV("h4",{className:"font-semibold text-white mb-2",children:"No Data Sales"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1533,columnNumber:19},this),t.jsxDEV("p",{className:"text-sm text-gray-400",children:"Your strategies are never sold or shared"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1534,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1528,columnNumber:17},this),t.jsxDEV("div",{className:"p-6 bg-[#202938] rounded-xl transition-all duration-300 hover:-translate-y-1","data-testid":"data-control-transparency",children:[t.jsxDEV("div",{className:"text-4xl mb-4",children:""},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1540,columnNumber:19},this),t.jsxDEV("h4",{className:"font-semibold text-white mb-2",children:"Usage Transparency"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1541,columnNumber:19},this),t.jsxDEV("p",{className:"text-sm text-gray-400",children:"Clear policies on how we process your data"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1542,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1536,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1511,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1509,columnNumber:13},this),t.jsxDEV("div",{className:"text-center mt-12",children:t.jsxDEV("p",{className:"text-gray-400",children:["Questions about security? Contact us at"," ",t.jsxDEV("a",{href:"mailto:security@premisia.ai",className:"text-[#3b82f6] hover:text-[#10b981] transition-colors",children:"security@premisia.ai"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1551,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1549,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1548,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1344,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1339,columnNumber:9},this),t.jsxDEV("section",{className:"py-16 md:py-24 px-6 md:px-12 bg-[#1a1f2e]","data-testid":"section-cta",children:t.jsxDEV("div",{className:"max-w-4xl mx-auto text-center",children:[t.jsxDEV("h2",{className:"text-3xl md:text-4xl lg:text-5xl font-bold mb-4 md:mb-6 bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent","data-testid":"heading-cta",children:"Ready to Stop Overthinking and Start Building?"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1565,columnNumber:13},this),t.jsxDEV("p",{className:"text-base md:text-lg lg:text-xl text-gray-400 mb-8 md:mb-10 leading-relaxed",children:"Join hundreds of founders and leaders who turned their wild ideas into executable strategies."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1568,columnNumber:13},this),t.jsxDEV("button",{onClick:g,disabled:e,className:Ke("px-8 md:px-12 py-4 md:py-5 bg-gradient-to-r from-[#3b82f6] to-[#10b981] text-white rounded-xl text-lg md:text-xl font-bold transition-all duration-300",!e&&"hover:-translate-y-1 hover:shadow-[0_20px_50px_rgba(59,130,246,0.5)]",e&&"opacity-90 cursor-not-allowed"),"data-testid":"button-cta-final",children:e?t.jsxDEV("span",{className:"flex items-center justify-center gap-2",children:[t.jsxDEV(RE,{type:"orbit",size:"small"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1583,columnNumber:19},this),t.jsxDEV("span",{children:"Starting..."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1584,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1582,columnNumber:17},this):"Start Building Your Strategy "},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1571,columnNumber:13},this),t.jsxDEV("p",{className:"text-xs md:text-sm text-gray-500 mt-4 md:mt-6",children:"No credit card required  Free to start  Takes 2 minutes"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1590,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1564,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1560,columnNumber:9},this),t.jsxDEV("footer",{className:"py-12 md:py-16 px-6 text-center border-t border-[#202938]","data-testid":"footer",children:[t.jsxDEV("div",{className:"mb-4",children:[t.jsxDEV("div",{className:"text-xl md:text-2xl font-bold bg-gradient-to-r from-[#3b82f6] to-[#10b981] bg-clip-text text-transparent mb-2",children:"PREMISIA"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1602,columnNumber:13},this),t.jsxDEV("p",{className:"text-sm md:text-base text-[#10b981]",children:"Think it through"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1605,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1601,columnNumber:11},this),t.jsxDEV("p",{className:"text-sm md:text-base text-gray-400",children:" 2025 Premisia - Where Ideas Become Action"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1607,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1597,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:902,columnNumber:7},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:641,columnNumber:5},this)}function Fne(){const{user:e,isLoading:r}=xl(),[n,s]=v.useState(!1),{data:a,isLoading:l}=yt({queryKey:["/api/dashboard-summary"],enabled:!!e});if(!e&&!r)return t.jsxDEV(_ne,{},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1625,columnNumber:12},this);const c=a&&(a.counts.analyses>0||a.counts.strategies>0||a.counts.programs>0);return t.jsxDEV(st,{showTopBar:!!c,title:"Home",subtitle:"Your strategic command center",sidebarOpen:n,onSidebarToggle:()=>s(!n),children:[!c&&t.jsxDEV("div",{className:"lg:hidden fixed top-4 left-4 z-10",children:t.jsxDEV(me,{variant:"outline",size:"icon",onClick:()=>s(!n),className:"bg-card shadow-lg","data-testid":"button-mobile-menu",children:t.jsxDEV(nA,{className:"h-5 w-5"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1652,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1645,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1644,columnNumber:9},this),r||l?t.jsxDEV("div",{className:"p-6 space-y-6",children:[t.jsxDEV(Jt,{className:"h-12 w-64"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1659,columnNumber:11},this),t.jsxDEV("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:[t.jsxDEV(Jt,{className:"h-32"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1661,columnNumber:13},this),t.jsxDEV(Jt,{className:"h-32"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1662,columnNumber:13},this),t.jsxDEV(Jt,{className:"h-32"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1663,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1660,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1658,columnNumber:9},this):c?t.jsxDEV(Ane,{summary:a},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1667,columnNumber:9},this):t.jsxDEV(Tne,{},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1669,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/home-page.tsx",lineNumber:1635,columnNumber:5},this)}const Lg=wV,Ine=A6,One=kV,M_=v.forwardRef(({className:e,...r},n)=>t.jsxDEV(Tg,{ref:n,className:Ke("fixed inset-0 z-50 bg-black dark:bg-black data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...r},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/dialog.tsx",lineNumber:21,columnNumber:3},void 0));M_.displayName=Tg.displayName;const Ph=v.forwardRef(({className:e,children:r,...n},s)=>t.jsxDEV(One,{children:[t.jsxDEV(M_,{},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/dialog.tsx",lineNumber:37,columnNumber:5},void 0),t.jsxDEV(Ag,{ref:s,className:Ke("fixed inset-0 z-50 grid w-full gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 md:inset-auto md:left-[50%] md:top-[50%] md:max-w-lg md:translate-x-[-50%] md:translate-y-[-50%] md:rounded-lg data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 md:data-[state=closed]:slide-out-to-left-1/2 md:data-[state=closed]:slide-out-to-top-[48%] md:data-[state=open]:slide-in-from-left-1/2 md:data-[state=open]:slide-in-from-top-[48%]",e),...n,children:[r,t.jsxDEV(g0,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[t.jsxDEV(Ri,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/dialog.tsx",lineNumber:48,columnNumber:9},void 0),t.jsxDEV("span",{className:"sr-only",children:"Close"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/dialog.tsx",lineNumber:49,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/ui/dialog.tsx",lineNumber:47,columnNumber:7},void 0)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/ui/dialog.tsx",lineNumber:38,columnNumber:5},void 0)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/ui/dialog.tsx",lineNumber:36,columnNumber:3},void 0));Ph.displayName=Ag.displayName;const Sh=({className:e,...r})=>t.jsxDEV("div",{className:Ke("flex flex-col space-y-1.5 text-center sm:text-left",e),...r},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/dialog.tsx",lineNumber:60,columnNumber:3},void 0);Sh.displayName="DialogHeader";const T_=({className:e,...r})=>t.jsxDEV("div",{className:Ke("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...r},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/dialog.tsx",lineNumber:74,columnNumber:3},void 0);T_.displayName="DialogFooter";const Ch=v.forwardRef(({className:e,...r},n)=>t.jsxDEV(_g,{ref:n,className:Ke("text-lg font-semibold leading-none tracking-tight",e),...r},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/dialog.tsx",lineNumber:88,columnNumber:3},void 0));Ch.displayName=_g.displayName;const Rh=v.forwardRef(({className:e,...r},n)=>t.jsxDEV(Fg,{ref:n,className:Ke("text-sm text-muted-foreground",e),...r},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/dialog.tsx",lineNumber:103,columnNumber:3},void 0));Rh.displayName=Fg.displayName;const Ci=v.forwardRef(({className:e,type:r,...n},s)=>t.jsxDEV("input",{type:r,className:Ke("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...n},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/input.tsx",lineNumber:8,columnNumber:7},void 0));Ci.displayName="Input";const In=v.forwardRef(({className:e,...r},n)=>t.jsxDEV("textarea",{className:Ke("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/textarea.tsx",lineNumber:10,columnNumber:5},void 0));In.displayName="Textarea";const Lne=xh("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),it=v.forwardRef(({className:e,variant:r,...n},s)=>t.jsxDEV("div",{ref:s,role:"alert",className:Ke(Lne({variant:r}),e),...n},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/alert.tsx",lineNumber:26,columnNumber:3},void 0));it.displayName="Alert";const er=v.forwardRef(({className:e,...r},n)=>t.jsxDEV("h5",{ref:n,className:Ke("mb-1 font-medium leading-none tracking-tight",e),...r},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/alert.tsx",lineNumber:39,columnNumber:3},void 0));er.displayName="AlertTitle";const at=v.forwardRef(({className:e,...r},n)=>t.jsxDEV("div",{ref:n,className:Ke("text-sm [&_p]:leading-relaxed",e),...r},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/alert.tsx",lineNumber:51,columnNumber:3},void 0));at.displayName="AlertDescription";function $ne(){const{toast:e}=ur(),[r,n]=v.useState(!1),[s,a]=v.useState({name:"",description:"",startDate:"",endDate:"",status:"Active"}),{data:l,isLoading:c}=yt({queryKey:["/api/programs"]}),u=Qr({mutationFn:h=>Zt("/api/programs","POST",h),onSuccess:()=>{vr.invalidateQueries({queryKey:["/api/programs"]}),n(!1),a({name:"",description:"",startDate:"",endDate:"",status:"Active"}),e({title:"Program created successfully"})},onError:()=>{e({title:"Failed to create program",variant:"destructive"})}}),d=h=>{if(h.preventDefault(),!s.name.trim()){e({title:"Program name is required",variant:"destructive"});return}u.mutate({...s,startDate:s.startDate||null,endDate:s.endDate||null})};return c?t.jsxDEV("div",{className:"min-h-screen bg-background p-6",children:t.jsxDEV("div",{className:"max-w-7xl mx-auto space-y-6",children:[t.jsxDEV(Jt,{className:"h-10 w-64"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/programs-page.tsx",lineNumber:61,columnNumber:11},this),t.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((h,g)=>t.jsxDEV(Z,{children:t.jsxDEV(de,{children:[t.jsxDEV(Jt,{className:"h-6 w-48 mb-2"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/programs-page.tsx",lineNumber:66,columnNumber:19},this),t.jsxDEV(Jt,{className:"h-4 w-full"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/programs-page.tsx",lineNumber:67,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/programs-page.tsx",lineNumber:65,columnNumber:17},this)},g,!1,{fileName:"/home/runner/workspace/client/src/pages/programs-page.tsx",lineNumber:64,columnNumber:15},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/programs-page.tsx",lineNumber:62,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/programs-page.tsx",lineNumber:60,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/programs-page.tsx",lineNumber:59,columnNumber:7},this):t.jsxDEV("div",{className:"min-h-screen bg-background p-6",children:t.jsxDEV("div",{className:"max-w-7xl mx-auto space-y-6",children:[t.jsxDEV("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[t.jsxDEV("div",{className:"space-y-1",children:[t.jsxDEV("div",{className:"flex items-center gap-3",children:[t.jsxDEV(os,{href:"/",children:t.jsxDEV(me,{variant:"ghost",size:"icon","data-testid":"button-back-home",children:t.jsxDEV(jn,{className:"h-5 w-5"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/programs-page.tsx",lineNumber:85,columnNumber:19},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/programs-page.tsx",lineNumber:84,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/programs-page.tsx",lineNumber:83,columnNumber:15},this),t.jsxDEV("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-bold tracking-tight break-words","data-testid":"text-page-title",children:"Programs Management"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/programs-page.tsx",lineNumber:88,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/programs-page.tsx",lineNumber:82,columnNumber:13},this),t.jsxDEV("p",{className:"text-sm sm:text-base text-muted-foreground","data-testid":"text-page-subtitle",children:"Manage all enterprise programs in one place"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/programs-page.tsx",lineNumber:90,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/programs-page.tsx",lineNumber:81,columnNumber:11},this),t.jsxDEV(Lg,{open:r,onOpenChange:n,children:[t.jsxDEV(Ine,{asChild:!0,children:t.jsxDEV(me,{className:"w-full sm:w-auto","data-testid":"button-create-program",children:[t.jsxDEV(Kd,{className:"mr-2 h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/programs-page.tsx",lineNumber:98,columnNumber:17},this),"Create Program"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/programs-page.tsx",lineNumber:97,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/programs-page.tsx",lineNumber:96,columnNumber:13},this),t.jsxDEV(Ph,{"data-testid":"dialog-create-program",children:[t.jsxDEV(Sh,{children:[t.jsxDEV(Ch,{children:"Create New Program"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/programs-page.tsx",lineNumber:104,columnNumber:17},this),t.jsxDEV(Rh,{children:"Add a new program to your portfolio. Stage gates will be created automatically."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/programs-page.tsx",lineNumber:105,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/programs-page.tsx",lineNumber:103,columnNumber:15},this),t.jsxDEV("form",{onSubmit:d,className:"space-y-4",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV("label",{htmlFor:"name",className:"text-sm font-medium",children:"Program Name *"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/programs-page.tsx",lineNumber:111,columnNumber:19},this),t.jsxDEV(Ci,{id:"name","data-testid":"input-program-name",value:s.name,onChange:h=>a({...s,name:h.target.value}),placeholder:"Enter program name",required:!0},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/programs-page.tsx",lineNumber:114,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/programs-page.tsx",lineNumber:110,columnNumber:17},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV("label",{htmlFor:"description",className:"text-sm font-medium",children:"Description"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/programs-page.tsx",lineNumber:124,columnNumber:19},this),t.jsxDEV(In,{id:"description","data-testid":"input-program-description",value:s.description,onChange:h=>a({...s,description:h.target.value}),placeholder:"Enter program description",rows:3},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/programs-page.tsx",lineNumber:127,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/programs-page.tsx",lineNumber:123,columnNumber:17},this),t.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV("label",{htmlFor:"startDate",className:"text-sm font-medium",children:"Start Date"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/programs-page.tsx",lineNumber:138,columnNumber:21},this),t.jsxDEV(Ci,{id:"startDate",type:"date","data-testid":"input-program-start-date",value:s.startDate,onChange:h=>a({...s,startDate:h.target.value})},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/programs-page.tsx",lineNumber:141,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/programs-page.tsx",lineNumber:137,columnNumber:19},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV("label",{htmlFor:"endDate",className:"text-sm font-medium",children:"End Date"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/programs-page.tsx",lineNumber:150,columnNumber:21},this),t.jsxDEV(Ci,{id:"endDate",type:"date","data-testid":"input-program-end-date",value:s.endDate,onChange:h=>a({...s,endDate:h.target.value})},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/programs-page.tsx",lineNumber:153,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/programs-page.tsx",lineNumber:149,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/programs-page.tsx",lineNumber:136,columnNumber:17},this),t.jsxDEV("div",{className:"flex justify-end gap-3 pt-4",children:[t.jsxDEV(me,{type:"button",variant:"outline",onClick:()=>n(!1),"data-testid":"button-cancel-program",children:"Cancel"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/programs-page.tsx",lineNumber:163,columnNumber:19},this),t.jsxDEV(me,{type:"submit",disabled:u.isPending,"data-testid":"button-submit-program",children:u.isPending?"Creating...":"Create Program"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/programs-page.tsx",lineNumber:171,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/programs-page.tsx",lineNumber:162,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/programs-page.tsx",lineNumber:109,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/programs-page.tsx",lineNumber:102,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/programs-page.tsx",lineNumber:95,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/programs-page.tsx",lineNumber:80,columnNumber:9},this),l&&l.length===0?t.jsxDEV(it,{"data-testid":"alert-no-programs",children:t.jsxDEV(at,{children:"No programs found. Create your first program to get started."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/programs-page.tsx",lineNumber:186,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/programs-page.tsx",lineNumber:185,columnNumber:11},this):t.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l==null?void 0:l.map(h=>t.jsxDEV(Z,{className:"hover:shadow-lg transition-shadow","data-testid":`card-program-${h.id}`,children:[t.jsxDEV(de,{children:[t.jsxDEV(pe,{className:"flex items-center justify-between","data-testid":`text-program-name-${h.id}`,children:[h.name,t.jsxDEV("span",{className:`text-xs px-2 py-1 rounded-full ${h.status==="Active"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":h.status==="Completed"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-200"}`,"data-testid":`text-program-status-${h.id}`,children:h.status},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/programs-page.tsx",lineNumber:197,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/programs-page.tsx",lineNumber:195,columnNumber:19},this),t.jsxDEV(He,{"data-testid":`text-program-description-${h.id}`,children:h.description||"No description provided"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/programs-page.tsx",lineNumber:205,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/programs-page.tsx",lineNumber:194,columnNumber:17},this),t.jsxDEV(te,{children:t.jsxDEV("div",{className:"space-y-2 text-sm text-muted-foreground",children:h.startDate&&t.jsxDEV("div",{className:"flex items-center gap-2","data-testid":`text-program-dates-${h.id}`,children:[t.jsxDEV(ys,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/programs-page.tsx",lineNumber:213,columnNumber:25},this),t.jsxDEV("span",{children:[new Date(h.startDate).toLocaleDateString(),h.endDate&&` - ${new Date(h.endDate).toLocaleDateString()}`]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/programs-page.tsx",lineNumber:214,columnNumber:25},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/programs-page.tsx",lineNumber:212,columnNumber:23},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/programs-page.tsx",lineNumber:210,columnNumber:19},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/programs-page.tsx",lineNumber:209,columnNumber:17},this)]},h.id,!0,{fileName:"/home/runner/workspace/client/src/pages/programs-page.tsx",lineNumber:193,columnNumber:15},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/programs-page.tsx",lineNumber:191,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/programs-page.tsx",lineNumber:79,columnNumber:7},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/programs-page.tsx",lineNumber:78,columnNumber:5},this)}function Bne(){const{data:e,isLoading:r,error:n}=yt({queryKey:["/api/strategy/test"]});if(r)return t.jsxDEV("div",{className:"container mx-auto p-6","data-testid":"container-loading",children:t.jsxDEV("div",{className:"animate-pulse space-y-4",children:[t.jsxDEV("div",{className:"h-8 bg-gray-200 dark:bg-gray-700 rounded w-1/3"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:47,columnNumber:11},this),t.jsxDEV("div",{className:"h-64 bg-gray-200 dark:bg-gray-700 rounded"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:48,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:46,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:45,columnNumber:7},this);if(n||!e||!e.tests)return t.jsxDEV("div",{className:"container mx-auto p-6","data-testid":"container-error",children:t.jsxDEV(it,{variant:"destructive",children:t.jsxDEV(at,{children:n?"Failed to load strategy ontology test":"Invalid response data"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:58,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:57,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:56,columnNumber:7},this);const s=e.tests;return!s.costEstimate||!s.approaches||!s.workstreams||!s.coherence?t.jsxDEV("div",{className:"container mx-auto p-6","data-testid":"container-error",children:t.jsxDEV(it,{variant:"destructive",children:t.jsxDEV(at,{children:"Strategy ontology test returned incomplete data. Check server logs."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:72,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:71,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:70,columnNumber:7},this):t.jsxDEV("div",{className:"container mx-auto p-6 space-y-6","data-testid":"container-strategy-test",children:[t.jsxDEV("div",{children:[t.jsxDEV("h1",{className:"text-3xl font-bold mb-2","data-testid":"text-title",children:"Strategic Consultant Agent - Foundation Test"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:83,columnNumber:9},this),t.jsxDEV("p",{className:"text-muted-foreground","data-testid":"text-description",children:"Verifying Strategy Ontology Service & Intelligence Layer"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:84,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:82,columnNumber:7},this),t.jsxDEV("div",{"data-testid":"badge-status",children:t.jsxDEV(se,{variant:e.status==="success"?"default":"destructive",className:"text-lg py-2 px-4",children:e.status==="success"?t.jsxDEV(t.Fragment,{children:[t.jsxDEV(Dn,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:93,columnNumber:15},this)," All Tests Passed"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:93,columnNumber:13},this):t.jsxDEV(t.Fragment,{children:[t.jsxDEV(Dc,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:95,columnNumber:15},this)," Tests Failed"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:95,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:91,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:90,columnNumber:7},this),t.jsxDEV(Z,{"data-testid":"card-approaches",children:[t.jsxDEV(de,{children:[t.jsxDEV(pe,{children:"1. Strategic Approaches (Ontology Query)"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:103,columnNumber:11},this),t.jsxDEV(He,{children:"Testing ontology loading and approach retrieval"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:104,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:102,columnNumber:9},this),t.jsxDEV(te,{children:t.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:s.approaches.map(a=>t.jsxDEV("div",{className:"p-4 border rounded-lg bg-muted/50","data-testid":`approach-${a.id}`,children:[t.jsxDEV("div",{className:"font-semibold","data-testid":`text-approach-name-${a.id}`,children:a.name},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:114,columnNumber:17},this),t.jsxDEV("div",{className:"text-sm text-muted-foreground","data-testid":`text-approach-id-${a.id}`,children:a.id},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:117,columnNumber:17},this)]},a.id,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:109,columnNumber:15},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:107,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:106,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:101,columnNumber:7},this),t.jsxDEV(Z,{"data-testid":"card-cost-estimate",children:[t.jsxDEV(de,{children:[t.jsxDEV(pe,{children:"2. Cost Estimation (Intelligence Layer)"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:129,columnNumber:11},this),t.jsxDEV(He,{children:"Cost Leadership strategy in UAE market"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:130,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:128,columnNumber:9},this),t.jsxDEV(te,{children:t.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsxDEV("div",{className:"space-y-2","data-testid":"section-budget",children:[t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(vh,{className:"w-5 h-5 text-green-600"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:136,columnNumber:17},this),t.jsxDEV("span",{className:"font-semibold",children:"Budget Range"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:137,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:135,columnNumber:15},this),t.jsxDEV("div",{className:"text-2xl font-bold","data-testid":"text-budget-range",children:["$",(s.costEstimate.min/1e6).toFixed(2),"M - $",(s.costEstimate.max/1e6).toFixed(2),"M"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:139,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:134,columnNumber:13},this),t.jsxDEV("div",{className:"space-y-2","data-testid":"section-timeline",children:[t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(ys,{className:"w-5 h-5 text-blue-600"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:145,columnNumber:17},this),t.jsxDEV("span",{className:"font-semibold",children:"Timeline"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:146,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:144,columnNumber:15},this),t.jsxDEV("div",{className:"text-2xl font-bold","data-testid":"text-timeline",children:[s.costEstimate.timeline_months," months"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:148,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:143,columnNumber:13},this),t.jsxDEV("div",{className:"space-y-2","data-testid":"section-team",children:[t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(On,{className:"w-5 h-5 text-purple-600"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:154,columnNumber:17},this),t.jsxDEV("span",{className:"font-semibold",children:"Team Size"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:155,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:153,columnNumber:15},this),t.jsxDEV("div",{className:"text-2xl font-bold","data-testid":"text-team-size",children:[s.costEstimate.team_size.min,"-",s.costEstimate.team_size.max," people"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:157,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:152,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:133,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:132,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:127,columnNumber:7},this),t.jsxDEV(Z,{"data-testid":"card-workstreams",children:[t.jsxDEV(de,{children:[t.jsxDEV(pe,{children:"3. Workstream Allocations (Resource Planning)"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:168,columnNumber:11},this),t.jsxDEV(He,{children:"Top 3 workstreams with budget distribution"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:169,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:167,columnNumber:9},this),t.jsxDEV(te,{children:t.jsxDEV("div",{className:"space-y-3",children:s.workstreams.map((a,l)=>t.jsxDEV("div",{className:"flex items-center justify-between p-3 border rounded-lg","data-testid":`workstream-${l}`,children:[t.jsxDEV("div",{className:"flex-1",children:[t.jsxDEV("div",{className:"font-semibold","data-testid":`text-workstream-name-${l}`,children:a.name},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:180,columnNumber:19},this),t.jsxDEV("div",{className:"text-sm text-muted-foreground","data-testid":`text-workstream-allocation-${l}`,children:[a.allocation,"% allocation"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:183,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:179,columnNumber:17},this),t.jsxDEV("div",{className:"text-right","data-testid":`text-workstream-cost-${l}`,children:t.jsxDEV("div",{className:"font-semibold",children:["$",(a.estimated_cost.min/1e3).toFixed(0),"k - $",(a.estimated_cost.max/1e3).toFixed(0),"k"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:188,columnNumber:19},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:187,columnNumber:17},this)]},l,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:174,columnNumber:15},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:172,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:171,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:166,columnNumber:7},this),t.jsxDEV(Z,{"data-testid":"card-coherence",children:[t.jsxDEV(de,{children:[t.jsxDEV(pe,{children:"4. Strategic Coherence Validation"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:201,columnNumber:11},this),t.jsxDEV(He,{children:"Validating strategy-market fit with decision rules"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:202,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:200,columnNumber:9},this),t.jsxDEV(te,{children:t.jsxDEV("div",{className:"space-y-4",children:[t.jsxDEV("div",{className:"flex items-center gap-2","data-testid":"section-coherence-status",children:s.coherence.valid?t.jsxDEV(t.Fragment,{children:[t.jsxDEV(Dn,{className:"w-5 h-5 text-green-600"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:209,columnNumber:19},this),t.jsxDEV("span",{className:"font-semibold text-green-600",children:"Strategy is Coherent"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:210,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:208,columnNumber:17},this):t.jsxDEV(t.Fragment,{children:[t.jsxDEV(Dc,{className:"w-5 h-5 text-red-600"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:214,columnNumber:19},this),t.jsxDEV("span",{className:"font-semibold text-red-600",children:"Strategy has Issues"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:215,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:213,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:206,columnNumber:13},this),s.coherence.warnings.length>0&&t.jsxDEV("div",{"data-testid":"section-warnings",children:[t.jsxDEV("h4",{className:"font-semibold mb-2 text-yellow-600",children:"Warnings:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:222,columnNumber:17},this),t.jsxDEV("ul",{className:"list-disc list-inside space-y-1",children:s.coherence.warnings.map((a,l)=>t.jsxDEV("li",{className:"text-sm","data-testid":`text-warning-${l}`,children:a},l,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:225,columnNumber:21},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:223,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:221,columnNumber:15},this),s.coherence.errors.length>0&&t.jsxDEV("div",{"data-testid":"section-errors",children:[t.jsxDEV("h4",{className:"font-semibold mb-2 text-red-600",children:"Errors:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:235,columnNumber:17},this),t.jsxDEV("ul",{className:"list-disc list-inside space-y-1",children:s.coherence.errors.map((a,l)=>t.jsxDEV("li",{className:"text-sm","data-testid":`text-error-${l}`,children:a},l,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:238,columnNumber:21},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:236,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:234,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:205,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:204,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:199,columnNumber:7},this),s.decisionOptions&&t.jsxDEV(Z,{"data-testid":"card-decision-options",children:[t.jsxDEV(de,{children:[t.jsxDEV(pe,{children:"5. Decision Options (Full Analysis)"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:253,columnNumber:13},this),t.jsxDEV(He,{children:[s.decisionOptions.approach," in ",s.decisionOptions.market]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:254,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:252,columnNumber:11},this),t.jsxDEV(te,{children:t.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxDEV("div",{"data-testid":"section-decision-cost",children:[t.jsxDEV("span",{className:"text-sm text-muted-foreground",children:"Budget Range:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:261,columnNumber:17},this),t.jsxDEV("div",{className:"font-semibold","data-testid":"text-decision-budget",children:["$",(s.decisionOptions.cost.min/1e6).toFixed(1),"M - $",(s.decisionOptions.cost.max/1e6).toFixed(1),"M"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:262,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:260,columnNumber:15},this),t.jsxDEV("div",{"data-testid":"section-decision-workstreams",children:[t.jsxDEV("span",{className:"text-sm text-muted-foreground",children:"Workstreams:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:267,columnNumber:17},this),t.jsxDEV("div",{className:"font-semibold","data-testid":"text-decision-workstream-count",children:[s.decisionOptions.workstreamCount," workstreams identified"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:268,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:266,columnNumber:15},this),t.jsxDEV("div",{"data-testid":"section-decision-timeline",children:[t.jsxDEV("span",{className:"text-sm text-muted-foreground",children:"Timeline:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:273,columnNumber:17},this),t.jsxDEV("div",{className:"font-semibold","data-testid":"text-decision-timeline",children:[s.decisionOptions.cost.timeline_months," months"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:274,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:272,columnNumber:15},this),t.jsxDEV("div",{"data-testid":"section-decision-coherence",children:[t.jsxDEV("span",{className:"text-sm text-muted-foreground",children:"Coherence:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:279,columnNumber:17},this),t.jsxDEV("div",{className:"font-semibold","data-testid":"text-decision-coherence",children:s.decisionOptions.coherence.valid?"Valid ":"Issues Found"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:280,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:278,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:259,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:258,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:251,columnNumber:9},this),t.jsxDEV(Z,{"data-testid":"card-database",children:[t.jsxDEV(de,{children:[t.jsxDEV(pe,{children:"6. Database Schema"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:292,columnNumber:11},this),t.jsxDEV(He,{children:"Strategic Consultant tables created"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:293,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:291,columnNumber:9},this),t.jsxDEV(te,{children:t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV("div",{className:"flex items-center gap-2","data-testid":"table-status-versions",children:[t.jsxDEV(Dn,{className:"w-4 h-4 text-green-600"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:298,columnNumber:15},this),t.jsxDEV("code",{className:"text-sm",children:"strategy_versions"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:299,columnNumber:15},this),t.jsxDEV("span",{className:"text-sm text-muted-foreground",children:"- Strategy iteration storage"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:300,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:297,columnNumber:13},this),t.jsxDEV("div",{className:"flex items-center gap-2","data-testid":"table-status-decisions",children:[t.jsxDEV(Dn,{className:"w-4 h-4 text-green-600"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:303,columnNumber:15},this),t.jsxDEV("code",{className:"text-sm",children:"strategic_decisions"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:304,columnNumber:15},this),t.jsxDEV("span",{className:"text-sm text-muted-foreground",children:"- Decision logging"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:305,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:302,columnNumber:13},this),t.jsxDEV("div",{className:"flex items-center gap-2","data-testid":"table-status-insights",children:[t.jsxDEV(Dn,{className:"w-4 h-4 text-green-600"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:308,columnNumber:15},this),t.jsxDEV("code",{className:"text-sm",children:"strategy_insights"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:309,columnNumber:15},this),t.jsxDEV("span",{className:"text-sm text-muted-foreground",children:"- Learned patterns"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:310,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:307,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:296,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:295,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:290,columnNumber:7},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-test.tsx",lineNumber:81,columnNumber:5},this)}function zne(){return t.jsxDEV("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:t.jsxDEV(Z,{className:"w-full max-w-md mx-4",children:t.jsxDEV(te,{className:"pt-6",children:[t.jsxDEV("div",{className:"flex mb-4 gap-2",children:[t.jsxDEV(Dt,{className:"h-8 w-8 text-red-500"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/not-found.tsx",lineNumber:10,columnNumber:13},this),t.jsxDEV("h1",{className:"text-xl md:text-2xl font-bold text-gray-900",children:"404 Page Not Found"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/not-found.tsx",lineNumber:11,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/not-found.tsx",lineNumber:9,columnNumber:11},this),t.jsxDEV("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/not-found.tsx",lineNumber:14,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/not-found.tsx",lineNumber:8,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/not-found.tsx",lineNumber:7,columnNumber:7},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/not-found.tsx",lineNumber:6,columnNumber:5},this)}var A_={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},o4=St.createContext&&St.createContext(A_),Wne=["attr","size","title"];function Une(e,r){if(e==null)return{};var n=Gne(e,r),s,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)s=l[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Gne(e,r){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(r.indexOf(s)>=0)continue;n[s]=e[s]}return n}function gv(){return gv=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},gv.apply(this,arguments)}function l4(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Nv(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?l4(Object(n),!0).forEach(function(s){Hne(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l4(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Hne(e,r,n){return r=Jne(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function Jne(e){var r=Kne(e,"string");return typeof r=="symbol"?r:r+""}function Kne(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function __(e){return e&&e.map((r,n)=>St.createElement(r.tag,Nv({key:n},r.attr),__(r.child)))}function qne(e){return r=>St.createElement(Yne,gv({attr:Nv({},e.attr)},r),__(e.child))}function Yne(e){var r=n=>{var{attr:s,size:a,title:l}=e,c=Une(e,Wne),u=a||n.size||"1em",d;return n.className&&(d=n.className),e.className&&(d=(d?d+" ":"")+e.className),St.createElement("svg",gv({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,c,{className:d,style:Nv(Nv({color:e.color||n.color},n.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),l&&St.createElement("title",null,l),e.children)};return o4!==void 0?St.createElement(o4.Consumer,null,n=>r(n)):r(A_)}function Xne(e){return qne({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12.48 10.92v3.28h7.84c-.24 1.84-.853 3.187-1.787 4.133-1.147 1.147-2.933 2.4-6.053 2.4-4.827 0-8.6-3.893-8.6-8.72s3.773-8.72 8.6-8.72c2.6 0 4.507 1.027 5.907 2.347l2.307-2.307C18.747 1.44 16.133 0 12.48 0 5.867 0 .307 5.387.307 12s5.56 12 12.173 12c3.573 0 6.267-1.173 8.373-3.36 2.16-2.16 2.84-5.213 2.84-7.667 0-.76-.053-1.467-.173-2.053H12.48z"},child:[]}]})(e)}const Qne="/assets/Untitled%20(3600%20x%201000%20px)_1762102046406-DhK9aBO5.png",c4="/assets/Untitled%20(3600%20x%201000%20px)-modified_1762102046405-B4-iVaxC.png";function Zne(){const{user:e,isLoading:r}=xl();return e&&!r?t.jsxDEV(e7,{to:"/"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/auth-page.tsx",lineNumber:14,columnNumber:12},this):r?t.jsxDEV("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary/5 via-background to-accent/5",children:t.jsxDEV(lt,{className:"h-8 w-8 animate-spin"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/auth-page.tsx",lineNumber:20,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/auth-page.tsx",lineNumber:19,columnNumber:7},this):t.jsxDEV("div",{className:"min-h-screen flex bg-gradient-to-br from-primary/5 via-background to-accent/5",children:[t.jsxDEV("div",{className:"hidden lg:flex lg:w-1/2 bg-gradient-to-br from-primary to-primary/80 p-12 flex-col justify-between text-white",children:[t.jsxDEV("div",{children:[t.jsxDEV("div",{className:"flex items-center space-x-3 mb-8",children:[t.jsxDEV("img",{src:c4,alt:"Premisia Logo",className:"h-10 w-auto"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/auth-page.tsx",lineNumber:31,columnNumber:13},this),t.jsxDEV("span",{className:"px-2 py-0.5 text-xs font-semibold bg-white/20 rounded",children:"BETA"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/auth-page.tsx",lineNumber:36,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/auth-page.tsx",lineNumber:30,columnNumber:11},this),t.jsxDEV("div",{className:"space-y-6",children:[t.jsxDEV("div",{children:[t.jsxDEV("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"From strategic question to execution-ready programfast"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/auth-page.tsx",lineNumber:40,columnNumber:15},this),t.jsxDEV("p",{className:"text-lg md:text-xl text-primary-foreground/90 leading-relaxed",children:"Premisia structures complex choices so leaders can align, commit, and move. Multi-agent AI that turns leadership intent into EPM-grade roadmaps, budgets, and OKRswith live evidence, governance, and change tracking."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/auth-page.tsx",lineNumber:43,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/auth-page.tsx",lineNumber:39,columnNumber:13},this),t.jsxDEV("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6 mt-12",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV("div",{className:"flex items-center space-x-2",children:[t.jsxDEV(Dn,{className:"h-5 w-5"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/auth-page.tsx",lineNumber:50,columnNumber:19},this),t.jsxDEV("span",{className:"font-medium",children:"Multi-Agent AI System"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/auth-page.tsx",lineNumber:51,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/auth-page.tsx",lineNumber:49,columnNumber:17},this),t.jsxDEV("p",{className:"text-sm text-primary-foreground/70 ml-7",children:"Not a chatbotspecialized agents for strategy, building, and QA"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/auth-page.tsx",lineNumber:53,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/auth-page.tsx",lineNumber:48,columnNumber:15},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV("div",{className:"flex items-center space-x-2",children:[t.jsxDEV(Dn,{className:"h-5 w-5"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/auth-page.tsx",lineNumber:59,columnNumber:19},this),t.jsxDEV("span",{className:"font-medium",children:"Hours, Not Weeks"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/auth-page.tsx",lineNumber:60,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/auth-page.tsx",lineNumber:58,columnNumber:17},this),t.jsxDEV("p",{className:"text-sm text-primary-foreground/70 ml-7",children:"Compress strategy work from weeks to hourswith on-call agents for scenarios"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/auth-page.tsx",lineNumber:62,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/auth-page.tsx",lineNumber:57,columnNumber:15},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV("div",{className:"flex items-center space-x-2",children:[t.jsxDEV(Dn,{className:"h-5 w-5"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/auth-page.tsx",lineNumber:68,columnNumber:19},this),t.jsxDEV("span",{className:"font-medium",children:"Evidence You Can Audit"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/auth-page.tsx",lineNumber:69,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/auth-page.tsx",lineNumber:67,columnNumber:17},this),t.jsxDEV("p",{className:"text-sm text-primary-foreground/70 ml-7",children:"Every recommendation carries sources, bias-checks, and assumptions"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/auth-page.tsx",lineNumber:71,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/auth-page.tsx",lineNumber:66,columnNumber:15},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV("div",{className:"flex items-center space-x-2",children:[t.jsxDEV(Dn,{className:"h-5 w-5"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/auth-page.tsx",lineNumber:77,columnNumber:19},this),t.jsxDEV("span",{className:"font-medium",children:"Execution-Ready, Not Just Ideas"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/auth-page.tsx",lineNumber:78,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/auth-page.tsx",lineNumber:76,columnNumber:17},this),t.jsxDEV("p",{className:"text-sm text-primary-foreground/70 ml-7",children:"EPM-structured outputs: charter, milestones, costs, KPIs, RAID, RACI"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/auth-page.tsx",lineNumber:80,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/auth-page.tsx",lineNumber:75,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/auth-page.tsx",lineNumber:47,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/auth-page.tsx",lineNumber:38,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/auth-page.tsx",lineNumber:29,columnNumber:9},this),t.jsxDEV("div",{className:"text-sm text-primary-foreground/60",children:" 2025 Premisia. All rights reserved."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/auth-page.tsx",lineNumber:87,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/auth-page.tsx",lineNumber:28,columnNumber:7},this),t.jsxDEV("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-6 lg:p-12",children:t.jsxDEV("div",{className:"w-full max-w-md",children:t.jsxDEV(Z,{className:"shadow-2xl border-0 bg-card/50 backdrop-blur",children:t.jsxDEV(te,{className:"p-8",children:[t.jsxDEV("div",{className:"text-center mb-8",children:[t.jsxDEV("div",{className:"flex flex-col items-center gap-3 mb-2",children:[t.jsxDEV("img",{src:Qne,alt:"Premisia Logo",className:"h-12 w-auto dark:hidden"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/auth-page.tsx",lineNumber:99,columnNumber:19},this),t.jsxDEV("img",{src:c4,alt:"Premisia Logo",className:"h-12 w-auto hidden dark:block"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/auth-page.tsx",lineNumber:104,columnNumber:19},this),t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV("h2",{className:"text-2xl md:text-3xl font-bold text-foreground",children:"Welcome to Premisia"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/auth-page.tsx",lineNumber:110,columnNumber:21},this),t.jsxDEV("span",{className:"px-2 py-1 text-xs font-semibold bg-primary/10 text-primary rounded",children:"BETA"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/auth-page.tsx",lineNumber:111,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/auth-page.tsx",lineNumber:109,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/auth-page.tsx",lineNumber:98,columnNumber:17},this),t.jsxDEV("p",{className:"text-muted-foreground",children:"Think it through"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/auth-page.tsx",lineNumber:114,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/auth-page.tsx",lineNumber:97,columnNumber:15},this),t.jsxDEV("div",{className:"space-y-4",children:[t.jsxDEV(me,{onClick:()=>window.location.href="/api/login",className:"w-full h-12 text-base","data-testid":"button-login",children:[t.jsxDEV(Xne,{className:"mr-2 h-5 w-5"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/auth-page.tsx",lineNumber:123,columnNumber:19},this),"Sign in with Replit"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/auth-page.tsx",lineNumber:118,columnNumber:17},this),t.jsxDEV("div",{className:"relative",children:[t.jsxDEV("div",{className:"absolute inset-0 flex items-center",children:t.jsxDEV("span",{className:"w-full border-t"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/auth-page.tsx",lineNumber:129,columnNumber:21},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/auth-page.tsx",lineNumber:128,columnNumber:19},this),t.jsxDEV("div",{className:"relative flex justify-center text-xs uppercase",children:t.jsxDEV("span",{className:"bg-card px-2 text-muted-foreground",children:"Secure authentication via Replit"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/auth-page.tsx",lineNumber:132,columnNumber:21},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/auth-page.tsx",lineNumber:131,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/auth-page.tsx",lineNumber:127,columnNumber:17},this),t.jsxDEV("div",{className:"mt-6 p-4 bg-muted rounded-lg",children:[t.jsxDEV("h4",{className:"text-sm font-semibold text-foreground mb-2",children:"Easy Access"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/auth-page.tsx",lineNumber:139,columnNumber:19},this),t.jsxDEV("div",{className:"space-y-1 text-xs text-muted-foreground",children:[t.jsxDEV("p",{children:' Click "Sign in with Replit" to authenticate'},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/auth-page.tsx",lineNumber:141,columnNumber:21},this),t.jsxDEV("p",{children:" Supports Google login through Replit"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/auth-page.tsx",lineNumber:142,columnNumber:21},this),t.jsxDEV("p",{children:" Secure OAuth 2.0 / OIDC authentication"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/auth-page.tsx",lineNumber:143,columnNumber:21},this),t.jsxDEV("p",{children:" Perfect for sharing demos and collaborating"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/auth-page.tsx",lineNumber:144,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/auth-page.tsx",lineNumber:140,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/auth-page.tsx",lineNumber:138,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/auth-page.tsx",lineNumber:117,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/auth-page.tsx",lineNumber:96,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/auth-page.tsx",lineNumber:95,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/auth-page.tsx",lineNumber:94,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/auth-page.tsx",lineNumber:93,columnNumber:7},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/auth-page.tsx",lineNumber:26,columnNumber:5},this)}var ese="Label",F_=v.forwardRef((e,r)=>U.jsx(At.label,{...e,ref:r,onMouseDown:n=>{var a;n.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));F_.displayName=ese;var I_=F_;const tse=xh("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),br=v.forwardRef(({className:e,...r},n)=>t.jsxDEV(I_,{ref:n,className:Ke(tse(),e),...r},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/label.tsx",lineNumber:16,columnNumber:3},void 0));br.displayName=I_.displayName;var ME="rovingFocusGroup.onEntryFocus",rse={bubbles:!1,cancelable:!0},v0="RovingFocusGroup",[HD,O_,nse]=Xv(v0),[sse,y0]=As(v0,[nse]),[ise,ase]=sse(v0),L_=v.forwardRef((e,r)=>U.jsx(HD.Provider,{scope:e.__scopeRovingFocusGroup,children:U.jsx(HD.Slot,{scope:e.__scopeRovingFocusGroup,children:U.jsx(ose,{...e,ref:r})})}));L_.displayName=v0;var ose=v.forwardRef((e,r)=>{const{__scopeRovingFocusGroup:n,orientation:s,loop:a=!1,dir:l,currentTabStopId:c,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:d,onEntryFocus:h,preventScrollOnEntryFocus:g=!1,...p}=e,N=v.useRef(null),b=Nr(r,N),D=jh(l),[E=null,j]=ea({prop:c,defaultProp:u,onChange:d}),[P,w]=v.useState(!1),k=Cn(h),V=O_(n),S=v.useRef(!1),[R,M]=v.useState(0);return v.useEffect(()=>{const T=N.current;if(T)return T.addEventListener(ME,k),()=>T.removeEventListener(ME,k)},[k]),U.jsx(ise,{scope:n,orientation:s,dir:D,loop:a,currentTabStopId:E,onItemFocus:v.useCallback(T=>j(T),[j]),onItemShiftTab:v.useCallback(()=>w(!0),[]),onFocusableItemAdd:v.useCallback(()=>M(T=>T+1),[]),onFocusableItemRemove:v.useCallback(()=>M(T=>T-1),[]),children:U.jsx(At.div,{tabIndex:P||R===0?-1:0,"data-orientation":s,...p,ref:b,style:{outline:"none",...e.style},onMouseDown:Et(e.onMouseDown,()=>{S.current=!0}),onFocus:Et(e.onFocus,T=>{const A=!S.current;if(T.target===T.currentTarget&&A&&!P){const F=new CustomEvent(ME,rse);if(T.currentTarget.dispatchEvent(F),!F.defaultPrevented){const L=V().filter(H=>H.focusable),$=L.find(H=>H.active),W=L.find(H=>H.id===E),Y=[$,W,...L].filter(Boolean).map(H=>H.ref.current);z_(Y,g)}}S.current=!1}),onBlur:Et(e.onBlur,()=>w(!1))})})}),$_="RovingFocusGroupItem",B_=v.forwardRef((e,r)=>{const{__scopeRovingFocusGroup:n,focusable:s=!0,active:a=!1,tabStopId:l,...c}=e,u=Ta(),d=l||u,h=ase($_,n),g=h.currentTabStopId===d,p=O_(n),{onFocusableItemAdd:N,onFocusableItemRemove:b}=h;return v.useEffect(()=>{if(s)return N(),()=>b()},[s,N,b]),U.jsx(HD.ItemSlot,{scope:n,id:d,focusable:s,active:a,children:U.jsx(At.span,{tabIndex:g?0:-1,"data-orientation":h.orientation,...c,ref:r,onMouseDown:Et(e.onMouseDown,D=>{s?h.onItemFocus(d):D.preventDefault()}),onFocus:Et(e.onFocus,()=>h.onItemFocus(d)),onKeyDown:Et(e.onKeyDown,D=>{if(D.key==="Tab"&&D.shiftKey){h.onItemShiftTab();return}if(D.target!==D.currentTarget)return;const E=use(D,h.orientation,h.dir);if(E!==void 0){if(D.metaKey||D.ctrlKey||D.altKey||D.shiftKey)return;D.preventDefault();let P=p().filter(w=>w.focusable).map(w=>w.ref.current);if(E==="last")P.reverse();else if(E==="prev"||E==="next"){E==="prev"&&P.reverse();const w=P.indexOf(D.currentTarget);P=h.loop?mse(P,w+1):P.slice(w+1)}setTimeout(()=>z_(P))}})})})});B_.displayName=$_;var lse={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function cse(e,r){return r!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function use(e,r,n){const s=cse(e.key,n);if(!(r==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(r==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return lse[s]}function z_(e,r=!1){const n=document.activeElement;for(const s of e)if(s===n||(s.focus({preventScroll:r}),document.activeElement!==n))return}function mse(e,r){return e.map((n,s)=>e[(r+s)%e.length])}var W_=L_,U_=B_,VV="Radio",[dse,G_]=As(VV),[hse,fse]=dse(VV),H_=v.forwardRef((e,r)=>{const{__scopeRadio:n,name:s,checked:a=!1,required:l,disabled:c,value:u="on",onCheck:d,form:h,...g}=e,[p,N]=v.useState(null),b=Nr(r,j=>N(j)),D=v.useRef(!1),E=p?h||!!p.closest("form"):!0;return U.jsxs(hse,{scope:n,checked:a,disabled:c,children:[U.jsx(At.button,{type:"button",role:"radio","aria-checked":a,"data-state":q_(a),"data-disabled":c?"":void 0,disabled:c,value:u,...g,ref:b,onClick:Et(e.onClick,j=>{a||d==null||d(),E&&(D.current=j.isPropagationStopped(),D.current||j.stopPropagation())})}),E&&U.jsx(pse,{control:p,bubbles:!D.current,name:s,value:u,checked:a,required:l,disabled:c,form:h,style:{transform:"translateX(-100%)"}})]})});H_.displayName=VV;var J_="RadioIndicator",K_=v.forwardRef((e,r)=>{const{__scopeRadio:n,forceMount:s,...a}=e,l=fse(J_,n);return U.jsx(mi,{present:s||l.checked,children:U.jsx(At.span,{"data-state":q_(l.checked),"data-disabled":l.disabled?"":void 0,...a,ref:r})})});K_.displayName=J_;var pse=e=>{const{control:r,checked:n,bubbles:s=!0,...a}=e,l=v.useRef(null),c=DV(n),u=oV(r);return v.useEffect(()=>{const d=l.current,h=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==n&&p){const N=new Event("click",{bubbles:s});p.call(d,n),d.dispatchEvent(N)}},[c,n,s]),U.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:n,...a,tabIndex:-1,ref:l,style:{...e.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function q_(e){return e?"checked":"unchecked"}var gse=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],PV="RadioGroup",[Nse]=As(PV,[y0,G_]),Y_=y0(),X_=G_(),[xse,bse]=Nse(PV),Q_=v.forwardRef((e,r)=>{const{__scopeRadioGroup:n,name:s,defaultValue:a,value:l,required:c=!1,disabled:u=!1,orientation:d,dir:h,loop:g=!0,onValueChange:p,...N}=e,b=Y_(n),D=jh(h),[E,j]=ea({prop:l,defaultProp:a,onChange:p});return U.jsx(xse,{scope:n,name:s,required:c,disabled:u,value:E,onValueChange:j,children:U.jsx(W_,{asChild:!0,...b,orientation:d,dir:D,loop:g,children:U.jsx(At.div,{role:"radiogroup","aria-required":c,"aria-orientation":d,"data-disabled":u?"":void 0,dir:D,...N,ref:r})})})});Q_.displayName=PV;var Z_="RadioGroupItem",e8=v.forwardRef((e,r)=>{const{__scopeRadioGroup:n,disabled:s,...a}=e,l=bse(Z_,n),c=l.disabled||s,u=Y_(n),d=X_(n),h=v.useRef(null),g=Nr(r,h),p=l.value===a.value,N=v.useRef(!1);return v.useEffect(()=>{const b=E=>{gse.includes(E.key)&&(N.current=!0)},D=()=>N.current=!1;return document.addEventListener("keydown",b),document.addEventListener("keyup",D),()=>{document.removeEventListener("keydown",b),document.removeEventListener("keyup",D)}},[]),U.jsx(U_,{asChild:!0,...u,focusable:!c,active:p,children:U.jsx(H_,{disabled:c,required:l.required,checked:p,...d,...a,name:l.name,ref:g,onCheck:()=>l.onValueChange(a.value),onKeyDown:Et(b=>{b.key==="Enter"&&b.preventDefault()}),onFocus:Et(a.onFocus,()=>{var b;N.current&&((b=h.current)==null||b.click())})})})});e8.displayName=Z_;var vse="RadioGroupIndicator",t8=v.forwardRef((e,r)=>{const{__scopeRadioGroup:n,...s}=e,a=X_(n);return U.jsx(K_,{...a,...s,ref:r})});t8.displayName=vse;var r8=Q_,n8=e8,yse=t8;const Xd=v.forwardRef(({className:e,...r},n)=>t.jsxDEV(r8,{className:Ke("grid gap-2",e),...r,ref:n},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/radio-group.tsx",lineNumber:12,columnNumber:5},void 0));Xd.displayName=r8.displayName;const co=v.forwardRef(({className:e,...r},n)=>t.jsxDEV(n8,{ref:n,className:Ke("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...r,children:t.jsxDEV(yse,{className:"flex items-center justify-center",children:t.jsxDEV(kX,{className:"h-2.5 w-2.5 fill-current text-current"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/radio-group.tsx",lineNumber:35,columnNumber:9},void 0)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/radio-group.tsx",lineNumber:34,columnNumber:7},void 0)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/radio-group.tsx",lineNumber:26,columnNumber:5},void 0));co.displayName=n8.displayName;var SV="Checkbox",[wse]=As(SV),[kse,Ese]=wse(SV),s8=v.forwardRef((e,r)=>{const{__scopeCheckbox:n,name:s,checked:a,defaultChecked:l,required:c,disabled:u,value:d="on",onCheckedChange:h,form:g,...p}=e,[N,b]=v.useState(null),D=Nr(r,V=>b(V)),E=v.useRef(!1),j=N?g||!!N.closest("form"):!0,[P=!1,w]=ea({prop:a,defaultProp:l,onChange:h}),k=v.useRef(P);return v.useEffect(()=>{const V=N==null?void 0:N.form;if(V){const S=()=>w(k.current);return V.addEventListener("reset",S),()=>V.removeEventListener("reset",S)}},[N,w]),U.jsxs(kse,{scope:n,state:P,disabled:u,children:[U.jsx(At.button,{type:"button",role:"checkbox","aria-checked":yc(P)?"mixed":P,"aria-required":c,"data-state":o8(P),"data-disabled":u?"":void 0,disabled:u,value:d,...p,ref:D,onKeyDown:Et(e.onKeyDown,V=>{V.key==="Enter"&&V.preventDefault()}),onClick:Et(e.onClick,V=>{w(S=>yc(S)?!0:!S),j&&(E.current=V.isPropagationStopped(),E.current||V.stopPropagation())})}),j&&U.jsx(Dse,{control:N,bubbles:!E.current,name:s,value:d,checked:P,required:c,disabled:u,form:g,style:{transform:"translateX(-100%)"},defaultChecked:yc(l)?!1:l})]})});s8.displayName=SV;var i8="CheckboxIndicator",a8=v.forwardRef((e,r)=>{const{__scopeCheckbox:n,forceMount:s,...a}=e,l=Ese(i8,n);return U.jsx(mi,{present:s||yc(l.state)||l.state===!0,children:U.jsx(At.span,{"data-state":o8(l.state),"data-disabled":l.disabled?"":void 0,...a,ref:r,style:{pointerEvents:"none",...e.style}})})});a8.displayName=i8;var Dse=e=>{const{control:r,checked:n,bubbles:s=!0,defaultChecked:a,...l}=e,c=v.useRef(null),u=DV(n),d=oV(r);v.useEffect(()=>{const g=c.current,p=window.HTMLInputElement.prototype,b=Object.getOwnPropertyDescriptor(p,"checked").set;if(u!==n&&b){const D=new Event("click",{bubbles:s});g.indeterminate=yc(n),b.call(g,yc(n)?!1:n),g.dispatchEvent(D)}},[u,n,s]);const h=v.useRef(yc(n)?!1:n);return U.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a??h.current,...l,tabIndex:-1,ref:c,style:{...e.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function yc(e){return e==="indeterminate"}function o8(e){return yc(e)?"indeterminate":e?"checked":"unchecked"}var l8=s8,jse=a8;const Aa=v.forwardRef(({className:e,...r},n)=>t.jsxDEV(l8,{ref:n,className:Ke("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...r,children:t.jsxDEV(jse,{className:Ke("flex items-center justify-center text-current"),children:t.jsxDEV(Xi,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/checkbox.tsx",lineNumber:22,columnNumber:7},void 0)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/checkbox.tsx",lineNumber:19,columnNumber:5},void 0)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/checkbox.tsx",lineNumber:11,columnNumber:3},void 0));Aa.displayName=l8.displayName;function u4({questions:e,onSubmit:r,onSkip:n}){const[s,a]=v.useState({}),[l,c]=v.useState({}),[u,d]=v.useState({}),[h,g]=v.useState({}),[p,N]=v.useState(!1),[b,D]=v.useState(!1),[E,j]=v.useState({}),{toast:P}=ur(),w=e.every(T=>{var F;const A=s[T.id];return A==="manual_entry"&&T.allowManualEntry?!!((F=l[T.id])!=null&&F.trim()):T.multiSelect?Array.isArray(A)&&A.length>0:typeof A=="string"&&A.length>0}),k=async()=>{if(w){N(!0);try{const T={},A=e.filter(W=>{var O;return s[W.id]==="manual_entry"&&((O=l[W.id])==null?void 0:O.trim())});for(const W of A){const O=l[W.id].trim();try{const Y=await fetch("/api/strategic-consultant/validate-manual-location",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userInput:O})});if(!Y.ok)throw new Error("Validation service unavailable");const H=await Y.json();T[W.id]=H}catch(Y){P({title:"Validation error",description:Y.message||"Failed to validate location",variant:"destructive"}),T[W.id]={validated:!1,originalInput:O,error:!0}}}if(Object.entries(T).some(([W,O])=>{var Y;return O.validated&&((Y=O.suggestions)==null?void 0:Y.length)>0})){g(T),D(!0),N(!1);return}if(Object.values(T).some(W=>!W.validated)){const W=Object.entries(T).filter(([Y,H])=>!H.validated).map(([Y,H])=>H.originalInput).join(", ");if(!window.confirm(`We couldn't verify the following location(s): ${W}. Would you like to proceed anyway?`)){N(!1);return}}const $={};e.forEach(W=>{const O=s[W.id];O==="manual_entry"&&W.allowManualEntry?$[W.id]={selectedOption:"manual_entry",manualEntry:{rawInput:l[W.id],validationResult:T[W.id]}}:$[W.id]=O}),r($)}catch(T){P({title:"Submission failed",description:T.message||"An unexpected error occurred",variant:"destructive"})}finally{N(!1)}}},V=()=>{if(!Object.entries(h).filter(([L,$])=>{var W;return $.validated&&((W=$.suggestions)==null?void 0:W.length)>0}).every(([L,$])=>E[L]!==void 0)){P({title:"Please select an option",description:"Choose a location for each validation result before continuing",variant:"destructive"});return}const F={};e.forEach(L=>{const $=s[L.id];if($==="manual_entry"&&L.allowManualEntry){const W=E[L.id];W==="use_as_entered"?F[L.id]={selectedOption:"manual_entry",manualEntry:{rawInput:l[L.id],validationResult:{validated:!1,originalInput:l[L.id],userChoice:"use_as_entered"}}}:F[L.id]={selectedOption:"manual_entry",manualEntry:{rawInput:l[L.id],validationResult:h[L.id],selectedSuggestion:W}}}else F[L.id]=$}),r(F)},S=(T,A)=>{a(F=>{const L=F[T]||[],$=L.includes(A)?L.filter(W=>W!==A):[...L,A];return{...F,[T]:$}})},R=T=>{a(A=>({...A,[T]:"manual_entry"})),d(A=>({...A,[T]:!0}))},M=(T,A)=>{a(F=>({...F,[T]:A})),d(F=>({...F,[T]:!1})),c(F=>{const L={...F};return delete L[T],L})};return t.jsxDEV(Lg,{open:!0,onOpenChange:n,children:t.jsxDEV(Ph,{className:"max-w-2xl max-h-[90vh] overflow-y-auto bg-background","data-testid":"modal-clarification",children:[t.jsxDEV(Sh,{children:[t.jsxDEV(Ch,{className:"text-2xl flex items-center gap-2",children:[t.jsxDEV(Dt,{className:"w-6 h-6 text-orange-500"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ClarificationModal.tsx",lineNumber:249,columnNumber:13},this),"Just a Quick Clarification"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/ClarificationModal.tsx",lineNumber:248,columnNumber:11},this),t.jsxDEV(Rh,{children:"Your input could be interpreted in a few ways. Help us understand exactly what you mean so we can give you the best strategic advice."},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ClarificationModal.tsx",lineNumber:252,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/ClarificationModal.tsx",lineNumber:247,columnNumber:9},this),b&&t.jsxDEV("div",{className:"space-y-6 py-4",children:[t.jsxDEV("div",{className:"bg-blue-50 dark:bg-blue-950 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:[t.jsxDEV("h3",{className:"font-semibold text-blue-900 dark:text-blue-100 mb-2",children:"Location Verification Results"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ClarificationModal.tsx",lineNumber:261,columnNumber:15},this),t.jsxDEV("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"We found multiple matches for your location input. Please select which one you meant:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ClarificationModal.tsx",lineNumber:264,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/ClarificationModal.tsx",lineNumber:260,columnNumber:13},this),Object.entries(h).map(([T,A])=>{var L;return!A.validated||!((L=A.suggestions)!=null&&L.length)||!e.find($=>$.id===T)?null:t.jsxDEV(Z,{className:"p-4","data-testid":`card-validation-${T}`,children:[t.jsxDEV("h3",{className:"font-semibold mb-2 flex items-center gap-2",children:[t.jsxDEV(RD,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ClarificationModal.tsx",lineNumber:278,columnNumber:21},this),'You entered: "',l[T],'"']},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/ClarificationModal.tsx",lineNumber:277,columnNumber:19},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground mb-4",children:"Which location did you mean?"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ClarificationModal.tsx",lineNumber:281,columnNumber:19},this),t.jsxDEV(Xd,{value:E[T],onValueChange:$=>{j(W=>({...W,[T]:$}))},children:t.jsxDEV("div",{className:"space-y-3",children:[A.suggestions.map(($,W)=>t.jsxDEV("div",{className:`flex items-start space-x-3 p-3 rounded-lg border-2 cursor-pointer transition-all ${E[T]===JSON.stringify($)?"border-indigo-600 bg-indigo-50 dark:bg-indigo-950 dark:border-indigo-400":"border-gray-200 hover:border-gray-300 dark:border-gray-700 dark:hover:border-gray-600"}`,onClick:()=>j(O=>({...O,[T]:JSON.stringify($)})),"data-testid":`radio-suggestion-${T}-${W}`,children:[t.jsxDEV(co,{value:JSON.stringify($),id:`suggestion-${T}-${W}`},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ClarificationModal.tsx",lineNumber:306,columnNumber:27},this),t.jsxDEV(br,{htmlFor:`suggestion-${T}-${W}`,className:"flex-1 cursor-pointer",children:[t.jsxDEV("div",{className:"font-medium mb-1",children:$.name},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ClarificationModal.tsx",lineNumber:311,columnNumber:29},this),t.jsxDEV("div",{className:"text-sm text-muted-foreground",children:[$.adminName1,$.countryName].filter(Boolean).join(", ")},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ClarificationModal.tsx",lineNumber:314,columnNumber:29},this),t.jsxDEV("div",{className:"text-xs text-muted-foreground mt-1",children:["Coordinates: ",$.lat,", ",$.lng]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/ClarificationModal.tsx",lineNumber:319,columnNumber:29},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/ClarificationModal.tsx",lineNumber:310,columnNumber:27},this),E[T]===JSON.stringify($)&&t.jsxDEV(Dn,{className:"w-5 h-5 text-indigo-600 flex-shrink-0 dark:text-indigo-400"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ClarificationModal.tsx",lineNumber:324,columnNumber:29},this)]},W,!0,{fileName:"/home/runner/workspace/client/src/components/ClarificationModal.tsx",lineNumber:293,columnNumber:25},this)),t.jsxDEV("div",{className:`flex items-start space-x-3 p-3 rounded-lg border-2 cursor-pointer transition-all ${E[T]==="use_as_entered"?"border-indigo-600 bg-indigo-50 dark:bg-indigo-950 dark:border-indigo-400":"border-gray-200 hover:border-gray-300 dark:border-gray-700 dark:hover:border-gray-600"}`,onClick:()=>j($=>({...$,[T]:"use_as_entered"})),"data-testid":`radio-suggestion-${T}-use-as-entered`,children:[t.jsxDEV(co,{value:"use_as_entered",id:`use-as-entered-${T}`},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ClarificationModal.tsx",lineNumber:342,columnNumber:25},this),t.jsxDEV(br,{htmlFor:`use-as-entered-${T}`,className:"flex-1 cursor-pointer",children:[t.jsxDEV("div",{className:"font-medium mb-1",children:['Neither - use "',l[T],'" as entered']},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/ClarificationModal.tsx",lineNumber:347,columnNumber:27},this),t.jsxDEV("div",{className:"text-sm text-muted-foreground",children:"Proceed with the original text without specific coordinates"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ClarificationModal.tsx",lineNumber:350,columnNumber:27},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/ClarificationModal.tsx",lineNumber:346,columnNumber:25},this),E[T]==="use_as_entered"&&t.jsxDEV(Dn,{className:"w-5 h-5 text-indigo-600 flex-shrink-0 dark:text-indigo-400"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ClarificationModal.tsx",lineNumber:355,columnNumber:27},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/ClarificationModal.tsx",lineNumber:330,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/ClarificationModal.tsx",lineNumber:291,columnNumber:21},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ClarificationModal.tsx",lineNumber:285,columnNumber:19},this)]},T,!0,{fileName:"/home/runner/workspace/client/src/components/ClarificationModal.tsx",lineNumber:276,columnNumber:17},this)})]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/ClarificationModal.tsx",lineNumber:259,columnNumber:11},this),!b&&t.jsxDEV("div",{className:"space-y-6 py-4",children:e.map((T,A)=>t.jsxDEV(Z,{className:"p-4","data-testid":`card-question-${A}`,children:[t.jsxDEV("h3",{className:"font-semibold mb-4 flex items-center gap-2",children:[t.jsxDEV("span",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-indigo-100 text-indigo-700 text-sm dark:bg-indigo-900 dark:text-indigo-300",children:A+1},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ClarificationModal.tsx",lineNumber:372,columnNumber:17},this),T.question,T.multiSelect&&t.jsxDEV("span",{className:"text-xs text-muted-foreground font-normal",children:"(Select all that apply)"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ClarificationModal.tsx",lineNumber:377,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/ClarificationModal.tsx",lineNumber:371,columnNumber:15},this),T.multiSelect?t.jsxDEV("div",{className:"space-y-3",children:T.options.map(F=>{const L=(s[T.id]||[]).includes(F.value);return t.jsxDEV("div",{className:`flex items-start space-x-3 p-3 rounded-lg border-2 transition-all ${L?"border-indigo-600 bg-indigo-50 dark:bg-indigo-950 dark:border-indigo-400":"border-gray-200 hover:border-gray-300 dark:border-gray-700 dark:hover:border-gray-600"}`,"data-testid":`option-${F.value}`,children:[t.jsxDEV(Aa,{id:F.value,checked:L,onCheckedChange:()=>S(T.id,F.value)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ClarificationModal.tsx",lineNumber:395,columnNumber:25},this),t.jsxDEV(br,{htmlFor:F.value,className:"flex-1 cursor-pointer",children:[t.jsxDEV("div",{className:"font-medium mb-1",children:F.label},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ClarificationModal.tsx",lineNumber:401,columnNumber:27},this),t.jsxDEV("div",{className:"text-sm text-muted-foreground",children:F.description},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ClarificationModal.tsx",lineNumber:402,columnNumber:27},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/ClarificationModal.tsx",lineNumber:400,columnNumber:25},this),L&&t.jsxDEV(Dn,{className:"w-5 h-5 text-indigo-600 flex-shrink-0 dark:text-indigo-400"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ClarificationModal.tsx",lineNumber:407,columnNumber:27},this)]},F.value,!0,{fileName:"/home/runner/workspace/client/src/components/ClarificationModal.tsx",lineNumber:386,columnNumber:23},this)})},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ClarificationModal.tsx",lineNumber:382,columnNumber:17},this):t.jsxDEV(Xd,{value:s[T.id],onValueChange:F=>{F==="manual_entry"?R(T.id):M(T.id,F)},children:t.jsxDEV("div",{className:"space-y-3",children:[T.options.map(F=>t.jsxDEV("div",{className:`flex items-start space-x-3 p-3 rounded-lg border-2 cursor-pointer transition-all ${s[T.id]===F.value?"border-indigo-600 bg-indigo-50 dark:bg-indigo-950 dark:border-indigo-400":"border-gray-200 hover:border-gray-300 dark:border-gray-700 dark:hover:border-gray-600"}`,onClick:()=>M(T.id,F.value),"data-testid":`option-${F.value}`,children:[t.jsxDEV(co,{value:F.value,id:F.value},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ClarificationModal.tsx",lineNumber:436,columnNumber:25},this),t.jsxDEV(br,{htmlFor:F.value,className:"flex-1 cursor-pointer",children:[t.jsxDEV("div",{className:"font-medium mb-1",children:F.label},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ClarificationModal.tsx",lineNumber:438,columnNumber:27},this),t.jsxDEV("div",{className:"text-sm text-muted-foreground",children:F.description},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ClarificationModal.tsx",lineNumber:439,columnNumber:27},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/ClarificationModal.tsx",lineNumber:437,columnNumber:25},this),s[T.id]===F.value&&t.jsxDEV(Dn,{className:"w-5 h-5 text-indigo-600 flex-shrink-0 dark:text-indigo-400"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ClarificationModal.tsx",lineNumber:444,columnNumber:27},this)]},F.value,!0,{fileName:"/home/runner/workspace/client/src/components/ClarificationModal.tsx",lineNumber:426,columnNumber:23},this)),T.allowManualEntry&&t.jsxDEV(t.Fragment,{children:[t.jsxDEV("div",{className:`flex items-start space-x-3 p-3 rounded-lg border-2 cursor-pointer transition-all ${s[T.id]==="manual_entry"?"border-indigo-600 bg-indigo-50 dark:bg-indigo-950 dark:border-indigo-400":"border-gray-200 hover:border-gray-300 dark:border-gray-700 dark:hover:border-gray-600"}`,onClick:()=>R(T.id),"data-testid":`radio-manual-entry-${T.id}`,children:[t.jsxDEV(co,{value:"manual_entry",id:`manual-entry-${T.id}`},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ClarificationModal.tsx",lineNumber:461,columnNumber:27},this),t.jsxDEV(br,{htmlFor:`manual-entry-${T.id}`,className:"flex-1 cursor-pointer",children:[t.jsxDEV("div",{className:"font-medium mb-1 flex items-center gap-2",children:[t.jsxDEV(RD,{className:"w-4 h-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ClarificationModal.tsx",lineNumber:464,columnNumber:31},this),"Other / Specify a different location"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/ClarificationModal.tsx",lineNumber:463,columnNumber:29},this),t.jsxDEV("div",{className:"text-sm text-muted-foreground",children:"Enter a custom location if none of the above match"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ClarificationModal.tsx",lineNumber:467,columnNumber:29},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/ClarificationModal.tsx",lineNumber:462,columnNumber:27},this),s[T.id]==="manual_entry"&&t.jsxDEV(Dn,{className:"w-5 h-5 text-indigo-600 flex-shrink-0 dark:text-indigo-400"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ClarificationModal.tsx",lineNumber:472,columnNumber:29},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/ClarificationModal.tsx",lineNumber:452,columnNumber:25},this),u[T.id]&&s[T.id]==="manual_entry"&&t.jsxDEV("div",{className:"ml-6 mt-2 space-y-2",children:[t.jsxDEV(Ci,{type:"text",placeholder:T.manualEntryPlaceholder||"e.g., San Francisco, CA or Europe",value:l[T.id]||"",onChange:F=>c(L=>({...L,[T.id]:F.target.value})),"data-testid":`input-manual-location-${T.id}`,className:"w-full"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ClarificationModal.tsx",lineNumber:479,columnNumber:29},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"We'll validate your location when you submit"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ClarificationModal.tsx",lineNumber:490,columnNumber:29},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/ClarificationModal.tsx",lineNumber:478,columnNumber:27},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/ClarificationModal.tsx",lineNumber:451,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/ClarificationModal.tsx",lineNumber:424,columnNumber:19},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ClarificationModal.tsx",lineNumber:414,columnNumber:17},this)]},T.id,!0,{fileName:"/home/runner/workspace/client/src/components/ClarificationModal.tsx",lineNumber:370,columnNumber:15},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ClarificationModal.tsx",lineNumber:368,columnNumber:11},this),t.jsxDEV("div",{className:"flex justify-between items-center pt-4 border-t",children:b?t.jsxDEV(t.Fragment,{children:[t.jsxDEV(me,{variant:"ghost",onClick:()=>{D(!1),j({})},"data-testid":"button-back-to-questions",children:" Back to Questions"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ClarificationModal.tsx",lineNumber:508,columnNumber:15},this),t.jsxDEV(me,{onClick:V,className:"gap-2","data-testid":"button-confirm-suggestions",children:["Continue with Selection",t.jsxDEV(Dn,{className:"w-4 h-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ClarificationModal.tsx",lineNumber:524,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/ClarificationModal.tsx",lineNumber:518,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/ClarificationModal.tsx",lineNumber:507,columnNumber:13},this):t.jsxDEV(t.Fragment,{children:[t.jsxDEV(me,{variant:"ghost",onClick:n,disabled:p,"data-testid":"button-skip",children:"Skip (Use Original Input)"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ClarificationModal.tsx",lineNumber:529,columnNumber:15},this),t.jsxDEV(me,{onClick:k,disabled:!w||p,className:"gap-2","data-testid":"button-submit-clarifications",children:p?t.jsxDEV(t.Fragment,{children:[t.jsxDEV(lt,{className:"w-4 h-4 animate-spin"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ClarificationModal.tsx",lineNumber:540,columnNumber:21},this),"Validating..."]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/ClarificationModal.tsx",lineNumber:539,columnNumber:19},this):t.jsxDEV(t.Fragment,{children:["Continue with Clarifications",w&&t.jsxDEV(Dn,{className:"w-4 h-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ClarificationModal.tsx",lineNumber:546,columnNumber:36},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/ClarificationModal.tsx",lineNumber:544,columnNumber:19},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ClarificationModal.tsx",lineNumber:532,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/ClarificationModal.tsx",lineNumber:528,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ClarificationModal.tsx",lineNumber:505,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/ClarificationModal.tsx",lineNumber:246,columnNumber:7},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ClarificationModal.tsx",lineNumber:245,columnNumber:5},this)}const TE={"application/pdf":".pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document":".docx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":".xlsx","application/vnd.ms-excel":".xls","image/jpeg":".jpg, .jpeg","image/png":".png","image/gif":".gif","image/webp":".webp"},Vse=50*1024*1024;function m4(){var ge,Pe,ze,We;const[,e]=or(),{toast:r}=ur(),[n,s]=v.useState(null),[a,l]=v.useState(!1),[c,u]=v.useState(0),[d,h]=v.useState(null),[g,p]=v.useState(!1),[N,b]=v.useState([]),[D,E]=v.useState(!1),[j,P]=v.useState(null),w=new URLSearchParams(window.location.search),k=w.get("text")||"",V=w.get("journeySession"),S=w.get("discoveryId"),R=w.get("templateId"),M=w.get("journeyType"),[T,A]=v.useState(k),[F,L]=v.useState(!1);v.useEffect(()=>{if(!S)return;(async()=>{L(!0);try{const Ee=await fetch(`/api/marketing-consultant/strategic-summary/${S}`,{credentials:"include"});if(Ee.ok){const ie=await Ee.json();ie.summary&&(A(ie.summary),r({title:"Context loaded",description:"Your segment discovery insights have been loaded. Review and start your strategic analysis."}))}else Ee.status===401||Ee.status===403?r({title:"Access denied",description:"You don't have access to this segment discovery. Please enter your context manually.",variant:"destructive"}):Ee.status===404?r({title:"Discovery not found",description:"The segment discovery could not be found. Please enter your context manually.",variant:"destructive"}):r({title:"Could not load context",description:"Failed to load segment discovery insights. You can still enter your context manually.",variant:"destructive"})}catch(Ee){console.error("[InputPage] Failed to fetch strategic summary:",Ee),r({title:"Connection error",description:"Could not connect to load context. Please try again or enter your context manually.",variant:"destructive"})}finally{L(!1)}})()},[S,r]);const{data:$,isLoading:W,refetch:O}=yt({queryKey:["journey",V],queryFn:async()=>{if(!V)return null;const Re=await fetch(`/api/journey-builder/${V}`);if(!Re.ok)throw new Error("Failed to fetch journey");return Re.json()},enabled:!!V}),Y=((ge=$==null?void 0:$.journey)==null?void 0:ge.currentStepIndex)||0,H=Re=>{var ie;const Ee=(ie=Re.target.files)==null?void 0:ie[0];if(h(null),!Ee){s(null);return}if(Ee.size>Vse){h(`File size exceeds 50MB limit (${(Ee.size/1024/1024).toFixed(1)}MB)`),s(null);return}if(!Object.keys(TE).includes(Ee.type)){h(`Unsupported file format. Please upload: ${Object.values(TE).join(", ")}`),s(null);return}s(Ee)},q=async()=>{if(n){l(!0),u(20);try{const Re=new FormData;Re.append("file",n);const Ee=await fetch("/api/strategic-consultant/extract-file",{method:"POST",credentials:"include",body:Re});if(!Ee.ok){const Kt=await Ee.json();throw new Error(Kt.error||"File extraction failed")}const{content:ie,metadata:ve,fileName:ne}=await Ee.json();r({title:"File extracted",description:`Content extracted from ${n.name}`}),u(40);const le={fileName:ne||n.name,content:ie,metadata:ve||{}},Ue=T.trim(),bt=Ue?`${Ue}

--- Content from ${n.name} ---
${ie}`:ie,ht=await fetch("/api/strategic-consultant/check-ambiguities",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userInput:{text:Ue||"",fullInput:bt}})});if(!ht.ok)throw new Error("Failed to check ambiguities");const Mt=await ht.json();u(60),Mt.hasAmbiguities?(A(bt),P(le),b(Mt.questions),p(!0),l(!1),u(0)):await G(bt,null,le)}catch(Re){l(!1),u(0),r({title:"Upload failed",description:Re.message||"Failed to process file",variant:"destructive"})}}},z=async Re=>{if(Re.preventDefault(),!T.trim()&&!n){r({title:"Input required",description:"Please provide text input or upload a file",variant:"destructive"});return}if(n){await q();return}E(!0);try{const Ee=await fetch("/api/strategic-consultant/check-ambiguities",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userInput:T.trim()})});if(!Ee.ok)throw new Error("Failed to check ambiguities");const ie=await Ee.json();ie.hasAmbiguities?(b(ie.questions),p(!0),E(!1)):(E(!1),await G(T.trim(),null))}catch{E(!1),r({title:"Check failed",description:"Could not check for ambiguities. Proceeding with original input.",variant:"default"}),await G(T.trim(),null)}},G=async(Re,Ee,ie)=>{l(!0),u(0);let ve=0;const ne=setInterval(()=>{ve+=1;const le=95*(1-Math.exp(-ve/100));u(Math.floor(le))},300);try{const le=await fetch("/api/strategic-consultant/understanding",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({input:Re,clarifications:Ee,fileMetadata:ie,templateId:R||void 0})});if(!le.ok){const Mt=await le.json();throw new Error(Mt.error||"Failed to create understanding")}const{understandingId:Ue,sessionId:bt,classification:ht}=await le.json();localStorage.setItem(`strategic-input-${bt}`,Re),clearInterval(ne),u(100),setTimeout(()=>{const Mt=new URLSearchParams;R&&Mt.set("templateId",R),M&&Mt.set("journeyType",M);const Kt=Mt.toString();e(`/strategic-consultant/classification/${Ue}${Kt?"?"+Kt:""}`)},300)}catch(le){clearInterval(ne),r({title:"Processing failed",description:le.message||"An unexpected error occurred. Please try again.",variant:"destructive"})}finally{l(!1),u(0)}},ee=Re=>{p(!1);const Ee={};N.forEach(ie=>{const ve=Re[ie.id];if(Array.isArray(ve)){const ne=ve.map(le=>{var Ue;return(Ue=ie.options.find(bt=>bt.value===le))==null?void 0:Ue.label}).filter(Boolean).join(", ");ne&&(Ee[ie.question]=ne)}else{const ne=ie.options.find(le=>le.value===ve);ne&&(Ee[ie.question]=ne.label)}}),G(T.trim(),Ee,j||void 0)},K=()=>{p(!1),G(T.trim(),null,j||void 0)},be=()=>n?n.type.startsWith("image/")?t.jsxDEV(Z7,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/InputPage.tsx",lineNumber:391,columnNumber:48},this):n.type.includes("spreadsheet")||n.type.includes("excel")?t.jsxDEV(q7,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/InputPage.tsx",lineNumber:392,columnNumber:82},this):t.jsxDEV(Es,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/InputPage.tsx",lineNumber:393,columnNumber:12},this):t.jsxDEV(aA,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/InputPage.tsx",lineNumber:389,columnNumber:23},this),_e=Re=>{p(!1);const Ee={};N.forEach(ie=>{const ve=Re[ie.id];if(Array.isArray(ve)){const ne=ve.map(le=>{var Ue;return(Ue=ie.options.find(bt=>bt.value===le))==null?void 0:Ue.label}).filter(Boolean).join(", ");ne&&(Ee[ie.question]=ne)}else{const ne=ie.options.find(le=>le.value===ve);ne&&(Ee[ie.question]=ne.label)}}),Ae(T.trim(),Ee)},oe=()=>{p(!1),Ae(T.trim(),null)},fe=async Re=>{if(Re.preventDefault(),!T.trim()){r({title:"Input required",description:"Please provide your strategic input for this step",variant:"destructive"});return}E(!0);try{const Ee=await fetch("/api/strategic-consultant/check-ambiguities",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userInput:T.trim()})});if(!Ee.ok)throw new Error("Failed to check ambiguities");const ie=await Ee.json();if(ie.hasAmbiguities){const ve=T.trim();A(ve),b(ie.questions),p(!0),E(!1)}else E(!1),await Ae(T.trim(),null)}catch{E(!1),r({title:"Check failed",description:"Could not check for ambiguities. Proceeding with original input.",variant:"default"}),await Ae(T.trim(),null)}},Ae=async(Re,Ee)=>{var ve,ne,le,Ue,bt;l(!0),u(0);const ie=setInterval(()=>{u(ht=>Math.min(ht+1,95))},300);try{const ht=await fetch("/api/strategic-consultant/understanding",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({input:Re,clarifications:Ee,journeySessionId:V,currentStep:(ne=(ve=$==null?void 0:$.journey)==null?void 0:ve.steps)==null?void 0:ne[Y]})});if(!ht.ok){const ye=await ht.json();throw new Error(ye.error||"Failed to create understanding")}const{understandingId:Mt,sessionId:Kt}=await ht.json();localStorage.setItem(`strategic-input-${Kt}`,T.trim());let re;if(V){const ye=await fetch(`/api/journey-builder/${V}/complete-step`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({stepId:(bt=(Ue=(le=$==null?void 0:$.journey)==null?void 0:le.steps)==null?void 0:Ue[Y])==null?void 0:bt.id,result:{understandingId:Mt,sessionId:Kt}})});if(!ye.ok)throw new Error("Failed to complete journey step");re=await ye.json()}clearInterval(ie),u(100),re!=null&&re.completed?setTimeout(()=>{e(`/strategic-consultant/classification/${Mt}`)},300):(await O(),A(""),r({title:"Step completed",description:`Moving to step ${((re==null?void 0:re.nextStepIndex)||0)+1}...`}))}catch(ht){clearInterval(ie),r({title:"Processing failed",description:ht.message||"An unexpected error occurred. Please try again.",variant:"destructive"})}finally{l(!1),u(0)}};if(V){if(W)return t.jsxDEV(st,{title:"Loading Journey...",subtitle:"Please wait",children:t.jsxDEV("div",{className:"max-w-4xl mx-auto flex items-center justify-center py-12",children:t.jsxDEV(lt,{className:"h-8 w-8 animate-spin text-primary"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/InputPage.tsx",lineNumber:578,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/InputPage.tsx",lineNumber:577,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/InputPage.tsx",lineNumber:573,columnNumber:9},this);if(!($!=null&&$.journey))return t.jsxDEV(st,{title:"Journey Not Found",subtitle:"Unable to load journey",children:t.jsxDEV("div",{className:"max-w-4xl mx-auto",children:[t.jsxDEV(it,{variant:"destructive",children:t.jsxDEV(at,{children:"Journey not found. Please return to the Journeys page and try again."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/InputPage.tsx",lineNumber:592,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/InputPage.tsx",lineNumber:591,columnNumber:13},this),t.jsxDEV(me,{onClick:()=>e("/journeys"),className:"mt-4",children:"Back to Journeys"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/InputPage.tsx",lineNumber:596,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/InputPage.tsx",lineNumber:590,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/InputPage.tsx",lineNumber:586,columnNumber:9},this);const Re=$.journey,Ee=(Pe=Re.steps)==null?void 0:Pe[Y],ie=((ze=Re.steps)==null?void 0:ze.length)||0;return t.jsxDEV(st,{title:`${Re.name} - Step ${Y+1} of ${ie}`,subtitle:(Ee==null?void 0:Ee.name)||"Strategic Journey",children:[t.jsxDEV("div",{className:"max-w-4xl mx-auto space-y-6",children:[t.jsxDEV(Z,{children:[t.jsxDEV(de,{children:t.jsxDEV("div",{className:"flex items-center gap-3",children:[t.jsxDEV("div",{className:"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center",children:t.jsxDEV(Cg,{className:"h-5 w-5 text-primary"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/InputPage.tsx",lineNumber:619,columnNumber:19},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/InputPage.tsx",lineNumber:618,columnNumber:17},this),t.jsxDEV("div",{className:"flex-1",children:[t.jsxDEV(pe,{className:"text-lg",children:Re.name},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/InputPage.tsx",lineNumber:622,columnNumber:19},this),t.jsxDEV(He,{children:Re.description},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/InputPage.tsx",lineNumber:623,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/InputPage.tsx",lineNumber:621,columnNumber:17},this),t.jsxDEV(se,{variant:"outline",children:["Step ",Y+1," / ",ie]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/InputPage.tsx",lineNumber:627,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/InputPage.tsx",lineNumber:617,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/InputPage.tsx",lineNumber:616,columnNumber:13},this),t.jsxDEV(te,{children:t.jsxDEV("div",{className:"space-y-4",children:t.jsxDEV("div",{className:"flex items-center gap-2",children:(We=Re.steps)==null?void 0:We.map((ve,ne)=>t.jsxDEV("div",{className:"flex items-center flex-1",children:[t.jsxDEV("div",{className:`flex items-center justify-center w-8 h-8 rounded-full ${ne<Y?"bg-green-500 text-white":ne===Y?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"}`,children:ne<Y?t.jsxDEV(tr,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/InputPage.tsx",lineNumber:645,columnNumber:27},this):t.jsxDEV("span",{className:"text-xs font-semibold",children:ne+1},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/InputPage.tsx",lineNumber:647,columnNumber:27},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/InputPage.tsx",lineNumber:637,columnNumber:23},this),ne<ie-1&&t.jsxDEV("div",{className:`flex-1 h-1 mx-1 ${ne<Y?"bg-green-500":"bg-muted"}`},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/InputPage.tsx",lineNumber:651,columnNumber:25},this)]},ve.id,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/InputPage.tsx",lineNumber:636,columnNumber:21},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/InputPage.tsx",lineNumber:634,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/InputPage.tsx",lineNumber:633,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/InputPage.tsx",lineNumber:632,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/InputPage.tsx",lineNumber:615,columnNumber:11},this),t.jsxDEV(Z,{children:[t.jsxDEV(de,{children:[t.jsxDEV(pe,{children:Ee==null?void 0:Ee.name},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/InputPage.tsx",lineNumber:665,columnNumber:15},this),t.jsxDEV(He,{children:(Ee==null?void 0:Ee.description)||"Provide your strategic input for this framework"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/InputPage.tsx",lineNumber:666,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/InputPage.tsx",lineNumber:664,columnNumber:13},this),t.jsxDEV(te,{children:t.jsxDEV("form",{onSubmit:fe,className:"space-y-6",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(br,{htmlFor:"journey-text-input",children:"Your Strategic Input"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/InputPage.tsx",lineNumber:673,columnNumber:19},this),t.jsxDEV(In,{id:"journey-text-input","data-testid":"input-journey-step",placeholder:`Provide context and information for ${Ee==null?void 0:Ee.name}...`,value:T,onChange:ve=>A(ve.target.value),rows:8,disabled:a,className:"resize-none"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/InputPage.tsx",lineNumber:674,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/InputPage.tsx",lineNumber:672,columnNumber:17},this),a&&t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV("div",{className:"flex items-center justify-between text-sm",children:[t.jsxDEV("span",{className:"text-muted-foreground",children:"Processing step..."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/InputPage.tsx",lineNumber:689,columnNumber:23},this),t.jsxDEV("span",{className:"font-medium",children:[c,"%"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/InputPage.tsx",lineNumber:690,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/InputPage.tsx",lineNumber:688,columnNumber:21},this),t.jsxDEV(Ln,{value:c,"data-testid":"progress-journey-step"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/InputPage.tsx",lineNumber:692,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/InputPage.tsx",lineNumber:687,columnNumber:19},this),t.jsxDEV("div",{className:"flex gap-3",children:[t.jsxDEV(me,{type:"button",variant:"outline",onClick:()=>e("/journeys"),disabled:a,"data-testid":"button-exit-journey",children:"Exit Journey"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/InputPage.tsx",lineNumber:697,columnNumber:19},this),t.jsxDEV(me,{type:"submit",className:"flex-1",disabled:a||!T.trim(),"data-testid":"button-continue-journey",children:a?t.jsxDEV(t.Fragment,{children:[t.jsxDEV(lt,{className:"mr-2 h-4 w-4 animate-spin"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/InputPage.tsx",lineNumber:714,columnNumber:25},this),"Processing..."]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/InputPage.tsx",lineNumber:713,columnNumber:23},this):t.jsxDEV(t.Fragment,{children:"Continue to Analysis"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/InputPage.tsx",lineNumber:718,columnNumber:23},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/InputPage.tsx",lineNumber:706,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/InputPage.tsx",lineNumber:696,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/InputPage.tsx",lineNumber:671,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/InputPage.tsx",lineNumber:670,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/InputPage.tsx",lineNumber:663,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/InputPage.tsx",lineNumber:613,columnNumber:9},this),g&&t.jsxDEV(u4,{questions:N,onSubmit:_e,onSkip:oe},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/InputPage.tsx",lineNumber:731,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/InputPage.tsx",lineNumber:609,columnNumber:7},this)}return t.jsxDEV(st,{title:"Strategic Consultant Agent",subtitle:"Transform executive input into AI-analyzed strategic decisions",children:[t.jsxDEV("div",{className:"max-w-4xl mx-auto",children:t.jsxDEV(Z,{children:[t.jsxDEV(de,{children:[t.jsxDEV(pe,{children:"Strategic Input"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/InputPage.tsx",lineNumber:750,columnNumber:13},this),t.jsxDEV(He,{children:"Provide your strategic challenge via text or upload supporting documents (PDF, DOCX, Excel, Images)"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/InputPage.tsx",lineNumber:751,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/InputPage.tsx",lineNumber:749,columnNumber:11},this),t.jsxDEV(te,{children:t.jsxDEV("form",{onSubmit:z,className:"space-y-6",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(br,{htmlFor:"text-input",children:["Text Input",F&&t.jsxDEV("span",{className:"ml-2 text-muted-foreground text-sm",children:[t.jsxDEV(lt,{className:"inline h-3 w-3 animate-spin mr-1"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/InputPage.tsx",lineNumber:762,columnNumber:23},this),"Loading segment discovery context..."]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/InputPage.tsx",lineNumber:761,columnNumber:21},this),S&&!F&&T&&t.jsxDEV(se,{variant:"secondary",className:"ml-2",children:"From Segment Discovery"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/InputPage.tsx",lineNumber:767,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/InputPage.tsx",lineNumber:758,columnNumber:17},this),t.jsxDEV(In,{id:"text-input","data-testid":"input-strategic-text",placeholder:F?"Loading your segment discovery insights...":"e.g., Our SaaS company needs to expand into enterprise markets. Current revenue is $10M ARR from SMB customers. We need to decide on enterprise features, sales strategy, and architecture...",value:T,onChange:Re=>A(Re.target.value),rows:8,disabled:a||F,className:"resize-none"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/InputPage.tsx",lineNumber:772,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/InputPage.tsx",lineNumber:757,columnNumber:15},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(br,{htmlFor:"file-input",children:"Upload Document (Optional)"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/InputPage.tsx",lineNumber:787,columnNumber:17},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(Ci,{id:"file-input","data-testid":"input-file-upload",type:"file",onChange:H,disabled:a,accept:Object.values(TE).join(","),className:"flex-1"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/InputPage.tsx",lineNumber:790,columnNumber:21},this),n&&t.jsxDEV(me,{type:"button",variant:"ghost",size:"icon",onClick:()=>s(null),disabled:a,"data-testid":"button-remove-file",children:t.jsxDEV(Ri,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/InputPage.tsx",lineNumber:808,columnNumber:25},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/InputPage.tsx",lineNumber:800,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/InputPage.tsx",lineNumber:789,columnNumber:19},this),n&&t.jsxDEV("div",{className:"flex items-center gap-2 text-sm text-muted-foreground","data-testid":"text-file-info",children:[be(),t.jsxDEV("span",{children:[n.name," (",(n.size/1024/1024).toFixed(2),"MB)"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/InputPage.tsx",lineNumber:816,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/InputPage.tsx",lineNumber:814,columnNumber:21},this),d&&t.jsxDEV(it,{variant:"destructive","data-testid":"alert-upload-error",children:t.jsxDEV(at,{children:d},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/InputPage.tsx",lineNumber:822,columnNumber:23},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/InputPage.tsx",lineNumber:821,columnNumber:21},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Supported: PDF, DOCX, Excel, Images (max 50MB)"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/InputPage.tsx",lineNumber:826,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/InputPage.tsx",lineNumber:788,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/InputPage.tsx",lineNumber:786,columnNumber:15},this),a&&t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV("div",{className:"flex items-center justify-between text-sm",children:[t.jsxDEV("span",{className:"text-muted-foreground",children:"Preparing strategic analysis..."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/InputPage.tsx",lineNumber:835,columnNumber:21},this),t.jsxDEV("span",{className:"font-medium",children:[c,"%"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/InputPage.tsx",lineNumber:836,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/InputPage.tsx",lineNumber:834,columnNumber:19},this),t.jsxDEV(Ln,{value:c,"data-testid":"progress-analysis"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/InputPage.tsx",lineNumber:838,columnNumber:19},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Processing your input and preparing the analysis workflow"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/InputPage.tsx",lineNumber:839,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/InputPage.tsx",lineNumber:833,columnNumber:17},this),t.jsxDEV(me,{type:"submit",size:"lg",className:"w-full",disabled:a||D||!T.trim()&&!n||!!d,"data-testid":"button-analyze",children:D?t.jsxDEV(t.Fragment,{children:[t.jsxDEV(lt,{className:"mr-2 h-4 w-4 animate-spin"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/InputPage.tsx",lineNumber:854,columnNumber:21},this),"Checking for ambiguities..."]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/InputPage.tsx",lineNumber:853,columnNumber:19},this):a?t.jsxDEV(t.Fragment,{children:[t.jsxDEV(lt,{className:"mr-2 h-4 w-4 animate-spin"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/InputPage.tsx",lineNumber:859,columnNumber:21},this),"Starting Analysis..."]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/InputPage.tsx",lineNumber:858,columnNumber:19},this):"Start Strategic Analysis"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/InputPage.tsx",lineNumber:845,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/InputPage.tsx",lineNumber:756,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/InputPage.tsx",lineNumber:755,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/InputPage.tsx",lineNumber:748,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/InputPage.tsx",lineNumber:747,columnNumber:7},this),g&&t.jsxDEV(u4,{questions:N,onSubmit:V?_e:ee,onSkip:V?oe:K},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/InputPage.tsx",lineNumber:873,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/InputPage.tsx",lineNumber:743,columnNumber:5},this)}const AE={"application/pdf":".pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document":".docx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":".xlsx","application/vnd.ms-excel":".xls","image/jpeg":".jpg, .jpeg","image/png":".png","image/gif":".gif","image/webp":".webp"},Pse=50*1024*1024;function d4(){var w;const[,e]=or(),{toast:r}=ur(),[n,s]=v.useState(""),[a,l]=v.useState(null),[c,u]=v.useState(!1),[d,h]=v.useState(0),[g,p]=v.useState(null),{data:N}=yt({queryKey:["/api/marketing-consultant/discoveries"]}),b=((w=N==null?void 0:N.discoveries)==null?void 0:w.filter(k=>k.status==="completed"))||[],D=k=>({b2b_software:"B2B Software",b2c_software:"B2C Software",professional_services:"Professional Services",physical_product:"Physical Product",marketplace_platform:"Marketplace",content_education:"Content/Education",other:"Other"})[k]||k,E=k=>{var S;const V=(S=k.target.files)==null?void 0:S[0];if(p(null),!V){l(null);return}if(V.size>Pse){p(`File size exceeds 50MB limit (${(V.size/1024/1024).toFixed(1)}MB)`),l(null);return}if(!Object.keys(AE).includes(V.type)){p(`Unsupported file format. Please upload: ${Object.values(AE).join(", ")}`),l(null);return}l(V)},j=()=>a?a.type.startsWith("image/")?t.jsxDEV(Z7,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/InputPage.tsx",lineNumber:94,columnNumber:48},this):a.type.includes("spreadsheet")||a.type.includes("excel")?t.jsxDEV(q7,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/InputPage.tsx",lineNumber:95,columnNumber:82},this):t.jsxDEV(Es,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/InputPage.tsx",lineNumber:96,columnNumber:12},this):t.jsxDEV(aA,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/InputPage.tsx",lineNumber:92,columnNumber:23},this),P=async k=>{if(k.preventDefault(),!n.trim()&&!a){r({title:"Input required",description:"Please provide text input or upload a file",variant:"destructive"});return}u(!0),h(10);try{h(20);const V=await fetch("/api/marketing-consultant/check-ambiguities",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userInput:n.trim()}),credentials:"include"});if(!V.ok)throw new Error("Failed to analyze input");const R=(await V.json()).questions||[];h(50);const M=await fetch("/api/marketing-consultant/understanding",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({input:n.trim(),clarifications:R}),credentials:"include"});if(!M.ok)throw new Error("Failed to create understanding");const T=await M.json(),A=T.understandingId||T.id;h(80),h(100),sessionStorage.setItem("marketingUnderstandingId",A),sessionStorage.setItem("marketingRawInput",n.trim()),R.length>0&&sessionStorage.setItem("marketingClarifications",JSON.stringify(R)),r({title:"Analysis Complete",description:"Proceeding to classification..."}),e(`/marketing-consultant/classification/${A}`)}catch(V){console.error("Marketing consultant error:",V),r({title:"Analysis Failed",description:V instanceof Error?V.message:"Please try again",variant:"destructive"})}finally{u(!1),h(0)}};return t.jsxDEV(st,{title:"Marketing Consultant Agent",subtitle:"Transform your offering into targeted market segments",children:t.jsxDEV("div",{className:"max-w-4xl mx-auto space-y-6",children:[t.jsxDEV(Z,{children:[t.jsxDEV(de,{children:[t.jsxDEV(pe,{children:"Marketing Input"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/InputPage.tsx",lineNumber:190,columnNumber:13},this),t.jsxDEV(He,{children:"Describe what you're building or selling. Include what problem it solves and who you think might need it."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/InputPage.tsx",lineNumber:191,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/InputPage.tsx",lineNumber:189,columnNumber:11},this),t.jsxDEV(te,{children:t.jsxDEV("form",{onSubmit:P,className:"space-y-6",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(br,{htmlFor:"marketing-text-input",children:"Your Offering"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/InputPage.tsx",lineNumber:198,columnNumber:17},this),t.jsxDEV(In,{id:"marketing-text-input","data-testid":"input-marketing-text",placeholder:"e.g., We built a tool that helps knowledge workers organize their documents and find information using AI. It refuses to hallucinate and shows sources. We're a 2-person team, no funding yet, trying to find our first 50 users...",value:n,onChange:k=>s(k.target.value),rows:8,disabled:c,className:"resize-none"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/InputPage.tsx",lineNumber:199,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/InputPage.tsx",lineNumber:197,columnNumber:15},this),t.jsxDEV("div",{className:"space-y-4",children:[t.jsxDEV(br,{children:"Supporting Documents (Optional)"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/InputPage.tsx",lineNumber:212,columnNumber:17},this),t.jsxDEV("div",{className:"border-2 border-dashed rounded-lg p-6 text-center hover:border-primary/50 transition-colors",children:[t.jsxDEV(Ci,{type:"file",id:"file-upload","data-testid":"button-upload-marketing",className:"hidden",onChange:E,accept:Object.keys(AE).join(","),disabled:c},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/InputPage.tsx",lineNumber:214,columnNumber:19},this),t.jsxDEV("label",{htmlFor:"file-upload",className:"cursor-pointer flex flex-col items-center gap-2",children:[j(),t.jsxDEV("span",{className:"text-sm text-muted-foreground",children:a?a.name:"Click to upload or drag and drop"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/InputPage.tsx",lineNumber:228,columnNumber:21},this),t.jsxDEV("span",{className:"text-xs text-muted-foreground",children:"PDF, DOCX, Excel, Images (max 50MB)"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/InputPage.tsx",lineNumber:231,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/InputPage.tsx",lineNumber:223,columnNumber:19},this),a&&t.jsxDEV(me,{type:"button",variant:"ghost",size:"sm",className:"mt-2",onClick:()=>l(null),children:[t.jsxDEV(Ri,{className:"h-4 w-4 mr-1"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/InputPage.tsx",lineNumber:243,columnNumber:23},this)," Remove file"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/InputPage.tsx",lineNumber:236,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/InputPage.tsx",lineNumber:213,columnNumber:17},this),g&&t.jsxDEV(it,{variant:"destructive",children:t.jsxDEV(at,{children:g},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/InputPage.tsx",lineNumber:249,columnNumber:21},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/InputPage.tsx",lineNumber:248,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/InputPage.tsx",lineNumber:211,columnNumber:15},this),c&&t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV("div",{className:"flex items-center justify-between text-sm",children:[t.jsxDEV("span",{className:"text-muted-foreground",children:"Analyzing market segments..."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/InputPage.tsx",lineNumber:257,columnNumber:21},this),t.jsxDEV("span",{className:"font-medium",children:[d,"%"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/InputPage.tsx",lineNumber:258,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/InputPage.tsx",lineNumber:256,columnNumber:19},this),t.jsxDEV(Ln,{value:d},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/InputPage.tsx",lineNumber:260,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/InputPage.tsx",lineNumber:255,columnNumber:17},this),t.jsxDEV(me,{type:"submit",className:"w-full",size:"lg",disabled:c||!n.trim()&&!a,"data-testid":"button-start-segment-discovery",children:c?t.jsxDEV(t.Fragment,{children:[t.jsxDEV(lt,{className:"h-4 w-4 mr-2 animate-spin"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/InputPage.tsx",lineNumber:273,columnNumber:21},this),"Discovering Segments..."]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/InputPage.tsx",lineNumber:272,columnNumber:19},this):"Start Segment Discovery"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/InputPage.tsx",lineNumber:264,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/InputPage.tsx",lineNumber:196,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/InputPage.tsx",lineNumber:195,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/InputPage.tsx",lineNumber:188,columnNumber:9},this),b.length>0&&t.jsxDEV(Z,{"data-testid":"card-past-discoveries",children:[t.jsxDEV(de,{children:[t.jsxDEV(pe,{className:"flex items-center gap-2",children:[t.jsxDEV(Q7,{className:"h-5 w-5"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/InputPage.tsx",lineNumber:289,columnNumber:17},this),"Past Discoveries"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/InputPage.tsx",lineNumber:288,columnNumber:15},this),t.jsxDEV(He,{children:"View your previous segment discovery results"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/InputPage.tsx",lineNumber:292,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/InputPage.tsx",lineNumber:287,columnNumber:13},this),t.jsxDEV(te,{children:t.jsxDEV("div",{className:"space-y-2",children:b.slice(0,5).map(k=>t.jsxDEV("button",{onClick:()=>e(`/marketing-consultant/results/${k.id}`),className:"w-full p-3 border rounded-lg hover:bg-muted/50 transition-colors text-left flex items-center justify-between group","data-testid":`button-discovery-${k.id}`,children:[t.jsxDEV("div",{children:[t.jsxDEV("div",{className:"font-medium",children:D(k.offeringType)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/InputPage.tsx",lineNumber:306,columnNumber:23},this),t.jsxDEV("div",{className:"text-sm text-muted-foreground",children:k.completedAt?Si(new Date(k.completedAt),{addSuffix:!0}):"In progress"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/InputPage.tsx",lineNumber:309,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/InputPage.tsx",lineNumber:305,columnNumber:21},this),t.jsxDEV(Wu,{className:"h-5 w-5 text-muted-foreground group-hover:text-foreground transition-colors"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/InputPage.tsx",lineNumber:316,columnNumber:21},this)]},k.id,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/InputPage.tsx",lineNumber:299,columnNumber:19},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/InputPage.tsx",lineNumber:297,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/InputPage.tsx",lineNumber:296,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/InputPage.tsx",lineNumber:286,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/InputPage.tsx",lineNumber:187,columnNumber:7},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/InputPage.tsx",lineNumber:183,columnNumber:5},this)}var $g=e=>e.type==="checkbox",ju=e=>e instanceof Date,Ks=e=>e==null;const c8=e=>typeof e=="object";var Rn=e=>!Ks(e)&&!Array.isArray(e)&&c8(e)&&!ju(e),u8=e=>Rn(e)&&e.target?$g(e.target)?e.target.checked:e.target.value:e,Sse=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,m8=(e,r)=>e.has(Sse(r)),Cse=e=>{const r=e.constructor&&e.constructor.prototype;return Rn(r)&&r.hasOwnProperty("isPrototypeOf")},CV=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function vs(e){let r;const n=Array.isArray(e),s=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)r=new Date(e);else if(e instanceof Set)r=new Set(e);else if(!(CV&&(e instanceof Blob||s))&&(n||Rn(e)))if(r=n?[]:{},!n&&!Cse(e))r=e;else for(const a in e)e.hasOwnProperty(a)&&(r[a]=vs(e[a]));else return e;return r}var w0=e=>Array.isArray(e)?e.filter(Boolean):[],Sn=e=>e===void 0,mt=(e,r,n)=>{if(!r||!Rn(e))return n;const s=w0(r.split(/[,[\].]+?/)).reduce((a,l)=>Ks(a)?a:a[l],e);return Sn(s)||s===e?Sn(e[r])?n:e[r]:s},ki=e=>typeof e=="boolean",RV=e=>/^\w*$/.test(e),d8=e=>w0(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Gr=(e,r,n)=>{let s=-1;const a=RV(r)?[r]:d8(r),l=a.length,c=l-1;for(;++s<l;){const u=a[s];let d=n;if(s!==c){const h=e[u];d=Rn(h)||Array.isArray(h)?h:isNaN(+a[s+1])?{}:[]}if(u==="__proto__"||u==="constructor"||u==="prototype")return;e[u]=d,e=e[u]}};const xv={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Da={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},tl={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},h8=St.createContext(null),k0=()=>St.useContext(h8),Rse=e=>{const{children:r,...n}=e;return St.createElement(h8.Provider,{value:n},r)};var f8=(e,r,n,s=!0)=>{const a={defaultValues:r._defaultValues};for(const l in e)Object.defineProperty(a,l,{get:()=>{const c=l;return r._proxyFormState[c]!==Da.all&&(r._proxyFormState[c]=!s||Da.all),n&&(n[c]=!0),e[c]}});return a};function Mse(e){const r=k0(),{control:n=r.control,disabled:s,name:a,exact:l}=e||{},[c,u]=St.useState(n._formState),d=St.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),h=St.useRef(a);return h.current=a,St.useEffect(()=>n._subscribe({name:h.current,formState:d.current,exact:l,callback:g=>{!s&&u({...n._formState,...g})}}),[n,s,l]),St.useEffect(()=>{d.current.isValid&&n._setValid(!0)},[n]),St.useMemo(()=>f8(c,n,d.current,!1),[c,n])}var uo=e=>typeof e=="string",p8=(e,r,n,s,a)=>uo(e)?(s&&r.watch.add(e),mt(n,e,a)):Array.isArray(e)?e.map(l=>(s&&r.watch.add(l),mt(n,l))):(s&&(r.watchAll=!0),n);function Tse(e){const r=k0(),{control:n=r.control,name:s,defaultValue:a,disabled:l,exact:c}=e||{},u=St.useRef(s),d=St.useRef(a);u.current=s,St.useEffect(()=>n._subscribe({name:u.current,formState:{values:!0},exact:c,callback:p=>!l&&g(p8(u.current,n._names,p.values||n._formValues,!1,d.current))}),[n,l,c]);const[h,g]=St.useState(n._getWatch(s,a));return St.useEffect(()=>n._removeUnmounted()),h}function Ase(e){const r=k0(),{name:n,disabled:s,control:a=r.control,shouldUnregister:l}=e,c=m8(a._names.array,n),u=Tse({control:a,name:n,defaultValue:mt(a._formValues,n,mt(a._defaultValues,n,e.defaultValue)),exact:!0}),d=Mse({control:a,name:n,exact:!0}),h=St.useRef(e),g=St.useRef(a.register(n,{...e.rules,value:u,...ki(e.disabled)?{disabled:e.disabled}:{}})),p=St.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!mt(d.errors,n)},isDirty:{enumerable:!0,get:()=>!!mt(d.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!mt(d.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!mt(d.validatingFields,n)},error:{enumerable:!0,get:()=>mt(d.errors,n)}}),[d,n]),N=St.useCallback(j=>g.current.onChange({target:{value:u8(j),name:n},type:xv.CHANGE}),[n]),b=St.useCallback(()=>g.current.onBlur({target:{value:mt(a._formValues,n),name:n},type:xv.BLUR}),[n,a._formValues]),D=St.useCallback(j=>{const P=mt(a._fields,n);P&&j&&(P._f.ref={focus:()=>j.focus(),select:()=>j.select(),setCustomValidity:w=>j.setCustomValidity(w),reportValidity:()=>j.reportValidity()})},[a._fields,n]),E=St.useMemo(()=>({name:n,value:u,...ki(s)||d.disabled?{disabled:d.disabled||s}:{},onChange:N,onBlur:b,ref:D}),[n,s,d.disabled,N,b,D,u]);return St.useEffect(()=>{const j=a._options.shouldUnregister||l;a.register(n,{...h.current.rules,...ki(h.current.disabled)?{disabled:h.current.disabled}:{}});const P=(w,k)=>{const V=mt(a._fields,w);V&&V._f&&(V._f.mount=k)};if(P(n,!0),j){const w=vs(mt(a._options.defaultValues,n));Gr(a._defaultValues,n,w),Sn(mt(a._formValues,n))&&Gr(a._formValues,n,w)}return!c&&a.register(n),()=>{(c?j&&!a._state.action:j)?a.unregister(n):P(n,!1)}},[n,a,c,l]),St.useEffect(()=>{a._setDisabledField({disabled:s,name:n})},[s,n,a]),St.useMemo(()=>({field:E,formState:d,fieldState:p}),[E,d,p])}const _se=e=>e.render(Ase(e));var g8=(e,r,n,s,a)=>r?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[s]:a||!0}}:{},Jp=e=>Array.isArray(e)?e:[e],h4=()=>{let e=[];return{get observers(){return e},next:a=>{for(const l of e)l.next&&l.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(l=>l!==a)}}),unsubscribe:()=>{e=[]}}},JD=e=>Ks(e)||!c8(e);function lc(e,r){if(JD(e)||JD(r))return e===r;if(ju(e)&&ju(r))return e.getTime()===r.getTime();const n=Object.keys(e),s=Object.keys(r);if(n.length!==s.length)return!1;for(const a of n){const l=e[a];if(!s.includes(a))return!1;if(a!=="ref"){const c=r[a];if(ju(l)&&ju(c)||Rn(l)&&Rn(c)||Array.isArray(l)&&Array.isArray(c)?!lc(l,c):l!==c)return!1}}return!0}var Js=e=>Rn(e)&&!Object.keys(e).length,MV=e=>e.type==="file",ja=e=>typeof e=="function",bv=e=>{if(!CV)return!1;const r=e?e.ownerDocument:0;return e instanceof(r&&r.defaultView?r.defaultView.HTMLElement:HTMLElement)},N8=e=>e.type==="select-multiple",TV=e=>e.type==="radio",Fse=e=>TV(e)||$g(e),_E=e=>bv(e)&&e.isConnected;function Ise(e,r){const n=r.slice(0,-1).length;let s=0;for(;s<n;)e=Sn(e)?s++:e[r[s++]];return e}function Ose(e){for(const r in e)if(e.hasOwnProperty(r)&&!Sn(e[r]))return!1;return!0}function qn(e,r){const n=Array.isArray(r)?r:RV(r)?[r]:d8(r),s=n.length===1?e:Ise(e,n),a=n.length-1,l=n[a];return s&&delete s[l],a!==0&&(Rn(s)&&Js(s)||Array.isArray(s)&&Ose(s))&&qn(e,n.slice(0,-1)),e}var x8=e=>{for(const r in e)if(ja(e[r]))return!0;return!1};function vv(e,r={}){const n=Array.isArray(e);if(Rn(e)||n)for(const s in e)Array.isArray(e[s])||Rn(e[s])&&!x8(e[s])?(r[s]=Array.isArray(e[s])?[]:{},vv(e[s],r[s])):Ks(e[s])||(r[s]=!0);return r}function b8(e,r,n){const s=Array.isArray(e);if(Rn(e)||s)for(const a in e)Array.isArray(e[a])||Rn(e[a])&&!x8(e[a])?Sn(r)||JD(n[a])?n[a]=Array.isArray(e[a])?vv(e[a],[]):{...vv(e[a])}:b8(e[a],Ks(r)?{}:r[a],n[a]):n[a]=!lc(e[a],r[a]);return n}var Cp=(e,r)=>b8(e,r,vv(r));const f4={value:!1,isValid:!1},p4={value:!0,isValid:!0};var v8=e=>{if(Array.isArray(e)){if(e.length>1){const r=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:r,isValid:!!r.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Sn(e[0].attributes.value)?Sn(e[0].value)||e[0].value===""?p4:{value:e[0].value,isValid:!0}:p4:f4}return f4},y8=(e,{valueAsNumber:r,valueAsDate:n,setValueAs:s})=>Sn(e)?e:r?e===""?NaN:e&&+e:n&&uo(e)?new Date(e):s?s(e):e;const g4={isValid:!1,value:null};var w8=e=>Array.isArray(e)?e.reduce((r,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:r,g4):g4;function N4(e){const r=e.ref;return MV(r)?r.files:TV(r)?w8(e.refs).value:N8(r)?[...r.selectedOptions].map(({value:n})=>n):$g(r)?v8(e.refs).value:y8(Sn(r.value)?e.ref.value:r.value,e)}var Lse=(e,r,n,s)=>{const a={};for(const l of e){const c=mt(r,l);c&&Gr(a,l,c._f)}return{criteriaMode:n,names:[...e],fields:a,shouldUseNativeValidation:s}},yv=e=>e instanceof RegExp,Rp=e=>Sn(e)?e:yv(e)?e.source:Rn(e)?yv(e.value)?e.value.source:e.value:e,x4=e=>({isOnSubmit:!e||e===Da.onSubmit,isOnBlur:e===Da.onBlur,isOnChange:e===Da.onChange,isOnAll:e===Da.all,isOnTouch:e===Da.onTouched});const b4="AsyncFunction";var $se=e=>!!e&&!!e.validate&&!!(ja(e.validate)&&e.validate.constructor.name===b4||Rn(e.validate)&&Object.values(e.validate).find(r=>r.constructor.name===b4)),Bse=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),v4=(e,r,n)=>!n&&(r.watchAll||r.watch.has(e)||[...r.watch].some(s=>e.startsWith(s)&&/^\.\w+/.test(e.slice(s.length))));const Kp=(e,r,n,s)=>{for(const a of n||Object.keys(e)){const l=mt(e,a);if(l){const{_f:c,...u}=l;if(c){if(c.refs&&c.refs[0]&&r(c.refs[0],a)&&!s)return!0;if(c.ref&&r(c.ref,c.name)&&!s)return!0;if(Kp(u,r))break}else if(Rn(u)&&Kp(u,r))break}}};function y4(e,r,n){const s=mt(e,n);if(s||RV(n))return{error:s,name:n};const a=n.split(".");for(;a.length;){const l=a.join("."),c=mt(r,l),u=mt(e,l);if(c&&!Array.isArray(c)&&n!==l)return{name:n};if(u&&u.type)return{name:l,error:u};a.pop()}return{name:n}}var zse=(e,r,n,s)=>{n(e);const{name:a,...l}=e;return Js(l)||Object.keys(l).length>=Object.keys(r).length||Object.keys(l).find(c=>r[c]===(!s||Da.all))},Wse=(e,r,n)=>!e||!r||e===r||Jp(e).some(s=>s&&(n?s===r:s.startsWith(r)||r.startsWith(s))),Use=(e,r,n,s,a)=>a.isOnAll?!1:!n&&a.isOnTouch?!(r||e):(n?s.isOnBlur:a.isOnBlur)?!e:(n?s.isOnChange:a.isOnChange)?e:!0,Gse=(e,r)=>!w0(mt(e,r)).length&&qn(e,r),Hse=(e,r,n)=>{const s=Jp(mt(e,n));return Gr(s,"root",r[n]),Gr(e,n,s),e},Jb=e=>uo(e);function w4(e,r,n="validate"){if(Jb(e)||Array.isArray(e)&&e.every(Jb)||ki(e)&&!e)return{type:n,message:Jb(e)?e:"",ref:r}}var ud=e=>Rn(e)&&!yv(e)?e:{value:e,message:""},k4=async(e,r,n,s,a,l)=>{const{ref:c,refs:u,required:d,maxLength:h,minLength:g,min:p,max:N,pattern:b,validate:D,name:E,valueAsNumber:j,mount:P}=e._f,w=mt(n,E);if(!P||r.has(E))return{};const k=u?u[0]:c,V=$=>{a&&k.reportValidity&&(k.setCustomValidity(ki($)?"":$||""),k.reportValidity())},S={},R=TV(c),M=$g(c),T=R||M,A=(j||MV(c))&&Sn(c.value)&&Sn(w)||bv(c)&&c.value===""||w===""||Array.isArray(w)&&!w.length,F=g8.bind(null,E,s,S),L=($,W,O,Y=tl.maxLength,H=tl.minLength)=>{const q=$?W:O;S[E]={type:$?Y:H,message:q,ref:c,...F($?Y:H,q)}};if(l?!Array.isArray(w)||!w.length:d&&(!T&&(A||Ks(w))||ki(w)&&!w||M&&!v8(u).isValid||R&&!w8(u).isValid)){const{value:$,message:W}=Jb(d)?{value:!!d,message:d}:ud(d);if($&&(S[E]={type:tl.required,message:W,ref:k,...F(tl.required,W)},!s))return V(W),S}if(!A&&(!Ks(p)||!Ks(N))){let $,W;const O=ud(N),Y=ud(p);if(!Ks(w)&&!isNaN(w)){const H=c.valueAsNumber||w&&+w;Ks(O.value)||($=H>O.value),Ks(Y.value)||(W=H<Y.value)}else{const H=c.valueAsDate||new Date(w),q=ee=>new Date(new Date().toDateString()+" "+ee),z=c.type=="time",G=c.type=="week";uo(O.value)&&w&&($=z?q(w)>q(O.value):G?w>O.value:H>new Date(O.value)),uo(Y.value)&&w&&(W=z?q(w)<q(Y.value):G?w<Y.value:H<new Date(Y.value))}if(($||W)&&(L(!!$,O.message,Y.message,tl.max,tl.min),!s))return V(S[E].message),S}if((h||g)&&!A&&(uo(w)||l&&Array.isArray(w))){const $=ud(h),W=ud(g),O=!Ks($.value)&&w.length>+$.value,Y=!Ks(W.value)&&w.length<+W.value;if((O||Y)&&(L(O,$.message,W.message),!s))return V(S[E].message),S}if(b&&!A&&uo(w)){const{value:$,message:W}=ud(b);if(yv($)&&!w.match($)&&(S[E]={type:tl.pattern,message:W,ref:c,...F(tl.pattern,W)},!s))return V(W),S}if(D){if(ja(D)){const $=await D(w,n),W=w4($,k);if(W&&(S[E]={...W,...F(tl.validate,W.message)},!s))return V(W.message),S}else if(Rn(D)){let $={};for(const W in D){if(!Js($)&&!s)break;const O=w4(await D[W](w,n),k,W);O&&($={...O,...F(W,O.message)},V(O.message),s&&(S[E]=$))}if(!Js($)&&(S[E]={ref:k,...$},!s))return S}}return V(!0),S};const Jse={mode:Da.onSubmit,reValidateMode:Da.onChange,shouldFocusError:!0};function Kse(e={}){let r={...Jse,...e},n={submitCount:0,isDirty:!1,isLoading:ja(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1};const s={};let a=Rn(r.defaultValues)||Rn(r.values)?vs(r.values||r.defaultValues)||{}:{},l=r.shouldUnregister?{}:vs(a),c={action:!1,mount:!1,watch:!1},u={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},d,h=0;const g={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let p={...g};const N={array:h4(),state:h4()},b=x4(r.mode),D=x4(r.reValidateMode),E=r.criteriaMode===Da.all,j=re=>ye=>{clearTimeout(h),h=setTimeout(re,ye)},P=async re=>{if(!r.disabled&&(g.isValid||p.isValid||re)){const ye=r.resolver?Js((await A()).errors):await L(s,!0);ye!==n.isValid&&N.state.next({isValid:ye})}},w=(re,ye)=>{!r.disabled&&(g.isValidating||g.validatingFields||p.isValidating||p.validatingFields)&&((re||Array.from(u.mount)).forEach(ue=>{ue&&(ye?Gr(n.validatingFields,ue,ye):qn(n.validatingFields,ue))}),N.state.next({validatingFields:n.validatingFields,isValidating:!Js(n.validatingFields)}))},k=(re,ye=[],ue,we,Ve=!0,ke=!0)=>{if(we&&ue&&!r.disabled){if(c.action=!0,ke&&Array.isArray(mt(s,re))){const Oe=ue(mt(s,re),we.argA,we.argB);Ve&&Gr(s,re,Oe)}if(ke&&Array.isArray(mt(n.errors,re))){const Oe=ue(mt(n.errors,re),we.argA,we.argB);Ve&&Gr(n.errors,re,Oe),Gse(n.errors,re)}if((g.touchedFields||p.touchedFields)&&ke&&Array.isArray(mt(n.touchedFields,re))){const Oe=ue(mt(n.touchedFields,re),we.argA,we.argB);Ve&&Gr(n.touchedFields,re,Oe)}(g.dirtyFields||p.dirtyFields)&&(n.dirtyFields=Cp(a,l)),N.state.next({name:re,isDirty:W(re,ye),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Gr(l,re,ye)},V=(re,ye)=>{Gr(n.errors,re,ye),N.state.next({errors:n.errors})},S=re=>{n.errors=re,N.state.next({errors:n.errors,isValid:!1})},R=(re,ye,ue,we)=>{const Ve=mt(s,re);if(Ve){const ke=mt(l,re,Sn(ue)?mt(a,re):ue);Sn(ke)||we&&we.defaultChecked||ye?Gr(l,re,ye?ke:N4(Ve._f)):H(re,ke),c.mount&&P()}},M=(re,ye,ue,we,Ve)=>{let ke=!1,Oe=!1;const et={name:re};if(!r.disabled){if(!ue||we){(g.isDirty||p.isDirty)&&(Oe=n.isDirty,n.isDirty=et.isDirty=W(),ke=Oe!==et.isDirty);const Fe=lc(mt(a,re),ye);Oe=!!mt(n.dirtyFields,re),Fe?qn(n.dirtyFields,re):Gr(n.dirtyFields,re,!0),et.dirtyFields=n.dirtyFields,ke=ke||(g.dirtyFields||p.dirtyFields)&&Oe!==!Fe}if(ue){const Fe=mt(n.touchedFields,re);Fe||(Gr(n.touchedFields,re,ue),et.touchedFields=n.touchedFields,ke=ke||(g.touchedFields||p.touchedFields)&&Fe!==ue)}ke&&Ve&&N.state.next(et)}return ke?et:{}},T=(re,ye,ue,we)=>{const Ve=mt(n.errors,re),ke=(g.isValid||p.isValid)&&ki(ye)&&n.isValid!==ye;if(r.delayError&&ue?(d=j(()=>V(re,ue)),d(r.delayError)):(clearTimeout(h),d=null,ue?Gr(n.errors,re,ue):qn(n.errors,re)),(ue?!lc(Ve,ue):Ve)||!Js(we)||ke){const Oe={...we,...ke&&ki(ye)?{isValid:ye}:{},errors:n.errors,name:re};n={...n,...Oe},N.state.next(Oe)}},A=async re=>{w(re,!0);const ye=await r.resolver(l,r.context,Lse(re||u.mount,s,r.criteriaMode,r.shouldUseNativeValidation));return w(re),ye},F=async re=>{const{errors:ye}=await A(re);if(re)for(const ue of re){const we=mt(ye,ue);we?Gr(n.errors,ue,we):qn(n.errors,ue)}else n.errors=ye;return ye},L=async(re,ye,ue={valid:!0})=>{for(const we in re){const Ve=re[we];if(Ve){const{_f:ke,...Oe}=Ve;if(ke){const et=u.array.has(ke.name),Fe=Ve._f&&$se(Ve._f);Fe&&g.validatingFields&&w([we],!0);const Je=await k4(Ve,u.disabled,l,E,r.shouldUseNativeValidation&&!ye,et);if(Fe&&g.validatingFields&&w([we]),Je[ke.name]&&(ue.valid=!1,ye))break;!ye&&(mt(Je,ke.name)?et?Hse(n.errors,Je,ke.name):Gr(n.errors,ke.name,Je[ke.name]):qn(n.errors,ke.name))}!Js(Oe)&&await L(Oe,ye,ue)}}return ue.valid},$=()=>{for(const re of u.unMount){const ye=mt(s,re);ye&&(ye._f.refs?ye._f.refs.every(ue=>!_E(ue)):!_E(ye._f.ref))&&ze(re)}u.unMount=new Set},W=(re,ye)=>!r.disabled&&(re&&ye&&Gr(l,re,ye),!lc(be(),a)),O=(re,ye,ue)=>p8(re,u,{...c.mount?l:Sn(ye)?a:uo(re)?{[re]:ye}:ye},ue,ye),Y=re=>w0(mt(c.mount?l:a,re,r.shouldUnregister?mt(a,re,[]):[])),H=(re,ye,ue={})=>{const we=mt(s,re);let Ve=ye;if(we){const ke=we._f;ke&&(!ke.disabled&&Gr(l,re,y8(ye,ke)),Ve=bv(ke.ref)&&Ks(ye)?"":ye,N8(ke.ref)?[...ke.ref.options].forEach(Oe=>Oe.selected=Ve.includes(Oe.value)):ke.refs?$g(ke.ref)?ke.refs.length>1?ke.refs.forEach(Oe=>(!Oe.defaultChecked||!Oe.disabled)&&(Oe.checked=Array.isArray(Ve)?!!Ve.find(et=>et===Oe.value):Ve===Oe.value)):ke.refs[0]&&(ke.refs[0].checked=!!Ve):ke.refs.forEach(Oe=>Oe.checked=Oe.value===Ve):MV(ke.ref)?ke.ref.value="":(ke.ref.value=Ve,ke.ref.type||N.state.next({name:re,values:vs(l)})))}(ue.shouldDirty||ue.shouldTouch)&&M(re,Ve,ue.shouldTouch,ue.shouldDirty,!0),ue.shouldValidate&&K(re)},q=(re,ye,ue)=>{for(const we in ye){const Ve=ye[we],ke=`${re}.${we}`,Oe=mt(s,ke);(u.array.has(re)||Rn(Ve)||Oe&&!Oe._f)&&!ju(Ve)?q(ke,Ve,ue):H(ke,Ve,ue)}},z=(re,ye,ue={})=>{const we=mt(s,re),Ve=u.array.has(re),ke=vs(ye);Gr(l,re,ke),Ve?(N.array.next({name:re,values:vs(l)}),(g.isDirty||g.dirtyFields||p.isDirty||p.dirtyFields)&&ue.shouldDirty&&N.state.next({name:re,dirtyFields:Cp(a,l),isDirty:W(re,ke)})):we&&!we._f&&!Ks(ke)?q(re,ke,ue):H(re,ke,ue),v4(re,u)&&N.state.next({...n}),N.state.next({name:c.mount?re:void 0,values:vs(l)})},G=async re=>{c.mount=!0;const ye=re.target;let ue=ye.name,we=!0;const Ve=mt(s,ue),ke=Oe=>{we=Number.isNaN(Oe)||ju(Oe)&&isNaN(Oe.getTime())||lc(Oe,mt(l,ue,Oe))};if(Ve){let Oe,et;const Fe=ye.type?N4(Ve._f):u8(re),Je=re.type===xv.BLUR||re.type===xv.FOCUS_OUT,Nt=!Bse(Ve._f)&&!r.resolver&&!mt(n.errors,ue)&&!Ve._f.deps||Use(Je,mt(n.touchedFields,ue),n.isSubmitted,D,b),Vt=v4(ue,u,Je);Gr(l,ue,Fe),Je?(Ve._f.onBlur&&Ve._f.onBlur(re),d&&d(0)):Ve._f.onChange&&Ve._f.onChange(re);const Ot=M(ue,Fe,Je),fr=!Js(Ot)||Vt;if(!Je&&N.state.next({name:ue,type:re.type,values:vs(l)}),Nt)return(g.isValid||p.isValid)&&(r.mode==="onBlur"?Je&&P():Je||P()),fr&&N.state.next({name:ue,...Vt?{}:Ot});if(!Je&&Vt&&N.state.next({...n}),r.resolver){const{errors:_t}=await A([ue]);if(ke(Fe),we){const Zr=y4(n.errors,s,ue),xr=y4(_t,s,Zr.name||ue);Oe=xr.error,ue=xr.name,et=Js(_t)}}else w([ue],!0),Oe=(await k4(Ve,u.disabled,l,E,r.shouldUseNativeValidation))[ue],w([ue]),ke(Fe),we&&(Oe?et=!1:(g.isValid||p.isValid)&&(et=await L(s,!0)));we&&(Ve._f.deps&&K(Ve._f.deps),T(ue,et,Oe,Ot))}},ee=(re,ye)=>{if(mt(n.errors,ye)&&re.focus)return re.focus(),1},K=async(re,ye={})=>{let ue,we;const Ve=Jp(re);if(r.resolver){const ke=await F(Sn(re)?re:Ve);ue=Js(ke),we=re?!Ve.some(Oe=>mt(ke,Oe)):ue}else re?(we=(await Promise.all(Ve.map(async ke=>{const Oe=mt(s,ke);return await L(Oe&&Oe._f?{[ke]:Oe}:Oe)}))).every(Boolean),!(!we&&!n.isValid)&&P()):we=ue=await L(s);return N.state.next({...!uo(re)||(g.isValid||p.isValid)&&ue!==n.isValid?{}:{name:re},...r.resolver||!re?{isValid:ue}:{},errors:n.errors}),ye.shouldFocus&&!we&&Kp(s,ee,re?Ve:u.mount),we},be=re=>{const ye={...c.mount?l:a};return Sn(re)?ye:uo(re)?mt(ye,re):re.map(ue=>mt(ye,ue))},_e=(re,ye)=>({invalid:!!mt((ye||n).errors,re),isDirty:!!mt((ye||n).dirtyFields,re),error:mt((ye||n).errors,re),isValidating:!!mt(n.validatingFields,re),isTouched:!!mt((ye||n).touchedFields,re)}),oe=re=>{re&&Jp(re).forEach(ye=>qn(n.errors,ye)),N.state.next({errors:re?n.errors:{}})},fe=(re,ye,ue)=>{const we=(mt(s,re,{_f:{}})._f||{}).ref,Ve=mt(n.errors,re)||{},{ref:ke,message:Oe,type:et,...Fe}=Ve;Gr(n.errors,re,{...Fe,...ye,ref:we}),N.state.next({name:re,errors:n.errors,isValid:!1}),ue&&ue.shouldFocus&&we&&we.focus&&we.focus()},Ae=(re,ye)=>ja(re)?N.state.subscribe({next:ue=>re(O(void 0,ye),ue)}):O(re,ye,!0),ge=re=>N.state.subscribe({next:ye=>{Wse(re.name,ye.name,re.exact)&&zse(ye,re.formState||g,ht,re.reRenderRoot)&&re.callback({values:{...l},...n,...ye})}}).unsubscribe,Pe=re=>(c.mount=!0,p={...p,...re.formState},ge({...re,formState:p})),ze=(re,ye={})=>{for(const ue of re?Jp(re):u.mount)u.mount.delete(ue),u.array.delete(ue),ye.keepValue||(qn(s,ue),qn(l,ue)),!ye.keepError&&qn(n.errors,ue),!ye.keepDirty&&qn(n.dirtyFields,ue),!ye.keepTouched&&qn(n.touchedFields,ue),!ye.keepIsValidating&&qn(n.validatingFields,ue),!r.shouldUnregister&&!ye.keepDefaultValue&&qn(a,ue);N.state.next({values:vs(l)}),N.state.next({...n,...ye.keepDirty?{isDirty:W()}:{}}),!ye.keepIsValid&&P()},We=({disabled:re,name:ye})=>{(ki(re)&&c.mount||re||u.disabled.has(ye))&&(re?u.disabled.add(ye):u.disabled.delete(ye))},Re=(re,ye={})=>{let ue=mt(s,re);const we=ki(ye.disabled)||ki(r.disabled);return Gr(s,re,{...ue||{},_f:{...ue&&ue._f?ue._f:{ref:{name:re}},name:re,mount:!0,...ye}}),u.mount.add(re),ue?We({disabled:ki(ye.disabled)?ye.disabled:r.disabled,name:re}):R(re,!0,ye.value),{...we?{disabled:ye.disabled||r.disabled}:{},...r.progressive?{required:!!ye.required,min:Rp(ye.min),max:Rp(ye.max),minLength:Rp(ye.minLength),maxLength:Rp(ye.maxLength),pattern:Rp(ye.pattern)}:{},name:re,onChange:G,onBlur:G,ref:Ve=>{if(Ve){Re(re,ye),ue=mt(s,re);const ke=Sn(Ve.value)&&Ve.querySelectorAll&&Ve.querySelectorAll("input,select,textarea")[0]||Ve,Oe=Fse(ke),et=ue._f.refs||[];if(Oe?et.find(Fe=>Fe===ke):ke===ue._f.ref)return;Gr(s,re,{_f:{...ue._f,...Oe?{refs:[...et.filter(_E),ke,...Array.isArray(mt(a,re))?[{}]:[]],ref:{type:ke.type,name:re}}:{ref:ke}}}),R(re,!1,void 0,ke)}else ue=mt(s,re,{}),ue._f&&(ue._f.mount=!1),(r.shouldUnregister||ye.shouldUnregister)&&!(m8(u.array,re)&&c.action)&&u.unMount.add(re)}}},Ee=()=>r.shouldFocusError&&Kp(s,ee,u.mount),ie=re=>{ki(re)&&(N.state.next({disabled:re}),Kp(s,(ye,ue)=>{const we=mt(s,ue);we&&(ye.disabled=we._f.disabled||re,Array.isArray(we._f.refs)&&we._f.refs.forEach(Ve=>{Ve.disabled=we._f.disabled||re}))},0,!1))},ve=(re,ye)=>async ue=>{let we;ue&&(ue.preventDefault&&ue.preventDefault(),ue.persist&&ue.persist());let Ve=vs(l);if(N.state.next({isSubmitting:!0}),r.resolver){const{errors:ke,values:Oe}=await A();n.errors=ke,Ve=Oe}else await L(s);if(u.disabled.size)for(const ke of u.disabled)Gr(Ve,ke,void 0);if(qn(n.errors,"root"),Js(n.errors)){N.state.next({errors:{}});try{await re(Ve,ue)}catch(ke){we=ke}}else ye&&await ye({...n.errors},ue),Ee(),setTimeout(Ee);if(N.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Js(n.errors)&&!we,submitCount:n.submitCount+1,errors:n.errors}),we)throw we},ne=(re,ye={})=>{mt(s,re)&&(Sn(ye.defaultValue)?z(re,vs(mt(a,re))):(z(re,ye.defaultValue),Gr(a,re,vs(ye.defaultValue))),ye.keepTouched||qn(n.touchedFields,re),ye.keepDirty||(qn(n.dirtyFields,re),n.isDirty=ye.defaultValue?W(re,vs(mt(a,re))):W()),ye.keepError||(qn(n.errors,re),g.isValid&&P()),N.state.next({...n}))},le=(re,ye={})=>{const ue=re?vs(re):a,we=vs(ue),Ve=Js(re),ke=Ve?a:we;if(ye.keepDefaultValues||(a=ue),!ye.keepValues){if(ye.keepDirtyValues){const Oe=new Set([...u.mount,...Object.keys(Cp(a,l))]);for(const et of Array.from(Oe))mt(n.dirtyFields,et)?Gr(ke,et,mt(l,et)):z(et,mt(ke,et))}else{if(CV&&Sn(re))for(const Oe of u.mount){const et=mt(s,Oe);if(et&&et._f){const Fe=Array.isArray(et._f.refs)?et._f.refs[0]:et._f.ref;if(bv(Fe)){const Je=Fe.closest("form");if(Je){Je.reset();break}}}}for(const Oe of u.mount)z(Oe,mt(ke,Oe))}l=vs(ke),N.array.next({values:{...ke}}),N.state.next({values:{...ke}})}u={mount:ye.keepDirtyValues?u.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},c.mount=!g.isValid||!!ye.keepIsValid||!!ye.keepDirtyValues,c.watch=!!r.shouldUnregister,N.state.next({submitCount:ye.keepSubmitCount?n.submitCount:0,isDirty:Ve?!1:ye.keepDirty?n.isDirty:!!(ye.keepDefaultValues&&!lc(re,a)),isSubmitted:ye.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:Ve?{}:ye.keepDirtyValues?ye.keepDefaultValues&&l?Cp(a,l):n.dirtyFields:ye.keepDefaultValues&&re?Cp(a,re):ye.keepDirty?n.dirtyFields:{},touchedFields:ye.keepTouched?n.touchedFields:{},errors:ye.keepErrors?n.errors:{},isSubmitSuccessful:ye.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},Ue=(re,ye)=>le(ja(re)?re(l):re,ye),bt=(re,ye={})=>{const ue=mt(s,re),we=ue&&ue._f;if(we){const Ve=we.refs?we.refs[0]:we.ref;Ve.focus&&(Ve.focus(),ye.shouldSelect&&ja(Ve.select)&&Ve.select())}},ht=re=>{n={...n,...re}},Kt={control:{register:Re,unregister:ze,getFieldState:_e,handleSubmit:ve,setError:fe,_subscribe:ge,_runSchema:A,_getWatch:O,_getDirty:W,_setValid:P,_setFieldArray:k,_setDisabledField:We,_setErrors:S,_getFieldArray:Y,_reset:le,_resetDefaultValues:()=>ja(r.defaultValues)&&r.defaultValues().then(re=>{Ue(re,r.resetOptions),N.state.next({isLoading:!1})}),_removeUnmounted:$,_disableForm:ie,_subjects:N,_proxyFormState:g,get _fields(){return s},get _formValues(){return l},get _state(){return c},set _state(re){c=re},get _defaultValues(){return a},get _names(){return u},set _names(re){u=re},get _formState(){return n},get _options(){return r},set _options(re){r={...r,...re}}},subscribe:Pe,trigger:K,register:Re,handleSubmit:ve,watch:Ae,setValue:z,getValues:be,reset:Ue,resetField:ne,clearErrors:oe,unregister:ze,setError:fe,setFocus:bt,getFieldState:_e};return{...Kt,formControl:Kt}}function qse(e={}){const r=St.useRef(void 0),n=St.useRef(void 0),[s,a]=St.useState({isDirty:!1,isValidating:!1,isLoading:ja(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:ja(e.defaultValues)?void 0:e.defaultValues});r.current||(r.current={...e.formControl?e.formControl:Kse(e),formState:s},e.formControl&&e.defaultValues&&!ja(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const l=r.current.control;return l._options=e,St.useLayoutEffect(()=>l._subscribe({formState:l._proxyFormState,callback:()=>a({...l._formState}),reRenderRoot:!0}),[l]),St.useEffect(()=>l._disableForm(e.disabled),[l,e.disabled]),St.useEffect(()=>{if(l._proxyFormState.isDirty){const c=l._getDirty();c!==s.isDirty&&l._subjects.state.next({isDirty:c})}},[l,s.isDirty]),St.useEffect(()=>{e.values&&!lc(e.values,n.current)?(l._reset(e.values,l._options.resetOptions),n.current=e.values,a(c=>({...c}))):l._resetDefaultValues()},[e.values,l]),St.useEffect(()=>{e.errors&&!Js(e.errors)&&l._setErrors(e.errors)},[e.errors,l]),St.useEffect(()=>{l._state.mount||(l._setValid(),l._state.mount=!0),l._state.watch&&(l._state.watch=!1,l._subjects.state.next({...l._formState})),l._removeUnmounted()}),St.useEffect(()=>{e.shouldUnregister&&l._subjects.state.next({values:l._getWatch()})},[e.shouldUnregister,l]),r.current.formState=f8(s,l),r.current}const E4=(e,r,n)=>{if(e&&"reportValidity"in e){const s=mt(n,r);e.setCustomValidity(s&&s.message||""),e.reportValidity()}},k8=(e,r)=>{for(const n in r.fields){const s=r.fields[n];s&&s.ref&&"reportValidity"in s.ref?E4(s.ref,n,e):s.refs&&s.refs.forEach(a=>E4(a,n,e))}},Yse=(e,r)=>{r.shouldUseNativeValidation&&k8(e,r);const n={};for(const s in e){const a=mt(r.fields,s),l=Object.assign(e[s]||{},{ref:a&&a.ref});if(Xse(r.names||Object.keys(e),s)){const c=Object.assign({},mt(n,s));Gr(c,"root",l),Gr(n,s,c)}else Gr(n,s,l)}return n},Xse=(e,r)=>e.some(n=>n.startsWith(r+"."));var Qse=function(e,r){for(var n={};e.length;){var s=e[0],a=s.code,l=s.message,c=s.path.join(".");if(!n[c])if("unionErrors"in s){var u=s.unionErrors[0].errors[0];n[c]={message:u.message,type:u.code}}else n[c]={message:l,type:a};if("unionErrors"in s&&s.unionErrors.forEach(function(g){return g.errors.forEach(function(p){return e.push(p)})}),r){var d=n[c].types,h=d&&d[s.code];n[c]=g8(c,r,n,a,h?[].concat(h,s.message):s.message)}e.shift()}return n},Zse=function(e,r,n){return n===void 0&&(n={}),function(s,a,l){try{return Promise.resolve(function(c,u){try{var d=Promise.resolve(e[n.mode==="sync"?"parse":"parseAsync"](s,r)).then(function(h){return l.shouldUseNativeValidation&&k8({},l),{errors:{},values:n.raw?s:h}})}catch(h){return u(h)}return d&&d.then?d.then(void 0,u):d}(0,function(c){if(function(u){return Array.isArray(u==null?void 0:u.errors)}(c))return{values:{},errors:Yse(Qse(c.errors,!l.shouldUseNativeValidation&&l.criteriaMode==="all"),l)};throw c}))}catch(c){return Promise.reject(c)}}},Lr;(function(e){e.assertEqual=a=>{};function r(a){}e.assertIs=r;function n(a){throw new Error}e.assertNever=n,e.arrayToEnum=a=>{const l={};for(const c of a)l[c]=c;return l},e.getValidEnumValues=a=>{const l=e.objectKeys(a).filter(u=>typeof a[a[u]]!="number"),c={};for(const u of l)c[u]=a[u];return e.objectValues(c)},e.objectValues=a=>e.objectKeys(a).map(function(l){return a[l]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const l=[];for(const c in a)Object.prototype.hasOwnProperty.call(a,c)&&l.push(c);return l},e.find=(a,l)=>{for(const c of a)if(l(c))return c},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function s(a,l=" | "){return a.map(c=>typeof c=="string"?`'${c}'`:c).join(l)}e.joinValues=s,e.jsonStringifyReplacer=(a,l)=>typeof l=="bigint"?l.toString():l})(Lr||(Lr={}));var D4;(function(e){e.mergeShapes=(r,n)=>({...r,...n})})(D4||(D4={}));const Pt=Lr.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),oc=e=>{switch(typeof e){case"undefined":return Pt.undefined;case"string":return Pt.string;case"number":return Number.isNaN(e)?Pt.nan:Pt.number;case"boolean":return Pt.boolean;case"function":return Pt.function;case"bigint":return Pt.bigint;case"symbol":return Pt.symbol;case"object":return Array.isArray(e)?Pt.array:e===null?Pt.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Pt.promise:typeof Map<"u"&&e instanceof Map?Pt.map:typeof Set<"u"&&e instanceof Set?Pt.set:typeof Date<"u"&&e instanceof Date?Pt.date:Pt.object;default:return Pt.unknown}},tt=Lr.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class hl extends Error{get errors(){return this.issues}constructor(r){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=r}format(r){const n=r||function(l){return l.message},s={_errors:[]},a=l=>{for(const c of l.issues)if(c.code==="invalid_union")c.unionErrors.map(a);else if(c.code==="invalid_return_type")a(c.returnTypeError);else if(c.code==="invalid_arguments")a(c.argumentsError);else if(c.path.length===0)s._errors.push(n(c));else{let u=s,d=0;for(;d<c.path.length;){const h=c.path[d];d===c.path.length-1?(u[h]=u[h]||{_errors:[]},u[h]._errors.push(n(c))):u[h]=u[h]||{_errors:[]},u=u[h],d++}}};return a(this),s}static assert(r){if(!(r instanceof hl))throw new Error(`Not a ZodError: ${r}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Lr.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(r=n=>n.message){const n={},s=[];for(const a of this.issues)if(a.path.length>0){const l=a.path[0];n[l]=n[l]||[],n[l].push(r(a))}else s.push(r(a));return{formErrors:s,fieldErrors:n}}get formErrors(){return this.flatten()}}hl.create=e=>new hl(e);const KD=(e,r)=>{let n;switch(e.code){case tt.invalid_type:e.received===Pt.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case tt.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,Lr.jsonStringifyReplacer)}`;break;case tt.unrecognized_keys:n=`Unrecognized key(s) in object: ${Lr.joinValues(e.keys,", ")}`;break;case tt.invalid_union:n="Invalid input";break;case tt.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Lr.joinValues(e.options)}`;break;case tt.invalid_enum_value:n=`Invalid enum value. Expected ${Lr.joinValues(e.options)}, received '${e.received}'`;break;case tt.invalid_arguments:n="Invalid function arguments";break;case tt.invalid_return_type:n="Invalid function return type";break;case tt.invalid_date:n="Invalid date";break;case tt.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:Lr.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case tt.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case tt.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case tt.custom:n="Invalid input";break;case tt.invalid_intersection_types:n="Intersection results could not be merged";break;case tt.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case tt.not_finite:n="Number must be finite";break;default:n=r.defaultError,Lr.assertNever(e)}return{message:n}};let eie=KD;function tie(){return eie}const rie=e=>{const{data:r,path:n,errorMaps:s,issueData:a}=e,l=[...n,...a.path||[]],c={...a,path:l};if(a.message!==void 0)return{...a,path:l,message:a.message};let u="";const d=s.filter(h=>!!h).slice().reverse();for(const h of d)u=h(c,{data:r,defaultError:u}).message;return{...a,path:l,message:u}};function xt(e,r){const n=tie(),s=rie({issueData:r,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===KD?void 0:KD].filter(a=>!!a)});e.common.issues.push(s)}class Mi{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(r,n){const s=[];for(const a of n){if(a.status==="aborted")return rr;a.status==="dirty"&&r.dirty(),s.push(a.value)}return{status:r.value,value:s}}static async mergeObjectAsync(r,n){const s=[];for(const a of n){const l=await a.key,c=await a.value;s.push({key:l,value:c})}return Mi.mergeObjectSync(r,s)}static mergeObjectSync(r,n){const s={};for(const a of n){const{key:l,value:c}=a;if(l.status==="aborted"||c.status==="aborted")return rr;l.status==="dirty"&&r.dirty(),c.status==="dirty"&&r.dirty(),l.value!=="__proto__"&&(typeof c.value<"u"||a.alwaysSet)&&(s[l.value]=c.value)}return{status:r.value,value:s}}}const rr=Object.freeze({status:"aborted"}),Bp=e=>({status:"dirty",value:e}),ta=e=>({status:"valid",value:e}),j4=e=>e.status==="aborted",V4=e=>e.status==="dirty",Qd=e=>e.status==="valid",wv=e=>typeof Promise<"u"&&e instanceof Promise;var Rt;(function(e){e.errToObj=r=>typeof r=="string"?{message:r}:r||{},e.toString=r=>typeof r=="string"?r:r==null?void 0:r.message})(Rt||(Rt={}));class Cc{constructor(r,n,s,a){this._cachedPath=[],this.parent=r,this.data=n,this._path=s,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const P4=(e,r)=>{if(Qd(r))return{success:!0,data:r.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new hl(e.common.issues);return this._error=n,this._error}}};function yr(e){if(!e)return{};const{errorMap:r,invalid_type_error:n,required_error:s,description:a}=e;if(r&&(n||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return r?{errorMap:r,description:a}:{errorMap:(c,u)=>{const{message:d}=e;return c.code==="invalid_enum_value"?{message:d??u.defaultError}:typeof u.data>"u"?{message:d??s??u.defaultError}:c.code!=="invalid_type"?{message:u.defaultError}:{message:d??n??u.defaultError}},description:a}}class Ir{get description(){return this._def.description}_getType(r){return oc(r.data)}_getOrReturnCtx(r,n){return n||{common:r.parent.common,data:r.data,parsedType:oc(r.data),schemaErrorMap:this._def.errorMap,path:r.path,parent:r.parent}}_processInputParams(r){return{status:new Mi,ctx:{common:r.parent.common,data:r.data,parsedType:oc(r.data),schemaErrorMap:this._def.errorMap,path:r.path,parent:r.parent}}}_parseSync(r){const n=this._parse(r);if(wv(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(r){const n=this._parse(r);return Promise.resolve(n)}parse(r,n){const s=this.safeParse(r,n);if(s.success)return s.data;throw s.error}safeParse(r,n){const s={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:r,parsedType:oc(r)},a=this._parseSync({data:r,path:s.path,parent:s});return P4(s,a)}"~validate"(r){var s,a;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:r,parsedType:oc(r)};if(!this["~standard"].async)try{const l=this._parseSync({data:r,path:[],parent:n});return Qd(l)?{value:l.value}:{issues:n.common.issues}}catch(l){(a=(s=l==null?void 0:l.message)==null?void 0:s.toLowerCase())!=null&&a.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:r,path:[],parent:n}).then(l=>Qd(l)?{value:l.value}:{issues:n.common.issues})}async parseAsync(r,n){const s=await this.safeParseAsync(r,n);if(s.success)return s.data;throw s.error}async safeParseAsync(r,n){const s={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:r,parsedType:oc(r)},a=this._parse({data:r,path:s.path,parent:s}),l=await(wv(a)?a:Promise.resolve(a));return P4(s,l)}refine(r,n){const s=a=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(a):n;return this._refinement((a,l)=>{const c=r(a),u=()=>l.addIssue({code:tt.custom,...s(a)});return typeof Promise<"u"&&c instanceof Promise?c.then(d=>d?!0:(u(),!1)):c?!0:(u(),!1)})}refinement(r,n){return this._refinement((s,a)=>r(s)?!0:(a.addIssue(typeof n=="function"?n(s,a):n),!1))}_refinement(r){return new eh({schema:this,typeName:nr.ZodEffects,effect:{type:"refinement",refinement:r}})}superRefine(r){return this._refinement(r)}constructor(r){this.spa=this.safeParseAsync,this._def=r,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return wc.create(this,this._def)}nullable(){return th.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return fo.create(this)}promise(){return jv.create(this,this._def)}or(r){return Ev.create([this,r],this._def)}and(r){return Dv.create(this,r,this._def)}transform(r){return new eh({...yr(this._def),schema:this,typeName:nr.ZodEffects,effect:{type:"transform",transform:r}})}default(r){const n=typeof r=="function"?r:()=>r;return new YD({...yr(this._def),innerType:this,defaultValue:n,typeName:nr.ZodDefault})}brand(){return new Die({typeName:nr.ZodBranded,type:this,...yr(this._def)})}catch(r){const n=typeof r=="function"?r:()=>r;return new XD({...yr(this._def),innerType:this,catchValue:n,typeName:nr.ZodCatch})}describe(r){const n=this.constructor;return new n({...this._def,description:r})}pipe(r){return AV.create(this,r)}readonly(){return QD.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const nie=/^c[^\s-]{8,}$/i,sie=/^[0-9a-z]+$/,iie=/^[0-9A-HJKMNP-TV-Z]{26}$/i,aie=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,oie=/^[a-z0-9_-]{21}$/i,lie=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,cie=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,uie=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,mie="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let FE;const die=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,hie=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,fie=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,pie=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,gie=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Nie=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,E8="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",xie=new RegExp(`^${E8}$`);function D8(e){let r="[0-5]\\d";e.precision?r=`${r}\\.\\d{${e.precision}}`:e.precision==null&&(r=`${r}(\\.\\d+)?`);const n=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${r})${n}`}function bie(e){return new RegExp(`^${D8(e)}$`)}function vie(e){let r=`${E8}T${D8(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),r=`${r}(${n.join("|")})`,new RegExp(`^${r}$`)}function yie(e,r){return!!((r==="v4"||!r)&&die.test(e)||(r==="v6"||!r)&&fie.test(e))}function wie(e,r){if(!lie.test(e))return!1;try{const[n]=e.split(".");if(!n)return!1;const s=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),a=JSON.parse(atob(s));return!(typeof a!="object"||a===null||"typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||r&&a.alg!==r)}catch{return!1}}function kie(e,r){return!!((r==="v4"||!r)&&hie.test(e)||(r==="v6"||!r)&&pie.test(e))}class vc extends Ir{_parse(r){if(this._def.coerce&&(r.data=String(r.data)),this._getType(r)!==Pt.string){const l=this._getOrReturnCtx(r);return xt(l,{code:tt.invalid_type,expected:Pt.string,received:l.parsedType}),rr}const s=new Mi;let a;for(const l of this._def.checks)if(l.kind==="min")r.data.length<l.value&&(a=this._getOrReturnCtx(r,a),xt(a,{code:tt.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),s.dirty());else if(l.kind==="max")r.data.length>l.value&&(a=this._getOrReturnCtx(r,a),xt(a,{code:tt.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),s.dirty());else if(l.kind==="length"){const c=r.data.length>l.value,u=r.data.length<l.value;(c||u)&&(a=this._getOrReturnCtx(r,a),c?xt(a,{code:tt.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}):u&&xt(a,{code:tt.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}),s.dirty())}else if(l.kind==="email")uie.test(r.data)||(a=this._getOrReturnCtx(r,a),xt(a,{validation:"email",code:tt.invalid_string,message:l.message}),s.dirty());else if(l.kind==="emoji")FE||(FE=new RegExp(mie,"u")),FE.test(r.data)||(a=this._getOrReturnCtx(r,a),xt(a,{validation:"emoji",code:tt.invalid_string,message:l.message}),s.dirty());else if(l.kind==="uuid")aie.test(r.data)||(a=this._getOrReturnCtx(r,a),xt(a,{validation:"uuid",code:tt.invalid_string,message:l.message}),s.dirty());else if(l.kind==="nanoid")oie.test(r.data)||(a=this._getOrReturnCtx(r,a),xt(a,{validation:"nanoid",code:tt.invalid_string,message:l.message}),s.dirty());else if(l.kind==="cuid")nie.test(r.data)||(a=this._getOrReturnCtx(r,a),xt(a,{validation:"cuid",code:tt.invalid_string,message:l.message}),s.dirty());else if(l.kind==="cuid2")sie.test(r.data)||(a=this._getOrReturnCtx(r,a),xt(a,{validation:"cuid2",code:tt.invalid_string,message:l.message}),s.dirty());else if(l.kind==="ulid")iie.test(r.data)||(a=this._getOrReturnCtx(r,a),xt(a,{validation:"ulid",code:tt.invalid_string,message:l.message}),s.dirty());else if(l.kind==="url")try{new URL(r.data)}catch{a=this._getOrReturnCtx(r,a),xt(a,{validation:"url",code:tt.invalid_string,message:l.message}),s.dirty()}else l.kind==="regex"?(l.regex.lastIndex=0,l.regex.test(r.data)||(a=this._getOrReturnCtx(r,a),xt(a,{validation:"regex",code:tt.invalid_string,message:l.message}),s.dirty())):l.kind==="trim"?r.data=r.data.trim():l.kind==="includes"?r.data.includes(l.value,l.position)||(a=this._getOrReturnCtx(r,a),xt(a,{code:tt.invalid_string,validation:{includes:l.value,position:l.position},message:l.message}),s.dirty()):l.kind==="toLowerCase"?r.data=r.data.toLowerCase():l.kind==="toUpperCase"?r.data=r.data.toUpperCase():l.kind==="startsWith"?r.data.startsWith(l.value)||(a=this._getOrReturnCtx(r,a),xt(a,{code:tt.invalid_string,validation:{startsWith:l.value},message:l.message}),s.dirty()):l.kind==="endsWith"?r.data.endsWith(l.value)||(a=this._getOrReturnCtx(r,a),xt(a,{code:tt.invalid_string,validation:{endsWith:l.value},message:l.message}),s.dirty()):l.kind==="datetime"?vie(l).test(r.data)||(a=this._getOrReturnCtx(r,a),xt(a,{code:tt.invalid_string,validation:"datetime",message:l.message}),s.dirty()):l.kind==="date"?xie.test(r.data)||(a=this._getOrReturnCtx(r,a),xt(a,{code:tt.invalid_string,validation:"date",message:l.message}),s.dirty()):l.kind==="time"?bie(l).test(r.data)||(a=this._getOrReturnCtx(r,a),xt(a,{code:tt.invalid_string,validation:"time",message:l.message}),s.dirty()):l.kind==="duration"?cie.test(r.data)||(a=this._getOrReturnCtx(r,a),xt(a,{validation:"duration",code:tt.invalid_string,message:l.message}),s.dirty()):l.kind==="ip"?yie(r.data,l.version)||(a=this._getOrReturnCtx(r,a),xt(a,{validation:"ip",code:tt.invalid_string,message:l.message}),s.dirty()):l.kind==="jwt"?wie(r.data,l.alg)||(a=this._getOrReturnCtx(r,a),xt(a,{validation:"jwt",code:tt.invalid_string,message:l.message}),s.dirty()):l.kind==="cidr"?kie(r.data,l.version)||(a=this._getOrReturnCtx(r,a),xt(a,{validation:"cidr",code:tt.invalid_string,message:l.message}),s.dirty()):l.kind==="base64"?gie.test(r.data)||(a=this._getOrReturnCtx(r,a),xt(a,{validation:"base64",code:tt.invalid_string,message:l.message}),s.dirty()):l.kind==="base64url"?Nie.test(r.data)||(a=this._getOrReturnCtx(r,a),xt(a,{validation:"base64url",code:tt.invalid_string,message:l.message}),s.dirty()):Lr.assertNever(l);return{status:s.value,value:r.data}}_regex(r,n,s){return this.refinement(a=>r.test(a),{validation:n,code:tt.invalid_string,...Rt.errToObj(s)})}_addCheck(r){return new vc({...this._def,checks:[...this._def.checks,r]})}email(r){return this._addCheck({kind:"email",...Rt.errToObj(r)})}url(r){return this._addCheck({kind:"url",...Rt.errToObj(r)})}emoji(r){return this._addCheck({kind:"emoji",...Rt.errToObj(r)})}uuid(r){return this._addCheck({kind:"uuid",...Rt.errToObj(r)})}nanoid(r){return this._addCheck({kind:"nanoid",...Rt.errToObj(r)})}cuid(r){return this._addCheck({kind:"cuid",...Rt.errToObj(r)})}cuid2(r){return this._addCheck({kind:"cuid2",...Rt.errToObj(r)})}ulid(r){return this._addCheck({kind:"ulid",...Rt.errToObj(r)})}base64(r){return this._addCheck({kind:"base64",...Rt.errToObj(r)})}base64url(r){return this._addCheck({kind:"base64url",...Rt.errToObj(r)})}jwt(r){return this._addCheck({kind:"jwt",...Rt.errToObj(r)})}ip(r){return this._addCheck({kind:"ip",...Rt.errToObj(r)})}cidr(r){return this._addCheck({kind:"cidr",...Rt.errToObj(r)})}datetime(r){return typeof r=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:r}):this._addCheck({kind:"datetime",precision:typeof(r==null?void 0:r.precision)>"u"?null:r==null?void 0:r.precision,offset:(r==null?void 0:r.offset)??!1,local:(r==null?void 0:r.local)??!1,...Rt.errToObj(r==null?void 0:r.message)})}date(r){return this._addCheck({kind:"date",message:r})}time(r){return typeof r=="string"?this._addCheck({kind:"time",precision:null,message:r}):this._addCheck({kind:"time",precision:typeof(r==null?void 0:r.precision)>"u"?null:r==null?void 0:r.precision,...Rt.errToObj(r==null?void 0:r.message)})}duration(r){return this._addCheck({kind:"duration",...Rt.errToObj(r)})}regex(r,n){return this._addCheck({kind:"regex",regex:r,...Rt.errToObj(n)})}includes(r,n){return this._addCheck({kind:"includes",value:r,position:n==null?void 0:n.position,...Rt.errToObj(n==null?void 0:n.message)})}startsWith(r,n){return this._addCheck({kind:"startsWith",value:r,...Rt.errToObj(n)})}endsWith(r,n){return this._addCheck({kind:"endsWith",value:r,...Rt.errToObj(n)})}min(r,n){return this._addCheck({kind:"min",value:r,...Rt.errToObj(n)})}max(r,n){return this._addCheck({kind:"max",value:r,...Rt.errToObj(n)})}length(r,n){return this._addCheck({kind:"length",value:r,...Rt.errToObj(n)})}nonempty(r){return this.min(1,Rt.errToObj(r))}trim(){return new vc({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new vc({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new vc({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(r=>r.kind==="datetime")}get isDate(){return!!this._def.checks.find(r=>r.kind==="date")}get isTime(){return!!this._def.checks.find(r=>r.kind==="time")}get isDuration(){return!!this._def.checks.find(r=>r.kind==="duration")}get isEmail(){return!!this._def.checks.find(r=>r.kind==="email")}get isURL(){return!!this._def.checks.find(r=>r.kind==="url")}get isEmoji(){return!!this._def.checks.find(r=>r.kind==="emoji")}get isUUID(){return!!this._def.checks.find(r=>r.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(r=>r.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(r=>r.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(r=>r.kind==="cuid2")}get isULID(){return!!this._def.checks.find(r=>r.kind==="ulid")}get isIP(){return!!this._def.checks.find(r=>r.kind==="ip")}get isCIDR(){return!!this._def.checks.find(r=>r.kind==="cidr")}get isBase64(){return!!this._def.checks.find(r=>r.kind==="base64")}get isBase64url(){return!!this._def.checks.find(r=>r.kind==="base64url")}get minLength(){let r=null;for(const n of this._def.checks)n.kind==="min"&&(r===null||n.value>r)&&(r=n.value);return r}get maxLength(){let r=null;for(const n of this._def.checks)n.kind==="max"&&(r===null||n.value<r)&&(r=n.value);return r}}vc.create=e=>new vc({checks:[],typeName:nr.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...yr(e)});function Eie(e,r){const n=(e.toString().split(".")[1]||"").length,s=(r.toString().split(".")[1]||"").length,a=n>s?n:s,l=Number.parseInt(e.toFixed(a).replace(".","")),c=Number.parseInt(r.toFixed(a).replace(".",""));return l%c/10**a}class og extends Ir{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(r){if(this._def.coerce&&(r.data=Number(r.data)),this._getType(r)!==Pt.number){const l=this._getOrReturnCtx(r);return xt(l,{code:tt.invalid_type,expected:Pt.number,received:l.parsedType}),rr}let s;const a=new Mi;for(const l of this._def.checks)l.kind==="int"?Lr.isInteger(r.data)||(s=this._getOrReturnCtx(r,s),xt(s,{code:tt.invalid_type,expected:"integer",received:"float",message:l.message}),a.dirty()):l.kind==="min"?(l.inclusive?r.data<l.value:r.data<=l.value)&&(s=this._getOrReturnCtx(r,s),xt(s,{code:tt.too_small,minimum:l.value,type:"number",inclusive:l.inclusive,exact:!1,message:l.message}),a.dirty()):l.kind==="max"?(l.inclusive?r.data>l.value:r.data>=l.value)&&(s=this._getOrReturnCtx(r,s),xt(s,{code:tt.too_big,maximum:l.value,type:"number",inclusive:l.inclusive,exact:!1,message:l.message}),a.dirty()):l.kind==="multipleOf"?Eie(r.data,l.value)!==0&&(s=this._getOrReturnCtx(r,s),xt(s,{code:tt.not_multiple_of,multipleOf:l.value,message:l.message}),a.dirty()):l.kind==="finite"?Number.isFinite(r.data)||(s=this._getOrReturnCtx(r,s),xt(s,{code:tt.not_finite,message:l.message}),a.dirty()):Lr.assertNever(l);return{status:a.value,value:r.data}}gte(r,n){return this.setLimit("min",r,!0,Rt.toString(n))}gt(r,n){return this.setLimit("min",r,!1,Rt.toString(n))}lte(r,n){return this.setLimit("max",r,!0,Rt.toString(n))}lt(r,n){return this.setLimit("max",r,!1,Rt.toString(n))}setLimit(r,n,s,a){return new og({...this._def,checks:[...this._def.checks,{kind:r,value:n,inclusive:s,message:Rt.toString(a)}]})}_addCheck(r){return new og({...this._def,checks:[...this._def.checks,r]})}int(r){return this._addCheck({kind:"int",message:Rt.toString(r)})}positive(r){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Rt.toString(r)})}negative(r){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Rt.toString(r)})}nonpositive(r){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Rt.toString(r)})}nonnegative(r){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Rt.toString(r)})}multipleOf(r,n){return this._addCheck({kind:"multipleOf",value:r,message:Rt.toString(n)})}finite(r){return this._addCheck({kind:"finite",message:Rt.toString(r)})}safe(r){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Rt.toString(r)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Rt.toString(r)})}get minValue(){let r=null;for(const n of this._def.checks)n.kind==="min"&&(r===null||n.value>r)&&(r=n.value);return r}get maxValue(){let r=null;for(const n of this._def.checks)n.kind==="max"&&(r===null||n.value<r)&&(r=n.value);return r}get isInt(){return!!this._def.checks.find(r=>r.kind==="int"||r.kind==="multipleOf"&&Lr.isInteger(r.value))}get isFinite(){let r=null,n=null;for(const s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf")return!0;s.kind==="min"?(n===null||s.value>n)&&(n=s.value):s.kind==="max"&&(r===null||s.value<r)&&(r=s.value)}return Number.isFinite(n)&&Number.isFinite(r)}}og.create=e=>new og({checks:[],typeName:nr.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...yr(e)});class lg extends Ir{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(r){if(this._def.coerce)try{r.data=BigInt(r.data)}catch{return this._getInvalidInput(r)}if(this._getType(r)!==Pt.bigint)return this._getInvalidInput(r);let s;const a=new Mi;for(const l of this._def.checks)l.kind==="min"?(l.inclusive?r.data<l.value:r.data<=l.value)&&(s=this._getOrReturnCtx(r,s),xt(s,{code:tt.too_small,type:"bigint",minimum:l.value,inclusive:l.inclusive,message:l.message}),a.dirty()):l.kind==="max"?(l.inclusive?r.data>l.value:r.data>=l.value)&&(s=this._getOrReturnCtx(r,s),xt(s,{code:tt.too_big,type:"bigint",maximum:l.value,inclusive:l.inclusive,message:l.message}),a.dirty()):l.kind==="multipleOf"?r.data%l.value!==BigInt(0)&&(s=this._getOrReturnCtx(r,s),xt(s,{code:tt.not_multiple_of,multipleOf:l.value,message:l.message}),a.dirty()):Lr.assertNever(l);return{status:a.value,value:r.data}}_getInvalidInput(r){const n=this._getOrReturnCtx(r);return xt(n,{code:tt.invalid_type,expected:Pt.bigint,received:n.parsedType}),rr}gte(r,n){return this.setLimit("min",r,!0,Rt.toString(n))}gt(r,n){return this.setLimit("min",r,!1,Rt.toString(n))}lte(r,n){return this.setLimit("max",r,!0,Rt.toString(n))}lt(r,n){return this.setLimit("max",r,!1,Rt.toString(n))}setLimit(r,n,s,a){return new lg({...this._def,checks:[...this._def.checks,{kind:r,value:n,inclusive:s,message:Rt.toString(a)}]})}_addCheck(r){return new lg({...this._def,checks:[...this._def.checks,r]})}positive(r){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Rt.toString(r)})}negative(r){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Rt.toString(r)})}nonpositive(r){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Rt.toString(r)})}nonnegative(r){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Rt.toString(r)})}multipleOf(r,n){return this._addCheck({kind:"multipleOf",value:r,message:Rt.toString(n)})}get minValue(){let r=null;for(const n of this._def.checks)n.kind==="min"&&(r===null||n.value>r)&&(r=n.value);return r}get maxValue(){let r=null;for(const n of this._def.checks)n.kind==="max"&&(r===null||n.value<r)&&(r=n.value);return r}}lg.create=e=>new lg({checks:[],typeName:nr.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...yr(e)});class S4 extends Ir{_parse(r){if(this._def.coerce&&(r.data=!!r.data),this._getType(r)!==Pt.boolean){const s=this._getOrReturnCtx(r);return xt(s,{code:tt.invalid_type,expected:Pt.boolean,received:s.parsedType}),rr}return ta(r.data)}}S4.create=e=>new S4({typeName:nr.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...yr(e)});class kv extends Ir{_parse(r){if(this._def.coerce&&(r.data=new Date(r.data)),this._getType(r)!==Pt.date){const l=this._getOrReturnCtx(r);return xt(l,{code:tt.invalid_type,expected:Pt.date,received:l.parsedType}),rr}if(Number.isNaN(r.data.getTime())){const l=this._getOrReturnCtx(r);return xt(l,{code:tt.invalid_date}),rr}const s=new Mi;let a;for(const l of this._def.checks)l.kind==="min"?r.data.getTime()<l.value&&(a=this._getOrReturnCtx(r,a),xt(a,{code:tt.too_small,message:l.message,inclusive:!0,exact:!1,minimum:l.value,type:"date"}),s.dirty()):l.kind==="max"?r.data.getTime()>l.value&&(a=this._getOrReturnCtx(r,a),xt(a,{code:tt.too_big,message:l.message,inclusive:!0,exact:!1,maximum:l.value,type:"date"}),s.dirty()):Lr.assertNever(l);return{status:s.value,value:new Date(r.data.getTime())}}_addCheck(r){return new kv({...this._def,checks:[...this._def.checks,r]})}min(r,n){return this._addCheck({kind:"min",value:r.getTime(),message:Rt.toString(n)})}max(r,n){return this._addCheck({kind:"max",value:r.getTime(),message:Rt.toString(n)})}get minDate(){let r=null;for(const n of this._def.checks)n.kind==="min"&&(r===null||n.value>r)&&(r=n.value);return r!=null?new Date(r):null}get maxDate(){let r=null;for(const n of this._def.checks)n.kind==="max"&&(r===null||n.value<r)&&(r=n.value);return r!=null?new Date(r):null}}kv.create=e=>new kv({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:nr.ZodDate,...yr(e)});class C4 extends Ir{_parse(r){if(this._getType(r)!==Pt.symbol){const s=this._getOrReturnCtx(r);return xt(s,{code:tt.invalid_type,expected:Pt.symbol,received:s.parsedType}),rr}return ta(r.data)}}C4.create=e=>new C4({typeName:nr.ZodSymbol,...yr(e)});class R4 extends Ir{_parse(r){if(this._getType(r)!==Pt.undefined){const s=this._getOrReturnCtx(r);return xt(s,{code:tt.invalid_type,expected:Pt.undefined,received:s.parsedType}),rr}return ta(r.data)}}R4.create=e=>new R4({typeName:nr.ZodUndefined,...yr(e)});class M4 extends Ir{_parse(r){if(this._getType(r)!==Pt.null){const s=this._getOrReturnCtx(r);return xt(s,{code:tt.invalid_type,expected:Pt.null,received:s.parsedType}),rr}return ta(r.data)}}M4.create=e=>new M4({typeName:nr.ZodNull,...yr(e)});class T4 extends Ir{constructor(){super(...arguments),this._any=!0}_parse(r){return ta(r.data)}}T4.create=e=>new T4({typeName:nr.ZodAny,...yr(e)});class A4 extends Ir{constructor(){super(...arguments),this._unknown=!0}_parse(r){return ta(r.data)}}A4.create=e=>new A4({typeName:nr.ZodUnknown,...yr(e)});class Rc extends Ir{_parse(r){const n=this._getOrReturnCtx(r);return xt(n,{code:tt.invalid_type,expected:Pt.never,received:n.parsedType}),rr}}Rc.create=e=>new Rc({typeName:nr.ZodNever,...yr(e)});class _4 extends Ir{_parse(r){if(this._getType(r)!==Pt.undefined){const s=this._getOrReturnCtx(r);return xt(s,{code:tt.invalid_type,expected:Pt.void,received:s.parsedType}),rr}return ta(r.data)}}_4.create=e=>new _4({typeName:nr.ZodVoid,...yr(e)});class fo extends Ir{_parse(r){const{ctx:n,status:s}=this._processInputParams(r),a=this._def;if(n.parsedType!==Pt.array)return xt(n,{code:tt.invalid_type,expected:Pt.array,received:n.parsedType}),rr;if(a.exactLength!==null){const c=n.data.length>a.exactLength.value,u=n.data.length<a.exactLength.value;(c||u)&&(xt(n,{code:c?tt.too_big:tt.too_small,minimum:u?a.exactLength.value:void 0,maximum:c?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),s.dirty())}if(a.minLength!==null&&n.data.length<a.minLength.value&&(xt(n,{code:tt.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),s.dirty()),a.maxLength!==null&&n.data.length>a.maxLength.value&&(xt(n,{code:tt.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),s.dirty()),n.common.async)return Promise.all([...n.data].map((c,u)=>a.type._parseAsync(new Cc(n,c,n.path,u)))).then(c=>Mi.mergeArray(s,c));const l=[...n.data].map((c,u)=>a.type._parseSync(new Cc(n,c,n.path,u)));return Mi.mergeArray(s,l)}get element(){return this._def.type}min(r,n){return new fo({...this._def,minLength:{value:r,message:Rt.toString(n)}})}max(r,n){return new fo({...this._def,maxLength:{value:r,message:Rt.toString(n)}})}length(r,n){return new fo({...this._def,exactLength:{value:r,message:Rt.toString(n)}})}nonempty(r){return this.min(1,r)}}fo.create=(e,r)=>new fo({type:e,minLength:null,maxLength:null,exactLength:null,typeName:nr.ZodArray,...yr(r)});function dd(e){if(e instanceof Fn){const r={};for(const n in e.shape){const s=e.shape[n];r[n]=wc.create(dd(s))}return new Fn({...e._def,shape:()=>r})}else return e instanceof fo?new fo({...e._def,type:dd(e.element)}):e instanceof wc?wc.create(dd(e.unwrap())):e instanceof th?th.create(dd(e.unwrap())):e instanceof qu?qu.create(e.items.map(r=>dd(r))):e}class Fn extends Ir{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const r=this._def.shape(),n=Lr.objectKeys(r);return this._cached={shape:r,keys:n},this._cached}_parse(r){if(this._getType(r)!==Pt.object){const h=this._getOrReturnCtx(r);return xt(h,{code:tt.invalid_type,expected:Pt.object,received:h.parsedType}),rr}const{status:s,ctx:a}=this._processInputParams(r),{shape:l,keys:c}=this._getCached(),u=[];if(!(this._def.catchall instanceof Rc&&this._def.unknownKeys==="strip"))for(const h in a.data)c.includes(h)||u.push(h);const d=[];for(const h of c){const g=l[h],p=a.data[h];d.push({key:{status:"valid",value:h},value:g._parse(new Cc(a,p,a.path,h)),alwaysSet:h in a.data})}if(this._def.catchall instanceof Rc){const h=this._def.unknownKeys;if(h==="passthrough")for(const g of u)d.push({key:{status:"valid",value:g},value:{status:"valid",value:a.data[g]}});else if(h==="strict")u.length>0&&(xt(a,{code:tt.unrecognized_keys,keys:u}),s.dirty());else if(h!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const h=this._def.catchall;for(const g of u){const p=a.data[g];d.push({key:{status:"valid",value:g},value:h._parse(new Cc(a,p,a.path,g)),alwaysSet:g in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const h=[];for(const g of d){const p=await g.key,N=await g.value;h.push({key:p,value:N,alwaysSet:g.alwaysSet})}return h}).then(h=>Mi.mergeObjectSync(s,h)):Mi.mergeObjectSync(s,d)}get shape(){return this._def.shape()}strict(r){return Rt.errToObj,new Fn({...this._def,unknownKeys:"strict",...r!==void 0?{errorMap:(n,s)=>{var l,c;const a=((c=(l=this._def).errorMap)==null?void 0:c.call(l,n,s).message)??s.defaultError;return n.code==="unrecognized_keys"?{message:Rt.errToObj(r).message??a}:{message:a}}}:{}})}strip(){return new Fn({...this._def,unknownKeys:"strip"})}passthrough(){return new Fn({...this._def,unknownKeys:"passthrough"})}extend(r){return new Fn({...this._def,shape:()=>({...this._def.shape(),...r})})}merge(r){return new Fn({unknownKeys:r._def.unknownKeys,catchall:r._def.catchall,shape:()=>({...this._def.shape(),...r._def.shape()}),typeName:nr.ZodObject})}setKey(r,n){return this.augment({[r]:n})}catchall(r){return new Fn({...this._def,catchall:r})}pick(r){const n={};for(const s of Lr.objectKeys(r))r[s]&&this.shape[s]&&(n[s]=this.shape[s]);return new Fn({...this._def,shape:()=>n})}omit(r){const n={};for(const s of Lr.objectKeys(this.shape))r[s]||(n[s]=this.shape[s]);return new Fn({...this._def,shape:()=>n})}deepPartial(){return dd(this)}partial(r){const n={};for(const s of Lr.objectKeys(this.shape)){const a=this.shape[s];r&&!r[s]?n[s]=a:n[s]=a.optional()}return new Fn({...this._def,shape:()=>n})}required(r){const n={};for(const s of Lr.objectKeys(this.shape))if(r&&!r[s])n[s]=this.shape[s];else{let l=this.shape[s];for(;l instanceof wc;)l=l._def.innerType;n[s]=l}return new Fn({...this._def,shape:()=>n})}keyof(){return j8(Lr.objectKeys(this.shape))}}Fn.create=(e,r)=>new Fn({shape:()=>e,unknownKeys:"strip",catchall:Rc.create(),typeName:nr.ZodObject,...yr(r)});Fn.strictCreate=(e,r)=>new Fn({shape:()=>e,unknownKeys:"strict",catchall:Rc.create(),typeName:nr.ZodObject,...yr(r)});Fn.lazycreate=(e,r)=>new Fn({shape:e,unknownKeys:"strip",catchall:Rc.create(),typeName:nr.ZodObject,...yr(r)});class Ev extends Ir{_parse(r){const{ctx:n}=this._processInputParams(r),s=this._def.options;function a(l){for(const u of l)if(u.result.status==="valid")return u.result;for(const u of l)if(u.result.status==="dirty")return n.common.issues.push(...u.ctx.common.issues),u.result;const c=l.map(u=>new hl(u.ctx.common.issues));return xt(n,{code:tt.invalid_union,unionErrors:c}),rr}if(n.common.async)return Promise.all(s.map(async l=>{const c={...n,common:{...n.common,issues:[]},parent:null};return{result:await l._parseAsync({data:n.data,path:n.path,parent:c}),ctx:c}})).then(a);{let l;const c=[];for(const d of s){const h={...n,common:{...n.common,issues:[]},parent:null},g=d._parseSync({data:n.data,path:n.path,parent:h});if(g.status==="valid")return g;g.status==="dirty"&&!l&&(l={result:g,ctx:h}),h.common.issues.length&&c.push(h.common.issues)}if(l)return n.common.issues.push(...l.ctx.common.issues),l.result;const u=c.map(d=>new hl(d));return xt(n,{code:tt.invalid_union,unionErrors:u}),rr}}get options(){return this._def.options}}Ev.create=(e,r)=>new Ev({options:e,typeName:nr.ZodUnion,...yr(r)});function qD(e,r){const n=oc(e),s=oc(r);if(e===r)return{valid:!0,data:e};if(n===Pt.object&&s===Pt.object){const a=Lr.objectKeys(r),l=Lr.objectKeys(e).filter(u=>a.indexOf(u)!==-1),c={...e,...r};for(const u of l){const d=qD(e[u],r[u]);if(!d.valid)return{valid:!1};c[u]=d.data}return{valid:!0,data:c}}else if(n===Pt.array&&s===Pt.array){if(e.length!==r.length)return{valid:!1};const a=[];for(let l=0;l<e.length;l++){const c=e[l],u=r[l],d=qD(c,u);if(!d.valid)return{valid:!1};a.push(d.data)}return{valid:!0,data:a}}else return n===Pt.date&&s===Pt.date&&+e==+r?{valid:!0,data:e}:{valid:!1}}class Dv extends Ir{_parse(r){const{status:n,ctx:s}=this._processInputParams(r),a=(l,c)=>{if(j4(l)||j4(c))return rr;const u=qD(l.value,c.value);return u.valid?((V4(l)||V4(c))&&n.dirty(),{status:n.value,value:u.data}):(xt(s,{code:tt.invalid_intersection_types}),rr)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([l,c])=>a(l,c)):a(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}}Dv.create=(e,r,n)=>new Dv({left:e,right:r,typeName:nr.ZodIntersection,...yr(n)});class qu extends Ir{_parse(r){const{status:n,ctx:s}=this._processInputParams(r);if(s.parsedType!==Pt.array)return xt(s,{code:tt.invalid_type,expected:Pt.array,received:s.parsedType}),rr;if(s.data.length<this._def.items.length)return xt(s,{code:tt.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),rr;!this._def.rest&&s.data.length>this._def.items.length&&(xt(s,{code:tt.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const l=[...s.data].map((c,u)=>{const d=this._def.items[u]||this._def.rest;return d?d._parse(new Cc(s,c,s.path,u)):null}).filter(c=>!!c);return s.common.async?Promise.all(l).then(c=>Mi.mergeArray(n,c)):Mi.mergeArray(n,l)}get items(){return this._def.items}rest(r){return new qu({...this._def,rest:r})}}qu.create=(e,r)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new qu({items:e,typeName:nr.ZodTuple,rest:null,...yr(r)})};class F4 extends Ir{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(r){const{status:n,ctx:s}=this._processInputParams(r);if(s.parsedType!==Pt.map)return xt(s,{code:tt.invalid_type,expected:Pt.map,received:s.parsedType}),rr;const a=this._def.keyType,l=this._def.valueType,c=[...s.data.entries()].map(([u,d],h)=>({key:a._parse(new Cc(s,u,s.path,[h,"key"])),value:l._parse(new Cc(s,d,s.path,[h,"value"]))}));if(s.common.async){const u=new Map;return Promise.resolve().then(async()=>{for(const d of c){const h=await d.key,g=await d.value;if(h.status==="aborted"||g.status==="aborted")return rr;(h.status==="dirty"||g.status==="dirty")&&n.dirty(),u.set(h.value,g.value)}return{status:n.value,value:u}})}else{const u=new Map;for(const d of c){const h=d.key,g=d.value;if(h.status==="aborted"||g.status==="aborted")return rr;(h.status==="dirty"||g.status==="dirty")&&n.dirty(),u.set(h.value,g.value)}return{status:n.value,value:u}}}}F4.create=(e,r,n)=>new F4({valueType:r,keyType:e,typeName:nr.ZodMap,...yr(n)});class cg extends Ir{_parse(r){const{status:n,ctx:s}=this._processInputParams(r);if(s.parsedType!==Pt.set)return xt(s,{code:tt.invalid_type,expected:Pt.set,received:s.parsedType}),rr;const a=this._def;a.minSize!==null&&s.data.size<a.minSize.value&&(xt(s,{code:tt.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),n.dirty()),a.maxSize!==null&&s.data.size>a.maxSize.value&&(xt(s,{code:tt.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),n.dirty());const l=this._def.valueType;function c(d){const h=new Set;for(const g of d){if(g.status==="aborted")return rr;g.status==="dirty"&&n.dirty(),h.add(g.value)}return{status:n.value,value:h}}const u=[...s.data.values()].map((d,h)=>l._parse(new Cc(s,d,s.path,h)));return s.common.async?Promise.all(u).then(d=>c(d)):c(u)}min(r,n){return new cg({...this._def,minSize:{value:r,message:Rt.toString(n)}})}max(r,n){return new cg({...this._def,maxSize:{value:r,message:Rt.toString(n)}})}size(r,n){return this.min(r,n).max(r,n)}nonempty(r){return this.min(1,r)}}cg.create=(e,r)=>new cg({valueType:e,minSize:null,maxSize:null,typeName:nr.ZodSet,...yr(r)});class I4 extends Ir{get schema(){return this._def.getter()}_parse(r){const{ctx:n}=this._processInputParams(r);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}I4.create=(e,r)=>new I4({getter:e,typeName:nr.ZodLazy,...yr(r)});class O4 extends Ir{_parse(r){if(r.data!==this._def.value){const n=this._getOrReturnCtx(r);return xt(n,{received:n.data,code:tt.invalid_literal,expected:this._def.value}),rr}return{status:"valid",value:r.data}}get value(){return this._def.value}}O4.create=(e,r)=>new O4({value:e,typeName:nr.ZodLiteral,...yr(r)});function j8(e,r){return new Zd({values:e,typeName:nr.ZodEnum,...yr(r)})}class Zd extends Ir{_parse(r){if(typeof r.data!="string"){const n=this._getOrReturnCtx(r),s=this._def.values;return xt(n,{expected:Lr.joinValues(s),received:n.parsedType,code:tt.invalid_type}),rr}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(r.data)){const n=this._getOrReturnCtx(r),s=this._def.values;return xt(n,{received:n.data,code:tt.invalid_enum_value,options:s}),rr}return ta(r.data)}get options(){return this._def.values}get enum(){const r={};for(const n of this._def.values)r[n]=n;return r}get Values(){const r={};for(const n of this._def.values)r[n]=n;return r}get Enum(){const r={};for(const n of this._def.values)r[n]=n;return r}extract(r,n=this._def){return Zd.create(r,{...this._def,...n})}exclude(r,n=this._def){return Zd.create(this.options.filter(s=>!r.includes(s)),{...this._def,...n})}}Zd.create=j8;class L4 extends Ir{_parse(r){const n=Lr.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(r);if(s.parsedType!==Pt.string&&s.parsedType!==Pt.number){const a=Lr.objectValues(n);return xt(s,{expected:Lr.joinValues(a),received:s.parsedType,code:tt.invalid_type}),rr}if(this._cache||(this._cache=new Set(Lr.getValidEnumValues(this._def.values))),!this._cache.has(r.data)){const a=Lr.objectValues(n);return xt(s,{received:s.data,code:tt.invalid_enum_value,options:a}),rr}return ta(r.data)}get enum(){return this._def.values}}L4.create=(e,r)=>new L4({values:e,typeName:nr.ZodNativeEnum,...yr(r)});class jv extends Ir{unwrap(){return this._def.type}_parse(r){const{ctx:n}=this._processInputParams(r);if(n.parsedType!==Pt.promise&&n.common.async===!1)return xt(n,{code:tt.invalid_type,expected:Pt.promise,received:n.parsedType}),rr;const s=n.parsedType===Pt.promise?n.data:Promise.resolve(n.data);return ta(s.then(a=>this._def.type.parseAsync(a,{path:n.path,errorMap:n.common.contextualErrorMap})))}}jv.create=(e,r)=>new jv({type:e,typeName:nr.ZodPromise,...yr(r)});class eh extends Ir{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===nr.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(r){const{status:n,ctx:s}=this._processInputParams(r),a=this._def.effect||null,l={addIssue:c=>{xt(s,c),c.fatal?n.abort():n.dirty()},get path(){return s.path}};if(l.addIssue=l.addIssue.bind(l),a.type==="preprocess"){const c=a.transform(s.data,l);if(s.common.async)return Promise.resolve(c).then(async u=>{if(n.value==="aborted")return rr;const d=await this._def.schema._parseAsync({data:u,path:s.path,parent:s});return d.status==="aborted"?rr:d.status==="dirty"||n.value==="dirty"?Bp(d.value):d});{if(n.value==="aborted")return rr;const u=this._def.schema._parseSync({data:c,path:s.path,parent:s});return u.status==="aborted"?rr:u.status==="dirty"||n.value==="dirty"?Bp(u.value):u}}if(a.type==="refinement"){const c=u=>{const d=a.refinement(u,l);if(s.common.async)return Promise.resolve(d);if(d instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return u};if(s.common.async===!1){const u=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return u.status==="aborted"?rr:(u.status==="dirty"&&n.dirty(),c(u.value),{status:n.value,value:u.value})}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(u=>u.status==="aborted"?rr:(u.status==="dirty"&&n.dirty(),c(u.value).then(()=>({status:n.value,value:u.value}))))}if(a.type==="transform")if(s.common.async===!1){const c=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!Qd(c))return rr;const u=a.transform(c.value,l);if(u instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:u}}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(c=>Qd(c)?Promise.resolve(a.transform(c.value,l)).then(u=>({status:n.value,value:u})):rr);Lr.assertNever(a)}}eh.create=(e,r,n)=>new eh({schema:e,typeName:nr.ZodEffects,effect:r,...yr(n)});eh.createWithPreprocess=(e,r,n)=>new eh({schema:r,effect:{type:"preprocess",transform:e},typeName:nr.ZodEffects,...yr(n)});class wc extends Ir{_parse(r){return this._getType(r)===Pt.undefined?ta(void 0):this._def.innerType._parse(r)}unwrap(){return this._def.innerType}}wc.create=(e,r)=>new wc({innerType:e,typeName:nr.ZodOptional,...yr(r)});class th extends Ir{_parse(r){return this._getType(r)===Pt.null?ta(null):this._def.innerType._parse(r)}unwrap(){return this._def.innerType}}th.create=(e,r)=>new th({innerType:e,typeName:nr.ZodNullable,...yr(r)});class YD extends Ir{_parse(r){const{ctx:n}=this._processInputParams(r);let s=n.data;return n.parsedType===Pt.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}YD.create=(e,r)=>new YD({innerType:e,typeName:nr.ZodDefault,defaultValue:typeof r.default=="function"?r.default:()=>r.default,...yr(r)});class XD extends Ir{_parse(r){const{ctx:n}=this._processInputParams(r),s={...n,common:{...n.common,issues:[]}},a=this._def.innerType._parse({data:s.data,path:s.path,parent:{...s}});return wv(a)?a.then(l=>({status:"valid",value:l.status==="valid"?l.value:this._def.catchValue({get error(){return new hl(s.common.issues)},input:s.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new hl(s.common.issues)},input:s.data})}}removeCatch(){return this._def.innerType}}XD.create=(e,r)=>new XD({innerType:e,typeName:nr.ZodCatch,catchValue:typeof r.catch=="function"?r.catch:()=>r.catch,...yr(r)});class $4 extends Ir{_parse(r){if(this._getType(r)!==Pt.nan){const s=this._getOrReturnCtx(r);return xt(s,{code:tt.invalid_type,expected:Pt.nan,received:s.parsedType}),rr}return{status:"valid",value:r.data}}}$4.create=e=>new $4({typeName:nr.ZodNaN,...yr(e)});class Die extends Ir{_parse(r){const{ctx:n}=this._processInputParams(r),s=n.data;return this._def.type._parse({data:s,path:n.path,parent:n})}unwrap(){return this._def.type}}class AV extends Ir{_parse(r){const{status:n,ctx:s}=this._processInputParams(r);if(s.common.async)return(async()=>{const l=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return l.status==="aborted"?rr:l.status==="dirty"?(n.dirty(),Bp(l.value)):this._def.out._parseAsync({data:l.value,path:s.path,parent:s})})();{const a=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return a.status==="aborted"?rr:a.status==="dirty"?(n.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:s.path,parent:s})}}static create(r,n){return new AV({in:r,out:n,typeName:nr.ZodPipeline})}}class QD extends Ir{_parse(r){const n=this._def.innerType._parse(r),s=a=>(Qd(a)&&(a.value=Object.freeze(a.value)),a);return wv(n)?n.then(a=>s(a)):s(n)}unwrap(){return this._def.innerType}}QD.create=(e,r)=>new QD({innerType:e,typeName:nr.ZodReadonly,...yr(r)});var nr;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(nr||(nr={}));const Mp=vc.create;Rc.create;fo.create;const jie=Fn.create;Ev.create;Dv.create;qu.create;Zd.create;jv.create;wc.create;th.create;const Vie=Rse,V8=v.createContext({}),Tp=({...e})=>t.jsxDEV(V8.Provider,{value:{name:e.name},children:t.jsxDEV(_se,{...e},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/form.tsx",lineNumber:39,columnNumber:7},void 0)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/form.tsx",lineNumber:38,columnNumber:5},void 0),E0=()=>{const e=v.useContext(V8),r=v.useContext(P8),{getFieldState:n,formState:s}=k0(),a=n(e.name,s);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:l}=r;return{id:l,name:e.name,formItemId:`${l}-form-item`,formDescriptionId:`${l}-form-item-description`,formMessageId:`${l}-form-item-message`,...a}},P8=v.createContext({}),hd=v.forwardRef(({className:e,...r},n)=>{const s=v.useId();return t.jsxDEV(P8.Provider,{value:{id:s},children:t.jsxDEV("div",{ref:n,className:Ke("space-y-2",e),...r},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/form.tsx",lineNumber:83,columnNumber:7},void 0)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/form.tsx",lineNumber:82,columnNumber:5},void 0)});hd.displayName="FormItem";const fd=v.forwardRef(({className:e,...r},n)=>{const{error:s,formItemId:a}=E0();return t.jsxDEV(br,{ref:n,className:Ke(s&&"text-destructive",e),htmlFor:a,...r},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/form.tsx",lineNumber:96,columnNumber:5},void 0)});fd.displayName="FormLabel";const pd=v.forwardRef(({...e},r)=>{const{error:n,formItemId:s,formDescriptionId:a,formMessageId:l}=E0();return t.jsxDEV(N7,{ref:r,id:s,"aria-describedby":n?`${a} ${l}`:`${a}`,"aria-invalid":!!n,...e},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/form.tsx",lineNumber:113,columnNumber:5},void 0)});pd.displayName="FormControl";const gd=v.forwardRef(({className:e,...r},n)=>{const{formDescriptionId:s}=E0();return t.jsxDEV("p",{ref:n,id:s,className:Ke("text-sm text-muted-foreground",e),...r},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/form.tsx",lineNumber:135,columnNumber:5},void 0)});gd.displayName="FormDescription";const Nd=v.forwardRef(({className:e,children:r,...n},s)=>{const{error:a,formMessageId:l}=E0(),c=a?String((a==null?void 0:a.message)??""):r;return c?t.jsxDEV("p",{ref:s,id:l,className:Ke("text-sm font-medium text-destructive",e),...n,children:c},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/form.tsx",lineNumber:157,columnNumber:5},void 0):null});Nd.displayName="FormMessage";const B4=[{value:"b2b_software",label:"B2B Software",description:"Software sold to businesses"},{value:"b2c_software",label:"B2C Software",description:"Software sold directly to consumers"},{value:"professional_services",label:"Professional Services",description:"Consulting, agencies, or service-based businesses"},{value:"physical_product",label:"Physical Product",description:"Tangible goods sold to customers"},{value:"marketplace_platform",label:"Marketplace/Platform",description:"Two-sided marketplaces connecting buyers and sellers"},{value:"content_education",label:"Content/Education",description:"Courses, content, or educational products"},{value:"other",label:"Other",description:"Other types of offerings"}],z4=[{value:"idea_stage",label:"Idea Stage",description:"Just an idea, no product yet"},{value:"built_no_users",label:"Built, No Users",description:"Product built but no users yet"},{value:"early_users",label:"Early Users",description:"Have some initial users or customers"},{value:"growing",label:"Growing",description:"Established with growing user base"},{value:"scaling",label:"Scaling",description:"Actively scaling operations"}],W4=[{value:"solo_founder",label:"Solo Founder",description:"One person doing everything"},{value:"small_team",label:"Small Team",description:"Small team with limited resources"},{value:"funded_startup",label:"Funded Startup",description:"Have raised funding, building team"},{value:"established_company",label:"Established Company",description:"Established company with resources"}],U4=[{value:"self_serve",label:"Self-Serve",description:"Users sign up and buy on their own"},{value:"light_touch",label:"Light Touch",description:"Some sales involvement, mostly self-serve"},{value:"enterprise",label:"Enterprise",description:"High-touch sales process"},{value:"partner_channel",label:"Partner/Channel",description:"Sell through partners or resellers"}],Pie=jie({offeringType:Mp().min(1,"Please select an offering type"),companyStage:Mp().min(1,"Please select a company stage"),gtmConstraint:Mp().min(1,"Please select a GTM constraint"),salesMotion:Mp().min(1,"Please select a sales motion"),existingCustomerHypothesis:Mp().optional()});function Sie(){const{understandingId:e}=Oa(),[,r]=or(),{toast:n}=ur(),{data:s,isLoading:a,error:l}=yt({queryKey:["/api/marketing-consultant",e],enabled:!!e}),c=qse({resolver:Zse(Pie),defaultValues:{offeringType:"",companyStage:"",gtmConstraint:"",salesMotion:"",existingCustomerHypothesis:""}});v.useEffect(()=>{s&&c.reset({offeringType:s.offeringType||"",companyStage:s.stage||"",gtmConstraint:s.gtmConstraint||"",salesMotion:s.salesMotion||"",existingCustomerHypothesis:s.existingHypothesis||""})},[s,c]);const u=Qr({mutationFn:async p=>(await Zt("POST","/api/marketing-consultant/classification/confirm",{understandingId:e,offeringType:p.offeringType,stage:p.companyStage,gtmConstraint:p.gtmConstraint,salesMotion:p.salesMotion,existingHypothesis:p.existingCustomerHypothesis||null})).json(),onSuccess:()=>{n({title:"Classification confirmed",description:"Your classification has been saved. Starting segment discovery..."}),setTimeout(()=>{r(`/marketing-consultant/journey-selection/${e}`)},500)},onError:p=>{n({title:"Failed to confirm classification",description:p.message||"An unexpected error occurred. Please try again.",variant:"destructive"})}}),d=p=>{u.mutate(p)};if(a)return t.jsxDEV(st,{title:"Classification",subtitle:"Loading...",children:t.jsxDEV("div",{className:"max-w-4xl mx-auto",children:t.jsxDEV(Z,{children:t.jsxDEV(te,{className:"p-12 flex flex-col items-center justify-center",children:[t.jsxDEV(lt,{className:"h-12 w-12 animate-spin text-primary mb-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/ClassificationPage.tsx",lineNumber:161,columnNumber:15},this),t.jsxDEV("p",{className:"text-muted-foreground",children:"Loading classification..."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/ClassificationPage.tsx",lineNumber:162,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/ClassificationPage.tsx",lineNumber:160,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/ClassificationPage.tsx",lineNumber:159,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/ClassificationPage.tsx",lineNumber:158,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/ClassificationPage.tsx",lineNumber:157,columnNumber:7},this);if(l||!s)return t.jsxDEV(st,{title:"Classification",subtitle:"Error loading",children:t.jsxDEV("div",{className:"max-w-4xl mx-auto space-y-4",children:[t.jsxDEV(it,{variant:"destructive",children:[t.jsxDEV(Dt,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/ClassificationPage.tsx",lineNumber:175,columnNumber:13},this),t.jsxDEV(at,{children:"Classification data not found. Please try again."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/ClassificationPage.tsx",lineNumber:176,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/ClassificationPage.tsx",lineNumber:174,columnNumber:11},this),t.jsxDEV("div",{className:"flex gap-3",children:t.jsxDEV(me,{variant:"outline",onClick:()=>r("/marketing-consultant/input"),"data-testid":"button-back-to-input",children:"Back to Input"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/ClassificationPage.tsx",lineNumber:181,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/ClassificationPage.tsx",lineNumber:180,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/ClassificationPage.tsx",lineNumber:173,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/ClassificationPage.tsx",lineNumber:172,columnNumber:7},this);const h=s.classificationConfidence?Math.round(s.classificationConfidence*100):null,g=h?h>=80?"text-green-600":h>=60?"text-yellow-600":"text-orange-600":"text-muted-foreground";return t.jsxDEV(st,{title:"Confirm Classification",subtitle:"Review and confirm the AI-detected classification",children:t.jsxDEV("div",{className:"max-w-4xl mx-auto space-y-6",children:[t.jsxDEV(Z,{children:[t.jsxDEV(de,{children:t.jsxDEV("div",{className:"flex items-start justify-between",children:[t.jsxDEV("div",{children:[t.jsxDEV(pe,{className:"text-2xl",children:"AI Classification"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/ClassificationPage.tsx",lineNumber:209,columnNumber:17},this),t.jsxDEV(He,{className:"mt-2",children:"We've analyzed your offering. Please confirm or correct the classification below."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/ClassificationPage.tsx",lineNumber:210,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/ClassificationPage.tsx",lineNumber:208,columnNumber:15},this),h!==null&&t.jsxDEV(se,{variant:"outline",className:`${g} border-current`,"data-testid":"badge-confidence",children:[h,"% confidence"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/ClassificationPage.tsx",lineNumber:215,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/ClassificationPage.tsx",lineNumber:207,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/ClassificationPage.tsx",lineNumber:206,columnNumber:11},this),t.jsxDEV(te,{children:t.jsxDEV(Vie,{...c,children:t.jsxDEV("form",{onSubmit:c.handleSubmit(d),className:"space-y-6",children:[t.jsxDEV(Tp,{control:c.control,name:"offeringType",render:({field:p})=>{var N;return t.jsxDEV(hd,{children:[t.jsxDEV(fd,{children:"Offering Type"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/ClassificationPage.tsx",lineNumber:233,columnNumber:23},this),t.jsxDEV(Pa,{onValueChange:p.onChange,value:p.value,children:[t.jsxDEV(pd,{children:t.jsxDEV(Qi,{"data-testid":"select-offering-type",children:t.jsxDEV(Sa,{placeholder:"Select your offering type"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/ClassificationPage.tsx",lineNumber:237,columnNumber:29},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/ClassificationPage.tsx",lineNumber:236,columnNumber:27},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/ClassificationPage.tsx",lineNumber:235,columnNumber:25},this),t.jsxDEV(Zi,{className:"bg-popover text-popover-foreground border border-border",children:B4.map(b=>t.jsxDEV(as,{value:b.value,"data-testid":`select-option-offering-${b.value}`,children:b.label},b.value,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/ClassificationPage.tsx",lineNumber:242,columnNumber:29},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/ClassificationPage.tsx",lineNumber:240,columnNumber:25},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/ClassificationPage.tsx",lineNumber:234,columnNumber:23},this),p.value&&t.jsxDEV(gd,{children:(N=B4.find(b=>b.value===p.value))==null?void 0:N.description},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/ClassificationPage.tsx",lineNumber:253,columnNumber:25},this),t.jsxDEV(Nd,{},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/ClassificationPage.tsx",lineNumber:257,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/ClassificationPage.tsx",lineNumber:232,columnNumber:21},this)}},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/ClassificationPage.tsx",lineNumber:228,columnNumber:17},this),t.jsxDEV(Tp,{control:c.control,name:"companyStage",render:({field:p})=>{var N;return t.jsxDEV(hd,{children:[t.jsxDEV(fd,{children:"Company Stage"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/ClassificationPage.tsx",lineNumber:267,columnNumber:23},this),t.jsxDEV(Pa,{onValueChange:p.onChange,value:p.value,children:[t.jsxDEV(pd,{children:t.jsxDEV(Qi,{"data-testid":"select-company-stage",children:t.jsxDEV(Sa,{placeholder:"Select your company stage"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/ClassificationPage.tsx",lineNumber:271,columnNumber:29},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/ClassificationPage.tsx",lineNumber:270,columnNumber:27},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/ClassificationPage.tsx",lineNumber:269,columnNumber:25},this),t.jsxDEV(Zi,{className:"bg-popover text-popover-foreground border border-border",children:z4.map(b=>t.jsxDEV(as,{value:b.value,"data-testid":`select-option-stage-${b.value}`,children:b.label},b.value,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/ClassificationPage.tsx",lineNumber:276,columnNumber:29},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/ClassificationPage.tsx",lineNumber:274,columnNumber:25},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/ClassificationPage.tsx",lineNumber:268,columnNumber:23},this),p.value&&t.jsxDEV(gd,{children:(N=z4.find(b=>b.value===p.value))==null?void 0:N.description},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/ClassificationPage.tsx",lineNumber:287,columnNumber:25},this),t.jsxDEV(Nd,{},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/ClassificationPage.tsx",lineNumber:291,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/ClassificationPage.tsx",lineNumber:266,columnNumber:21},this)}},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/ClassificationPage.tsx",lineNumber:262,columnNumber:17},this),t.jsxDEV(Tp,{control:c.control,name:"gtmConstraint",render:({field:p})=>{var N;return t.jsxDEV(hd,{children:[t.jsxDEV(fd,{children:"Go-to-Market Constraint"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/ClassificationPage.tsx",lineNumber:301,columnNumber:23},this),t.jsxDEV(Pa,{onValueChange:p.onChange,value:p.value,children:[t.jsxDEV(pd,{children:t.jsxDEV(Qi,{"data-testid":"select-gtm-constraint",children:t.jsxDEV(Sa,{placeholder:"Select your GTM constraint"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/ClassificationPage.tsx",lineNumber:305,columnNumber:29},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/ClassificationPage.tsx",lineNumber:304,columnNumber:27},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/ClassificationPage.tsx",lineNumber:303,columnNumber:25},this),t.jsxDEV(Zi,{className:"bg-popover text-popover-foreground border border-border",children:W4.map(b=>t.jsxDEV(as,{value:b.value,"data-testid":`select-option-gtm-${b.value}`,children:b.label},b.value,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/ClassificationPage.tsx",lineNumber:310,columnNumber:29},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/ClassificationPage.tsx",lineNumber:308,columnNumber:25},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/ClassificationPage.tsx",lineNumber:302,columnNumber:23},this),p.value&&t.jsxDEV(gd,{children:(N=W4.find(b=>b.value===p.value))==null?void 0:N.description},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/ClassificationPage.tsx",lineNumber:321,columnNumber:25},this),t.jsxDEV(Nd,{},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/ClassificationPage.tsx",lineNumber:325,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/ClassificationPage.tsx",lineNumber:300,columnNumber:21},this)}},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/ClassificationPage.tsx",lineNumber:296,columnNumber:17},this),t.jsxDEV(Tp,{control:c.control,name:"salesMotion",render:({field:p})=>{var N;return t.jsxDEV(hd,{children:[t.jsxDEV(fd,{children:"Sales Motion"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/ClassificationPage.tsx",lineNumber:335,columnNumber:23},this),t.jsxDEV(Pa,{onValueChange:p.onChange,value:p.value,children:[t.jsxDEV(pd,{children:t.jsxDEV(Qi,{"data-testid":"select-sales-motion",children:t.jsxDEV(Sa,{placeholder:"Select your sales motion"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/ClassificationPage.tsx",lineNumber:339,columnNumber:29},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/ClassificationPage.tsx",lineNumber:338,columnNumber:27},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/ClassificationPage.tsx",lineNumber:337,columnNumber:25},this),t.jsxDEV(Zi,{className:"bg-popover text-popover-foreground border border-border",children:U4.map(b=>t.jsxDEV(as,{value:b.value,"data-testid":`select-option-sales-${b.value}`,children:b.label},b.value,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/ClassificationPage.tsx",lineNumber:344,columnNumber:29},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/ClassificationPage.tsx",lineNumber:342,columnNumber:25},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/ClassificationPage.tsx",lineNumber:336,columnNumber:23},this),p.value&&t.jsxDEV(gd,{children:(N=U4.find(b=>b.value===p.value))==null?void 0:N.description},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/ClassificationPage.tsx",lineNumber:355,columnNumber:25},this),t.jsxDEV(Nd,{},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/ClassificationPage.tsx",lineNumber:359,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/ClassificationPage.tsx",lineNumber:334,columnNumber:21},this)}},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/ClassificationPage.tsx",lineNumber:330,columnNumber:17},this),t.jsxDEV(Tp,{control:c.control,name:"existingCustomerHypothesis",render:({field:p})=>t.jsxDEV(hd,{children:[t.jsxDEV(fd,{children:"Existing Customer Hypothesis (Optional)"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/ClassificationPage.tsx",lineNumber:369,columnNumber:23},this),t.jsxDEV(pd,{children:t.jsxDEV(In,{placeholder:"Describe who you think your ideal customers are, if you have any ideas...",className:"resize-none",rows:4,"data-testid":"textarea-customer-hypothesis",...p},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/ClassificationPage.tsx",lineNumber:371,columnNumber:25},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/ClassificationPage.tsx",lineNumber:370,columnNumber:23},this),t.jsxDEV(gd,{children:"Share any existing thoughts about your target customers. This helps guide the segment discovery."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/ClassificationPage.tsx",lineNumber:379,columnNumber:23},this),t.jsxDEV(Nd,{},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/ClassificationPage.tsx",lineNumber:382,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/ClassificationPage.tsx",lineNumber:368,columnNumber:21},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/ClassificationPage.tsx",lineNumber:364,columnNumber:17},this),t.jsxDEV(me,{type:"submit",disabled:u.isPending,className:"w-full font-semibold text-base shadow-md hover:shadow-lg",size:"lg","data-testid":"button-confirm-classification",children:u.isPending?t.jsxDEV(t.Fragment,{children:[t.jsxDEV(lt,{className:"mr-2 h-5 w-5 animate-spin"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/ClassificationPage.tsx",lineNumber:396,columnNumber:23},this),"Saving..."]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/ClassificationPage.tsx",lineNumber:395,columnNumber:21},this):t.jsxDEV(t.Fragment,{children:["Confirm and Start Segment Discovery",t.jsxDEV(ar,{className:"ml-2 h-5 w-5"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/ClassificationPage.tsx",lineNumber:402,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/ClassificationPage.tsx",lineNumber:400,columnNumber:21},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/ClassificationPage.tsx",lineNumber:387,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/ClassificationPage.tsx",lineNumber:227,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/ClassificationPage.tsx",lineNumber:226,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/ClassificationPage.tsx",lineNumber:225,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/ClassificationPage.tsx",lineNumber:205,columnNumber:9},this),t.jsxDEV(Z,{className:"bg-muted/50",children:t.jsxDEV(te,{className:"pt-6",children:t.jsxDEV("div",{className:"flex gap-3",children:[t.jsxDEV(bo,{className:"h-5 w-5 text-muted-foreground flex-shrink-0 mt-0.5"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/ClassificationPage.tsx",lineNumber:414,columnNumber:15},this),t.jsxDEV("div",{className:"space-y-2 text-sm text-muted-foreground",children:[t.jsxDEV("p",{children:[t.jsxDEV("strong",{children:"Why does this matter?"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/ClassificationPage.tsx",lineNumber:417,columnNumber:19},this)," Your classification helps our AI identify the most relevant customer segments for your specific type of offering, stage, and go-to-market approach."]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/ClassificationPage.tsx",lineNumber:416,columnNumber:17},this),t.jsxDEV("p",{children:"If the AI got something wrong, please correct it. Accurate classification leads to better segment recommendations."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/ClassificationPage.tsx",lineNumber:421,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/ClassificationPage.tsx",lineNumber:415,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/ClassificationPage.tsx",lineNumber:413,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/ClassificationPage.tsx",lineNumber:412,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/ClassificationPage.tsx",lineNumber:411,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/ClassificationPage.tsx",lineNumber:204,columnNumber:7},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/ClassificationPage.tsx",lineNumber:203,columnNumber:5},this)}const G4=[{id:"segment_discovery",title:"Segment Discovery",description:"Identify your ideal customer segments using an 8-dimension gene library approach",icon:Xr,available:!0,isBeta:!0},{id:"positioning_research",title:"Positioning Research",description:"Define your unique market position and messaging strategy",icon:jX,available:!1,isBeta:!1},{id:"competitive_analysis",title:"Competitive Analysis",description:"Analyze your competitive landscape and identify opportunities",icon:r0,available:!1,isBeta:!1}];function Cie(){const[,e]=Xn("/marketing-consultant/journey-selection/:understandingId"),r=e==null?void 0:e.understandingId,[,n]=or(),{toast:s}=ur(),[a,l]=v.useState(null),{data:c,isLoading:u}=yt({queryKey:["/api/marketing-consultant/beta-status"],enabled:!!r}),{data:d,isLoading:h}=yt({queryKey:["/api/marketing-consultant",r],enabled:!!r}),g=c?c.maxCount-c.currentCount:50,p=u||h;if(!r)return t.jsxDEV(st,{title:"Select Your Marketing Journey",subtitle:"Choose the marketing analysis approach that fits your needs",children:t.jsxDEV("div",{className:"flex items-center justify-center h-64",children:t.jsxDEV("p",{className:"text-destructive","data-testid":"error-no-understanding-id",children:"Error: No understanding ID found in URL. Please start a new analysis."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/JourneySelectionPage.tsx",lineNumber:85,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/JourneySelectionPage.tsx",lineNumber:84,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/JourneySelectionPage.tsx",lineNumber:80,columnNumber:7},this);const N=async b=>{const D=G4.find(E=>E.id===b);if(!(D!=null&&D.available)){s({title:"Coming Soon",description:"This journey is not yet available. Check back soon!"});return}l(b);try{const E=await fetch("/api/marketing-consultant/beta/increment",{method:"POST",headers:{"Content-Type":"application/json"}});if(!E.ok)throw new Error("Failed to check beta availability");if(!(await E.json()).available){s({title:"Beta limit reached",description:"Beta limit reached - join waitlist",variant:"destructive"}),l(null);return}n(`/marketing-consultant/segment-discovery/${r}`)}catch(E){s({title:"Error",description:E.message||"Failed to start journey",variant:"destructive"}),l(null)}};return p?t.jsxDEV(st,{title:"Select Your Marketing Journey",subtitle:"Choose the marketing analysis approach that fits your needs",children:t.jsxDEV("div",{className:"flex items-center justify-center h-64",children:t.jsxDEV(lt,{className:"h-8 w-8 animate-spin text-primary","data-testid":"loading-spinner"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/JourneySelectionPage.tsx",lineNumber:146,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/JourneySelectionPage.tsx",lineNumber:145,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/JourneySelectionPage.tsx",lineNumber:141,columnNumber:7},this):t.jsxDEV(st,{title:"Select Your Marketing Journey",subtitle:"Choose the marketing analysis approach that fits your needs",children:t.jsxDEV("div",{className:"max-w-6xl mx-auto space-y-6 p-4 sm:p-0",children:[(d==null?void 0:d.offeringDescription)&&t.jsxDEV(Z,{className:"bg-muted/50",children:[t.jsxDEV(de,{className:"p-4 sm:p-6",children:t.jsxDEV(pe,{className:"text-lg",children:"Your Offering"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/JourneySelectionPage.tsx",lineNumber:161,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/JourneySelectionPage.tsx",lineNumber:160,columnNumber:13},this),t.jsxDEV(te,{className:"p-4 sm:p-6 pt-0",children:t.jsxDEV("p",{className:"text-sm text-muted-foreground line-clamp-3 break-words","data-testid":"text-offering-description",children:d.offeringDescription},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/JourneySelectionPage.tsx",lineNumber:164,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/JourneySelectionPage.tsx",lineNumber:163,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/JourneySelectionPage.tsx",lineNumber:159,columnNumber:11},this),t.jsxDEV("div",{className:"grid gap-6 grid-cols-1 md:grid-cols-2 lg:grid-cols-3","data-testid":"journey-grid",children:G4.map(b=>{const D=b.icon;return t.jsxDEV(Z,{className:`relative transition-all ${b.available?"hover:shadow-xl hover:border-primary hover:scale-[1.02] border-2 cursor-pointer":"opacity-60"}`,"data-testid":`card-journey-${b.id}`,children:[t.jsxDEV(de,{children:[t.jsxDEV("div",{className:"flex items-start justify-between",children:[t.jsxDEV("div",{className:"flex items-center gap-3",children:[t.jsxDEV("div",{className:`p-2 rounded-lg ${b.available?"bg-primary/10":"bg-muted"}`,children:t.jsxDEV(D,{className:`h-5 w-5 ${b.available?"text-primary":"text-muted-foreground"}`},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/JourneySelectionPage.tsx",lineNumber:188,columnNumber:25},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/JourneySelectionPage.tsx",lineNumber:187,columnNumber:23},this),t.jsxDEV(pe,{className:"text-lg",children:b.title},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/JourneySelectionPage.tsx",lineNumber:190,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/JourneySelectionPage.tsx",lineNumber:186,columnNumber:21},this),b.available?b.isBeta?t.jsxDEV(se,{variant:"secondary",className:"ml-2","data-testid":`badge-beta-${b.id}`,children:[g," seats remaining"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/JourneySelectionPage.tsx",lineNumber:194,columnNumber:25},this):t.jsxDEV(se,{variant:"default",className:"ml-2",children:[t.jsxDEV(tr,{className:"h-3 w-3 mr-1"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/JourneySelectionPage.tsx",lineNumber:199,columnNumber:27},this),"Available"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/JourneySelectionPage.tsx",lineNumber:198,columnNumber:25},this):t.jsxDEV(se,{variant:"outline",className:"ml-2","data-testid":`badge-coming-soon-${b.id}`,children:[t.jsxDEV(qs,{className:"h-3 w-3 mr-1"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/JourneySelectionPage.tsx",lineNumber:205,columnNumber:25},this),"Coming Soon"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/JourneySelectionPage.tsx",lineNumber:204,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/JourneySelectionPage.tsx",lineNumber:185,columnNumber:19},this),t.jsxDEV(He,{className:"mt-3",children:b.description},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/JourneySelectionPage.tsx",lineNumber:210,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/JourneySelectionPage.tsx",lineNumber:184,columnNumber:17},this),t.jsxDEV(te,{children:t.jsxDEV(me,{onClick:()=>N(b.id),disabled:!b.available||a!==null,size:"lg",className:"w-full font-semibold text-base shadow-md hover:shadow-lg","data-testid":`button-start-${b.id}`,children:a===b.id?t.jsxDEV(t.Fragment,{children:[t.jsxDEV(lt,{className:"h-5 w-5 mr-2 animate-spin"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/JourneySelectionPage.tsx",lineNumber:224,columnNumber:25},this),"Starting..."]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/JourneySelectionPage.tsx",lineNumber:223,columnNumber:23},this):b.available?t.jsxDEV(t.Fragment,{children:["Start Journey",t.jsxDEV(ar,{className:"h-5 w-5 ml-2"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/JourneySelectionPage.tsx",lineNumber:230,columnNumber:25},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/JourneySelectionPage.tsx",lineNumber:228,columnNumber:23},this):"Coming Soon"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/JourneySelectionPage.tsx",lineNumber:215,columnNumber:19},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/JourneySelectionPage.tsx",lineNumber:214,columnNumber:17},this)]},b.id,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/JourneySelectionPage.tsx",lineNumber:175,columnNumber:15},this)})},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/JourneySelectionPage.tsx",lineNumber:171,columnNumber:9},this),t.jsxDEV(Z,{className:"border-dashed",children:t.jsxDEV(te,{className:"pt-6",children:t.jsxDEV("p",{className:"text-sm text-muted-foreground text-center",children:[" ",t.jsxDEV("strong",{children:"Segment Discovery"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/JourneySelectionPage.tsx",lineNumber:245,columnNumber:18},this)," helps you identify your ideal customer segments using research-backed methodologies."]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/JourneySelectionPage.tsx",lineNumber:244,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/JourneySelectionPage.tsx",lineNumber:243,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/JourneySelectionPage.tsx",lineNumber:242,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/JourneySelectionPage.tsx",lineNumber:157,columnNumber:7},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/JourneySelectionPage.tsx",lineNumber:153,columnNumber:5},this)}var _V="Tabs",[Rie]=As(_V,[y0]),S8=y0(),[Mie,FV]=Rie(_V),C8=v.forwardRef((e,r)=>{const{__scopeTabs:n,value:s,onValueChange:a,defaultValue:l,orientation:c="horizontal",dir:u,activationMode:d="automatic",...h}=e,g=jh(u),[p,N]=ea({prop:s,onChange:a,defaultProp:l});return U.jsx(Mie,{scope:n,baseId:Ta(),value:p,onValueChange:N,orientation:c,dir:g,activationMode:d,children:U.jsx(At.div,{dir:g,"data-orientation":c,...h,ref:r})})});C8.displayName=_V;var R8="TabsList",M8=v.forwardRef((e,r)=>{const{__scopeTabs:n,loop:s=!0,...a}=e,l=FV(R8,n),c=S8(n);return U.jsx(W_,{asChild:!0,...c,orientation:l.orientation,dir:l.dir,loop:s,children:U.jsx(At.div,{role:"tablist","aria-orientation":l.orientation,...a,ref:r})})});M8.displayName=R8;var T8="TabsTrigger",A8=v.forwardRef((e,r)=>{const{__scopeTabs:n,value:s,disabled:a=!1,...l}=e,c=FV(T8,n),u=S8(n),d=I8(c.baseId,s),h=O8(c.baseId,s),g=s===c.value;return U.jsx(U_,{asChild:!0,...u,focusable:!a,active:g,children:U.jsx(At.button,{type:"button",role:"tab","aria-selected":g,"aria-controls":h,"data-state":g?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:d,...l,ref:r,onMouseDown:Et(e.onMouseDown,p=>{!a&&p.button===0&&p.ctrlKey===!1?c.onValueChange(s):p.preventDefault()}),onKeyDown:Et(e.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&c.onValueChange(s)}),onFocus:Et(e.onFocus,()=>{const p=c.activationMode!=="manual";!g&&!a&&p&&c.onValueChange(s)})})})});A8.displayName=T8;var _8="TabsContent",F8=v.forwardRef((e,r)=>{const{__scopeTabs:n,value:s,forceMount:a,children:l,...c}=e,u=FV(_8,n),d=I8(u.baseId,s),h=O8(u.baseId,s),g=s===u.value,p=v.useRef(g);return v.useEffect(()=>{const N=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(N)},[]),U.jsx(mi,{present:a||g,children:({present:N})=>U.jsx(At.div,{"data-state":g?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":d,hidden:!N,id:h,tabIndex:0,...c,ref:r,style:{...e.style,animationDuration:p.current?"0s":void 0},children:N&&l})})});F8.displayName=_8;function I8(e,r){return`${e}-trigger-${r}`}function O8(e,r){return`${e}-content-${r}`}var Tie=C8,L8=M8,$8=A8,B8=F8;const bl=Tie,Eo=v.forwardRef(({className:e,...r},n)=>t.jsxDEV(L8,{ref:n,className:Ke("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...r},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/tabs.tsx",lineNumber:12,columnNumber:3},void 0));Eo.displayName=L8.displayName;const Pr=v.forwardRef(({className:e,...r},n)=>t.jsxDEV($8,{ref:n,className:Ke("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...r},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/tabs.tsx",lineNumber:27,columnNumber:3},void 0));Pr.displayName=$8.displayName;const Sr=v.forwardRef(({className:e,...r},n)=>t.jsxDEV(B8,{ref:n,className:Ke("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...r},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/tabs.tsx",lineNumber:42,columnNumber:3},void 0));Sr.displayName=B8.displayName;var IV="Collapsible",[Aie,z8]=As(IV),[_ie,OV]=Aie(IV),W8=v.forwardRef((e,r)=>{const{__scopeCollapsible:n,open:s,defaultOpen:a,disabled:l,onOpenChange:c,...u}=e,[d=!1,h]=ea({prop:s,defaultProp:a,onChange:c});return U.jsx(_ie,{scope:n,disabled:l,contentId:Ta(),open:d,onOpenToggle:v.useCallback(()=>h(g=>!g),[h]),children:U.jsx(At.div,{"data-state":zV(d),"data-disabled":l?"":void 0,...u,ref:r})})});W8.displayName=IV;var U8="CollapsibleTrigger",LV=v.forwardRef((e,r)=>{const{__scopeCollapsible:n,...s}=e,a=OV(U8,n);return U.jsx(At.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":zV(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...s,ref:r,onClick:Et(e.onClick,a.onOpenToggle)})});LV.displayName=U8;var $V="CollapsibleContent",BV=v.forwardRef((e,r)=>{const{forceMount:n,...s}=e,a=OV($V,e.__scopeCollapsible);return U.jsx(mi,{present:n||a.open,children:({present:l})=>U.jsx(Fie,{...s,ref:r,present:l})})});BV.displayName=$V;var Fie=v.forwardRef((e,r)=>{const{__scopeCollapsible:n,present:s,children:a,...l}=e,c=OV($V,n),[u,d]=v.useState(s),h=v.useRef(null),g=Nr(r,h),p=v.useRef(0),N=p.current,b=v.useRef(0),D=b.current,E=c.open||u,j=v.useRef(E),P=v.useRef(void 0);return v.useEffect(()=>{const w=requestAnimationFrame(()=>j.current=!1);return()=>cancelAnimationFrame(w)},[]),cs(()=>{const w=h.current;if(w){P.current=P.current||{transitionDuration:w.style.transitionDuration,animationName:w.style.animationName},w.style.transitionDuration="0s",w.style.animationName="none";const k=w.getBoundingClientRect();p.current=k.height,b.current=k.width,j.current||(w.style.transitionDuration=P.current.transitionDuration,w.style.animationName=P.current.animationName),d(s)}},[c.open,s]),U.jsx(At.div,{"data-state":zV(c.open),"data-disabled":c.disabled?"":void 0,id:c.contentId,hidden:!E,...l,ref:g,style:{"--radix-collapsible-content-height":N?`${N}px`:void 0,"--radix-collapsible-content-width":D?`${D}px`:void 0,...e.style},children:E&&a})});function zV(e){return e?"open":"closed"}var G8=W8,Iie=LV,Oie=BV,vl="Accordion",Lie=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[WV,$ie,Bie]=Xv(vl),[D0]=As(vl,[Bie,z8]),UV=z8(),H8=St.forwardRef((e,r)=>{const{type:n,...s}=e,a=s,l=s;return U.jsx(WV.Provider,{scope:e.__scopeAccordion,children:n==="multiple"?U.jsx(Gie,{...l,ref:r}):U.jsx(Uie,{...a,ref:r})})});H8.displayName=vl;var[J8,zie]=D0(vl),[K8,Wie]=D0(vl,{collapsible:!1}),Uie=St.forwardRef((e,r)=>{const{value:n,defaultValue:s,onValueChange:a=()=>{},collapsible:l=!1,...c}=e,[u,d]=ea({prop:n,defaultProp:s,onChange:a});return U.jsx(J8,{scope:e.__scopeAccordion,value:u?[u]:[],onItemOpen:d,onItemClose:St.useCallback(()=>l&&d(""),[l,d]),children:U.jsx(K8,{scope:e.__scopeAccordion,collapsible:l,children:U.jsx(q8,{...c,ref:r})})})}),Gie=St.forwardRef((e,r)=>{const{value:n,defaultValue:s,onValueChange:a=()=>{},...l}=e,[c=[],u]=ea({prop:n,defaultProp:s,onChange:a}),d=St.useCallback(g=>u((p=[])=>[...p,g]),[u]),h=St.useCallback(g=>u((p=[])=>p.filter(N=>N!==g)),[u]);return U.jsx(J8,{scope:e.__scopeAccordion,value:c,onItemOpen:d,onItemClose:h,children:U.jsx(K8,{scope:e.__scopeAccordion,collapsible:!0,children:U.jsx(q8,{...l,ref:r})})})}),[Hie,j0]=D0(vl),q8=St.forwardRef((e,r)=>{const{__scopeAccordion:n,disabled:s,dir:a,orientation:l="vertical",...c}=e,u=St.useRef(null),d=Nr(u,r),h=$ie(n),p=jh(a)==="ltr",N=Et(e.onKeyDown,b=>{var T;if(!Lie.includes(b.key))return;const D=b.target,E=h().filter(A=>{var F;return!((F=A.ref.current)!=null&&F.disabled)}),j=E.findIndex(A=>A.ref.current===D),P=E.length;if(j===-1)return;b.preventDefault();let w=j;const k=0,V=P-1,S=()=>{w=j+1,w>V&&(w=k)},R=()=>{w=j-1,w<k&&(w=V)};switch(b.key){case"Home":w=k;break;case"End":w=V;break;case"ArrowRight":l==="horizontal"&&(p?S():R());break;case"ArrowDown":l==="vertical"&&S();break;case"ArrowLeft":l==="horizontal"&&(p?R():S());break;case"ArrowUp":l==="vertical"&&R();break}const M=w%P;(T=E[M].ref.current)==null||T.focus()});return U.jsx(Hie,{scope:n,disabled:s,direction:a,orientation:l,children:U.jsx(WV.Slot,{scope:n,children:U.jsx(At.div,{...c,"data-orientation":l,ref:d,onKeyDown:s?void 0:N})})})}),Vv="AccordionItem",[Jie,GV]=D0(Vv),Y8=St.forwardRef((e,r)=>{const{__scopeAccordion:n,value:s,...a}=e,l=j0(Vv,n),c=zie(Vv,n),u=UV(n),d=Ta(),h=s&&c.value.includes(s)||!1,g=l.disabled||e.disabled;return U.jsx(Jie,{scope:n,open:h,disabled:g,triggerId:d,children:U.jsx(G8,{"data-orientation":l.orientation,"data-state":rF(h),...u,...a,ref:r,disabled:g,open:h,onOpenChange:p=>{p?c.onItemOpen(s):c.onItemClose(s)}})})});Y8.displayName=Vv;var X8="AccordionHeader",Q8=St.forwardRef((e,r)=>{const{__scopeAccordion:n,...s}=e,a=j0(vl,n),l=GV(X8,n);return U.jsx(At.h3,{"data-orientation":a.orientation,"data-state":rF(l.open),"data-disabled":l.disabled?"":void 0,...s,ref:r})});Q8.displayName=X8;var ZD="AccordionTrigger",Z8=St.forwardRef((e,r)=>{const{__scopeAccordion:n,...s}=e,a=j0(vl,n),l=GV(ZD,n),c=Wie(ZD,n),u=UV(n);return U.jsx(WV.ItemSlot,{scope:n,children:U.jsx(Iie,{"aria-disabled":l.open&&!c.collapsible||void 0,"data-orientation":a.orientation,id:l.triggerId,...u,...s,ref:r})})});Z8.displayName=ZD;var eF="AccordionContent",tF=St.forwardRef((e,r)=>{const{__scopeAccordion:n,...s}=e,a=j0(vl,n),l=GV(eF,n),c=UV(n);return U.jsx(Oie,{role:"region","aria-labelledby":l.triggerId,"data-orientation":a.orientation,...c,...s,ref:r,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});tF.displayName=eF;function rF(e){return e?"open":"closed"}var Kie=H8,qie=Y8,Yie=Q8,nF=Z8,sF=tF;const Bg=Kie,Mh=v.forwardRef(({className:e,...r},n)=>t.jsxDEV(qie,{ref:n,className:Ke("border-b",e),...r},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/accordion.tsx",lineNumber:13,columnNumber:3},void 0));Mh.displayName="AccordionItem";const Th=v.forwardRef(({className:e,children:r,...n},s)=>t.jsxDEV(Yie,{className:"flex",children:t.jsxDEV(nF,{ref:s,className:Ke("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...n,children:[r,t.jsxDEV(wo,{className:"h-4 w-4 shrink-0 transition-transform duration-200"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/accordion.tsx",lineNumber:35,columnNumber:7},void 0)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/ui/accordion.tsx",lineNumber:26,columnNumber:5},void 0)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/accordion.tsx",lineNumber:25,columnNumber:3},void 0));Th.displayName=nF.displayName;const Ah=v.forwardRef(({className:e,children:r,...n},s)=>t.jsxDEV(sF,{ref:s,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:t.jsxDEV("div",{className:Ke("pb-4 pt-0",e),children:r},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/accordion.tsx",lineNumber:50,columnNumber:5},void 0)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/accordion.tsx",lineNumber:45,columnNumber:3},void 0));Ah.displayName=sF.displayName;const Nb=e=>e?e.split("_").map(r=>r.charAt(0).toUpperCase()+r.slice(1)).join(" "):"Unknown";function H4(){const[,e]=Xn("/marketing-consultant/segment-discovery/:understandingId"),[,r]=Xn("/marketing-consultant/results/:understandingId"),n=(e==null?void 0:e.understandingId)||(r==null?void 0:r.understandingId),s=!!(r!=null&&r.understandingId),[,a]=or(),{toast:l}=ur(),[c,u]=v.useState(s?"results":"starting"),[d,h]=v.useState("Initializing..."),[g,p]=v.useState(0),[N,b]=v.useState(null),D=v.useRef(null),E=v.useRef(!1),j=v.useRef(0),P=v.useRef(null),w=v.useRef(!1),k=`segment-discovery-progress-${n}`,V=3,S=5e3,{data:R,refetch:M}=yt({queryKey:["/api/marketing-consultant/results",n],enabled:c==="results"});v.useEffect(()=>s||!n||E.current?void 0:(E.current=!0,(async()=>{try{const G=A(),ee=await fetch(`/api/marketing-consultant/discovery-status/${n}`);if(ee.ok){const be=await ee.json();if(be.status==="completed"){console.log("[SegmentDiscovery] Discovery already completed"),F(),u("results"),M();return}else if(be.status==="failed"){console.log("[SegmentDiscovery] Discovery failed"),F(),b(be.error||"Discovery failed"),u("error");return}else if(be.status==="running"){console.log("[SegmentDiscovery] Resuming in-flight discovery"),be.progressMessage&&h(be.progressMessage),u("progress"),$();return}}const K=await fetch(`/api/marketing-consultant/start-discovery/${n}`,{method:"POST",headers:{"Content-Type":"application/json"}});if(!K.ok){const be=await K.json();throw new Error(be.message||"Failed to start discovery")}u("progress"),$()}catch(G){console.error("[SegmentDiscovery] Start error:",G),b(G.message||"Failed to start segment discovery"),u("error"),l({title:"Error",description:G.message||"Failed to start segment discovery",variant:"destructive"})}})(),()=>{D.current&&D.current.close(),P.current&&clearInterval(P.current)}),[n,s,l]);const T=(z,G)=>{try{localStorage.setItem(k,JSON.stringify({step:z,progress:G,timestamp:Date.now()}))}catch{console.warn("[SegmentDiscovery] Failed to save progress to localStorage")}},A=()=>{try{const z=localStorage.getItem(k);if(z){const G=JSON.parse(z);if(Date.now()-G.timestamp<6e5)return h(G.step),p(G.progress),console.log("[SegmentDiscovery] Restored progress:",G),G}}catch{console.warn("[SegmentDiscovery] Failed to restore progress")}return null},F=()=>{try{localStorage.removeItem(k)}catch{}},L=()=>{if(P.current)return;console.log("[SegmentDiscovery] Switching to polling fallback"),w.current=!0;const z=async()=>{try{const G=await fetch(`/api/marketing-consultant/discovery-status/${n}`);if(!G.ok)throw new Error("Poll failed");const ee=await G.json();ee.status==="completed"?(P.current&&(clearInterval(P.current),P.current=null),F(),u("results"),M()):ee.status==="failed"?(P.current&&(clearInterval(P.current),P.current=null),F(),b(ee.error||"Discovery failed"),u("error")):ee.progressMessage&&h(ee.progressMessage)}catch(G){console.error("[SegmentDiscovery] Polling error:",G)}};z(),P.current=setInterval(z,S)},$=(z=0)=>{if(!n)return;if(A(),w.current){L();return}const G=new EventSource(`/api/marketing-consultant/discovery-stream/${n}`);D.current=G,G.onmessage=ee=>{try{const K=JSON.parse(ee.data);h(K.step),p(K.progress),T(K.step,K.progress),j.current=0,(K.step==="complete"||K.progress>=100)&&(G.close(),F(),u("results"),M())}catch(K){console.error("[SegmentDiscovery] SSE parse error:",K)}},G.addEventListener("heartbeat",()=>{j.current=0}),G.onerror=ee=>{if(console.error("[SegmentDiscovery] SSE error:",ee),G.close(),j.current++,j.current<V){const K=Math.pow(2,j.current-1)*1e3;console.log(`[SegmentDiscovery] SSE retry ${j.current}/${V} in ${K}ms`),l({title:"Connection interrupted",description:`Reconnecting... (attempt ${j.current})`}),setTimeout(()=>$(j.current),K)}else console.log("[SegmentDiscovery] SSE retries exhausted, switching to polling"),l({title:"Switching to polling mode",description:"Monitoring progress via polling..."}),L()}},W=z=>z>32?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300":z>=24?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300":"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-300",O=z=>z>32?"default":z>=24?"secondary":"destructive",Y=z=>{const G={industry_vertical:"Industry",company_size:"Company Size",decision_maker:"Decision Maker",purchase_trigger:"Purchase Trigger",tech_adoption:"Tech Adoption",buying_process:"Buying Process",budget_authority:"Budget Authority",urgency_profile:"Urgency Profile"};return t.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:Object.entries(z).map(([ee,K])=>t.jsxDEV("div",{className:"text-sm",children:[t.jsxDEV("span",{className:"text-muted-foreground",children:[G[ee],":"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:372,columnNumber:13},this),t.jsxDEV("span",{className:"ml-1 font-medium",children:K},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:373,columnNumber:13},this)]},ee,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:371,columnNumber:11},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:369,columnNumber:7},this)},H=z=>{const G={painIntensity:"Pain Intensity",accessToDecisionMaker:"DM Access",purchasePowerMatch:"Budget Match",competitionSaturation:"Competition",productFit:"Product Fit",urgencyAlignment:"Urgency",scalePotential:"Scale",gtmEfficiency:"GTM Efficiency"};return t.jsxDEV("div",{className:"flex flex-wrap gap-2",children:Object.entries(z).filter(([ee])=>ee!=="totalScore").map(([ee,K])=>t.jsxDEV(se,{variant:"outline",className:"text-xs",children:[G[ee],": ",K,"/5"]},ee,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:395,columnNumber:11},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:393,columnNumber:7},this)};if(!n)return t.jsxDEV(st,{title:"Segment Discovery",subtitle:"Discovering your ideal customer segments",children:t.jsxDEV("div",{className:"flex items-center justify-center h-64",children:t.jsxDEV("p",{className:"text-destructive","data-testid":"error-no-understanding-id",children:"Error: No understanding ID found. Please start a new analysis."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:410,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:409,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:405,columnNumber:7},this);if(c==="starting")return t.jsxDEV(st,{title:"Segment Discovery",subtitle:"Initializing discovery engine...",children:t.jsxDEV("div",{className:"flex items-center justify-center min-h-[60vh]","data-testid":"state-starting",children:t.jsxDEV("div",{className:"text-center space-y-6",children:[t.jsxDEV("div",{className:"relative",children:[t.jsxDEV("div",{className:"w-24 h-24 mx-auto rounded-full border-4 border-primary/20 animate-pulse"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:427,columnNumber:15},this),t.jsxDEV(lt,{className:"h-12 w-12 animate-spin text-primary absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:428,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:426,columnNumber:13},this),t.jsxDEV("div",{children:[t.jsxDEV("h3",{className:"text-lg font-semibold",children:"Starting Segment Discovery"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:431,columnNumber:15},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground mt-1",children:"Preparing analysis engine..."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:432,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:430,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:425,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:424,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:420,columnNumber:7},this);const q=async()=>{try{const z=await fetch(`/api/marketing-consultant/discovery-status/${n}`);if(!z.ok)throw new Error("Failed to check status");const G=await z.json();G.status==="completed"?(l({title:"Results found!",description:"The analysis completed successfully."}),F(),u("results"),M()):G.status==="running"?(l({title:"Still in progress",description:"Resuming monitoring..."}),b(null),u("progress"),L()):l({title:"No results available",description:"The analysis did not complete. Please try again.",variant:"destructive"})}catch{l({title:"Check failed",description:"Could not verify results. Please try again.",variant:"destructive"})}};if(c==="error")return t.jsxDEV(st,{title:"Segment Discovery",subtitle:"An error occurred",children:t.jsxDEV("div",{className:"max-w-2xl mx-auto","data-testid":"state-error",children:t.jsxDEV(Z,{className:"border-destructive",children:t.jsxDEV(te,{className:"pt-6",children:[t.jsxDEV("div",{className:"flex items-center gap-3 text-destructive mb-4",children:[t.jsxDEV(qr,{className:"h-6 w-6"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:488,columnNumber:17},this),t.jsxDEV("h3",{className:"font-semibold",children:"Discovery Failed"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:489,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:487,columnNumber:15},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground mb-4",children:N||"An unexpected error occurred during segment discovery."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:491,columnNumber:15},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground mb-4",children:"If the analysis was interrupted, it may have completed in the background."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:494,columnNumber:15},this),t.jsxDEV("div",{className:"flex gap-2",children:[t.jsxDEV(me,{variant:"default",onClick:q,"data-testid":"button-check-results",children:"Check for Results"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:498,columnNumber:17},this),t.jsxDEV(me,{variant:"outline",onClick:()=>a("/marketing-consultant/input"),"data-testid":"button-start-new",children:"Start New Analysis"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:505,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:497,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:486,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:485,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:484,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:480,columnNumber:7},this);if(c==="progress")return t.jsxDEV(st,{title:"Segment Discovery",subtitle:"Analyzing market segments...",children:t.jsxDEV("div",{className:"flex items-center justify-center min-h-[60vh]","data-testid":"state-progress",children:t.jsxDEV("div",{className:"w-full max-w-md space-y-8",children:[t.jsxDEV("div",{className:"text-center space-y-4",children:[t.jsxDEV("div",{className:"relative inline-flex items-center justify-center",children:[t.jsxDEV("svg",{className:"w-32 h-32 transform -rotate-90",children:[t.jsxDEV("circle",{cx:"64",cy:"64",r:"56",fill:"none",stroke:"currentColor",strokeWidth:"8",className:"text-muted"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:531,columnNumber:19},this),t.jsxDEV("circle",{cx:"64",cy:"64",r:"56",fill:"none",stroke:"currentColor",strokeWidth:"8",strokeDasharray:`${2*Math.PI*56}`,strokeDashoffset:`${2*Math.PI*56*(1-g/100)}`,className:"text-primary transition-all duration-500",strokeLinecap:"round"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:540,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:530,columnNumber:17},this),t.jsxDEV("span",{className:"absolute text-2xl font-bold","data-testid":"text-progress-percent",children:[g,"%"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:553,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:529,columnNumber:15},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV("div",{className:"flex items-center justify-center gap-2",children:[t.jsxDEV(Ma,{className:"h-5 w-5 text-primary animate-pulse"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:560,columnNumber:19},this),t.jsxDEV("h3",{className:"text-lg font-semibold","data-testid":"text-current-step",children:d},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:561,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:559,columnNumber:17},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Discovering your ideal customer segments..."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:563,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:558,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:528,columnNumber:13},this),t.jsxDEV(Ln,{value:g,className:"h-2","data-testid":"progress-bar"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:569,columnNumber:13},this),t.jsxDEV("div",{className:"flex items-center justify-center gap-2 text-xs text-muted-foreground",children:w.current?t.jsxDEV("span",{className:"flex items-center gap-1","data-testid":"status-polling",children:[t.jsxDEV("span",{className:"w-2 h-2 rounded-full bg-yellow-500 animate-pulse"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:574,columnNumber:19},this),"Checking status..."]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:573,columnNumber:17},this):j.current>0?t.jsxDEV("span",{className:"flex items-center gap-1","data-testid":"status-reconnecting",children:[t.jsxDEV("span",{className:"w-2 h-2 rounded-full bg-orange-500 animate-pulse"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:579,columnNumber:19},this),"Reconnecting (",j.current,"/",V,")..."]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:578,columnNumber:17},this):t.jsxDEV("span",{className:"flex items-center gap-1","data-testid":"status-connected",children:[t.jsxDEV("span",{className:"w-2 h-2 rounded-full bg-green-500"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:584,columnNumber:19},this),"Live connection"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:583,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:571,columnNumber:13},this),t.jsxDEV("div",{className:"text-center text-xs text-muted-foreground",children:"This may take a few minutes. Please don't close this page."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:590,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:527,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:526,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:522,columnNumber:7},this);if(c==="results"&&R){const{geneLibrary:z}=R,G=Array.isArray(R.genomes)?R.genomes:[],ee=G.slice(0,20),K=R.synthesis&&typeof R.synthesis=="object"?R.synthesis:{beachhead:{genome:G[0]||{},rationale:"No synthesis data available",validationPlan:[]},backupSegments:[],neverList:[],strategicInsights:[]},be=K.beachhead&&K.beachhead.genome&&K.beachhead.genome.fitness,_e=(oe,fe)=>G.filter(Ae=>Ae.genes[oe]===fe).length;return t.jsxDEV(st,{title:"Segment Discovery Complete",subtitle:"Your market segmentation analysis is ready",children:t.jsxDEV("div",{className:"max-w-7xl mx-auto space-y-6","data-testid":"state-results",children:[t.jsxDEV(Z,{className:"border-green-200 bg-green-50 dark:bg-green-950/20",children:t.jsxDEV(te,{className:"pt-6",children:t.jsxDEV("div",{className:"flex items-center gap-3",children:[t.jsxDEV(tr,{className:"h-8 w-8 text-green-600"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:631,columnNumber:17},this),t.jsxDEV("div",{children:[t.jsxDEV("h3",{className:"text-lg font-semibold text-green-900 dark:text-green-100",children:"Segment Discovery Complete!"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:633,columnNumber:19},this),t.jsxDEV("p",{className:"text-sm text-green-700 dark:text-green-300",children:["We analyzed ",G.length," potential segments and identified your beachhead market."]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:636,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:632,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:630,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:629,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:628,columnNumber:11},this),t.jsxDEV(Z,{"data-testid":"card-business-context",children:[t.jsxDEV(de,{className:"pb-3",children:t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(ul,{className:"h-5 w-5 text-primary"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:647,columnNumber:17},this),t.jsxDEV(pe,{className:"text-base",children:"Your Business"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:648,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:646,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:645,columnNumber:13},this),t.jsxDEV(te,{className:"space-y-4",children:[R.offeringDescription&&t.jsxDEV("div",{children:[t.jsxDEV("h4",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Business Idea"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:654,columnNumber:19},this),t.jsxDEV("p",{className:"text-sm","data-testid":"text-offering-description",children:R.offeringDescription},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:655,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:653,columnNumber:17},this),t.jsxDEV("div",{className:"flex flex-wrap gap-2",children:[R.offeringType&&t.jsxDEV(se,{variant:"outline",className:"flex items-center gap-1","data-testid":"badge-offering-type",children:[t.jsxDEV(wX,{className:"h-3 w-3"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:661,columnNumber:21},this),Nb(R.offeringType)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:660,columnNumber:19},this),R.stage&&t.jsxDEV(se,{variant:"outline","data-testid":"badge-stage",children:Nb(R.stage)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:666,columnNumber:19},this),R.gtmConstraint&&t.jsxDEV(se,{variant:"outline","data-testid":"badge-gtm",children:Nb(R.gtmConstraint)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:671,columnNumber:19},this),R.salesMotion&&t.jsxDEV(se,{variant:"outline","data-testid":"badge-sales-motion",children:Nb(R.salesMotion)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:676,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:658,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:651,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:644,columnNumber:11},this),t.jsxDEV(bl,{defaultValue:"beachhead",className:"w-full",children:[t.jsxDEV(Eo,{className:"grid w-full grid-cols-4",children:[t.jsxDEV(Pr,{value:"beachhead","data-testid":"tab-beachhead",children:[t.jsxDEV(Xr,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:687,columnNumber:17},this),"Beachhead & Synthesis"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:686,columnNumber:15},this),t.jsxDEV(Pr,{value:"top20","data-testid":"tab-top20",children:"Top 20 Segments"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:690,columnNumber:15},this),t.jsxDEV(Pr,{value:"library","data-testid":"tab-library",children:[t.jsxDEV(FX,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:694,columnNumber:17},this),"Gene Library"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:693,columnNumber:15},this),t.jsxDEV(Pr,{value:"never","data-testid":"tab-never",children:[t.jsxDEV(Dc,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:698,columnNumber:17},this),"Never List"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:697,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:685,columnNumber:13},this),t.jsxDEV(Sr,{value:"beachhead",className:"space-y-6 mt-6",children:[be?t.jsxDEV(Z,{className:"border-2 border-primary bg-primary/5",children:[t.jsxDEV(de,{children:[t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(Xr,{className:"h-6 w-6 text-primary"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:709,columnNumber:25},this),t.jsxDEV(pe,{children:"Your Beachhead Market"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:710,columnNumber:25},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:708,columnNumber:23},this),t.jsxDEV(se,{variant:"default",className:"text-lg px-4 py-1",children:["Score: ",K.beachhead.genome.fitness.totalScore,"/40"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:712,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:707,columnNumber:21},this),t.jsxDEV(He,{children:"This is your recommended initial target segment"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:716,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:706,columnNumber:19},this),t.jsxDEV(te,{className:"space-y-6",children:[t.jsxDEV("div",{children:[t.jsxDEV("h4",{className:"font-semibold mb-2",children:"Segment Profile"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:722,columnNumber:23},this),Y(K.beachhead.genome.genes)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:721,columnNumber:21},this),t.jsxDEV("div",{children:[t.jsxDEV("h4",{className:"font-semibold mb-2",children:"Fitness Scores"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:727,columnNumber:23},this),H(K.beachhead.genome.fitness)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:726,columnNumber:21},this),t.jsxDEV("div",{children:[t.jsxDEV("h4",{className:"font-semibold mb-2",children:"Why This Segment?"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:732,columnNumber:23},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground","data-testid":"text-beachhead-rationale",children:K.beachhead.rationale},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:733,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:731,columnNumber:21},this),t.jsxDEV("div",{children:[t.jsxDEV("h4",{className:"font-semibold mb-2",children:"Validation Plan"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:739,columnNumber:23},this),t.jsxDEV("ul",{className:"space-y-2","data-testid":"list-validation-plan",children:(K.beachhead.validationPlan||[]).map((oe,fe)=>t.jsxDEV("li",{className:"flex items-start gap-2 text-sm",children:[t.jsxDEV("input",{type:"checkbox",className:"mt-1"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:743,columnNumber:29},this),t.jsxDEV("span",{children:oe},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:744,columnNumber:29},this)]},fe,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:742,columnNumber:27},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:740,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:738,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:720,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:705,columnNumber:17},this):t.jsxDEV(Z,{className:"border-2 border-yellow-200 bg-yellow-50 dark:bg-yellow-950/20",children:t.jsxDEV(te,{className:"pt-6",children:t.jsxDEV("div",{className:"flex items-center gap-3",children:[t.jsxDEV(qr,{className:"h-8 w-8 text-yellow-600"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:755,columnNumber:23},this),t.jsxDEV("div",{children:[t.jsxDEV("h3",{className:"text-lg font-semibold text-yellow-900 dark:text-yellow-100",children:"Incomplete Analysis Data"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:757,columnNumber:25},this),t.jsxDEV("p",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:"The discovery process was interrupted. Please run a new segment discovery to get complete results."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:760,columnNumber:25},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:756,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:754,columnNumber:21},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:753,columnNumber:19},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:752,columnNumber:17},this),(K.backupSegments||[]).length>0&&t.jsxDEV("div",{children:[t.jsxDEV("h3",{className:"text-lg font-semibold mb-4",children:"Backup Segments"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:771,columnNumber:19},this),t.jsxDEV("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3","data-testid":"grid-backup-segments",children:K.backupSegments.map((oe,fe)=>t.jsxDEV(Z,{"data-testid":`card-backup-${fe}`,children:[t.jsxDEV(de,{className:"pb-2",children:t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV(pe,{className:"text-base",children:["Backup #",fe+1]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:777,columnNumber:29},this),t.jsxDEV(se,{variant:O(oe.fitness.totalScore),children:[oe.fitness.totalScore,"/40"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:778,columnNumber:29},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:776,columnNumber:27},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:775,columnNumber:25},this),t.jsxDEV(te,{className:"space-y-3",children:[t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:oe.narrativeReason},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:784,columnNumber:27},this),t.jsxDEV("div",{className:"text-xs space-y-1",children:[t.jsxDEV("div",{children:[t.jsxDEV("span",{className:"text-muted-foreground",children:"Industry:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:786,columnNumber:34},this)," ",oe.genes.industry_vertical]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:786,columnNumber:29},this),t.jsxDEV("div",{children:[t.jsxDEV("span",{className:"text-muted-foreground",children:"Size:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:787,columnNumber:34},this)," ",oe.genes.company_size]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:787,columnNumber:29},this),t.jsxDEV("div",{children:[t.jsxDEV("span",{className:"text-muted-foreground",children:"DM:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:788,columnNumber:34},this)," ",oe.genes.decision_maker]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:788,columnNumber:29},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:785,columnNumber:27},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:783,columnNumber:25},this)]},oe.id,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:774,columnNumber:23},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:772,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:770,columnNumber:17},this),(K.strategicInsights||[]).length>0&&t.jsxDEV(Z,{children:[t.jsxDEV(de,{children:t.jsxDEV(pe,{children:"Strategic Insights"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:800,columnNumber:21},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:799,columnNumber:19},this),t.jsxDEV(te,{children:t.jsxDEV("ul",{className:"space-y-2","data-testid":"list-strategic-insights",children:K.strategicInsights.map((oe,fe)=>t.jsxDEV("li",{className:"flex items-start gap-2 text-sm",children:[t.jsxDEV(Ma,{className:"h-4 w-4 text-primary mt-0.5 flex-shrink-0"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:806,columnNumber:27},this),t.jsxDEV("span",{children:oe},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:807,columnNumber:27},this)]},fe,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:805,columnNumber:25},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:803,columnNumber:21},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:802,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:798,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:703,columnNumber:13},this),t.jsxDEV(Sr,{value:"top20",className:"mt-6",children:t.jsxDEV("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4","data-testid":"grid-top20",children:ee.map((oe,fe)=>t.jsxDEV(Z,{className:`${W(oe.fitness.totalScore)}`,"data-testid":`card-segment-${fe}`,children:[t.jsxDEV(de,{className:"pb-2",children:t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV(pe,{className:"text-base",children:["#",fe+1]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:826,columnNumber:25},this),t.jsxDEV(se,{variant:O(oe.fitness.totalScore),children:[oe.fitness.totalScore,"/40"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:827,columnNumber:25},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:825,columnNumber:23},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:824,columnNumber:21},this),t.jsxDEV(te,{className:"space-y-3",children:[t.jsxDEV("p",{className:"text-sm",children:oe.narrativeReason},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:833,columnNumber:23},this),t.jsxDEV("div",{className:"text-xs space-y-1",children:[t.jsxDEV("div",{children:[t.jsxDEV("span",{className:"opacity-70",children:"Industry:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:835,columnNumber:30},this)," ",oe.genes.industry_vertical]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:835,columnNumber:25},this),t.jsxDEV("div",{children:[t.jsxDEV("span",{className:"opacity-70",children:"Size:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:836,columnNumber:30},this)," ",oe.genes.company_size]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:836,columnNumber:25},this),t.jsxDEV("div",{children:[t.jsxDEV("span",{className:"opacity-70",children:"DM:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:837,columnNumber:30},this)," ",oe.genes.decision_maker]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:837,columnNumber:25},this),t.jsxDEV("div",{children:[t.jsxDEV("span",{className:"opacity-70",children:"Trigger:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:838,columnNumber:30},this)," ",oe.genes.purchase_trigger]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:838,columnNumber:25},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:834,columnNumber:23},this),t.jsxDEV("div",{className:"pt-2 border-t",children:t.jsxDEV("div",{className:"grid grid-cols-4 gap-1 text-xs",children:[t.jsxDEV("div",{title:"Pain",children:["P:",oe.fitness.painIntensity]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:842,columnNumber:27},this),t.jsxDEV("div",{title:"Access",children:["A:",oe.fitness.accessToDecisionMaker]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:843,columnNumber:27},this),t.jsxDEV("div",{title:"Budget",children:["B:",oe.fitness.purchasePowerMatch]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:844,columnNumber:27},this),t.jsxDEV("div",{title:"Competition",children:["C:",oe.fitness.competitionSaturation]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:845,columnNumber:27},this),t.jsxDEV("div",{title:"Fit",children:["F:",oe.fitness.productFit]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:846,columnNumber:27},this),t.jsxDEV("div",{title:"Urgency",children:["U:",oe.fitness.urgencyAlignment]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:847,columnNumber:27},this),t.jsxDEV("div",{title:"Scale",children:["S:",oe.fitness.scalePotential]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:848,columnNumber:27},this),t.jsxDEV("div",{title:"GTM",children:["G:",oe.fitness.gtmEfficiency]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:849,columnNumber:27},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:841,columnNumber:25},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:840,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:832,columnNumber:21},this)]},oe.id,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:819,columnNumber:19},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:817,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:816,columnNumber:13},this),t.jsxDEV(Sr,{value:"library",className:"mt-6",children:t.jsxDEV(Z,{children:[t.jsxDEV(de,{children:[t.jsxDEV(pe,{children:"Gene Library"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:861,columnNumber:19},this),t.jsxDEV(He,{children:"The 8 dimensions used to define market segments"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:862,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:860,columnNumber:17},this),t.jsxDEV(te,{children:t.jsxDEV(Bg,{type:"multiple",className:"w-full","data-testid":"accordion-gene-library",children:Object.entries((z==null?void 0:z.dimensions)||{}).map(([oe,fe])=>t.jsxDEV(Mh,{value:oe,children:[t.jsxDEV(Th,{className:"text-left",children:t.jsxDEV("div",{className:"flex items-center justify-between w-full pr-4",children:[t.jsxDEV("span",{className:"font-medium capitalize",children:oe.replace(/_/g," ")},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:872,columnNumber:29},this),t.jsxDEV(se,{variant:"outline",children:[fe.length," alleles"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:875,columnNumber:29},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:871,columnNumber:27},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:870,columnNumber:25},this),t.jsxDEV(Ah,{children:t.jsxDEV("div",{className:"grid gap-2 md:grid-cols-2 lg:grid-cols-3",children:fe.map((Ae,ge)=>{const Pe=_e(oe,Ae);return t.jsxDEV("div",{className:"flex items-center justify-between p-2 rounded bg-muted/50",children:[t.jsxDEV("span",{className:"text-sm",children:Ae},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:887,columnNumber:35},this),t.jsxDEV(se,{variant:"secondary",className:"text-xs",children:[Pe," genomes"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:888,columnNumber:35},this)]},ge,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:883,columnNumber:33},this)})},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:879,columnNumber:27},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:878,columnNumber:25},this)]},oe,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:869,columnNumber:23},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:867,columnNumber:19},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:866,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:859,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:858,columnNumber:13},this),t.jsxDEV(Sr,{value:"never",className:"mt-6",children:t.jsxDEV(Z,{children:[t.jsxDEV(de,{children:[t.jsxDEV(pe,{className:"flex items-center gap-2",children:[t.jsxDEV(Dc,{className:"h-5 w-5 text-destructive"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:907,columnNumber:21},this),"Segments to Avoid"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:906,columnNumber:19},this),t.jsxDEV(He,{children:"These segments are not recommended for your current offering and constraints"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:910,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:905,columnNumber:17},this),t.jsxDEV(te,{children:(K.neverList||[]).length===0?t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"No segments on the never list."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:916,columnNumber:21},this):t.jsxDEV("div",{className:"space-y-4","data-testid":"list-never",children:(K.neverList||[]).map((oe,fe)=>{var Ae,ge,Pe;return t.jsxDEV(Z,{className:"border-destructive/30 bg-destructive/5","data-testid":`card-never-${fe}`,children:t.jsxDEV(te,{className:"pt-4 space-y-3",children:[t.jsxDEV("div",{className:"flex items-start justify-between",children:[t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(qr,{className:"h-4 w-4 text-destructive"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:924,columnNumber:33},this),t.jsxDEV("span",{className:"font-medium",children:"Avoid This Segment"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:925,columnNumber:33},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:923,columnNumber:31},this),((Ae=oe.genome)==null?void 0:Ae.fitness)&&t.jsxDEV(se,{variant:"destructive",children:[oe.genome.fitness.totalScore,"/40"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:928,columnNumber:33},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:922,columnNumber:29},this),t.jsxDEV("p",{className:"text-sm text-destructive font-medium",children:oe.reason},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:934,columnNumber:29},this),((ge=oe.genome)==null?void 0:ge.genes)&&Y(oe.genome.genes)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:921,columnNumber:27},this)},((Pe=oe.genome)==null?void 0:Pe.id)||fe,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:920,columnNumber:25},this)})},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:918,columnNumber:21},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:914,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:904,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:903,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:684,columnNumber:11},this),t.jsxDEV(Z,{children:t.jsxDEV(te,{className:"pt-6",children:t.jsxDEV("div",{className:"flex flex-col sm:flex-row gap-4",children:[t.jsxDEV(me,{onClick:()=>a("/marketing-consultant/input"),variant:"outline",className:"flex-1","data-testid":"button-new-discovery",children:"Start New Discovery"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:952,columnNumber:17},this),t.jsxDEV(me,{onClick:()=>a(`/journeys?discoveryId=${n}`),className:"flex-1","data-testid":"button-view-journeys",children:["View All Journeys",t.jsxDEV(ar,{className:"h-4 w-4 ml-2"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:966,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:960,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:951,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:950,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:949,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:627,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:623,columnNumber:7},this)}return t.jsxDEV(st,{title:"Segment Discovery",subtitle:"Loading results...",children:t.jsxDEV("div",{className:"flex items-center justify-center min-h-[60vh]",children:t.jsxDEV(lt,{className:"h-8 w-8 animate-spin text-primary"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:982,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:981,columnNumber:7},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/SegmentDiscoveryPage.tsx",lineNumber:977,columnNumber:5},this)}function Xie(){const[,e]=or(),{toast:r}=ur(),n=Yv(),{data:s,isLoading:a}=yt({queryKey:["/api/marketing-consultant/discoveries"]}),l=Qr({mutationFn:async b=>{await Zt("DELETE",`/api/marketing-consultant/discovery/${b}`)},onSuccess:()=>{n.invalidateQueries({queryKey:["/api/marketing-consultant/discoveries"]}),r({title:"Discovery cancelled",description:"The stale discovery has been removed."})},onError:b=>{r({title:"Failed to cancel",description:b.message||"Could not cancel the discovery",variant:"destructive"})}}),c=(s==null?void 0:s.discoveries)||[],u=c.filter(b=>b.status==="completed"),d=c.filter(b=>b.status!=="completed"),h=b=>Mte(new Date,new Date(b))>10,g=b=>({b2b_software:"B2B Software",b2c_software:"B2C Software",professional_services:"Professional Services",physical_product:"Physical Product",marketplace_platform:"Marketplace",content_education:"Content/Education",other:"Other"})[b]||b,p=b=>({idea_validation:"Idea Validation",mvp_launched:"MVP Launched",early_revenue:"Early Revenue",growth_stage:"Growth Stage",established:"Established"})[b]||b,N=b=>{switch(b){case"completed":return t.jsxDEV(se,{variant:"default",className:"bg-green-600",children:"Completed"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/MyDiscoveriesPage.tsx",lineNumber:95,columnNumber:16},this);case"discovery_running":return t.jsxDEV(se,{variant:"secondary",className:"bg-blue-600",children:"In Progress"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/MyDiscoveriesPage.tsx",lineNumber:97,columnNumber:16},this);default:return t.jsxDEV(se,{variant:"outline",children:b},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/MyDiscoveriesPage.tsx",lineNumber:99,columnNumber:16},this)}};return t.jsxDEV(st,{children:t.jsxDEV("div",{className:"container mx-auto py-8 max-w-4xl",children:[t.jsxDEV("div",{className:"flex items-center justify-between mb-8",children:[t.jsxDEV("div",{children:[t.jsxDEV("h1",{className:"text-3xl font-bold flex items-center gap-3","data-testid":"text-page-title",children:[t.jsxDEV(X7,{className:"h-8 w-8 text-primary"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/MyDiscoveriesPage.tsx",lineNumber:109,columnNumber:15},this),"My Discoveries"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/MyDiscoveriesPage.tsx",lineNumber:108,columnNumber:13},this),t.jsxDEV("p",{className:"text-muted-foreground mt-2",children:"View and manage your customer segment discovery results"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/MyDiscoveriesPage.tsx",lineNumber:112,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/MyDiscoveriesPage.tsx",lineNumber:107,columnNumber:11},this),t.jsxDEV(me,{onClick:()=>e("/marketing-consultant"),"data-testid":"button-new-discovery",children:[t.jsxDEV(Kd,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/MyDiscoveriesPage.tsx",lineNumber:120,columnNumber:13},this),"New Discovery"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/MyDiscoveriesPage.tsx",lineNumber:116,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/MyDiscoveriesPage.tsx",lineNumber:106,columnNumber:9},this),a?t.jsxDEV("div",{className:"space-y-4",children:[1,2,3].map(b=>t.jsxDEV(Z,{children:t.jsxDEV(te,{className:"p-6",children:t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(Jt,{className:"h-5 w-32"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/MyDiscoveriesPage.tsx",lineNumber:132,columnNumber:23},this),t.jsxDEV(Jt,{className:"h-4 w-48"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/MyDiscoveriesPage.tsx",lineNumber:133,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/MyDiscoveriesPage.tsx",lineNumber:131,columnNumber:21},this),t.jsxDEV(Jt,{className:"h-9 w-20"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/MyDiscoveriesPage.tsx",lineNumber:135,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/MyDiscoveriesPage.tsx",lineNumber:130,columnNumber:19},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/MyDiscoveriesPage.tsx",lineNumber:129,columnNumber:17},this)},b,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/MyDiscoveriesPage.tsx",lineNumber:128,columnNumber:15},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/MyDiscoveriesPage.tsx",lineNumber:126,columnNumber:11},this):c.length===0?t.jsxDEV(Z,{"data-testid":"card-empty-state",children:t.jsxDEV(te,{className:"p-12 text-center",children:[t.jsxDEV(Xr,{className:"h-16 w-16 mx-auto text-muted-foreground/50 mb-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/MyDiscoveriesPage.tsx",lineNumber:144,columnNumber:15},this),t.jsxDEV("h3",{className:"text-xl font-semibold mb-2",children:"No discoveries yet"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/MyDiscoveriesPage.tsx",lineNumber:145,columnNumber:15},this),t.jsxDEV("p",{className:"text-muted-foreground mb-6 max-w-md mx-auto",children:"Start your first segment discovery to identify high-potential customer segments for your offering."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/MyDiscoveriesPage.tsx",lineNumber:146,columnNumber:15},this),t.jsxDEV(me,{onClick:()=>e("/marketing-consultant"),"data-testid":"button-start-first-discovery",children:[t.jsxDEV(Kd,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/MyDiscoveriesPage.tsx",lineNumber:153,columnNumber:17},this),"Start Your First Discovery"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/MyDiscoveriesPage.tsx",lineNumber:149,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/MyDiscoveriesPage.tsx",lineNumber:143,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/MyDiscoveriesPage.tsx",lineNumber:142,columnNumber:11},this):t.jsxDEV("div",{className:"space-y-6",children:[d.length>0&&t.jsxDEV("div",{children:[t.jsxDEV("h2",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[t.jsxDEV(lt,{className:"h-5 w-5 animate-spin text-blue-500"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/MyDiscoveriesPage.tsx",lineNumber:163,columnNumber:19},this),"In Progress"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/MyDiscoveriesPage.tsx",lineNumber:162,columnNumber:17},this),t.jsxDEV("div",{className:"space-y-3",children:d.map(b=>{const D=h(b.createdAt);return t.jsxDEV(Z,{className:`hover:bg-muted/30 transition-colors ${D?"border-amber-500/50":""}`,"data-testid":`card-discovery-${b.id}`,children:t.jsxDEV(te,{className:"p-4",children:t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("div",{className:"flex items-center gap-4 flex-1 cursor-pointer",onClick:()=>e(`/marketing-consultant/segment-discovery/${b.id}`),children:[t.jsxDEV("div",{className:`h-10 w-10 rounded-lg flex items-center justify-center ${D?"bg-amber-500/10":"bg-blue-500/10"}`,children:D?t.jsxDEV(Dt,{className:"h-5 w-5 text-amber-500"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/MyDiscoveriesPage.tsx",lineNumber:183,columnNumber:35},this):t.jsxDEV(Xr,{className:"h-5 w-5 text-blue-500"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/MyDiscoveriesPage.tsx",lineNumber:185,columnNumber:35},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/MyDiscoveriesPage.tsx",lineNumber:181,columnNumber:31},this),t.jsxDEV("div",{children:[t.jsxDEV("div",{className:"font-medium flex items-center gap-2",children:[g(b.offeringType),D&&t.jsxDEV("span",{className:"text-xs text-amber-500",children:"(Stale)"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/MyDiscoveriesPage.tsx",lineNumber:191,columnNumber:45},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/MyDiscoveriesPage.tsx",lineNumber:189,columnNumber:33},this),t.jsxDEV("div",{className:"text-sm text-muted-foreground flex items-center gap-2",children:[t.jsxDEV("span",{children:p(b.stage)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/MyDiscoveriesPage.tsx",lineNumber:194,columnNumber:35},this),t.jsxDEV("span",{children:""},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/MyDiscoveriesPage.tsx",lineNumber:195,columnNumber:35},this),t.jsxDEV("span",{className:"flex items-center gap-1",children:[t.jsxDEV(ys,{className:"h-3 w-3"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/MyDiscoveriesPage.tsx",lineNumber:197,columnNumber:37},this),"Started ",Si(new Date(b.createdAt),{addSuffix:!0})]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/MyDiscoveriesPage.tsx",lineNumber:196,columnNumber:35},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/MyDiscoveriesPage.tsx",lineNumber:193,columnNumber:33},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/MyDiscoveriesPage.tsx",lineNumber:188,columnNumber:31},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/MyDiscoveriesPage.tsx",lineNumber:177,columnNumber:29},this),t.jsxDEV("div",{className:"flex items-center gap-2",children:[N(b.status),D&&t.jsxDEV(me,{variant:"ghost",size:"sm",className:"text-destructive hover:text-destructive hover:bg-destructive/10",onClick:E=>{E.stopPropagation(),l.mutate(b.id)},disabled:l.isPending,"data-testid":`button-cancel-${b.id}`,children:t.jsxDEV(vo,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/MyDiscoveriesPage.tsx",lineNumber:217,columnNumber:35},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/MyDiscoveriesPage.tsx",lineNumber:206,columnNumber:33},this),t.jsxDEV(Wu,{className:"h-5 w-5 text-muted-foreground"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/MyDiscoveriesPage.tsx",lineNumber:220,columnNumber:31},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/MyDiscoveriesPage.tsx",lineNumber:203,columnNumber:29},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/MyDiscoveriesPage.tsx",lineNumber:176,columnNumber:27},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/MyDiscoveriesPage.tsx",lineNumber:175,columnNumber:25},this)},b.id,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/MyDiscoveriesPage.tsx",lineNumber:170,columnNumber:23},this)})},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/MyDiscoveriesPage.tsx",lineNumber:166,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/MyDiscoveriesPage.tsx",lineNumber:161,columnNumber:15},this),u.length>0&&t.jsxDEV("div",{children:[t.jsxDEV("h2",{className:"text-lg font-semibold mb-3","data-testid":"text-completed-header",children:["Completed Discoveries (",u.length,")"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/MyDiscoveriesPage.tsx",lineNumber:233,columnNumber:17},this),t.jsxDEV("div",{className:"space-y-3",children:u.map(b=>t.jsxDEV(Z,{className:"hover:bg-muted/30 transition-colors cursor-pointer",onClick:()=>e(`/marketing-consultant/results/${b.id}`),"data-testid":`card-discovery-${b.id}`,children:t.jsxDEV(te,{className:"p-4",children:t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("div",{className:"flex items-center gap-4",children:[t.jsxDEV("div",{className:"h-10 w-10 rounded-lg bg-green-500/10 flex items-center justify-center",children:t.jsxDEV(Xr,{className:"h-5 w-5 text-green-500"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/MyDiscoveriesPage.tsx",lineNumber:248,columnNumber:31},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/MyDiscoveriesPage.tsx",lineNumber:247,columnNumber:29},this),t.jsxDEV("div",{children:[t.jsxDEV("div",{className:"font-medium",children:g(b.offeringType)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/MyDiscoveriesPage.tsx",lineNumber:251,columnNumber:31},this),t.jsxDEV("div",{className:"text-sm text-muted-foreground flex items-center gap-2",children:[t.jsxDEV("span",{children:p(b.stage)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/MyDiscoveriesPage.tsx",lineNumber:255,columnNumber:33},this),t.jsxDEV("span",{children:""},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/MyDiscoveriesPage.tsx",lineNumber:256,columnNumber:33},this),t.jsxDEV("span",{className:"flex items-center gap-1",children:[t.jsxDEV(ys,{className:"h-3 w-3"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/MyDiscoveriesPage.tsx",lineNumber:258,columnNumber:35},this),b.completedAt?Si(new Date(b.completedAt),{addSuffix:!0}):Si(new Date(b.createdAt),{addSuffix:!0})]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/MyDiscoveriesPage.tsx",lineNumber:257,columnNumber:33},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/MyDiscoveriesPage.tsx",lineNumber:254,columnNumber:31},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/MyDiscoveriesPage.tsx",lineNumber:250,columnNumber:29},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/MyDiscoveriesPage.tsx",lineNumber:246,columnNumber:27},this),t.jsxDEV("div",{className:"flex items-center gap-3",children:[N(b.status),t.jsxDEV(Wu,{className:"h-5 w-5 text-muted-foreground"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/MyDiscoveriesPage.tsx",lineNumber:269,columnNumber:29},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/MyDiscoveriesPage.tsx",lineNumber:267,columnNumber:27},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/MyDiscoveriesPage.tsx",lineNumber:245,columnNumber:25},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/MyDiscoveriesPage.tsx",lineNumber:244,columnNumber:23},this)},b.id,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/MyDiscoveriesPage.tsx",lineNumber:238,columnNumber:21},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/MyDiscoveriesPage.tsx",lineNumber:236,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/MyDiscoveriesPage.tsx",lineNumber:232,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/MyDiscoveriesPage.tsx",lineNumber:159,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/MyDiscoveriesPage.tsx",lineNumber:105,columnNumber:7},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/marketing-consultant/MyDiscoveriesPage.tsx",lineNumber:104,columnNumber:5},this)}const J4={physical_business_launch:"Physical Business Launch",software_development:"Software Development",digital_transformation:"Digital Transformation",market_expansion:"Market Expansion",product_launch:"Product Launch",service_launch:"Service Launch",process_improvement:"Process Improvement",other:"Other"},Qie={physical_business_launch:"Opening physical locations such as stores, restaurants, offices, or warehouses",software_development:"Building software products, apps, platforms, or technical systems",digital_transformation:"Modernizing existing business with digital capabilities",market_expansion:"Entering new markets, regions, or customer segments",product_launch:"Introducing new physical or digital products",service_launch:"Introducing new service offerings",process_improvement:"Optimizing operations, workflows, or efficiency",other:"General initiative that doesn't fit other categories"};function Zie(e,r,n){switch(e){case"five_whys":return`/strategic-consultant/whys-tree/${r}?journeySession=${n}`;case"pestle":return`/strategic-consultant/trend-analysis/${n}/1`;case"segment_discovery":return`/marketing-consultant?journeySession=${n}`;default:return`/strategic-consultant/framework-insight/${n}?framework=${e}`}}function eae(){const{understandingId:e}=Oa(),[,r]=or(),{toast:n}=ur(),s=new URLSearchParams(window.location.search),a=s.get("templateId"),l=s.get("journeyType"),[c,u]=v.useState(!0),[d,h]=v.useState(!1),[g,p]=v.useState(null),[N,b]=v.useState(""),[D,E]=v.useState(!1),[j,P]=v.useState(null);v.useEffect(()=>{w()},[e]),v.useEffect(()=>{if(!a){console.log("[ClassificationPage] No templateId in URL");return}console.log("[ClassificationPage] Loading template data for templateId:",a),(async()=>{var T,A,F;try{const L=await fetch(`/api/journey-builder/templates/${a}`);if(L.ok){const $=await L.json();console.log("[ClassificationPage] Template loaded:",(T=$.template)==null?void 0:T.name,"Steps:",(F=(A=$.template)==null?void 0:A.steps)==null?void 0:F.length),P($.template)}else console.error("[ClassificationPage] Failed to load template, status:",L.status)}catch(L){console.error("[ClassificationPage] Error loading template:",L)}})()},[a]);const w=async()=>{try{u(!0);const M=await fetch(`/api/strategic-consultant/understanding/${e}`);if(!M.ok)throw new Error("Failed to load classification");const T=await M.json(),A={initiativeType:T.initiativeType||"other",description:T.initiativeDescription||"Initiative classification",confidence:parseFloat(T.classificationConfidence||"0.5"),reasoning:"",userConfirmed:T.userConfirmed||!1};p(A),b(A.initiativeType)}catch(M){console.error("Error loading classification:",M),n({title:"Failed to load classification",description:M.message,variant:"destructive"})}finally{u(!1)}},k=M=>{b(M),E(M!==(g==null?void 0:g.initiativeType))},V=async()=>{try{h(!0);const M=await fetch("/api/strategic-consultant/classification",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({understandingId:e,initiativeType:N,userConfirmed:!0})});if(!M.ok){const A=await M.json().catch(()=>({error:"Unknown error"}));throw new Error(A.error||"Failed to update classification")}const T=await M.json();console.log("[ClassificationPage] Update successful:",T),n({title:"Classification confirmed",description:D?"Your correction has been saved and will guide the analysis.":"Classification confirmed and saved."}),console.log("[ClassificationPage] handleConfirm - templateId:",a,"journeyTypeParam:",l),setTimeout(async()=>{if(a){console.log("[ClassificationPage] Custom journey detected, starting execution...");try{const A=await fetch("/api/journey-builder/start-custom-journey",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({understandingId:e,templateId:a})});if(A.ok){const{journeySessionId:F,firstFramework:L}=await A.json();console.log("[ClassificationPage] Custom journey started - sessionId:",F,"firstFramework:",L),console.log("[ClassificationPage] Triggering custom journey execution for session:",F),fetch(`/api/strategic-consultant/journeys/${F}/execute`,{method:"POST",headers:{"Content-Type":"application/json"}}).catch(W=>console.error("[ClassificationPage] Execution trigger failed:",W));const $=Zie(L,e,F);console.log("[ClassificationPage] Navigating to:",$),r($)}else{const F=await A.json().catch(()=>({}));console.error("[ClassificationPage] Failed to start custom journey:",F),r(`/strategic-consultant/journey-selection/${e}`)}}catch(A){console.error("[ClassificationPage] Error starting custom journey:",A),r(`/strategic-consultant/journey-selection/${e}`)}}else if(l){console.log("[ClassificationPage] Journey pre-selected from JourneyHub:",l),console.log("[ClassificationPage] Executing journey directly, skipping selection page...");try{const F=await fetch("/api/strategic-consultant/journeys/execute",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({journeyType:l,understandingId:e})});if(!F.ok){const $=await F.json();throw new Error($.error||"Journey execution failed")}const L=await F.json();localStorage.setItem(`journey-type-${L.sessionId}`,l),L.versionNumber&&(localStorage.setItem(`journey-version-${L.sessionId}`,String(L.versionNumber)),L.journeySessionId&&localStorage.setItem(`journey-version-${L.journeySessionId}`,String(L.versionNumber)),console.log(`[ClassificationPage] Stored version ${L.versionNumber} for session`)),vr.invalidateQueries({queryKey:["/api/session-context"]}),n({title:"Journey started!",description:L.message}),console.log("[ClassificationPage] Navigating to:",L.navigationUrl),r(L.navigationUrl)}catch(A){console.error("[ClassificationPage] Journey execution failed:",A),n({title:"Journey execution failed",description:A.message,variant:"destructive"}),r(`/strategic-consultant/journey-selection/${e}?journeyType=${l}`)}}else console.log("[ClassificationPage] No pre-selection, going to journey selection page"),r(`/strategic-consultant/journey-selection/${e}`)},500)}catch(M){console.error("[ClassificationPage] Error updating classification:",M),n({title:"Update failed",description:M.message||"An unexpected error occurred. Please try again.",variant:"destructive"})}finally{h(!1)}};if(c)return t.jsxDEV(st,{title:"Classification",subtitle:"Loading...",children:t.jsxDEV("div",{className:"max-w-4xl mx-auto",children:t.jsxDEV(Z,{children:t.jsxDEV(te,{className:"p-12 flex flex-col items-center justify-center",children:[t.jsxDEV(lt,{className:"h-12 w-12 animate-spin text-primary mb-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ClassificationPage.tsx",lineNumber:307,columnNumber:15},this),t.jsxDEV("p",{className:"text-muted-foreground",children:"Loading classification..."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ClassificationPage.tsx",lineNumber:308,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ClassificationPage.tsx",lineNumber:306,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ClassificationPage.tsx",lineNumber:305,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ClassificationPage.tsx",lineNumber:304,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ClassificationPage.tsx",lineNumber:303,columnNumber:7},this);if(!g)return t.jsxDEV(st,{title:"Classification",subtitle:"Error loading",children:t.jsxDEV("div",{className:"max-w-4xl mx-auto space-y-4",children:[t.jsxDEV(it,{variant:"destructive",children:[t.jsxDEV(Dt,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ClassificationPage.tsx",lineNumber:321,columnNumber:13},this),t.jsxDEV(at,{children:"Classification data not found. Please try again."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ClassificationPage.tsx",lineNumber:322,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ClassificationPage.tsx",lineNumber:320,columnNumber:11},this),t.jsxDEV("div",{className:"flex gap-3",children:[t.jsxDEV(me,{variant:"outline",onClick:()=>r("/strategic-consultant/input"),"data-testid":"button-back-to-input",children:"Back to Input"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ClassificationPage.tsx",lineNumber:327,columnNumber:13},this),t.jsxDEV(me,{onClick:w,"data-testid":"button-retry",children:"Retry Loading"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ClassificationPage.tsx",lineNumber:334,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ClassificationPage.tsx",lineNumber:326,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ClassificationPage.tsx",lineNumber:319,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ClassificationPage.tsx",lineNumber:318,columnNumber:7},this);const S=Math.round(g.confidence*100),R=g.confidence>=.8?"text-green-600":g.confidence>=.6?"text-yellow-600":"text-orange-600";return t.jsxDEV(st,{title:"Confirm Initiative Type",subtitle:"Review and confirm the AI classification",children:t.jsxDEV("div",{className:"max-w-4xl mx-auto space-y-6",children:[t.jsxDEV(Z,{children:[t.jsxDEV(de,{children:t.jsxDEV("div",{className:"flex items-start justify-between",children:[t.jsxDEV("div",{children:[t.jsxDEV(pe,{className:"text-2xl",children:"AI Classification"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ClassificationPage.tsx",lineNumber:359,columnNumber:17},this),t.jsxDEV(He,{className:"mt-2",children:g.description},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ClassificationPage.tsx",lineNumber:360,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ClassificationPage.tsx",lineNumber:358,columnNumber:15},this),t.jsxDEV(se,{variant:"outline",className:`${R} border-current`,"data-testid":"badge-confidence",children:[S,"% confidence"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ClassificationPage.tsx",lineNumber:364,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ClassificationPage.tsx",lineNumber:357,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ClassificationPage.tsx",lineNumber:356,columnNumber:11},this),t.jsxDEV(te,{className:"space-y-6",children:[t.jsxDEV("div",{className:"p-4 bg-primary/5 rounded-lg border border-primary/20",children:[t.jsxDEV("p",{className:"text-sm text-muted-foreground mb-2",children:"Detected Initiative Type:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ClassificationPage.tsx",lineNumber:376,columnNumber:15},this),t.jsxDEV("p",{className:"text-xl font-semibold text-primary","data-testid":"text-detected-type",children:J4[g.initiativeType]},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ClassificationPage.tsx",lineNumber:377,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ClassificationPage.tsx",lineNumber:375,columnNumber:13},this),g.confidence<.7&&t.jsxDEV(it,{"data-testid":"alert-low-confidence",children:[t.jsxDEV(bo,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ClassificationPage.tsx",lineNumber:385,columnNumber:17},this),t.jsxDEV(at,{children:"The AI has moderate confidence in this classification. Please review carefully and correct if needed."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ClassificationPage.tsx",lineNumber:386,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ClassificationPage.tsx",lineNumber:384,columnNumber:15},this),t.jsxDEV("div",{className:"space-y-3",children:[t.jsxDEV(br,{htmlFor:"initiative-type",className:"text-base font-medium",children:"Confirm or Correct Initiative Type"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ClassificationPage.tsx",lineNumber:395,columnNumber:15},this),t.jsxDEV(Pa,{value:N,onValueChange:k,children:[t.jsxDEV(Qi,{id:"initiative-type","data-testid":"select-initiative-type",className:"h-auto min-h-[40px]",children:t.jsxDEV(Sa,{},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ClassificationPage.tsx",lineNumber:400,columnNumber:19},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ClassificationPage.tsx",lineNumber:399,columnNumber:17},this),t.jsxDEV(Zi,{children:Object.entries(J4).map(([M,T])=>t.jsxDEV(as,{value:M,"data-testid":`select-option-${M}`,children:T},M,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ClassificationPage.tsx",lineNumber:404,columnNumber:21},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ClassificationPage.tsx",lineNumber:402,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ClassificationPage.tsx",lineNumber:398,columnNumber:15},this),N&&t.jsxDEV("p",{className:"text-xs text-muted-foreground bg-muted/50 p-3 rounded-md",children:Qie[N]},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ClassificationPage.tsx",lineNumber:415,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ClassificationPage.tsx",lineNumber:394,columnNumber:13},this),D&&t.jsxDEV(it,{"data-testid":"alert-changed",children:[t.jsxDEV(tr,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ClassificationPage.tsx",lineNumber:424,columnNumber:17},this),t.jsxDEV(at,{children:"You've changed the classification. This will help improve the accuracy of the strategic analysis."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ClassificationPage.tsx",lineNumber:425,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ClassificationPage.tsx",lineNumber:423,columnNumber:15},this),t.jsxDEV(me,{onClick:V,disabled:d,className:"w-full font-semibold text-base shadow-md hover:shadow-lg",size:"lg","data-testid":"button-confirm",children:d?t.jsxDEV(t.Fragment,{children:[t.jsxDEV(lt,{className:"mr-2 h-5 w-5 animate-spin"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ClassificationPage.tsx",lineNumber:442,columnNumber:19},this),"Saving..."]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ClassificationPage.tsx",lineNumber:441,columnNumber:17},this):t.jsxDEV(t.Fragment,{children:["Confirm and Continue",t.jsxDEV(ar,{className:"ml-2 h-5 w-5"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ClassificationPage.tsx",lineNumber:448,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ClassificationPage.tsx",lineNumber:446,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ClassificationPage.tsx",lineNumber:433,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ClassificationPage.tsx",lineNumber:373,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ClassificationPage.tsx",lineNumber:355,columnNumber:9},this),t.jsxDEV(Z,{className:"bg-muted/50",children:t.jsxDEV(te,{className:"pt-6",children:t.jsxDEV("div",{className:"flex gap-3",children:[t.jsxDEV(bo,{className:"h-5 w-5 text-muted-foreground flex-shrink-0 mt-0.5"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ClassificationPage.tsx",lineNumber:459,columnNumber:15},this),t.jsxDEV("div",{className:"space-y-2 text-sm text-muted-foreground",children:[t.jsxDEV("p",{children:[t.jsxDEV("strong",{children:"Why does this matter?"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ClassificationPage.tsx",lineNumber:462,columnNumber:19},this)," The initiative type helps our AI provide more accurate strategic analysis, appropriate resource planning, and realistic timelines for your specific type of project."]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ClassificationPage.tsx",lineNumber:461,columnNumber:17},this),t.jsxDEV("p",{children:"If the AI got it wrong, please correct it. Your input helps the system learn and improve future classifications."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ClassificationPage.tsx",lineNumber:466,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ClassificationPage.tsx",lineNumber:460,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ClassificationPage.tsx",lineNumber:458,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ClassificationPage.tsx",lineNumber:457,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ClassificationPage.tsx",lineNumber:456,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ClassificationPage.tsx",lineNumber:353,columnNumber:7},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ClassificationPage.tsx",lineNumber:352,columnNumber:5},this)}function tae(){const[,e]=Xn("/strategic-consultant/journey-selection/:understandingId"),r=e==null?void 0:e.understandingId,[,n]=or(),{toast:s}=ur(),[a,l]=v.useState(null),c=v.useRef(!1),d=new URLSearchParams(window.location.search).get("journeyType");if(console.log("[JourneySelection] URL params:",e),console.log("[JourneySelection] understandingId:",r),!r)return t.jsxDEV(st,{title:"Select Your Journey",subtitle:"Choose the strategic analysis approach that fits your challenge",onViewChange:()=>n("/"),children:t.jsxDEV("div",{className:"flex items-center justify-center h-64",children:t.jsxDEV("p",{className:"text-destructive",children:"Error: No understanding ID found in URL. Please start a new analysis."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/JourneySelectionPage.tsx",lineNumber:37,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/JourneySelectionPage.tsx",lineNumber:36,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/JourneySelectionPage.tsx",lineNumber:31,columnNumber:7},this);const{data:h,isLoading:g}=yt({queryKey:["/api/strategic-consultant/understanding",r],queryFn:async()=>{const j=await fetch(`/api/strategic-consultant/understanding/${r}`);if(!j.ok)throw new Error("Failed to fetch understanding");return j.json()},enabled:!!r}),{data:p,isLoading:N}=yt({queryKey:["/api/strategic-consultant/journey-registry"],enabled:!!r}),b=(p==null?void 0:p.journeys)||[],D=g||N,E=async j=>{if(!r){s({title:"Error",description:"Understanding ID not found. Please try again.",variant:"destructive"});return}const P=b.find(w=>w.type===j);if(!(P!=null&&P.available)){s({title:"Journey not available",description:"This journey is coming soon. Try Business Model Innovation for now.",variant:"destructive"});return}l(j);try{const w={journeyType:j,understandingId:r};console.log("[JourneySelection] Executing journey:",w);const k=await fetch("/api/strategic-consultant/journeys/execute",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(w)});if(!k.ok){const S=await k.json();throw new Error(S.error||"Journey execution failed")}const V=await k.json();localStorage.setItem(`journey-type-${V.sessionId}`,j),V.versionNumber&&(localStorage.setItem(`journey-version-${V.sessionId}`,String(V.versionNumber)),V.journeySessionId&&localStorage.setItem(`journey-version-${V.journeySessionId}`,String(V.versionNumber)),console.log(`[JourneySelection] Stored version ${V.versionNumber} for both sessionId formats`)),vr.invalidateQueries({queryKey:["/api/session-context"]}),s({title:"Journey started!",description:`${V.message}`}),setTimeout(()=>{n(V.navigationUrl)},500)}catch(w){s({title:"Journey execution failed",description:w.message,variant:"destructive"})}finally{l(null)}};return v.useEffect(()=>{if(d&&!D&&b.length>0&&!c.current&&!a){const j=b.find(P=>P.type===d);j!=null&&j.available?(console.log("[JourneySelection] Auto-starting preselected journey:",d),c.current=!0,E(d)):console.log("[JourneySelection] Preselected journey not available:",d)}},[d,D,b,a]),D?t.jsxDEV(st,{title:"Select Your Journey",subtitle:"Choose the strategic analysis approach that fits your challenge",onViewChange:()=>n("/"),children:t.jsxDEV("div",{className:"flex items-center justify-center h-64",children:t.jsxDEV(lt,{className:"h-8 w-8 animate-spin text-primary"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/JourneySelectionPage.tsx",lineNumber:170,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/JourneySelectionPage.tsx",lineNumber:169,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/JourneySelectionPage.tsx",lineNumber:164,columnNumber:7},this):t.jsxDEV(st,{title:"Select Your Journey",subtitle:"Choose the strategic analysis approach that fits your challenge",onViewChange:()=>n("/"),children:t.jsxDEV("div",{className:"max-w-6xl mx-auto space-y-4 sm:space-y-6 p-4 sm:p-0",children:[(h==null?void 0:h.userInput)&&t.jsxDEV(Z,{className:"bg-muted/50",children:[t.jsxDEV(de,{className:"p-4 sm:p-6",children:t.jsxDEV(pe,{className:"text-lg",children:"Your Challenge"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/JourneySelectionPage.tsx",lineNumber:187,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/JourneySelectionPage.tsx",lineNumber:186,columnNumber:13},this),t.jsxDEV(te,{className:"p-4 sm:p-6",children:t.jsxDEV("p",{className:"text-sm text-muted-foreground line-clamp-3 break-words",children:h.userInput},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/JourneySelectionPage.tsx",lineNumber:190,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/JourneySelectionPage.tsx",lineNumber:189,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/JourneySelectionPage.tsx",lineNumber:185,columnNumber:11},this),t.jsxDEV("div",{className:"grid gap-4 sm:gap-6 grid-cols-1 md:grid-cols-2 lg:grid-cols-3",children:b.map(j=>{var P;return t.jsxDEV(Z,{className:`relative transition-all ${j.available?"hover:shadow-xl hover:border-primary hover:scale-[1.02] border-2":"opacity-60"}`,"data-testid":`journey-card-${j.type.toLowerCase()}`,children:[t.jsxDEV(de,{children:[t.jsxDEV("div",{className:"flex items-start justify-between",children:[t.jsxDEV(pe,{className:"text-lg",children:j.name},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/JourneySelectionPage.tsx",lineNumber:211,columnNumber:19},this),j.available?t.jsxDEV(se,{variant:"default",className:"ml-2",children:[t.jsxDEV(tr,{className:"h-3 w-3 mr-1"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/JourneySelectionPage.tsx",lineNumber:214,columnNumber:23},this),"Available"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/JourneySelectionPage.tsx",lineNumber:213,columnNumber:21},this):t.jsxDEV(se,{variant:"secondary",className:"ml-2",children:[t.jsxDEV(qs,{className:"h-3 w-3 mr-1"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/JourneySelectionPage.tsx",lineNumber:219,columnNumber:23},this),"Soon"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/JourneySelectionPage.tsx",lineNumber:218,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/JourneySelectionPage.tsx",lineNumber:210,columnNumber:17},this),t.jsxDEV(He,{className:"mt-2",children:j.description},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/JourneySelectionPage.tsx",lineNumber:224,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/JourneySelectionPage.tsx",lineNumber:209,columnNumber:15},this),t.jsxDEV(te,{className:"space-y-4",children:[t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-xs font-semibold text-muted-foreground mb-2",children:"Frameworks:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/JourneySelectionPage.tsx",lineNumber:231,columnNumber:19},this),t.jsxDEV("div",{className:"flex flex-wrap gap-1",children:(P=j.frameworks)==null?void 0:P.map((w,k)=>t.jsxDEV(se,{variant:"outline",className:"text-xs",children:w},k,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/JourneySelectionPage.tsx",lineNumber:236,columnNumber:23},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/JourneySelectionPage.tsx",lineNumber:234,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/JourneySelectionPage.tsx",lineNumber:230,columnNumber:17},this),j.estimatedDuration&&t.jsxDEV("div",{children:t.jsxDEV("p",{className:"text-xs font-semibold text-muted-foreground mb-1",children:["Duration: ",t.jsxDEV("span",{className:"font-normal",children:j.estimatedDuration},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/JourneySelectionPage.tsx",lineNumber:247,columnNumber:33},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/JourneySelectionPage.tsx",lineNumber:246,columnNumber:21},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/JourneySelectionPage.tsx",lineNumber:245,columnNumber:19},this),t.jsxDEV(me,{onClick:()=>E(j.type),disabled:!j.available||a!==null,size:"lg",className:"w-full mt-4 font-semibold text-base shadow-md hover:shadow-lg","data-testid":`button-select-journey-${j.type.toLowerCase()}`,children:a===j.type?t.jsxDEV(t.Fragment,{children:[t.jsxDEV(lt,{className:"h-5 w-5 mr-2 animate-spin"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/JourneySelectionPage.tsx",lineNumber:262,columnNumber:23},this),"Starting Journey..."]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/JourneySelectionPage.tsx",lineNumber:261,columnNumber:21},this):t.jsxDEV(t.Fragment,{children:["Start Journey",t.jsxDEV(ar,{className:"h-5 w-5 ml-2"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/JourneySelectionPage.tsx",lineNumber:268,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/JourneySelectionPage.tsx",lineNumber:266,columnNumber:21},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/JourneySelectionPage.tsx",lineNumber:253,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/JourneySelectionPage.tsx",lineNumber:228,columnNumber:15},this)]},j.type,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/JourneySelectionPage.tsx",lineNumber:200,columnNumber:13},this)})},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/JourneySelectionPage.tsx",lineNumber:198,columnNumber:9},this),t.jsxDEV(Z,{className:"border-dashed",children:t.jsxDEV(te,{className:"pt-6",children:t.jsxDEV("p",{className:"text-sm text-muted-foreground text-center",children:[" Not sure which journey to choose? ",t.jsxDEV("strong",{children:"Business Model Innovation"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/JourneySelectionPage.tsx",lineNumber:281,columnNumber:52},this)," is a great starting point for most challenges."]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/JourneySelectionPage.tsx",lineNumber:280,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/JourneySelectionPage.tsx",lineNumber:279,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/JourneySelectionPage.tsx",lineNumber:278,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/JourneySelectionPage.tsx",lineNumber:182,columnNumber:7},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/JourneySelectionPage.tsx",lineNumber:177,columnNumber:5},this)}function rae({data:e}){const r=e.rootCauses||[],n=e.strategicImplications||[],s=a=>typeof a=="string"?a:typeof a=="object"&&a!==null?"answer"in a&&"question"in a?`${a.question}: ${a.answer}`:"answer"in a?String(a.answer):"question"in a?String(a.question):JSON.stringify(a):String(a||"");return t.jsxDEV(Z,{children:[t.jsxDEV(de,{children:t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(Dt,{className:"h-5 w-5 text-orange-600"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/FiveWhysResults.tsx",lineNumber:35,columnNumber:11},this),t.jsxDEV("div",{children:[t.jsxDEV(pe,{children:"Root Causes Identified"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/FiveWhysResults.tsx",lineNumber:37,columnNumber:13},this),t.jsxDEV(He,{children:"Five Whys analysis revealed fundamental issues"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/FiveWhysResults.tsx",lineNumber:38,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/FiveWhysResults.tsx",lineNumber:36,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/FiveWhysResults.tsx",lineNumber:34,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/FiveWhysResults.tsx",lineNumber:33,columnNumber:7},this),t.jsxDEV(te,{className:"space-y-4",children:[r.length>0?t.jsxDEV("div",{className:"space-y-3",children:r.map((a,l)=>t.jsxDEV("div",{className:"flex gap-3",children:[t.jsxDEV(se,{variant:"outline",className:"shrink-0 h-6",children:l+1},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/FiveWhysResults.tsx",lineNumber:49,columnNumber:17},this),t.jsxDEV("p",{className:"text-sm text-foreground",children:s(a)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/FiveWhysResults.tsx",lineNumber:52,columnNumber:17},this)]},l,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/FiveWhysResults.tsx",lineNumber:48,columnNumber:15},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/FiveWhysResults.tsx",lineNumber:46,columnNumber:11},this):t.jsxDEV("p",{className:"text-sm text-muted-foreground italic",children:"No root causes extracted"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/FiveWhysResults.tsx",lineNumber:57,columnNumber:11},this),n.length>0&&t.jsxDEV("div",{className:"mt-6 pt-6 border-t",children:[t.jsxDEV("h4",{className:"text-sm font-semibold mb-3",children:"Strategic Implications"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/FiveWhysResults.tsx",lineNumber:64,columnNumber:13},this),t.jsxDEV("div",{className:"space-y-2",children:n.map((a,l)=>t.jsxDEV("div",{className:"flex gap-2",children:[t.jsxDEV("span",{className:"text-muted-foreground shrink-0",children:""},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/FiveWhysResults.tsx",lineNumber:68,columnNumber:19},this),t.jsxDEV("p",{className:"text-sm text-foreground",children:s(a)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/FiveWhysResults.tsx",lineNumber:69,columnNumber:19},this)]},l,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/FiveWhysResults.tsx",lineNumber:67,columnNumber:17},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/FiveWhysResults.tsx",lineNumber:65,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/FiveWhysResults.tsx",lineNumber:63,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/FiveWhysResults.tsx",lineNumber:44,columnNumber:7},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/FiveWhysResults.tsx",lineNumber:32,columnNumber:5},this)}function nae({data:e}){const r=e.blocks||{},n=e.criticalGaps||[],s=Object.keys(r);return t.jsxDEV(Z,{children:[t.jsxDEV(de,{children:t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(yn,{className:"h-5 w-5 text-blue-600"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCResults.tsx",lineNumber:22,columnNumber:11},this),t.jsxDEV("div",{children:[t.jsxDEV(pe,{children:"Business Model Insights"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCResults.tsx",lineNumber:24,columnNumber:13},this),t.jsxDEV(He,{children:["Business Model Canvas analysis identified ",s.length," key areas"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCResults.tsx",lineNumber:25,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCResults.tsx",lineNumber:23,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCResults.tsx",lineNumber:21,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCResults.tsx",lineNumber:20,columnNumber:7},this),t.jsxDEV(te,{className:"space-y-4",children:[s.length>0?t.jsxDEV("div",{className:"space-y-4",children:[s.slice(0,3).map(a=>{var u;const l=r[a],c=(l==null?void 0:l.summary)||((u=l==null?void 0:l.insights)==null?void 0:u[0])||"No insights available";return t.jsxDEV("div",{className:"border-l-2 border-blue-200 pl-4",children:[t.jsxDEV("h4",{className:"text-sm font-semibold capitalize mb-1",children:a.replace(/_/g," ")},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCResults.tsx",lineNumber:40,columnNumber:19},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:typeof c=="string"?c:JSON.stringify(c)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCResults.tsx",lineNumber:43,columnNumber:19},this)]},a,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCResults.tsx",lineNumber:39,columnNumber:17},this)}),s.length>3&&t.jsxDEV("p",{className:"text-xs text-muted-foreground italic",children:["+ ",s.length-3," more areas analyzed"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCResults.tsx",lineNumber:51,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCResults.tsx",lineNumber:33,columnNumber:11},this):t.jsxDEV("p",{className:"text-sm text-muted-foreground italic",children:"No business model blocks generated"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCResults.tsx",lineNumber:57,columnNumber:11},this),n.length>0&&t.jsxDEV("div",{className:"mt-6 pt-6 border-t",children:[t.jsxDEV("h4",{className:"text-sm font-semibold mb-3",children:"Critical Gaps"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCResults.tsx",lineNumber:64,columnNumber:13},this),t.jsxDEV("div",{className:"space-y-2",children:n.map((a,l)=>t.jsxDEV("div",{className:"flex gap-3",children:[t.jsxDEV(se,{variant:"destructive",className:"shrink-0 h-6",children:["Gap ",l+1]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCResults.tsx",lineNumber:68,columnNumber:19},this),t.jsxDEV("p",{className:"text-sm text-foreground",children:a},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCResults.tsx",lineNumber:71,columnNumber:19},this)]},l,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCResults.tsx",lineNumber:67,columnNumber:17},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCResults.tsx",lineNumber:65,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCResults.tsx",lineNumber:63,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCResults.tsx",lineNumber:31,columnNumber:7},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCResults.tsx",lineNumber:19,columnNumber:5},this)}function sae(){const[,e]=or(),{sessionId:r}=Oa(),{data:n,isLoading:s,error:a}=yt({queryKey:["/api/strategic-consultant/journeys",r,"results"],enabled:!!r});if(s)return t.jsxDEV(st,{title:"Journey Complete",subtitle:"Loading your results...",onViewChange:()=>e("/"),children:t.jsxDEV("div",{className:"flex items-center justify-center min-h-[400px]",children:t.jsxDEV("div",{className:"text-center space-y-4",children:[t.jsxDEV(lt,{className:"h-8 w-8 animate-spin mx-auto text-primary"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/JourneyResultsPage.tsx",lineNumber:32,columnNumber:13},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Loading journey results..."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/JourneyResultsPage.tsx",lineNumber:33,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/JourneyResultsPage.tsx",lineNumber:31,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/JourneyResultsPage.tsx",lineNumber:30,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/JourneyResultsPage.tsx",lineNumber:25,columnNumber:7},this);if(a||!n)return t.jsxDEV(st,{title:"Journey Complete",subtitle:"Error loading results",onViewChange:()=>e("/"),children:t.jsxDEV("div",{className:"max-w-2xl mx-auto",children:t.jsxDEV(Z,{className:"border-destructive",children:t.jsxDEV(te,{className:"pt-6",children:[t.jsxDEV("p",{className:"text-sm text-destructive",children:(a==null?void 0:a.message)||"Failed to load journey results"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/JourneyResultsPage.tsx",lineNumber:50,columnNumber:15},this),t.jsxDEV(me,{variant:"outline",onClick:()=>e("/strategic-consultant/input"),className:"mt-4",children:"Start New Analysis"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/JourneyResultsPage.tsx",lineNumber:53,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/JourneyResultsPage.tsx",lineNumber:49,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/JourneyResultsPage.tsx",lineNumber:48,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/JourneyResultsPage.tsx",lineNumber:47,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/JourneyResultsPage.tsx",lineNumber:42,columnNumber:7},this);const l=(n==null?void 0:n.completedFrameworks)||[],c=(n==null?void 0:n.context)||{};n==null||n.journeyType,n==null||n.status;const u=c.insights||{},d={five_whys:"Five Whys",bmc:"Business Model Canvas",porters:"Porter's Five Forces",pestle:"PESTLE Analysis"};return t.jsxDEV(st,{title:"Journey Complete",subtitle:"Review your strategic analysis results",onViewChange:()=>e("/"),children:t.jsxDEV("div",{className:"max-w-6xl mx-auto space-y-6",children:[t.jsxDEV(Z,{className:"border-green-200 bg-green-50 dark:bg-green-950/20",children:t.jsxDEV(te,{className:"pt-6",children:t.jsxDEV("div",{className:"flex items-center gap-3",children:[t.jsxDEV(tr,{className:"h-8 w-8 text-green-600"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/JourneyResultsPage.tsx",lineNumber:92,columnNumber:15},this),t.jsxDEV("div",{children:[t.jsxDEV("h3",{className:"text-lg font-semibold text-green-900 dark:text-green-100",children:"Strategic Analysis Complete!"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/JourneyResultsPage.tsx",lineNumber:94,columnNumber:17},this),t.jsxDEV("p",{className:"text-sm text-green-700 dark:text-green-300",children:"Your multi-framework journey has been completed successfully."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/JourneyResultsPage.tsx",lineNumber:97,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/JourneyResultsPage.tsx",lineNumber:93,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/JourneyResultsPage.tsx",lineNumber:91,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/JourneyResultsPage.tsx",lineNumber:90,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/JourneyResultsPage.tsx",lineNumber:89,columnNumber:9},this),l.length>0&&t.jsxDEV(Z,{children:[t.jsxDEV(de,{children:[t.jsxDEV(pe,{children:"Frameworks Completed"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/JourneyResultsPage.tsx",lineNumber:109,columnNumber:15},this),t.jsxDEV(He,{children:"Your analysis was processed through the following strategic frameworks"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/JourneyResultsPage.tsx",lineNumber:110,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/JourneyResultsPage.tsx",lineNumber:108,columnNumber:13},this),t.jsxDEV(te,{children:t.jsxDEV("div",{className:"flex flex-wrap gap-2",children:l.map(h=>t.jsxDEV(se,{variant:"default",className:"text-sm",children:[t.jsxDEV(tr,{className:"h-3 w-3 mr-1"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/JourneyResultsPage.tsx",lineNumber:118,columnNumber:21},this),d[h]||h]},h,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/JourneyResultsPage.tsx",lineNumber:117,columnNumber:19},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/JourneyResultsPage.tsx",lineNumber:115,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/JourneyResultsPage.tsx",lineNumber:114,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/JourneyResultsPage.tsx",lineNumber:107,columnNumber:11},this),t.jsxDEV("div",{className:"space-y-6",children:[l.includes("five_whys")&&t.jsxDEV(rae,{data:u},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/JourneyResultsPage.tsx",lineNumber:130,columnNumber:13},this),l.includes("bmc")&&t.jsxDEV(nae,{data:u},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/JourneyResultsPage.tsx",lineNumber:134,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/JourneyResultsPage.tsx",lineNumber:128,columnNumber:9},this),t.jsxDEV(Z,{children:[t.jsxDEV(de,{children:t.jsxDEV(pe,{children:"What's Next?"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/JourneyResultsPage.tsx",lineNumber:145,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/JourneyResultsPage.tsx",lineNumber:144,columnNumber:11},this),t.jsxDEV(te,{className:"space-y-3",children:[t.jsxDEV(me,{onClick:()=>e("/repository"),className:"w-full justify-between","data-testid":"button-view-repository",children:["View in Repository",t.jsxDEV(ar,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/JourneyResultsPage.tsx",lineNumber:154,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/JourneyResultsPage.tsx",lineNumber:148,columnNumber:13},this),t.jsxDEV(me,{variant:"outline",onClick:()=>e("/strategic-consultant/input"),className:"w-full","data-testid":"button-new-analysis",children:"Start New Analysis"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/JourneyResultsPage.tsx",lineNumber:156,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/JourneyResultsPage.tsx",lineNumber:147,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/JourneyResultsPage.tsx",lineNumber:143,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/JourneyResultsPage.tsx",lineNumber:87,columnNumber:7},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/JourneyResultsPage.tsx",lineNumber:82,columnNumber:5},this)}const iae={political:Uu,economic:cn,social:ul,technological:r0,legal:a0,environmental:Uu},K4=e=>e<=3?"bg-green-500":e<=6?"bg-yellow-500":"bg-red-500",xb={strengths:"border-green-500 bg-green-50 dark:bg-green-950/20",weaknesses:"border-red-500 bg-red-50 dark:bg-red-950/20",opportunities:"border-blue-500 bg-blue-50 dark:bg-blue-950/20",threats:"border-amber-500 bg-amber-50 dark:bg-amber-950/20"};function aae(){var b,D,E,j,P,w,k,V,S,R,M,T,A,F;const[,e]=or(),{sessionId:r,versionNumber:n}=Oa();ur();const[s,a]=v.useState("pestle"),{data:l,isLoading:c,error:u}=yt({queryKey:["/api/strategic-consultant/versions",r,n],enabled:!!r&&!!n}),d=(l==null?void 0:l.analysisData)||{},h=((b=d==null?void 0:d.pestle)==null?void 0:b.pestleResults)||(d==null?void 0:d.pestle),g=((D=d==null?void 0:d.porters)==null?void 0:D.portersResults)||(d==null?void 0:d.porters),p=((E=d==null?void 0:d.swot)==null?void 0:E.output)||(d==null?void 0:d.swot),N=()=>{e(`/strategy-workspace/decisions/${r}/${n}`)};return c?t.jsxDEV(st,{title:"Market Entry Analysis",subtitle:"Loading your analysis...",onViewChange:()=>e("/"),children:t.jsxDEV("div",{className:"flex items-center justify-center min-h-[400px]",children:t.jsxDEV("div",{className:"text-center space-y-4",children:[t.jsxDEV(lt,{className:"h-8 w-8 animate-spin mx-auto text-primary"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:79,columnNumber:13},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Loading analysis results..."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:80,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:78,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:77,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:72,columnNumber:7},this):u||!l?t.jsxDEV(st,{title:"Market Entry Analysis",subtitle:"Error loading results",onViewChange:()=>e("/"),children:t.jsxDEV("div",{className:"max-w-2xl mx-auto",children:t.jsxDEV(Z,{className:"border-destructive",children:t.jsxDEV(te,{className:"pt-6",children:[t.jsxDEV("p",{className:"text-sm text-destructive",children:(u==null?void 0:u.message)||"Failed to load analysis results"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:97,columnNumber:15},this),t.jsxDEV(me,{variant:"outline",onClick:()=>e("/strategic-consultant/input"),className:"mt-4",children:"Start New Analysis"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:100,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:96,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:95,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:94,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:89,columnNumber:7},this):t.jsxDEV(st,{title:"Market Entry Analysis Complete",subtitle:"Review your PESTLE, Porter's Five Forces, and SWOT analysis",onViewChange:()=>e("/"),children:t.jsxDEV("div",{className:"max-w-6xl mx-auto space-y-6",children:[t.jsxDEV(Z,{className:"border-green-200 bg-green-50 dark:bg-green-950/20",children:t.jsxDEV(te,{className:"pt-6",children:t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("div",{className:"flex items-center gap-3",children:[t.jsxDEV(tr,{className:"h-8 w-8 text-green-600"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:126,columnNumber:17},this),t.jsxDEV("div",{children:[t.jsxDEV("h3",{className:"text-lg font-semibold text-green-900 dark:text-green-100",children:"Market Entry Analysis Complete!"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:128,columnNumber:19},this),t.jsxDEV("p",{className:"text-sm text-green-700 dark:text-green-300",children:"Review your PESTLE  Porter's  SWOT analysis below"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:131,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:127,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:125,columnNumber:15},this),t.jsxDEV(me,{onClick:N,className:"gap-2",children:["Continue to Strategic Decisions ",t.jsxDEV(ar,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:137,columnNumber:49},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:136,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:124,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:123,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:122,columnNumber:9},this),t.jsxDEV(bl,{value:s,onValueChange:a,className:"w-full",children:[t.jsxDEV(Eo,{className:"grid w-full grid-cols-3",children:[t.jsxDEV(Pr,{value:"pestle",className:"gap-2",children:[t.jsxDEV(Uu,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:147,columnNumber:15},this)," PESTLE Analysis"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:146,columnNumber:13},this),t.jsxDEV(Pr,{value:"porters",className:"gap-2",children:[t.jsxDEV(ul,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:150,columnNumber:15},this)," Porter's Five Forces"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:149,columnNumber:13},this),t.jsxDEV(Pr,{value:"swot",className:"gap-2",children:[t.jsxDEV(Xr,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:153,columnNumber:15},this)," SWOT Analysis"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:152,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:145,columnNumber:11},this),t.jsxDEV(Sr,{value:"pestle",className:"space-y-4",children:[h?t.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:["political","economic","social","technological","legal","environmental"].map(L=>{var O,Y,H;const $=iae[L]||Uu,W=h[L];return W?t.jsxDEV(Z,{children:[t.jsxDEV(de,{className:"pb-2",children:t.jsxDEV(pe,{className:"flex items-center gap-2 text-base capitalize",children:[t.jsxDEV($,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:170,columnNumber:27},this),L]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:169,columnNumber:25},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:168,columnNumber:23},this),t.jsxDEV(te,{className:"space-y-3",children:[(O=W.trends)==null?void 0:O.slice(0,3).map((q,z)=>t.jsxDEV("div",{className:"text-sm",children:[t.jsxDEV("p",{className:"font-medium",children:q.description},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:177,columnNumber:29},this),t.jsxDEV("div",{className:"flex gap-2 mt-1",children:[t.jsxDEV(se,{variant:"outline",className:"text-xs",children:["Strength: ",q.strength,"/10"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:179,columnNumber:31},this),t.jsxDEV(se,{variant:"secondary",className:"text-xs",children:q.timeframe},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:182,columnNumber:31},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:178,columnNumber:29},this)]},z,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:176,columnNumber:27},this)),((Y=W.opportunities)==null?void 0:Y.length)>0&&t.jsxDEV("div",{className:"pt-2 border-t",children:[t.jsxDEV("p",{className:"text-xs font-medium text-green-600 mb-1",children:"Opportunities:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:190,columnNumber:29},this),W.opportunities.slice(0,2).map((q,z)=>t.jsxDEV("p",{className:"text-xs text-muted-foreground",children:[" ",q.description||q]},z,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:192,columnNumber:31},this))]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:189,columnNumber:27},this),((H=W.risks)==null?void 0:H.length)>0&&t.jsxDEV("div",{className:"pt-2 border-t",children:[t.jsxDEV("p",{className:"text-xs font-medium text-red-600 mb-1",children:"Risks:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:200,columnNumber:29},this),W.risks.slice(0,2).map((q,z)=>t.jsxDEV("p",{className:"text-xs text-muted-foreground",children:[" ",q.description||q]},z,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:202,columnNumber:31},this))]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:199,columnNumber:27},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:174,columnNumber:23},this)]},L,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:167,columnNumber:21},this):null})},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:160,columnNumber:15},this):t.jsxDEV(Z,{children:t.jsxDEV(te,{className:"pt-6",children:t.jsxDEV("p",{className:"text-muted-foreground",children:"PESTLE analysis data not available"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:216,columnNumber:19},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:215,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:214,columnNumber:15},this),((j=h==null?void 0:h.strategicRecommendations)==null?void 0:j.length)>0&&t.jsxDEV(Z,{children:[t.jsxDEV(de,{children:t.jsxDEV(pe,{className:"text-base flex items-center gap-2",children:[t.jsxDEV(yn,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:226,columnNumber:21},this)," Strategic Recommendations"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:225,columnNumber:19},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:224,columnNumber:17},this),t.jsxDEV(te,{children:t.jsxDEV("ul",{className:"space-y-2",children:h.strategicRecommendations.map((L,$)=>t.jsxDEV("li",{className:"flex items-start gap-2 text-sm",children:[t.jsxDEV("span",{className:"text-primary",children:""},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:233,columnNumber:25},this),L]},$,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:232,columnNumber:23},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:230,columnNumber:19},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:229,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:223,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:158,columnNumber:11},this),t.jsxDEV(Sr,{value:"porters",className:"space-y-4",children:g?t.jsxDEV(t.Fragment,{children:[t.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[{key:"threatOfNewEntrants",label:"Threat of New Entrants",icon:cn},{key:"bargainingPowerOfSuppliers",label:"Supplier Power",icon:ul},{key:"bargainingPowerOfBuyers",label:"Buyer Power",icon:Xr},{key:"threatOfSubstitutes",label:"Substitutes Threat",icon:qr},{key:"competitiveRivalry",label:"Competitive Rivalry",icon:r0}].map(({key:L,label:$,icon:W})=>{var Y,H;const O=g[L];return O?t.jsxDEV(Z,{children:[t.jsxDEV(de,{className:"pb-2",children:t.jsxDEV(pe,{className:"flex items-center justify-between text-base",children:[t.jsxDEV("span",{className:"flex items-center gap-2",children:[t.jsxDEV(W,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:263,columnNumber:31},this),$]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:262,columnNumber:29},this),t.jsxDEV(se,{className:`${K4(O.score)} text-white`,children:[O.score,"/10"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:266,columnNumber:29},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:261,columnNumber:27},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:260,columnNumber:25},this),t.jsxDEV(te,{className:"space-y-3",children:[t.jsxDEV(Ln,{value:O.score*10,className:"h-2"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:272,columnNumber:27},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:O.analysis},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:273,columnNumber:27},this),((Y=O.barriers)==null?void 0:Y.length)>0&&t.jsxDEV("div",{className:"pt-2 border-t",children:[t.jsxDEV("p",{className:"text-xs font-medium mb-1",children:"Barriers:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:277,columnNumber:31},this),O.barriers.slice(0,2).map((q,z)=>t.jsxDEV("p",{className:"text-xs text-muted-foreground",children:[" ",q]},z,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:279,columnNumber:33},this))]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:276,columnNumber:29},this),((H=O.risks)==null?void 0:H.length)>0&&t.jsxDEV("div",{className:"pt-2 border-t",children:[t.jsxDEV("p",{className:"text-xs font-medium text-red-600 mb-1",children:"Risks:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:286,columnNumber:31},this),O.risks.slice(0,2).map((q,z)=>t.jsxDEV("p",{className:"text-xs text-muted-foreground",children:[" ",q]},z,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:288,columnNumber:33},this))]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:285,columnNumber:29},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:271,columnNumber:25},this)]},L,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:259,columnNumber:23},this):null})},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:247,columnNumber:17},this),g.overallAttractiveness&&t.jsxDEV(Z,{children:[t.jsxDEV(de,{children:t.jsxDEV(pe,{className:"text-base flex items-center justify-between",children:[t.jsxDEV("span",{children:"Market Attractiveness"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:303,columnNumber:25},this),t.jsxDEV(se,{className:`${K4(10-g.overallAttractiveness.score)} text-white`,children:[g.overallAttractiveness.score,"/10"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:304,columnNumber:25},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:302,columnNumber:23},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:301,columnNumber:21},this),t.jsxDEV(te,{children:[t.jsxDEV("p",{className:"text-sm text-muted-foreground mb-4",children:g.overallAttractiveness.summary},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:310,columnNumber:23},this),((P=g.overallAttractiveness.recommendations)==null?void 0:P.length)>0&&t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-sm font-medium mb-2",children:"Recommendations:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:315,columnNumber:27},this),t.jsxDEV("ul",{className:"space-y-1",children:g.overallAttractiveness.recommendations.map((L,$)=>t.jsxDEV("li",{className:"text-sm text-muted-foreground flex items-start gap-2",children:[t.jsxDEV("span",{className:"text-primary",children:""},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:319,columnNumber:33},this)," ",L]},$,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:318,columnNumber:31},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:316,columnNumber:27},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:314,columnNumber:25},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:309,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:300,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:246,columnNumber:15},this):t.jsxDEV(Z,{children:t.jsxDEV(te,{className:"pt-6",children:t.jsxDEV("p",{className:"text-muted-foreground",children:"Porter's Five Forces data not available"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:332,columnNumber:19},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:331,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:330,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:244,columnNumber:11},this),t.jsxDEV(Sr,{value:"swot",className:"space-y-4",children:p?t.jsxDEV(t.Fragment,{children:[t.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxDEV(Z,{className:xb.strengths,children:[t.jsxDEV(de,{className:"pb-2",children:t.jsxDEV(pe,{className:"text-base text-green-700 dark:text-green-300",children:"Strengths (Internal Positive)"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:347,columnNumber:23},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:346,columnNumber:21},this),t.jsxDEV(te,{children:((w=p.strengths)==null?void 0:w.map((L,$)=>t.jsxDEV("div",{className:"mb-3 last:mb-0",children:[t.jsxDEV("p",{className:"text-sm font-medium",children:L.factor},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:354,columnNumber:27},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground",children:L.description},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:355,columnNumber:27},this),t.jsxDEV(se,{variant:"outline",className:"mt-1 text-xs",children:L.importance},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:356,columnNumber:27},this)]},$,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:353,columnNumber:25},this)))||t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"No strengths identified"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:358,columnNumber:29},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:351,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:345,columnNumber:19},this),t.jsxDEV(Z,{className:xb.weaknesses,children:[t.jsxDEV(de,{className:"pb-2",children:t.jsxDEV(pe,{className:"text-base text-red-700 dark:text-red-300",children:"Weaknesses (Internal Negative)"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:365,columnNumber:23},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:364,columnNumber:21},this),t.jsxDEV(te,{children:((k=p.weaknesses)==null?void 0:k.map((L,$)=>t.jsxDEV("div",{className:"mb-3 last:mb-0",children:[t.jsxDEV("p",{className:"text-sm font-medium",children:L.factor},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:372,columnNumber:27},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground",children:L.description},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:373,columnNumber:27},this),t.jsxDEV(se,{variant:"outline",className:"mt-1 text-xs",children:L.importance},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:374,columnNumber:27},this)]},$,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:371,columnNumber:25},this)))||t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"No weaknesses identified"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:376,columnNumber:29},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:369,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:363,columnNumber:19},this),t.jsxDEV(Z,{className:xb.opportunities,children:[t.jsxDEV(de,{className:"pb-2",children:t.jsxDEV(pe,{className:"text-base text-blue-700 dark:text-blue-300",children:"Opportunities (External Positive)"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:383,columnNumber:23},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:382,columnNumber:21},this),t.jsxDEV(te,{children:((V=p.opportunities)==null?void 0:V.map((L,$)=>t.jsxDEV("div",{className:"mb-3 last:mb-0",children:[t.jsxDEV("p",{className:"text-sm font-medium",children:L.factor},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:390,columnNumber:27},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground",children:L.description},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:391,columnNumber:27},this),t.jsxDEV(se,{variant:"outline",className:"mt-1 text-xs",children:L.importance},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:392,columnNumber:27},this)]},$,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:389,columnNumber:25},this)))||t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"No opportunities identified"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:394,columnNumber:29},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:387,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:381,columnNumber:19},this),t.jsxDEV(Z,{className:xb.threats,children:[t.jsxDEV(de,{className:"pb-2",children:t.jsxDEV(pe,{className:"text-base text-amber-700 dark:text-amber-300",children:"Threats (External Negative)"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:401,columnNumber:23},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:400,columnNumber:21},this),t.jsxDEV(te,{children:((S=p.threats)==null?void 0:S.map((L,$)=>t.jsxDEV("div",{className:"mb-3 last:mb-0",children:[t.jsxDEV("p",{className:"text-sm font-medium",children:L.factor},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:408,columnNumber:27},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground",children:L.description},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:409,columnNumber:27},this),t.jsxDEV(se,{variant:"outline",className:"mt-1 text-xs",children:L.importance},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:410,columnNumber:27},this)]},$,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:407,columnNumber:25},this)))||t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"No threats identified"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:412,columnNumber:29},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:405,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:399,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:343,columnNumber:17},this),p.strategicOptions&&t.jsxDEV(Z,{children:[t.jsxDEV(de,{children:[t.jsxDEV(pe,{className:"text-base",children:"Strategic Options (TOWS Matrix)"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:421,columnNumber:23},this),t.jsxDEV(He,{children:"Strategies derived from SWOT combinations"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:422,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:420,columnNumber:21},this),t.jsxDEV(te,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[((R=p.strategicOptions.soStrategies)==null?void 0:R.length)>0&&t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-sm font-medium text-green-600 mb-2",children:"SO Strategies (Strength  Opportunity)"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:427,columnNumber:27},this),t.jsxDEV("ul",{className:"space-y-1",children:p.strategicOptions.soStrategies.map((L,$)=>t.jsxDEV("li",{className:"text-xs text-muted-foreground",children:[" ",L]},$,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:430,columnNumber:31},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:428,columnNumber:27},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:426,columnNumber:25},this),((M=p.strategicOptions.woStrategies)==null?void 0:M.length)>0&&t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-sm font-medium text-blue-600 mb-2",children:"WO Strategies (Weakness  Opportunity)"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:437,columnNumber:27},this),t.jsxDEV("ul",{className:"space-y-1",children:p.strategicOptions.woStrategies.map((L,$)=>t.jsxDEV("li",{className:"text-xs text-muted-foreground",children:[" ",L]},$,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:440,columnNumber:31},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:438,columnNumber:27},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:436,columnNumber:25},this),((T=p.strategicOptions.stStrategies)==null?void 0:T.length)>0&&t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-sm font-medium text-amber-600 mb-2",children:"ST Strategies (Strength  Threat)"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:447,columnNumber:27},this),t.jsxDEV("ul",{className:"space-y-1",children:p.strategicOptions.stStrategies.map((L,$)=>t.jsxDEV("li",{className:"text-xs text-muted-foreground",children:[" ",L]},$,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:450,columnNumber:31},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:448,columnNumber:27},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:446,columnNumber:25},this),((A=p.strategicOptions.wtStrategies)==null?void 0:A.length)>0&&t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-sm font-medium text-red-600 mb-2",children:"WT Strategies (Weakness  Threat)"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:457,columnNumber:27},this),t.jsxDEV("ul",{className:"space-y-1",children:p.strategicOptions.wtStrategies.map((L,$)=>t.jsxDEV("li",{className:"text-xs text-muted-foreground",children:[" ",L]},$,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:460,columnNumber:31},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:458,columnNumber:27},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:456,columnNumber:25},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:424,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:419,columnNumber:19},this),((F=p.priorityActions)==null?void 0:F.length)>0&&t.jsxDEV(Z,{children:[t.jsxDEV(de,{children:t.jsxDEV(pe,{className:"text-base flex items-center gap-2",children:[t.jsxDEV(Xr,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:474,columnNumber:25},this)," Priority Actions"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:473,columnNumber:23},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:472,columnNumber:21},this),t.jsxDEV(te,{children:t.jsxDEV("ul",{className:"space-y-2",children:p.priorityActions.map((L,$)=>t.jsxDEV("li",{className:"flex items-start gap-2 text-sm",children:[t.jsxDEV("span",{className:"text-primary font-bold",children:[$+1,"."]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:481,columnNumber:29},this),L]},$,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:480,columnNumber:27},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:478,columnNumber:23},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:477,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:471,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:341,columnNumber:15},this):t.jsxDEV(Z,{children:t.jsxDEV(te,{className:"pt-6",children:t.jsxDEV("p",{className:"text-muted-foreground",children:"SWOT analysis data not available"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:493,columnNumber:19},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:492,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:491,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:339,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:144,columnNumber:9},this),t.jsxDEV("div",{className:"flex justify-center pt-4",children:t.jsxDEV(me,{size:"lg",onClick:N,className:"gap-2",children:["Continue to Strategic Decisions ",t.jsxDEV(ar,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:503,columnNumber:45},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:502,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:501,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:120,columnNumber:7},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/MarketEntryResultsPage.tsx",lineNumber:115,columnNumber:5},this)}const oae={political:{label:"Political",icon:Uu,color:"blue",bgColor:"bg-blue-50",borderColor:"border-blue-200",textColor:"text-blue-700",badgeColor:"bg-blue-100 text-blue-800"},economic:{label:"Economic",icon:cn,color:"green",bgColor:"bg-green-50",borderColor:"border-green-200",textColor:"text-green-700",badgeColor:"bg-green-100 text-green-800"},social:{label:"Social",icon:On,color:"purple",bgColor:"bg-purple-50",borderColor:"border-purple-200",textColor:"text-purple-700",badgeColor:"bg-purple-100 text-purple-800"},technological:{label:"Technological",icon:K7,color:"orange",bgColor:"bg-orange-50",borderColor:"border-orange-200",textColor:"text-orange-700",badgeColor:"bg-orange-100 text-orange-800"},legal:{label:"Legal",icon:iA,color:"red",bgColor:"bg-red-50",borderColor:"border-red-200",textColor:"text-red-700",badgeColor:"bg-red-100 text-red-800"},environmental:{label:"Environmental",icon:eA,color:"teal",bgColor:"bg-teal-50",borderColor:"border-teal-200",textColor:"text-teal-700",badgeColor:"bg-teal-100 text-teal-800"}};function lae(e){return e>=8?{label:"High",variant:"destructive"}:e>=5?{label:"Medium",variant:"secondary"}:{label:"Low",variant:"outline"}}function q4(e){const r=e.toLowerCase();return r==="high"||r==="major"?{variant:"destructive"}:r==="medium"||r==="moderate"?{variant:"secondary"}:{variant:"outline"}}function cae({factorKey:e,factorData:r}){const n=oae[e],s=n.icon,{trends:a=[],opportunities:l=[],risks:c=[]}=r||{};return t.jsxDEV(Z,{className:`${n.borderColor} border-l-4`,children:[t.jsxDEV(de,{className:"pb-3",children:t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV("div",{className:`p-2 rounded-lg ${n.bgColor}`,children:t.jsxDEV(s,{className:`h-5 w-5 ${n.textColor}`},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PESTLEResults.tsx",lineNumber:149,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PESTLEResults.tsx",lineNumber:148,columnNumber:11},this),t.jsxDEV(pe,{className:"text-lg",children:[n.label," Factors"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PESTLEResults.tsx",lineNumber:151,columnNumber:11},this),t.jsxDEV(se,{className:n.badgeColor,children:[a.length," trends"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PESTLEResults.tsx",lineNumber:152,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PESTLEResults.tsx",lineNumber:147,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PESTLEResults.tsx",lineNumber:146,columnNumber:7},this),t.jsxDEV(te,{className:"space-y-4",children:[a.length>0&&t.jsxDEV("div",{className:"space-y-3",children:[t.jsxDEV("h4",{className:"text-sm font-semibold flex items-center gap-2",children:[t.jsxDEV(Xr,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PESTLEResults.tsx",lineNumber:162,columnNumber:15},this),"Key Trends"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PESTLEResults.tsx",lineNumber:161,columnNumber:13},this),t.jsxDEV("div",{className:"space-y-2",children:a.map((u,d)=>t.jsxDEV("div",{className:"p-3 rounded-lg bg-muted/50 space-y-2",children:[t.jsxDEV("div",{className:"flex items-start justify-between gap-2",children:[t.jsxDEV("p",{className:"text-sm flex-1",children:u.description},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PESTLEResults.tsx",lineNumber:172,columnNumber:21},this),t.jsxDEV("div",{className:"flex items-center gap-1 shrink-0",children:t.jsxDEV(se,{variant:lae(u.strength).variant,children:[u.strength,"/10"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PESTLEResults.tsx",lineNumber:174,columnNumber:23},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PESTLEResults.tsx",lineNumber:173,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PESTLEResults.tsx",lineNumber:171,columnNumber:19},this),t.jsxDEV("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[t.jsxDEV("span",{className:"flex items-center gap-1",children:[t.jsxDEV(qs,{className:"h-3 w-3"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PESTLEResults.tsx",lineNumber:181,columnNumber:23},this),u.timeframe]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PESTLEResults.tsx",lineNumber:180,columnNumber:21},this),t.jsxDEV("span",{children:""},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PESTLEResults.tsx",lineNumber:184,columnNumber:21},this),t.jsxDEV(se,{variant:q4(u.impact).variant,className:"text-xs",children:[u.impact," impact"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PESTLEResults.tsx",lineNumber:185,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PESTLEResults.tsx",lineNumber:179,columnNumber:19},this)]},d,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PESTLEResults.tsx",lineNumber:167,columnNumber:17},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PESTLEResults.tsx",lineNumber:165,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PESTLEResults.tsx",lineNumber:160,columnNumber:11},this),l.length>0&&t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV("h4",{className:"text-sm font-semibold flex items-center gap-2",children:[t.jsxDEV(yn,{className:"h-4 w-4 text-yellow-600"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PESTLEResults.tsx",lineNumber:199,columnNumber:15},this),"Opportunities"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PESTLEResults.tsx",lineNumber:198,columnNumber:13},this),t.jsxDEV("ul",{className:"space-y-1",children:l.map((u,d)=>t.jsxDEV("li",{className:"text-sm text-muted-foreground flex items-start gap-2",children:[t.jsxDEV("span",{className:"text-green-600 mt-1",children:""},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PESTLEResults.tsx",lineNumber:205,columnNumber:19},this),u.description]},d,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PESTLEResults.tsx",lineNumber:204,columnNumber:17},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PESTLEResults.tsx",lineNumber:202,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PESTLEResults.tsx",lineNumber:197,columnNumber:11},this),c.length>0&&t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV("h4",{className:"text-sm font-semibold flex items-center gap-2",children:[t.jsxDEV(qr,{className:"h-4 w-4 text-red-600"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PESTLEResults.tsx",lineNumber:217,columnNumber:15},this),"Risks"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PESTLEResults.tsx",lineNumber:216,columnNumber:13},this),t.jsxDEV("ul",{className:"space-y-2",children:c.map((u,d)=>t.jsxDEV("li",{className:"text-sm flex items-start gap-2",children:[t.jsxDEV(se,{variant:"destructive",className:"shrink-0 mt-0.5 text-xs",children:[Math.round(u.probability*100),"%"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PESTLEResults.tsx",lineNumber:223,columnNumber:19},this),t.jsxDEV("span",{className:"text-muted-foreground flex-1",children:[u.description,t.jsxDEV(se,{variant:q4(u.impact).variant,className:"ml-2 text-xs",children:u.impact},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PESTLEResults.tsx",lineNumber:228,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PESTLEResults.tsx",lineNumber:226,columnNumber:19},this)]},d,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PESTLEResults.tsx",lineNumber:222,columnNumber:17},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PESTLEResults.tsx",lineNumber:220,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PESTLEResults.tsx",lineNumber:215,columnNumber:11},this),a.length===0&&l.length===0&&c.length===0&&t.jsxDEV("p",{className:"text-sm text-muted-foreground italic",children:["No ",n.label.toLowerCase()," factors identified"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PESTLEResults.tsx",lineNumber:239,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PESTLEResults.tsx",lineNumber:157,columnNumber:7},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PESTLEResults.tsx",lineNumber:145,columnNumber:5},this)}function uae({pestleData:e,onContinue:r}){const n=["political","economic","social","technological","legal","environmental"],{strategicRecommendations:s=[],crossFactorInsights:a}=e||{},l=(a==null?void 0:a.synergies)||[],c=(a==null?void 0:a.conflicts)||[],u=n.reduce((d,h)=>{var g,p;return d+(((p=(g=e==null?void 0:e[h])==null?void 0:g.trends)==null?void 0:p.length)||0)},0);return t.jsxDEV("div",{className:"space-y-6",children:[t.jsxDEV(Z,{children:t.jsxDEV(de,{children:t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(Uu,{className:"h-5 w-5 text-blue-600"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PESTLEResults.tsx",lineNumber:272,columnNumber:13},this),t.jsxDEV("div",{children:[t.jsxDEV(pe,{children:"PESTLE Analysis Results"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PESTLEResults.tsx",lineNumber:274,columnNumber:15},this),t.jsxDEV(He,{children:["Macro-environmental analysis identified ",u," key trends across 6 factors"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PESTLEResults.tsx",lineNumber:275,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PESTLEResults.tsx",lineNumber:273,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PESTLEResults.tsx",lineNumber:271,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PESTLEResults.tsx",lineNumber:270,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PESTLEResults.tsx",lineNumber:269,columnNumber:7},this),t.jsxDEV("div",{className:"grid gap-4 md:grid-cols-2",children:n.map(d=>t.jsxDEV(cae,{factorKey:d,factorData:(e==null?void 0:e[d])||{trends:[],opportunities:[],risks:[]}},d,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PESTLEResults.tsx",lineNumber:286,columnNumber:11},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PESTLEResults.tsx",lineNumber:284,columnNumber:7},this),(l.length>0||c.length>0)&&t.jsxDEV(Z,{children:[t.jsxDEV(de,{children:t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(wh,{className:"h-5 w-5 text-yellow-600"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PESTLEResults.tsx",lineNumber:299,columnNumber:15},this),t.jsxDEV(pe,{className:"text-lg",children:"Cross-Factor Insights"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PESTLEResults.tsx",lineNumber:300,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PESTLEResults.tsx",lineNumber:298,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PESTLEResults.tsx",lineNumber:297,columnNumber:11},this),t.jsxDEV(te,{className:"space-y-4",children:[l.length>0&&t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV("h4",{className:"text-sm font-semibold text-green-700",children:"Synergies"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PESTLEResults.tsx",lineNumber:306,columnNumber:17},this),t.jsxDEV("ul",{className:"space-y-1",children:l.map((d,h)=>t.jsxDEV("li",{className:"text-sm text-muted-foreground flex items-start gap-2",children:[t.jsxDEV("span",{className:"text-green-600 mt-1",children:""},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PESTLEResults.tsx",lineNumber:310,columnNumber:23},this),d]},h,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PESTLEResults.tsx",lineNumber:309,columnNumber:21},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PESTLEResults.tsx",lineNumber:307,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PESTLEResults.tsx",lineNumber:305,columnNumber:15},this),c.length>0&&t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV("h4",{className:"text-sm font-semibold text-red-700",children:"Conflicts"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PESTLEResults.tsx",lineNumber:319,columnNumber:17},this),t.jsxDEV("ul",{className:"space-y-1",children:c.map((d,h)=>t.jsxDEV("li",{className:"text-sm text-muted-foreground flex items-start gap-2",children:[t.jsxDEV("span",{className:"text-red-600 mt-1",children:""},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PESTLEResults.tsx",lineNumber:323,columnNumber:23},this),d]},h,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PESTLEResults.tsx",lineNumber:322,columnNumber:21},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PESTLEResults.tsx",lineNumber:320,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PESTLEResults.tsx",lineNumber:318,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PESTLEResults.tsx",lineNumber:303,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PESTLEResults.tsx",lineNumber:296,columnNumber:9},this),s.length>0&&t.jsxDEV(Z,{children:[t.jsxDEV(de,{children:t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(yn,{className:"h-5 w-5 text-yellow-600"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PESTLEResults.tsx",lineNumber:339,columnNumber:15},this),t.jsxDEV(pe,{className:"text-lg",children:"Strategic Recommendations"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PESTLEResults.tsx",lineNumber:340,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PESTLEResults.tsx",lineNumber:338,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PESTLEResults.tsx",lineNumber:337,columnNumber:11},this),t.jsxDEV(te,{children:t.jsxDEV("ul",{className:"space-y-2",children:s.map((d,h)=>t.jsxDEV("li",{className:"flex items-start gap-3",children:[t.jsxDEV(se,{variant:"secondary",className:"shrink-0 h-6",children:h+1},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PESTLEResults.tsx",lineNumber:347,columnNumber:19},this),t.jsxDEV("p",{className:"text-sm text-foreground",children:d},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PESTLEResults.tsx",lineNumber:350,columnNumber:19},this)]},h,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PESTLEResults.tsx",lineNumber:346,columnNumber:17},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PESTLEResults.tsx",lineNumber:344,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PESTLEResults.tsx",lineNumber:343,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PESTLEResults.tsx",lineNumber:336,columnNumber:9},this),r&&t.jsxDEV("div",{className:"flex justify-end",children:t.jsxDEV(me,{onClick:r,className:"gap-2",children:["Continue to Porter's Analysis",t.jsxDEV(ar,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PESTLEResults.tsx",lineNumber:363,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PESTLEResults.tsx",lineNumber:361,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PESTLEResults.tsx",lineNumber:360,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PESTLEResults.tsx",lineNumber:267,columnNumber:5},this)}const mae={pestle:"PESTLE Analysis",porters:"Porter's Five Forces",swot:"SWOT Analysis",bmc:"Business Model Canvas",ansoff:"Ansoff Matrix",five_whys:"Five Whys Analysis",blue_ocean:"Blue Ocean Strategy",strategic_decisions:"Strategic Decisions",prioritization:"Prioritization",decisions:"Strategic Decisions"},dae={"pestle-results":"pestle","porters-results":"porters","swot-results":"swot",research:"bmc","framework-insight":"ansoff","whys-tree":"five_whys",decisions:"strategic_decisions",prioritization:"prioritization"};function hae(e){const n=e.split("/").filter(Boolean).find(s=>!s.startsWith(":")&&s!=="strategic-consultant"&&s!=="strategy-workspace");return n?dae[n]||n:"next step"}function fae(e,r){const s=e.split("/:")[0].split("/").filter(Boolean);return s[s.length-1]===r}function pae(e,r,n){return e.replace(":sessionId",r).replace(":versionNumber",String(n)).replace(":understandingId",r)}function rh(e,r,n,s=1){if(!(e!=null&&e.pageSequence))return{nextUrl:null,nextLabel:"Continue"};const a=e.pageSequence,l=a.findIndex(g=>fae(g,r));if(l===-1||l>=a.length-1)return{nextUrl:null,nextLabel:"Continue"};const c=a[l+1],u=pae(c,n,s),d=hae(c),h=`Continue to ${mae[d]||d}`;return{nextUrl:u,nextLabel:h}}function gae(){var k;const[,e]=or(),{sessionId:r,versionNumber:n}=Oa(),s=qv(),{toast:a}=ur(),l=s.includes("viewOnly=true"),c=v.useRef(!1),[u,d]=v.useState(null),[h,g]=v.useState(null),{data:p}=yt({queryKey:["journey-session",r],queryFn:async()=>{if(!r)return null;const V=await fetch(`/api/strategic-consultant/journey-sessions/by-session/${r}`);return V.ok?V.json():(console.warn(`[PESTLEResultsPage] Journey session not found for ${r}`),null)},enabled:!!r}),{data:N,isLoading:b}=yt({queryKey:["pestle-results",r],queryFn:async()=>{const V=await fetch(`/api/strategic-consultant/frameworks/pestle/${r}`);if(!V.ok){if(V.status===404)return null;throw new Error("Failed to fetch PESTLE results")}return V.json()},enabled:!!r,retry:!1}),D=Qr({mutationFn:async V=>{const S=await fetch(`/api/strategic-consultant/frameworks/pestle/execute/${V}`,{method:"POST",headers:{"Content-Type":"application/json"}});if(!S.ok){const R=await S.json().catch(()=>({}));throw new Error(R.error||`PESTLE analysis failed (${S.status})`)}return S.json()},onSuccess:V=>{var R,M,T,A,F,L,$,W,O;console.log("[PESTLEResultsPage] PESTLE analysis complete:",V);let S=null;(M=(R=V.data)==null?void 0:R.data)!=null&&M.pestleResults?S=V.data.data.pestleResults:(T=V.data)!=null&&T.pestleResults?S=V.data.pestleResults:V.pestleResults?S=V.pestleResults:(L=(F=(A=V.data)==null?void 0:A.data)==null?void 0:F.political)!=null&&L.trends?S=V.data.data:(W=($=V.data)==null?void 0:$.political)!=null&&W.trends?S=V.data:S=((O=V.data)==null?void 0:O.data)||V.data,console.log("[PESTLEResultsPage] Extracted pestleResults:",S),d(S),g(V.versionNumber),a({title:"PESTLE Analysis Complete",description:"Macro-environmental factors have been analyzed"})},onError:V=>{console.error("[PESTLEResultsPage] PESTLE analysis failed:",V),a({title:"Analysis Failed",description:V.message,variant:"destructive"})}});v.useEffect(()=>{var V,S,R,M,T;if(!(!r||c.current)&&!b){if(N!=null&&N.success&&(N!=null&&N.data)){console.log("[PESTLEResultsPage] Found existing PESTLE data:",N.data);const A=((S=(V=N.data)==null?void 0:V.data)==null?void 0:S.pestleResults)||((R=N.data)==null?void 0:R.pestleResults)||((M=N.data)==null?void 0:M.data)||N.data;if((T=A==null?void 0:A.political)!=null&&T.trends){d(A),g(N.versionNumber),c.current=!0;return}}if(l){console.log("[PESTLEResultsPage] View-only mode, no existing data found"),c.current=!0;return}console.log("[PESTLEResultsPage] Initiating PESTLE analysis for session:",r),c.current=!0,D.mutate(r)}},[r,b,N,l]);const E=()=>{const V=h||n||1,{nextUrl:S}=rh(p,"pestle-results",r,V);e(S||`/strategic-consultant/porters-results/${r}/${V}`)},{nextLabel:j}=rh(p,"pestle-results",r,h||n||1),P=()=>{p!=null&&p.understandingId?e(`/strategic-consultant/journey-selection/${p.understandingId}`):e("/strategic-consultant/input")},w=()=>{c.current=!1,d(null),D.mutate(r)};return r?b||D.isPending?t.jsxDEV(st,{title:"PESTLE Analysis",subtitle:"Analyzing macro-environmental factors",onViewChange:()=>e("/"),children:t.jsxDEV("div",{className:"max-w-4xl mx-auto space-y-8 p-4 sm:p-8",children:t.jsxDEV(Z,{children:[t.jsxDEV(de,{className:"text-center",children:[t.jsxDEV("div",{className:"flex justify-center mb-4",children:t.jsxDEV("div",{className:"relative",children:[t.jsxDEV(lt,{className:"h-16 w-16 animate-spin text-primary"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/PESTLEResultsPage.tsx",lineNumber:257,columnNumber:19},this),t.jsxDEV(Uu,{className:"h-8 w-8 absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-primary/70"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/PESTLEResultsPage.tsx",lineNumber:258,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/PESTLEResultsPage.tsx",lineNumber:256,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/PESTLEResultsPage.tsx",lineNumber:255,columnNumber:15},this),t.jsxDEV(pe,{className:"text-2xl","data-testid":"text-loading-title",children:"Analyzing Macro-Environmental Factors..."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/PESTLEResultsPage.tsx",lineNumber:261,columnNumber:15},this),t.jsxDEV(He,{className:"text-base mt-2",children:"Examining Political, Economic, Social, Technological, Legal, and Environmental factors"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/PESTLEResultsPage.tsx",lineNumber:264,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/PESTLEResultsPage.tsx",lineNumber:254,columnNumber:13},this),t.jsxDEV(te,{className:"space-y-4",children:[t.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 text-center text-sm text-muted-foreground",children:[t.jsxDEV("div",{className:"p-3 rounded-lg bg-muted/50",children:[t.jsxDEV("span",{className:"text-2xl mb-1 block",children:""},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/PESTLEResultsPage.tsx",lineNumber:271,columnNumber:19},this),"Political"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/PESTLEResultsPage.tsx",lineNumber:270,columnNumber:17},this),t.jsxDEV("div",{className:"p-3 rounded-lg bg-muted/50",children:[t.jsxDEV("span",{className:"text-2xl mb-1 block",children:""},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/PESTLEResultsPage.tsx",lineNumber:275,columnNumber:19},this),"Economic"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/PESTLEResultsPage.tsx",lineNumber:274,columnNumber:17},this),t.jsxDEV("div",{className:"p-3 rounded-lg bg-muted/50",children:[t.jsxDEV("span",{className:"text-2xl mb-1 block",children:""},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/PESTLEResultsPage.tsx",lineNumber:279,columnNumber:19},this),"Social"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/PESTLEResultsPage.tsx",lineNumber:278,columnNumber:17},this),t.jsxDEV("div",{className:"p-3 rounded-lg bg-muted/50",children:[t.jsxDEV("span",{className:"text-2xl mb-1 block",children:""},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/PESTLEResultsPage.tsx",lineNumber:283,columnNumber:19},this),"Technological"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/PESTLEResultsPage.tsx",lineNumber:282,columnNumber:17},this),t.jsxDEV("div",{className:"p-3 rounded-lg bg-muted/50",children:[t.jsxDEV("span",{className:"text-2xl mb-1 block",children:""},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/PESTLEResultsPage.tsx",lineNumber:287,columnNumber:19},this),"Legal"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/PESTLEResultsPage.tsx",lineNumber:286,columnNumber:17},this),t.jsxDEV("div",{className:"p-3 rounded-lg bg-muted/50",children:[t.jsxDEV("span",{className:"text-2xl mb-1 block",children:""},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/PESTLEResultsPage.tsx",lineNumber:291,columnNumber:19},this),"Environmental"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/PESTLEResultsPage.tsx",lineNumber:290,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/PESTLEResultsPage.tsx",lineNumber:269,columnNumber:15},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground text-center pt-4",children:"This may take 30-60 seconds as we conduct comprehensive analysis"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/PESTLEResultsPage.tsx",lineNumber:295,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/PESTLEResultsPage.tsx",lineNumber:268,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/PESTLEResultsPage.tsx",lineNumber:253,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/PESTLEResultsPage.tsx",lineNumber:252,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/PESTLEResultsPage.tsx",lineNumber:247,columnNumber:7},this):D.isError?t.jsxDEV(st,{title:"PESTLE Analysis",subtitle:"Analysis failed",onViewChange:()=>e("/"),children:t.jsxDEV("div",{className:"max-w-4xl mx-auto space-y-8 p-4 sm:p-8",children:[t.jsxDEV(it,{variant:"destructive",children:[t.jsxDEV(Dt,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/PESTLEResultsPage.tsx",lineNumber:315,columnNumber:13},this),t.jsxDEV(er,{children:"PESTLE Analysis Failed"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/PESTLEResultsPage.tsx",lineNumber:316,columnNumber:13},this),t.jsxDEV(at,{children:((k=D.error)==null?void 0:k.message)||"An unexpected error occurred"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/PESTLEResultsPage.tsx",lineNumber:317,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/PESTLEResultsPage.tsx",lineNumber:314,columnNumber:11},this),t.jsxDEV("div",{className:"flex justify-center gap-4",children:[t.jsxDEV(me,{variant:"outline",onClick:P,children:[t.jsxDEV(jn,{className:"mr-2 h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/PESTLEResultsPage.tsx",lineNumber:323,columnNumber:15},this),"Back to Journey Selection"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/PESTLEResultsPage.tsx",lineNumber:322,columnNumber:13},this),t.jsxDEV(me,{onClick:w,"data-testid":"button-retry",children:[t.jsxDEV(Rg,{className:"mr-2 h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/PESTLEResultsPage.tsx",lineNumber:327,columnNumber:15},this),"Retry Analysis"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/PESTLEResultsPage.tsx",lineNumber:326,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/PESTLEResultsPage.tsx",lineNumber:321,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/PESTLEResultsPage.tsx",lineNumber:313,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/PESTLEResultsPage.tsx",lineNumber:308,columnNumber:7},this):u?t.jsxDEV(st,{title:"PESTLE Analysis",subtitle:"Macro-environmental analysis complete",onViewChange:()=>e("/"),children:t.jsxDEV("div",{className:"max-w-6xl mx-auto space-y-6 p-4 sm:p-0",children:[t.jsxDEV("div",{className:"flex items-center gap-4",children:t.jsxDEV(me,{variant:"ghost",onClick:P,className:"gap-2","data-testid":"button-back",children:[t.jsxDEV(jn,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/PESTLEResultsPage.tsx",lineNumber:353,columnNumber:15},this),"Back to Journey Selection"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/PESTLEResultsPage.tsx",lineNumber:347,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/PESTLEResultsPage.tsx",lineNumber:346,columnNumber:11},this),t.jsxDEV(uae,{pestleData:u,onContinue:E},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/PESTLEResultsPage.tsx",lineNumber:359,columnNumber:11},this),t.jsxDEV("div",{className:"flex justify-between items-center pt-4 border-t",children:[t.jsxDEV(me,{variant:"outline",onClick:P,className:"gap-2","data-testid":"button-back-bottom",children:[t.jsxDEV(jn,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/PESTLEResultsPage.tsx",lineNumber:372,columnNumber:15},this),"Back"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/PESTLEResultsPage.tsx",lineNumber:366,columnNumber:13},this),t.jsxDEV(me,{onClick:E,className:"gap-2","data-testid":"button-continue",children:[j,t.jsxDEV(ar,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/PESTLEResultsPage.tsx",lineNumber:381,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/PESTLEResultsPage.tsx",lineNumber:375,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/PESTLEResultsPage.tsx",lineNumber:365,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/PESTLEResultsPage.tsx",lineNumber:344,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/PESTLEResultsPage.tsx",lineNumber:339,columnNumber:7},this):t.jsxDEV(st,{title:"PESTLE Analysis",subtitle:"Preparing analysis",onViewChange:()=>e("/"),children:t.jsxDEV("div",{className:"flex items-center justify-center min-h-[400px]",children:t.jsxDEV(lt,{className:"h-8 w-8 animate-spin text-primary"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/PESTLEResultsPage.tsx",lineNumber:397,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/PESTLEResultsPage.tsx",lineNumber:396,columnNumber:7},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/PESTLEResultsPage.tsx",lineNumber:391,columnNumber:5},this):t.jsxDEV(st,{title:"PESTLE Analysis",subtitle:"Error",onViewChange:()=>e("/"),children:t.jsxDEV("div",{className:"max-w-2xl mx-auto p-4",children:t.jsxDEV(it,{variant:"destructive",children:[t.jsxDEV(Dt,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/PESTLEResultsPage.tsx",lineNumber:235,columnNumber:13},this),t.jsxDEV(er,{children:"Invalid Session"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/PESTLEResultsPage.tsx",lineNumber:236,columnNumber:13},this),t.jsxDEV(at,{children:"No session ID provided in URL"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/PESTLEResultsPage.tsx",lineNumber:237,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/PESTLEResultsPage.tsx",lineNumber:234,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/PESTLEResultsPage.tsx",lineNumber:233,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/PESTLEResultsPage.tsx",lineNumber:228,columnNumber:7},this)}function Nae(e){return e<=3?"bg-green-500":e<=6?"bg-yellow-500":"bg-red-500"}function xae(e){return e<=3?{label:"Low",variant:"secondary"}:e<=6?{label:"Moderate",variant:"default"}:{label:"High",variant:"destructive"}}function bae(e){return e>=7?"bg-green-500":e>=4?"bg-yellow-500":"bg-red-500"}function vae(e){return e>=7?{label:"Attractive",variant:"secondary"}:e>=4?{label:"Moderately Attractive",variant:"default"}:{label:"Unattractive",variant:"destructive"}}function ej({score:e,label:r,invertColors:n=!1}){const s=e/10*100,a=n?bae(e):Nae(e),l=n?vae(e):xae(e);return t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("span",{className:"text-sm font-medium",children:r},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PortersResults.tsx",lineNumber:69,columnNumber:9},this),t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV("span",{className:"text-lg font-bold",children:[e,"/10"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PortersResults.tsx",lineNumber:71,columnNumber:11},this),t.jsxDEV(se,{variant:l.variant,children:l.label},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PortersResults.tsx",lineNumber:72,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PortersResults.tsx",lineNumber:70,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PortersResults.tsx",lineNumber:68,columnNumber:7},this),t.jsxDEV("div",{className:"relative h-3 w-full overflow-hidden rounded-full bg-secondary",children:t.jsxDEV("div",{className:`h-full transition-all duration-500 ${a}`,style:{width:`${s}%`}},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PortersResults.tsx",lineNumber:76,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PortersResults.tsx",lineNumber:75,columnNumber:7},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PortersResults.tsx",lineNumber:67,columnNumber:5},this)}function yae({title:e,icon:r,score:n,analysis:s,items:a,risks:l}){return t.jsxDEV(Z,{className:"h-full",children:[t.jsxDEV(de,{className:"pb-3",children:t.jsxDEV("div",{className:"flex items-start justify-between",children:t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV("div",{className:"p-2 rounded-lg bg-primary/10 text-primary",children:r},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PortersResults.tsx",lineNumber:100,columnNumber:13},this),t.jsxDEV(pe,{className:"text-base",children:e},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PortersResults.tsx",lineNumber:103,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PortersResults.tsx",lineNumber:99,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PortersResults.tsx",lineNumber:98,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PortersResults.tsx",lineNumber:97,columnNumber:7},this),t.jsxDEV(te,{className:"space-y-4",children:[t.jsxDEV(ej,{score:n,label:"Threat Level"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PortersResults.tsx",lineNumber:108,columnNumber:9},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:s},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PortersResults.tsx",lineNumber:110,columnNumber:9},this),a.map((c,u)=>c.values.length>0&&t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV("h4",{className:"text-sm font-semibold flex items-center gap-2",children:[t.jsxDEV(Dn,{className:"h-4 w-4 text-green-600"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PortersResults.tsx",lineNumber:116,columnNumber:17},this),c.label]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PortersResults.tsx",lineNumber:115,columnNumber:15},this),t.jsxDEV("ul",{className:"space-y-1 pl-6",children:[c.values.slice(0,4).map((d,h)=>t.jsxDEV("li",{className:"text-sm text-muted-foreground list-disc",children:d},h,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PortersResults.tsx",lineNumber:121,columnNumber:19},this)),c.values.length>4&&t.jsxDEV("li",{className:"text-xs text-muted-foreground italic",children:["+ ",c.values.length-4," more"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PortersResults.tsx",lineNumber:126,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PortersResults.tsx",lineNumber:119,columnNumber:15},this)]},u,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PortersResults.tsx",lineNumber:114,columnNumber:13},this)),l.length>0&&t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV("h4",{className:"text-sm font-semibold flex items-center gap-2",children:[t.jsxDEV(qr,{className:"h-4 w-4 text-amber-600"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PortersResults.tsx",lineNumber:138,columnNumber:15},this),"Key Risks"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PortersResults.tsx",lineNumber:137,columnNumber:13},this),t.jsxDEV("ul",{className:"space-y-1 pl-6",children:[l.slice(0,3).map((c,u)=>t.jsxDEV("li",{className:"text-sm text-muted-foreground list-disc",children:c},u,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PortersResults.tsx",lineNumber:143,columnNumber:17},this)),l.length>3&&t.jsxDEV("li",{className:"text-xs text-muted-foreground italic",children:["+ ",l.length-3," more risks"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PortersResults.tsx",lineNumber:148,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PortersResults.tsx",lineNumber:141,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PortersResults.tsx",lineNumber:136,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PortersResults.tsx",lineNumber:107,columnNumber:7},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PortersResults.tsx",lineNumber:96,columnNumber:5},this)}function wae({portersData:e,onContinue:r}){const{threatOfNewEntrants:n,bargainingPowerOfSuppliers:s,bargainingPowerOfBuyers:a,threatOfSubstitutes:l,competitiveRivalry:c,overallAttractiveness:u,strategicImplications:d}=e,h=[{title:"Threat of New Entrants",icon:t.jsxDEV(a0,{className:"h-5 w-5"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PortersResults.tsx",lineNumber:174,columnNumber:13},this),score:n.score,analysis:n.analysis,items:[{label:"Entry Barriers",values:n.barriers}],risks:n.risks},{title:"Supplier Power",icon:t.jsxDEV(HX,{className:"h-5 w-5"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PortersResults.tsx",lineNumber:182,columnNumber:13},this),score:s.score,analysis:s.analysis,items:[{label:"Mitigations",values:s.mitigations}],risks:s.risks},{title:"Buyer Power",icon:t.jsxDEV(On,{className:"h-5 w-5"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PortersResults.tsx",lineNumber:190,columnNumber:13},this),score:a.score,analysis:a.analysis,items:[],risks:a.risks},{title:"Threat of Substitutes",icon:t.jsxDEV(Rg,{className:"h-5 w-5"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PortersResults.tsx",lineNumber:198,columnNumber:13},this),score:l.score,analysis:l.analysis,items:[{label:"Substitutes Identified",values:l.substitutes}],risks:l.risks},{title:"Competitive Rivalry",icon:t.jsxDEV(GX,{className:"h-5 w-5"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PortersResults.tsx",lineNumber:206,columnNumber:13},this),score:c.score,analysis:c.analysis,items:[{label:"Key Competitors",values:c.competitors},{label:"Competitive Strategies",values:c.strategies}],risks:c.risks}],g=(n.score+s.score+a.score+l.score+c.score)/5;return t.jsxDEV("div",{className:"space-y-6",children:[t.jsxDEV(Z,{children:[t.jsxDEV(de,{children:t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(Xr,{className:"h-6 w-6 text-blue-600"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PortersResults.tsx",lineNumber:232,columnNumber:13},this),t.jsxDEV("div",{children:[t.jsxDEV(pe,{children:"Porter's Five Forces Analysis"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PortersResults.tsx",lineNumber:234,columnNumber:15},this),t.jsxDEV(He,{children:"Comprehensive industry competitive dynamics assessment"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PortersResults.tsx",lineNumber:235,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PortersResults.tsx",lineNumber:233,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PortersResults.tsx",lineNumber:231,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PortersResults.tsx",lineNumber:230,columnNumber:9},this),t.jsxDEV(te,{children:t.jsxDEV("div",{className:"grid gap-4 md:grid-cols-2",children:[t.jsxDEV("div",{className:"space-y-3",children:[t.jsxDEV(ej,{score:u.score,label:"Market Attractiveness",invertColors:!0},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PortersResults.tsx",lineNumber:244,columnNumber:15},this),t.jsxDEV(ej,{score:Math.round(g*10)/10,label:"Average Competitive Pressure"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PortersResults.tsx",lineNumber:249,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PortersResults.tsx",lineNumber:243,columnNumber:13},this),t.jsxDEV("div",{className:"flex items-center",children:t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:u.summary},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PortersResults.tsx",lineNumber:255,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PortersResults.tsx",lineNumber:254,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PortersResults.tsx",lineNumber:242,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PortersResults.tsx",lineNumber:241,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PortersResults.tsx",lineNumber:229,columnNumber:7},this),t.jsxDEV("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:h.map((p,N)=>t.jsxDEV(yae,{...p},N,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PortersResults.tsx",lineNumber:266,columnNumber:11},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PortersResults.tsx",lineNumber:264,columnNumber:7},this),u.recommendations.length>0&&t.jsxDEV(Z,{children:[t.jsxDEV(de,{children:t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(cn,{className:"h-5 w-5 text-green-600"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PortersResults.tsx",lineNumber:275,columnNumber:15},this),t.jsxDEV(pe,{className:"text-lg",children:"Strategic Recommendations"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PortersResults.tsx",lineNumber:276,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PortersResults.tsx",lineNumber:274,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PortersResults.tsx",lineNumber:273,columnNumber:11},this),t.jsxDEV(te,{children:t.jsxDEV("div",{className:"grid gap-3 md:grid-cols-2",children:u.recommendations.map((p,N)=>t.jsxDEV("div",{className:"flex gap-3 p-3 rounded-lg bg-green-50 dark:bg-green-950/30 border border-green-200 dark:border-green-900",children:[t.jsxDEV(se,{className:"shrink-0 h-6 bg-green-600",children:N+1},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PortersResults.tsx",lineNumber:286,columnNumber:19},this),t.jsxDEV("p",{className:"text-sm",children:p},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PortersResults.tsx",lineNumber:287,columnNumber:19},this)]},N,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PortersResults.tsx",lineNumber:282,columnNumber:17},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PortersResults.tsx",lineNumber:280,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PortersResults.tsx",lineNumber:279,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PortersResults.tsx",lineNumber:272,columnNumber:9},this),d.length>0&&t.jsxDEV(Z,{children:[t.jsxDEV(de,{children:t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(qr,{className:"h-5 w-5 text-amber-600"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PortersResults.tsx",lineNumber:300,columnNumber:15},this),t.jsxDEV(pe,{className:"text-lg",children:"Strategic Implications"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PortersResults.tsx",lineNumber:301,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PortersResults.tsx",lineNumber:299,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PortersResults.tsx",lineNumber:298,columnNumber:11},this),t.jsxDEV(te,{children:t.jsxDEV("ul",{className:"space-y-2",children:d.map((p,N)=>t.jsxDEV("li",{className:"flex gap-3 items-start",children:[t.jsxDEV("span",{className:"shrink-0 w-6 h-6 rounded-full bg-amber-100 dark:bg-amber-900/30 text-amber-700 dark:text-amber-400 flex items-center justify-center text-xs font-semibold",children:N+1},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PortersResults.tsx",lineNumber:308,columnNumber:19},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:p},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PortersResults.tsx",lineNumber:311,columnNumber:19},this)]},N,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PortersResults.tsx",lineNumber:307,columnNumber:17},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PortersResults.tsx",lineNumber:305,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PortersResults.tsx",lineNumber:304,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PortersResults.tsx",lineNumber:297,columnNumber:9},this),r&&t.jsxDEV("div",{className:"flex justify-end",children:t.jsxDEV(me,{onClick:r,className:"gap-2",children:["Continue to SWOT Analysis",t.jsxDEV(ar,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PortersResults.tsx",lineNumber:324,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PortersResults.tsx",lineNumber:322,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PortersResults.tsx",lineNumber:321,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/PortersResults.tsx",lineNumber:227,columnNumber:5},this)}function kae(){var j;const[,e]=or(),{sessionId:r,versionNumber:n}=Oa(),s=qv(),{toast:a}=ur(),[l,c]=v.useState(null),u=v.useRef(!1),d=s.includes("viewOnly=true"),{data:h}=yt({queryKey:["journey-session",r],queryFn:async()=>{if(!r)return null;const P=await fetch(`/api/strategic-consultant/journey-sessions/by-session/${r}`);return P.ok?P.json():(console.warn(`[PortersResultsPage] Journey session not found for ${r}`),null)},enabled:!!r}),g=yt({queryKey:[`/api/strategic-consultant/frameworks/porters/${r}`],enabled:!!r,retry:!1,staleTime:0}),p=Qr({mutationFn:async()=>{const P=await fetch(`/api/strategic-consultant/frameworks/porters/execute/${r}`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"});if(!P.ok){const w=await P.json().catch(()=>({}));throw new Error(w.error||`Porter's analysis failed (${P.status})`)}return P.json()},onSuccess:P=>{var k,V,S,R,M,T,A;console.log("[PortersResultsPage] Porter's analysis complete:",P);let w=null;(V=(k=P.data)==null?void 0:k.data)!=null&&V.portersResults?w=P.data.data.portersResults:(S=P.data)!=null&&S.portersResults?w=P.data.portersResults:P.portersResults?w=P.portersResults:(M=(R=P.data)==null?void 0:R.data)!=null&&M.threatOfNewEntrants?w=P.data.data:(T=P.data)!=null&&T.threatOfNewEntrants?w=P.data:w=((A=P.data)==null?void 0:A.data)||P.data||P,console.log("[PortersResultsPage] Extracted portersResults:",w),w&&w.threatOfNewEntrants?(c(w),a({title:"Analysis Complete",description:"Porter's Five Forces analysis has been completed successfully."})):(console.error("[PortersResultsPage] No valid Porter's data found in response"),a({title:"Data Error",description:"Analysis completed but results format was unexpected.",variant:"destructive"}))},onError:P=>{console.error("[PortersResultsPage] Execute error:",P),a({title:"Analysis Failed",description:P.message||"Failed to execute Porter's Five Forces analysis",variant:"destructive"})}});v.useEffect(()=>{var w,k,V,S;if(!r||u.current||g.isLoading)return;const P=g.data;if(P!=null&&P.success&&(P!=null&&P.data)){console.log("[PortersResultsPage] Found existing Porter's data:",P.data);const R=((k=(w=P.data)==null?void 0:w.data)==null?void 0:k.portersResults)||((V=P.data)==null?void 0:V.portersResults)||((S=P.data)==null?void 0:S.data)||P.data;if(R!=null&&R.threatOfNewEntrants){c(R),u.current=!0;return}}if(d){u.current=!0,console.log("[PortersResultsPage] View-only mode but no existing data found");return}u.current=!0,console.log(`[PortersResultsPage] No existing data, executing Porter's analysis for session: ${r}`),p.mutate()},[r,g.isLoading,g.data,d]);const N=()=>{e(`/strategic-consultant/pestle-results/${r}/${n}`)},b=()=>{const{nextUrl:P}=rh(h,"porters-results",r,n);e(P||`/strategic-consultant/swot-results/${r}/${n}`)},{nextLabel:D}=rh(h,"porters-results",r,n),E=()=>{u.current=!1,p.reset(),p.mutate()};return r?g.isLoading||p.isPending?t.jsxDEV(st,{title:"Porter's Five Forces",subtitle:"Analyzing competitive forces...",onViewChange:()=>e("/"),children:t.jsxDEV("div",{className:"max-w-4xl mx-auto py-12",children:t.jsxDEV(Z,{children:[t.jsxDEV(de,{className:"text-center",children:[t.jsxDEV("div",{className:"flex justify-center mb-4",children:t.jsxDEV("div",{className:"relative",children:[t.jsxDEV(ul,{className:"h-12 w-12 text-primary opacity-20"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/PortersResultsPage.tsx",lineNumber:245,columnNumber:19},this),t.jsxDEV(lt,{className:"h-12 w-12 animate-spin text-primary absolute inset-0"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/PortersResultsPage.tsx",lineNumber:246,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/PortersResultsPage.tsx",lineNumber:244,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/PortersResultsPage.tsx",lineNumber:243,columnNumber:15},this),t.jsxDEV(pe,{className:"text-2xl","data-testid":"text-loading-status",children:"Analyzing competitive forces..."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/PortersResultsPage.tsx",lineNumber:249,columnNumber:15},this),t.jsxDEV(He,{children:"Evaluating market dynamics using Porter's Five Forces framework"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/PortersResultsPage.tsx",lineNumber:252,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/PortersResultsPage.tsx",lineNumber:242,columnNumber:13},this),t.jsxDEV(te,{className:"space-y-4",children:t.jsxDEV("div",{className:"flex justify-center",children:t.jsxDEV("div",{className:"text-center space-y-2",children:[t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Assessing threat of new entrants, supplier power, buyer power, substitute threats, and competitive rivalry..."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/PortersResultsPage.tsx",lineNumber:259,columnNumber:19},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"This may take 15-30 seconds"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/PortersResultsPage.tsx",lineNumber:263,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/PortersResultsPage.tsx",lineNumber:258,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/PortersResultsPage.tsx",lineNumber:257,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/PortersResultsPage.tsx",lineNumber:256,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/PortersResultsPage.tsx",lineNumber:241,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/PortersResultsPage.tsx",lineNumber:240,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/PortersResultsPage.tsx",lineNumber:235,columnNumber:7},this):p.isError?t.jsxDEV(st,{title:"Porter's Five Forces",subtitle:"Analysis failed",onViewChange:()=>e("/"),children:t.jsxDEV("div",{className:"max-w-4xl mx-auto space-y-8 py-12",children:[t.jsxDEV(it,{variant:"destructive",children:[t.jsxDEV(Dt,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/PortersResultsPage.tsx",lineNumber:285,columnNumber:13},this),t.jsxDEV(er,{children:"Analysis Failed"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/PortersResultsPage.tsx",lineNumber:286,columnNumber:13},this),t.jsxDEV(at,{children:((j=p.error)==null?void 0:j.message)||"Failed to execute Porter's Five Forces analysis"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/PortersResultsPage.tsx",lineNumber:287,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/PortersResultsPage.tsx",lineNumber:284,columnNumber:11},this),t.jsxDEV("div",{className:"flex justify-center gap-4",children:[t.jsxDEV(me,{variant:"outline",onClick:N,children:[t.jsxDEV(jn,{className:"mr-2 h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/PortersResultsPage.tsx",lineNumber:293,columnNumber:15},this),"Back to PESTLE"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/PortersResultsPage.tsx",lineNumber:292,columnNumber:13},this),t.jsxDEV(me,{onClick:E,"data-testid":"button-retry",children:[t.jsxDEV(Rg,{className:"mr-2 h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/PortersResultsPage.tsx",lineNumber:297,columnNumber:15},this),"Retry Analysis"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/PortersResultsPage.tsx",lineNumber:296,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/PortersResultsPage.tsx",lineNumber:291,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/PortersResultsPage.tsx",lineNumber:283,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/PortersResultsPage.tsx",lineNumber:278,columnNumber:7},this):l?t.jsxDEV(st,{title:"Porter's Five Forces Analysis",subtitle:"Competitive dynamics assessment for your market entry",onViewChange:()=>e("/"),children:t.jsxDEV("div",{className:"max-w-6xl mx-auto space-y-6 p-4 sm:p-0",children:[t.jsxDEV(wae,{portersData:l},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/PortersResultsPage.tsx",lineNumber:335,columnNumber:9},this),t.jsxDEV("div",{className:"flex flex-col sm:flex-row justify-between gap-4 pt-4",children:[t.jsxDEV(me,{variant:"outline",onClick:N,"data-testid":"button-back",children:[t.jsxDEV(jn,{className:"mr-2 h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/PortersResultsPage.tsx",lineNumber:346,columnNumber:13},this),"Back to PESTLE Results"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/PortersResultsPage.tsx",lineNumber:341,columnNumber:11},this),t.jsxDEV(me,{onClick:b,"data-testid":"button-continue",className:"gap-2",children:[D,t.jsxDEV(ar,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/PortersResultsPage.tsx",lineNumber:356,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/PortersResultsPage.tsx",lineNumber:350,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/PortersResultsPage.tsx",lineNumber:340,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/PortersResultsPage.tsx",lineNumber:333,columnNumber:7},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/PortersResultsPage.tsx",lineNumber:328,columnNumber:5},this):t.jsxDEV(st,{title:"Porter's Five Forces",subtitle:"Waiting for data...",onViewChange:()=>e("/"),children:t.jsxDEV("div",{className:"max-w-4xl mx-auto py-12",children:t.jsxDEV(Z,{children:t.jsxDEV(de,{className:"text-center",children:[t.jsxDEV(lt,{className:"h-8 w-8 animate-spin mx-auto text-primary"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/PortersResultsPage.tsx",lineNumber:317,columnNumber:15},this),t.jsxDEV(pe,{children:"Loading results..."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/PortersResultsPage.tsx",lineNumber:318,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/PortersResultsPage.tsx",lineNumber:316,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/PortersResultsPage.tsx",lineNumber:315,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/PortersResultsPage.tsx",lineNumber:314,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/PortersResultsPage.tsx",lineNumber:309,columnNumber:7},this):t.jsxDEV(st,{title:"Porter's Five Forces",subtitle:"Invalid session",onViewChange:()=>e("/"),children:t.jsxDEV("div",{className:"max-w-2xl mx-auto py-12",children:t.jsxDEV(it,{variant:"destructive",children:[t.jsxDEV(Dt,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/PortersResultsPage.tsx",lineNumber:223,columnNumber:13},this),t.jsxDEV(er,{children:"Invalid Session"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/PortersResultsPage.tsx",lineNumber:224,columnNumber:13},this),t.jsxDEV(at,{children:"No session ID provided in URL"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/PortersResultsPage.tsx",lineNumber:225,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/PortersResultsPage.tsx",lineNumber:222,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/PortersResultsPage.tsx",lineNumber:221,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/PortersResultsPage.tsx",lineNumber:216,columnNumber:7},this)}function Eae({importance:e}){const r={high:{className:"bg-red-100 text-red-700 border-red-200 dark:bg-red-900 dark:text-red-300 dark:border-red-700",label:"High"},medium:{className:"bg-yellow-100 text-yellow-700 border-yellow-200 dark:bg-yellow-900 dark:text-yellow-300 dark:border-yellow-700",label:"Medium"},low:{className:"bg-gray-100 text-gray-600 border-gray-200 dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600",label:"Low"}},n=r[e]||r.low;return t.jsxDEV(se,{variant:"outline",className:`text-xs ${n.className}`,children:n.label},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/SWOTResults.tsx",lineNumber:49,columnNumber:5},this)}function Dae({factor:e,colorClass:r}){return t.jsxDEV("div",{className:`p-3 rounded-lg border ${r} space-y-2`,children:[t.jsxDEV("div",{className:"flex items-start justify-between gap-2",children:[t.jsxDEV("h5",{className:"font-medium text-sm",children:e.factor},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/SWOTResults.tsx",lineNumber:59,columnNumber:9},this),t.jsxDEV(Eae,{importance:e.importance},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/SWOTResults.tsx",lineNumber:60,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/SWOTResults.tsx",lineNumber:58,columnNumber:7},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground",children:e.description},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/SWOTResults.tsx",lineNumber:62,columnNumber:7},this),e.evidence&&t.jsxDEV("p",{className:"text-xs italic text-muted-foreground/80 border-t pt-2 mt-2",children:["Evidence: ",e.evidence]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/SWOTResults.tsx",lineNumber:64,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/SWOTResults.tsx",lineNumber:57,columnNumber:5},this)}function bb({title:e,icon:r,factors:n,headerClass:s,cardClass:a,emptyMessage:l}){return t.jsxDEV("div",{className:"flex flex-col h-full",children:[t.jsxDEV("div",{className:`flex items-center gap-2 p-3 rounded-t-lg ${s}`,children:[t.jsxDEV(r,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/SWOTResults.tsx",lineNumber:90,columnNumber:9},this),t.jsxDEV("h4",{className:"font-semibold text-sm",children:e},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/SWOTResults.tsx",lineNumber:91,columnNumber:9},this),t.jsxDEV(se,{variant:"secondary",className:"ml-auto text-xs",children:n.length},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/SWOTResults.tsx",lineNumber:92,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/SWOTResults.tsx",lineNumber:89,columnNumber:7},this),t.jsxDEV("div",{className:`flex-1 p-3 rounded-b-lg border border-t-0 space-y-2 min-h-[200px] ${a}`,children:n.length>0?n.map((c,u)=>t.jsxDEV(Dae,{factor:c,colorClass:a},u,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/SWOTResults.tsx",lineNumber:99,columnNumber:13},this)):t.jsxDEV("p",{className:"text-xs text-muted-foreground italic text-center py-8",children:l},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/SWOTResults.tsx",lineNumber:102,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/SWOTResults.tsx",lineNumber:96,columnNumber:7},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/SWOTResults.tsx",lineNumber:88,columnNumber:5},this)}function vb({title:e,strategies:r,colorClass:n}){return r.length===0?null:t.jsxDEV("div",{className:`p-4 rounded-lg border ${n} text-gray-800 dark:text-gray-800`,children:[t.jsxDEV("h5",{className:"font-semibold text-sm mb-3 text-gray-900 dark:text-gray-900",children:e},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/SWOTResults.tsx",lineNumber:124,columnNumber:7},this),t.jsxDEV("ul",{className:"space-y-2",children:r.map((s,a)=>t.jsxDEV("li",{className:"flex items-start gap-2 text-sm","data-testid":`strategy-item-${a}`,children:[t.jsxDEV(ar,{className:"h-4 w-4 shrink-0 mt-0.5 text-gray-500 dark:text-gray-500"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/SWOTResults.tsx",lineNumber:128,columnNumber:13},this),t.jsxDEV("span",{children:s},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/SWOTResults.tsx",lineNumber:129,columnNumber:13},this)]},a,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/SWOTResults.tsx",lineNumber:127,columnNumber:11},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/SWOTResults.tsx",lineNumber:125,columnNumber:7},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/SWOTResults.tsx",lineNumber:123,columnNumber:5},this)}function jae({swotData:e,onContinue:r}){const{strengths:n,weaknesses:s,opportunities:a,threats:l,strategicOptions:c,priorityActions:u,confidence:d}=e,h=n.length+s.length+a.length+l.length,g=c.soStrategies.length>0||c.woStrategies.length>0||c.stStrategies.length>0||c.wtStrategies.length>0;return t.jsxDEV("div",{className:"space-y-6",children:[t.jsxDEV(Z,{children:[t.jsxDEV(de,{children:t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(Xr,{className:"h-5 w-5 text-purple-600"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/SWOTResults.tsx",lineNumber:162,columnNumber:15},this),t.jsxDEV("div",{children:[t.jsxDEV(pe,{children:"SWOT Analysis"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/SWOTResults.tsx",lineNumber:164,columnNumber:17},this),t.jsxDEV(He,{children:["Identified ",h," strategic factors across 4 dimensions"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/SWOTResults.tsx",lineNumber:165,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/SWOTResults.tsx",lineNumber:163,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/SWOTResults.tsx",lineNumber:161,columnNumber:13},this),d>0&&t.jsxDEV(se,{variant:"outline",className:"text-xs",children:[Math.round(d*100),"% confidence"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/SWOTResults.tsx",lineNumber:171,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/SWOTResults.tsx",lineNumber:160,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/SWOTResults.tsx",lineNumber:159,columnNumber:9},this),t.jsxDEV(te,{children:t.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxDEV(bb,{title:"Strengths",icon:cn,factors:n,headerClass:"bg-green-600 text-white",cardClass:"bg-green-50/50 border-green-200",emptyMessage:"No strengths identified"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/SWOTResults.tsx",lineNumber:181,columnNumber:13},this),t.jsxDEV(bb,{title:"Weaknesses",icon:Qj,factors:s,headerClass:"bg-red-500 text-white",cardClass:"bg-red-50/50 border-red-200",emptyMessage:"No weaknesses identified"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/SWOTResults.tsx",lineNumber:191,columnNumber:13},this),t.jsxDEV(bb,{title:"Opportunities",icon:yn,factors:a,headerClass:"bg-blue-600 text-white",cardClass:"bg-blue-50/50 border-blue-200",emptyMessage:"No opportunities identified"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/SWOTResults.tsx",lineNumber:201,columnNumber:13},this),t.jsxDEV(bb,{title:"Threats",icon:qr,factors:l,headerClass:"bg-amber-500 text-white",cardClass:"bg-amber-50/50 border-amber-200",emptyMessage:"No threats identified"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/SWOTResults.tsx",lineNumber:211,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/SWOTResults.tsx",lineNumber:179,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/SWOTResults.tsx",lineNumber:177,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/SWOTResults.tsx",lineNumber:158,columnNumber:7},this),g&&t.jsxDEV(Z,{children:[t.jsxDEV(de,{children:t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(Xr,{className:"h-5 w-5 text-indigo-600"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/SWOTResults.tsx",lineNumber:228,columnNumber:15},this),t.jsxDEV("div",{children:[t.jsxDEV(pe,{children:"Strategic Options (TOWS Matrix)"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/SWOTResults.tsx",lineNumber:230,columnNumber:17},this),t.jsxDEV(He,{children:"Cross-referencing SWOT factors to identify strategic directions"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/SWOTResults.tsx",lineNumber:231,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/SWOTResults.tsx",lineNumber:229,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/SWOTResults.tsx",lineNumber:227,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/SWOTResults.tsx",lineNumber:226,columnNumber:11},this),t.jsxDEV(te,{children:t.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxDEV(vb,{title:"SO Strategies (Strength-Opportunity)",strategies:c.soStrategies,colorClass:"bg-emerald-50 border-emerald-200"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/SWOTResults.tsx",lineNumber:239,columnNumber:15},this),t.jsxDEV(vb,{title:"WO Strategies (Weakness-Opportunity)",strategies:c.woStrategies,colorClass:"bg-sky-50 border-sky-200"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/SWOTResults.tsx",lineNumber:244,columnNumber:15},this),t.jsxDEV(vb,{title:"ST Strategies (Strength-Threat)",strategies:c.stStrategies,colorClass:"bg-violet-50 border-violet-200"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/SWOTResults.tsx",lineNumber:249,columnNumber:15},this),t.jsxDEV(vb,{title:"WT Strategies (Weakness-Threat)",strategies:c.wtStrategies,colorClass:"bg-rose-50 border-rose-200"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/SWOTResults.tsx",lineNumber:254,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/SWOTResults.tsx",lineNumber:238,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/SWOTResults.tsx",lineNumber:237,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/SWOTResults.tsx",lineNumber:225,columnNumber:9},this),u.length>0&&t.jsxDEV(Z,{children:[t.jsxDEV(de,{children:t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(tr,{className:"h-5 w-5 text-green-600"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/SWOTResults.tsx",lineNumber:269,columnNumber:15},this),t.jsxDEV("div",{children:[t.jsxDEV(pe,{children:"Priority Actions"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/SWOTResults.tsx",lineNumber:271,columnNumber:17},this),t.jsxDEV(He,{children:"Recommended immediate actions based on the analysis"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/SWOTResults.tsx",lineNumber:272,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/SWOTResults.tsx",lineNumber:270,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/SWOTResults.tsx",lineNumber:268,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/SWOTResults.tsx",lineNumber:267,columnNumber:11},this),t.jsxDEV(te,{children:t.jsxDEV("ol",{className:"space-y-3",children:u.map((p,N)=>t.jsxDEV("li",{className:"flex items-start gap-3",children:[t.jsxDEV("span",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-green-100 text-green-700 text-xs font-semibold shrink-0",children:N+1},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/SWOTResults.tsx",lineNumber:282,columnNumber:19},this),t.jsxDEV("span",{className:"text-sm pt-0.5",children:p},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/SWOTResults.tsx",lineNumber:285,columnNumber:19},this)]},N,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/SWOTResults.tsx",lineNumber:281,columnNumber:17},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/SWOTResults.tsx",lineNumber:279,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/SWOTResults.tsx",lineNumber:278,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/SWOTResults.tsx",lineNumber:266,columnNumber:9},this),r&&t.jsxDEV("div",{className:"flex justify-end",children:t.jsxDEV(me,{onClick:r,className:"gap-2",children:["Continue to Strategic Decisions",t.jsxDEV(ar,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/SWOTResults.tsx",lineNumber:298,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/SWOTResults.tsx",lineNumber:296,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/SWOTResults.tsx",lineNumber:295,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/SWOTResults.tsx",lineNumber:156,columnNumber:5},this)}function Vae(){var w;const[,e]=or(),{sessionId:r,versionNumber:n}=Oa(),s=qv(),{toast:a}=ur(),[l,c]=v.useState(null),[u,d]=v.useState(!1),h=s.includes("viewOnly=true"),{data:g}=yt({queryKey:["journey-session",r],queryFn:async()=>{if(!r)return null;const k=await fetch(`/api/strategic-consultant/journey-sessions/by-session/${r}`);return k.ok?k.json():(console.warn(`[SWOTResultsPage] Journey session not found for ${r}`),null)},enabled:!!r}),{data:p,isLoading:N}=yt({queryKey:["swot-results",r],queryFn:async()=>{const k=await fetch(`/api/strategic-consultant/frameworks/swot/${r}`);if(!k.ok){if(k.status===404)return null;throw new Error("Failed to fetch SWOT results")}return k.json()},enabled:!!r,retry:!1}),b=Qr({mutationFn:async()=>{const k=await fetch(`/api/strategic-consultant/frameworks/swot/execute/${r}`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"});if(!k.ok){const V=await k.json().catch(()=>({}));throw new Error(V.error||`SWOT analysis failed (${k.status})`)}return k.json()},onSuccess:k=>{var S,R,M,T,A,F,L,$,W,O;console.log("[SWOTResultsPage] SWOT execution successful:",k);let V=null;(R=(S=k.data)==null?void 0:S.data)!=null&&R.swotResults?V=k.data.data.swotResults:(T=(M=k.data)==null?void 0:M.data)!=null&&T.output?V=k.data.data.output:(A=k.data)!=null&&A.swotResults?V=k.data.swotResults:(F=k.data)!=null&&F.output?V=k.data.output:k.swotResults?V=k.swotResults:k.output?V=k.output:($=(L=k.data)==null?void 0:L.data)!=null&&$.strengths?V=k.data.data:(W=k.data)!=null&&W.strengths?V=k.data:V=((O=k.data)==null?void 0:O.data)||k.data||k,console.log("[SWOTResultsPage] Extracted swotResults:",V),c(V),d(!0),a({title:"SWOT Analysis Complete",description:"Strategic insights have been synthesized successfully."})},onError:k=>{console.error("[SWOTResultsPage] SWOT execution failed:",k),a({title:"Analysis Failed",description:k.message||"Failed to complete SWOT analysis. Please try again.",variant:"destructive"})}});v.useEffect(()=>{var k,V,S,R,M,T,A;if(!N){if(p){let F=null;if((V=(k=p.data)==null?void 0:k.data)!=null&&V.swotResults?F=p.data.data.swotResults:(R=(S=p.data)==null?void 0:S.data)!=null&&R.output?F=p.data.data.output:(M=p.data)!=null&&M.swotResults?F=p.data.swotResults:(T=p.data)!=null&&T.output?F=p.data.output:(A=p.data)!=null&&A.strengths?F=p.data:p.strengths&&(F=p),F){c(F),d(!0);return}}if(h){console.log("[SWOTResultsPage] View-only mode, no existing data found"),d(!0);return}!u&&!b.isPending&&(console.log("[SWOTResultsPage] No existing SWOT data, executing analysis..."),b.mutate())}},[N,p,u,b.isPending,h]);const D=()=>{const{nextUrl:k}=rh(g,"swot-results",r,n);e(k||`/strategy-workspace/decisions/${r}/${n}`)},{nextLabel:E}=rh(g,"swot-results",r,n),j=()=>{e(`/strategic-consultant/porters-results/${r}/${n}`)},P=()=>{d(!1),b.mutate()};return r?N||b.isPending&&!l?t.jsxDEV(st,{title:"SWOT Analysis",subtitle:"Synthesizing strategic insights...",children:t.jsxDEV("div",{className:"max-w-2xl mx-auto py-12",children:t.jsxDEV(Z,{children:[t.jsxDEV(de,{className:"text-center",children:[t.jsxDEV("div",{className:"flex justify-center mb-4",children:t.jsxDEV(lt,{className:"h-12 w-12 animate-spin text-primary"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/SWOTResultsPage.tsx",lineNumber:275,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/SWOTResultsPage.tsx",lineNumber:274,columnNumber:15},this),t.jsxDEV(pe,{className:"text-2xl","data-testid":"text-swot-status",children:"Synthesizing strategic insights..."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/SWOTResultsPage.tsx",lineNumber:277,columnNumber:15},this),t.jsxDEV(He,{children:"Analyzing strengths, weaknesses, opportunities, and threats based on your market research"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/SWOTResultsPage.tsx",lineNumber:280,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/SWOTResultsPage.tsx",lineNumber:273,columnNumber:13},this),t.jsxDEV(te,{className:"space-y-4",children:t.jsxDEV("div",{className:"text-center space-y-2",children:[t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Integrating PESTLE and Porter's Five Forces analysis"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/SWOTResultsPage.tsx",lineNumber:286,columnNumber:17},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"This may take 15-30 seconds"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/SWOTResultsPage.tsx",lineNumber:289,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/SWOTResultsPage.tsx",lineNumber:285,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/SWOTResultsPage.tsx",lineNumber:284,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/SWOTResultsPage.tsx",lineNumber:272,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/SWOTResultsPage.tsx",lineNumber:271,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/SWOTResultsPage.tsx",lineNumber:267,columnNumber:7},this):b.isError&&!l?t.jsxDEV(st,{title:"SWOT Analysis",subtitle:"Analysis failed",children:t.jsxDEV("div",{className:"max-w-2xl mx-auto py-12 space-y-6",children:[t.jsxDEV(it,{variant:"destructive",children:[t.jsxDEV(Dt,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/SWOTResultsPage.tsx",lineNumber:309,columnNumber:13},this),t.jsxDEV(er,{children:"Analysis Failed"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/SWOTResultsPage.tsx",lineNumber:310,columnNumber:13},this),t.jsxDEV(at,{children:((w=b.error)==null?void 0:w.message)||"Failed to complete SWOT analysis"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/SWOTResultsPage.tsx",lineNumber:311,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/SWOTResultsPage.tsx",lineNumber:308,columnNumber:11},this),t.jsxDEV("div",{className:"flex justify-center gap-4",children:[t.jsxDEV(me,{variant:"outline",onClick:j,children:[t.jsxDEV(jn,{className:"mr-2 h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/SWOTResultsPage.tsx",lineNumber:317,columnNumber:15},this),"Back to Porter's"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/SWOTResultsPage.tsx",lineNumber:316,columnNumber:13},this),t.jsxDEV(me,{onClick:P,"data-testid":"button-retry-swot",children:[t.jsxDEV(Rg,{className:"mr-2 h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/SWOTResultsPage.tsx",lineNumber:321,columnNumber:15},this),"Retry Analysis"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/SWOTResultsPage.tsx",lineNumber:320,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/SWOTResultsPage.tsx",lineNumber:315,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/SWOTResultsPage.tsx",lineNumber:307,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/SWOTResultsPage.tsx",lineNumber:303,columnNumber:7},this):t.jsxDEV(st,{title:"SWOT Analysis Results",subtitle:"Strategic insights synthesized from market research",children:t.jsxDEV("div",{className:"max-w-6xl mx-auto space-y-6 p-4 sm:p-0",children:[t.jsxDEV(Z,{className:"border-green-200 bg-green-50 dark:bg-green-950/20",children:t.jsxDEV(te,{className:"pt-6",children:t.jsxDEV("div",{className:"flex items-center justify-between flex-wrap gap-4",children:t.jsxDEV("div",{className:"flex items-center gap-3",children:[t.jsxDEV(tr,{className:"h-8 w-8 text-green-600"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/SWOTResultsPage.tsx",lineNumber:342,columnNumber:17},this),t.jsxDEV("div",{children:[t.jsxDEV("h3",{className:"text-lg font-semibold text-green-900 dark:text-green-100",children:"SWOT Analysis Complete!"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/SWOTResultsPage.tsx",lineNumber:344,columnNumber:19},this),t.jsxDEV("p",{className:"text-sm text-green-700 dark:text-green-300",children:"Review your strategic insights below"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/SWOTResultsPage.tsx",lineNumber:347,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/SWOTResultsPage.tsx",lineNumber:343,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/SWOTResultsPage.tsx",lineNumber:341,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/SWOTResultsPage.tsx",lineNumber:340,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/SWOTResultsPage.tsx",lineNumber:339,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/SWOTResultsPage.tsx",lineNumber:338,columnNumber:9},this),l&&t.jsxDEV(jae,{swotData:l},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/SWOTResultsPage.tsx",lineNumber:358,columnNumber:11},this),t.jsxDEV("div",{className:"flex justify-between pt-4",children:[t.jsxDEV(me,{variant:"outline",onClick:j,children:[t.jsxDEV(jn,{className:"mr-2 h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/SWOTResultsPage.tsx",lineNumber:366,columnNumber:13},this),"Back to Porter's"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/SWOTResultsPage.tsx",lineNumber:365,columnNumber:11},this),t.jsxDEV(me,{onClick:D,className:"gap-2","data-testid":"button-continue-decisions",children:[E,t.jsxDEV(ar,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/SWOTResultsPage.tsx",lineNumber:371,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/SWOTResultsPage.tsx",lineNumber:369,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/SWOTResultsPage.tsx",lineNumber:364,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/SWOTResultsPage.tsx",lineNumber:336,columnNumber:7},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/SWOTResultsPage.tsx",lineNumber:332,columnNumber:5},this):t.jsxDEV(st,{title:"SWOT Analysis",subtitle:"Error",children:t.jsxDEV("div",{className:"max-w-2xl mx-auto py-12",children:t.jsxDEV(it,{variant:"destructive",children:[t.jsxDEV(Dt,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/SWOTResultsPage.tsx",lineNumber:255,columnNumber:13},this),t.jsxDEV(er,{children:"Invalid Session"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/SWOTResultsPage.tsx",lineNumber:256,columnNumber:13},this),t.jsxDEV(at,{children:"No session ID provided in URL"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/SWOTResultsPage.tsx",lineNumber:257,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/SWOTResultsPage.tsx",lineNumber:254,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/SWOTResultsPage.tsx",lineNumber:253,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/SWOTResultsPage.tsx",lineNumber:249,columnNumber:7},this)}var Pae="Separator",Y4="horizontal",Sae=["horizontal","vertical"],iF=v.forwardRef((e,r)=>{const{decorative:n,orientation:s=Y4,...a}=e,l=Cae(s)?s:Y4,u=n?{role:"none"}:{"aria-orientation":l==="vertical"?l:void 0,role:"separator"};return U.jsx(At.div,{"data-orientation":l,...u,...a,ref:r})});iF.displayName=Pae;function Cae(e){return Sae.includes(e)}var aF=iF;const V0=v.forwardRef(({className:e,orientation:r="horizontal",decorative:n=!0,...s},a)=>t.jsxDEV(aF,{ref:a,decorative:n,orientation:r,className:Ke("shrink-0 bg-border",r==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...s},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/separator.tsx",lineNumber:14,columnNumber:5},void 0));V0.displayName=aF.displayName;const Rae=({data:e})=>{const r=n=>{if(typeof n=="string"){const a=n.toLowerCase();return a==="strong"||a==="high"?{label:"Strong",variant:"default"}:a==="moderate"||a==="medium"?{label:"Moderate",variant:"secondary"}:{label:"Weak",variant:"outline"}}return{label:`${Math.round(n*100)}%`,variant:n>.7?"default":"secondary"}};return t.jsxDEV("div",{className:"space-y-6","data-testid":"framework-bmc",children:[t.jsxDEV(Z,{children:[t.jsxDEV(de,{children:t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV(pe,{children:"Overall Assessment"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/frameworks/BMCRenderer.tsx",lineNumber:29,columnNumber:13},void 0),typeof e.overallConfidence=="number"&&t.jsxDEV(se,{variant:e.overallConfidence>.7?"default":"secondary","data-testid":"badge-confidence",children:[Math.round(e.overallConfidence*100),"% Confidence"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/frameworks/BMCRenderer.tsx",lineNumber:31,columnNumber:13},void 0)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/frameworks/BMCRenderer.tsx",lineNumber:28,columnNumber:11},void 0)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/frameworks/BMCRenderer.tsx",lineNumber:27,columnNumber:9},void 0),t.jsxDEV(te,{className:"space-y-4",children:[e.viability&&t.jsxDEV("div",{children:[t.jsxDEV("h3",{className:"font-semibold mb-2",children:"Viability"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/frameworks/BMCRenderer.tsx",lineNumber:40,columnNumber:13},void 0),t.jsxDEV("p",{className:"text-sm text-muted-foreground","data-testid":"text-viability",children:e.viability},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/frameworks/BMCRenderer.tsx",lineNumber:41,columnNumber:13},void 0)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/frameworks/BMCRenderer.tsx",lineNumber:39,columnNumber:11},void 0),Array.isArray(e.contradictions)&&e.contradictions.length>0&&t.jsxDEV("div",{className:"space-y-3",children:[t.jsxDEV(it,{variant:"destructive","data-testid":"alert-contradictions",children:[t.jsxDEV(qr,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/frameworks/BMCRenderer.tsx",lineNumber:48,columnNumber:17},void 0),t.jsxDEV(er,{children:"Contradictions Detected"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/frameworks/BMCRenderer.tsx",lineNumber:49,columnNumber:17},void 0),t.jsxDEV(at,{children:[e.contradictions.length," contradiction(s) found between assumptions and research"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/frameworks/BMCRenderer.tsx",lineNumber:50,columnNumber:17},void 0)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/frameworks/BMCRenderer.tsx",lineNumber:47,columnNumber:15},void 0),e.contradictions.map((n,s)=>t.jsxDEV(Z,{className:"border-destructive","data-testid":`card-contradiction-${s}`,children:[t.jsxDEV(de,{children:[t.jsxDEV("div",{className:"flex items-start justify-between gap-2",children:[t.jsxDEV(pe,{className:"text-base text-destructive",children:n.assumption},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/frameworks/BMCRenderer.tsx",lineNumber:58,columnNumber:23},void 0),t.jsxDEV("div",{className:"flex gap-2",children:[t.jsxDEV(se,{variant:n.impact==="HIGH"?"destructive":n.impact==="MEDIUM"?"secondary":"outline",children:[n.impact," Impact"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/frameworks/BMCRenderer.tsx",lineNumber:62,columnNumber:25},void 0),t.jsxDEV(se,{variant:"outline",children:n.validationStrength},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/frameworks/BMCRenderer.tsx",lineNumber:65,columnNumber:25},void 0)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/frameworks/BMCRenderer.tsx",lineNumber:61,columnNumber:23},void 0)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/frameworks/BMCRenderer.tsx",lineNumber:57,columnNumber:21},void 0),n.assumptionCategory&&t.jsxDEV("p",{className:"text-xs text-muted-foreground",children:n.assumptionCategory},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/frameworks/BMCRenderer.tsx",lineNumber:71,columnNumber:23},void 0)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/frameworks/BMCRenderer.tsx",lineNumber:56,columnNumber:19},void 0),t.jsxDEV(te,{className:"space-y-3",children:[t.jsxDEV("div",{children:[t.jsxDEV("h4",{className:"font-semibold text-sm mb-2",children:"Contradicting Evidence:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/frameworks/BMCRenderer.tsx",lineNumber:76,columnNumber:23},void 0),t.jsxDEV("ul",{className:"list-disc list-inside space-y-1",children:Array.isArray(n.contradictedBy)&&n.contradictedBy.map((a,l)=>t.jsxDEV("li",{className:"text-sm text-muted-foreground",children:a},l,!1,{fileName:"/home/runner/workspace/client/src/components/frameworks/BMCRenderer.tsx",lineNumber:79,columnNumber:27},void 0))},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/frameworks/BMCRenderer.tsx",lineNumber:77,columnNumber:23},void 0)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/frameworks/BMCRenderer.tsx",lineNumber:75,columnNumber:21},void 0),n.recommendation&&t.jsxDEV("div",{children:[t.jsxDEV("h4",{className:"font-semibold text-sm mb-1",children:"Recommendation:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/frameworks/BMCRenderer.tsx",lineNumber:85,columnNumber:25},void 0),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:n.recommendation},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/frameworks/BMCRenderer.tsx",lineNumber:86,columnNumber:25},void 0)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/frameworks/BMCRenderer.tsx",lineNumber:84,columnNumber:23},void 0),n.investmentAmount&&t.jsxDEV("div",{className:"text-xs text-amber-600",children:["Investment at risk: ",n.investmentAmount]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/frameworks/BMCRenderer.tsx",lineNumber:90,columnNumber:23},void 0)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/frameworks/BMCRenderer.tsx",lineNumber:74,columnNumber:19},void 0)]},s,!0,{fileName:"/home/runner/workspace/client/src/components/frameworks/BMCRenderer.tsx",lineNumber:55,columnNumber:17},void 0))]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/frameworks/BMCRenderer.tsx",lineNumber:46,columnNumber:13},void 0)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/frameworks/BMCRenderer.tsx",lineNumber:37,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/frameworks/BMCRenderer.tsx",lineNumber:26,columnNumber:7},void 0),Array.isArray(e.keyInsights)&&e.keyInsights.length>0&&t.jsxDEV(Z,{children:[t.jsxDEV(de,{children:t.jsxDEV(pe,{children:"Key Insights"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/frameworks/BMCRenderer.tsx",lineNumber:106,columnNumber:13},void 0)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/frameworks/BMCRenderer.tsx",lineNumber:105,columnNumber:11},void 0),t.jsxDEV(te,{children:t.jsxDEV("ul",{className:"list-disc list-inside space-y-2","data-testid":"list-key-insights",children:e.keyInsights.map((n,s)=>t.jsxDEV("li",{className:"text-sm",children:n},s,!1,{fileName:"/home/runner/workspace/client/src/components/frameworks/BMCRenderer.tsx",lineNumber:111,columnNumber:17},void 0))},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/frameworks/BMCRenderer.tsx",lineNumber:109,columnNumber:13},void 0)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/frameworks/BMCRenderer.tsx",lineNumber:108,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/frameworks/BMCRenderer.tsx",lineNumber:104,columnNumber:9},void 0),Array.isArray(e.recommendations)&&e.recommendations.length>0&&t.jsxDEV(Z,{children:[t.jsxDEV(de,{children:t.jsxDEV(pe,{children:"Strategic Recommendations"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/frameworks/BMCRenderer.tsx",lineNumber:122,columnNumber:13},void 0)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/frameworks/BMCRenderer.tsx",lineNumber:121,columnNumber:11},void 0),t.jsxDEV(te,{className:"space-y-2","data-testid":"list-recommendations",children:e.recommendations.map((n,s)=>t.jsxDEV("div",{className:"flex items-start gap-2",children:[n.priority&&t.jsxDEV(se,{variant:n.priority==="high"?"destructive":n.priority==="medium"?"secondary":"outline",children:n.priority},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/frameworks/BMCRenderer.tsx",lineNumber:128,columnNumber:19},void 0),t.jsxDEV("div",{className:"flex-1",children:[t.jsxDEV("p",{className:"text-sm font-medium",children:n.action||n.text||n},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/frameworks/BMCRenderer.tsx",lineNumber:133,columnNumber:19},void 0),n.rationale&&t.jsxDEV("p",{className:"text-xs text-muted-foreground",children:n.rationale},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/frameworks/BMCRenderer.tsx",lineNumber:134,columnNumber:37},void 0)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/frameworks/BMCRenderer.tsx",lineNumber:132,columnNumber:17},void 0)]},s,!0,{fileName:"/home/runner/workspace/client/src/components/frameworks/BMCRenderer.tsx",lineNumber:126,columnNumber:15},void 0))},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/frameworks/BMCRenderer.tsx",lineNumber:124,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/frameworks/BMCRenderer.tsx",lineNumber:120,columnNumber:9},void 0),Array.isArray(e.blocks)&&e.blocks.length>0&&t.jsxDEV("div",{className:"space-y-6",children:[t.jsxDEV("h2",{className:"text-2xl font-bold",children:"Canvas Components"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/frameworks/BMCRenderer.tsx",lineNumber:145,columnNumber:9},void 0),t.jsxDEV("div",{className:"grid gap-6 md:grid-cols-2",children:e.blocks.map((n,s)=>{const a=r(n.confidence);return t.jsxDEV(Z,{"data-testid":`card-bmc-block-${s}`,children:[t.jsxDEV(de,{children:[t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV(pe,{className:"text-lg",children:n.blockName},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/frameworks/BMCRenderer.tsx",lineNumber:154,columnNumber:21},void 0),t.jsxDEV(se,{variant:a.variant,children:a.label},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/frameworks/BMCRenderer.tsx",lineNumber:155,columnNumber:21},void 0)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/frameworks/BMCRenderer.tsx",lineNumber:153,columnNumber:19},void 0),t.jsxDEV(He,{className:"mt-2",children:n.description},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/frameworks/BMCRenderer.tsx",lineNumber:159,columnNumber:19},void 0)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/frameworks/BMCRenderer.tsx",lineNumber:152,columnNumber:17},void 0),t.jsxDEV(te,{className:"space-y-4",children:[Array.isArray(n.keyFindings)&&n.keyFindings.length>0&&t.jsxDEV("div",{children:[t.jsxDEV("h4",{className:"font-semibold text-sm mb-2",children:"Key Findings"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/frameworks/BMCRenderer.tsx",lineNumber:164,columnNumber:21},void 0),t.jsxDEV("ul",{className:"list-disc list-inside space-y-1",children:n.keyFindings.map((l,c)=>t.jsxDEV("li",{className:"text-sm text-muted-foreground",children:l},c,!1,{fileName:"/home/runner/workspace/client/src/components/frameworks/BMCRenderer.tsx",lineNumber:167,columnNumber:25},void 0))},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/frameworks/BMCRenderer.tsx",lineNumber:165,columnNumber:21},void 0)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/frameworks/BMCRenderer.tsx",lineNumber:163,columnNumber:19},void 0),n.strategicImplications&&t.jsxDEV("div",{children:[t.jsxDEV("h4",{className:"font-semibold text-sm mb-2",children:"Strategic Implications"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/frameworks/BMCRenderer.tsx",lineNumber:175,columnNumber:21},void 0),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:n.strategicImplications},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/frameworks/BMCRenderer.tsx",lineNumber:176,columnNumber:21},void 0)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/frameworks/BMCRenderer.tsx",lineNumber:174,columnNumber:19},void 0),Array.isArray(n.identifiedGaps)&&n.identifiedGaps.length>0&&t.jsxDEV("div",{children:[t.jsxDEV("h4",{className:"font-semibold text-sm mb-2 text-amber-600",children:"Identified Gaps"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/frameworks/BMCRenderer.tsx",lineNumber:182,columnNumber:21},void 0),t.jsxDEV("ul",{className:"list-disc list-inside space-y-1",children:n.identifiedGaps.map((l,c)=>t.jsxDEV("li",{className:"text-sm text-amber-600",children:l},c,!1,{fileName:"/home/runner/workspace/client/src/components/frameworks/BMCRenderer.tsx",lineNumber:185,columnNumber:25},void 0))},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/frameworks/BMCRenderer.tsx",lineNumber:183,columnNumber:21},void 0)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/frameworks/BMCRenderer.tsx",lineNumber:181,columnNumber:19},void 0)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/frameworks/BMCRenderer.tsx",lineNumber:161,columnNumber:15},void 0)]},s,!0,{fileName:"/home/runner/workspace/client/src/components/frameworks/BMCRenderer.tsx",lineNumber:151,columnNumber:15},void 0)})},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/frameworks/BMCRenderer.tsx",lineNumber:147,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/frameworks/BMCRenderer.tsx",lineNumber:144,columnNumber:7},void 0),Array.isArray(e.criticalGaps)&&e.criticalGaps.length>0&&t.jsxDEV(Z,{children:[t.jsxDEV(de,{children:t.jsxDEV(pe,{className:"text-amber-600",children:"Critical Gaps to Address"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/frameworks/BMCRenderer.tsx",lineNumber:202,columnNumber:13},void 0)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/frameworks/BMCRenderer.tsx",lineNumber:201,columnNumber:11},void 0),t.jsxDEV(te,{children:t.jsxDEV("ul",{className:"list-disc list-inside space-y-2","data-testid":"list-critical-gaps",children:e.criticalGaps.map((n,s)=>t.jsxDEV("li",{className:"text-sm text-amber-600",children:n},s,!1,{fileName:"/home/runner/workspace/client/src/components/frameworks/BMCRenderer.tsx",lineNumber:207,columnNumber:17},void 0))},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/frameworks/BMCRenderer.tsx",lineNumber:205,columnNumber:13},void 0)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/frameworks/BMCRenderer.tsx",lineNumber:204,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/frameworks/BMCRenderer.tsx",lineNumber:200,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/frameworks/BMCRenderer.tsx",lineNumber:24,columnNumber:5},void 0)},Mae=[{key:"competitive_rivalry",label:"Competitive Rivalry"},{key:"supplier_power",label:"Supplier Power"},{key:"buyer_power",label:"Buyer Power"},{key:"threat_of_substitution",label:"Threat of Substitution"},{key:"threat_of_new_entry",label:"Threat of New Entry"}],X4=e=>{switch(e==null?void 0:e.toLowerCase()){case"high":return"destructive";case"medium":return"default";case"low":return"secondary";default:return"outline"}},Tae=e=>{switch(e==null?void 0:e.toLowerCase()){case"high":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"medium":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case"low":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}},Aae=({data:e})=>t.jsxDEV("div",{className:"space-y-6","data-testid":"framework-porters",children:t.jsxDEV(Z,{children:[t.jsxDEV(de,{children:[t.jsxDEV(pe,{children:"Porter's Five Forces Analysis"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/frameworks/PortersRenderer.tsx",lineNumber:40,columnNumber:11},void 0),t.jsxDEV(He,{children:["Overall Market Attractiveness: ",t.jsxDEV(se,{variant:X4(e.overall_attractiveness),"data-testid":"badge-overall-attractiveness",children:e.overall_attractiveness},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/frameworks/PortersRenderer.tsx",lineNumber:42,columnNumber:44},void 0)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/frameworks/PortersRenderer.tsx",lineNumber:41,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/frameworks/PortersRenderer.tsx",lineNumber:39,columnNumber:9},void 0),t.jsxDEV(te,{className:"space-y-6",children:[Mae.map(({key:r,label:n})=>{const s=e[r];return!s||r==="overall_attractiveness"||r==="key_strategic_priorities"?null:t.jsxDEV("div",{className:"space-y-3 border-l-4 border-primary/20 pl-4","data-testid":`section-porter-${r}`,children:[t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("h4",{className:"font-semibold text-lg",children:n},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/frameworks/PortersRenderer.tsx",lineNumber:55,columnNumber:19},void 0),t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(se,{variant:X4(s.level),"data-testid":`badge-level-${r}`,children:s.level},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/frameworks/PortersRenderer.tsx",lineNumber:57,columnNumber:21},void 0),s.confidence&&t.jsxDEV(se,{className:Tae(s.confidence),"data-testid":`badge-confidence-${r}`,children:[s.confidence," confidence"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/frameworks/PortersRenderer.tsx",lineNumber:59,columnNumber:23},void 0)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/frameworks/PortersRenderer.tsx",lineNumber:56,columnNumber:19},void 0)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/frameworks/PortersRenderer.tsx",lineNumber:54,columnNumber:17},void 0),s.insufficientData&&t.jsxDEV(it,{variant:"default",className:"border-yellow-500","data-testid":`alert-insufficient-${r}`,children:[t.jsxDEV(qr,{className:"h-4 w-4 text-yellow-600"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/frameworks/PortersRenderer.tsx",lineNumber:68,columnNumber:21},void 0),t.jsxDEV(er,{children:"Insufficient Data"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/frameworks/PortersRenderer.tsx",lineNumber:69,columnNumber:21},void 0),t.jsxDEV(at,{children:"Limited research data available for this force. Analysis may be less comprehensive."},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/frameworks/PortersRenderer.tsx",lineNumber:70,columnNumber:21},void 0)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/frameworks/PortersRenderer.tsx",lineNumber:67,columnNumber:19},void 0),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV("p",{className:"text-sm font-medium text-muted-foreground",children:"Key Factors:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/frameworks/PortersRenderer.tsx",lineNumber:77,columnNumber:19},void 0),t.jsxDEV("ul",{className:"space-y-2",children:s.factors.map((a,l)=>{const c=typeof a=="string"?a:a.factor,u=typeof a=="object"?a.citations:[];return t.jsxDEV("li",{className:"text-sm",children:t.jsxDEV("div",{className:"flex items-start gap-2",children:[t.jsxDEV("span",{className:"flex-1",children:c},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/frameworks/PortersRenderer.tsx",lineNumber:86,columnNumber:29},void 0),u&&u.length>0&&t.jsxDEV("div",{className:"flex gap-1",children:u.map((d,h)=>t.jsxDEV("a",{href:d,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300","data-testid":`link-citation-${r}-${l}-${h}`,children:t.jsxDEV(Vi,{className:"h-3 w-3"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/frameworks/PortersRenderer.tsx",lineNumber:98,columnNumber:37},void 0)},h,!1,{fileName:"/home/runner/workspace/client/src/components/frameworks/PortersRenderer.tsx",lineNumber:90,columnNumber:35},void 0))},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/frameworks/PortersRenderer.tsx",lineNumber:88,columnNumber:31},void 0)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/frameworks/PortersRenderer.tsx",lineNumber:85,columnNumber:27},void 0)},l,!1,{fileName:"/home/runner/workspace/client/src/components/frameworks/PortersRenderer.tsx",lineNumber:84,columnNumber:25},void 0)})},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/frameworks/PortersRenderer.tsx",lineNumber:78,columnNumber:19},void 0)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/frameworks/PortersRenderer.tsx",lineNumber:76,columnNumber:17},void 0),t.jsxDEV("div",{className:"bg-secondary/50 p-3 rounded-md",children:t.jsxDEV("p",{className:"text-sm",children:[t.jsxDEV("span",{className:"font-medium",children:"Strategic Response: "},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/frameworks/PortersRenderer.tsx",lineNumber:112,columnNumber:21},void 0),s.strategic_response]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/frameworks/PortersRenderer.tsx",lineNumber:111,columnNumber:19},void 0)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/frameworks/PortersRenderer.tsx",lineNumber:110,columnNumber:17},void 0)]},r,!0,{fileName:"/home/runner/workspace/client/src/components/frameworks/PortersRenderer.tsx",lineNumber:53,columnNumber:15},void 0)}),e.key_strategic_priorities&&e.key_strategic_priorities.length>0&&t.jsxDEV("div",{className:"pt-4 border-t",children:[t.jsxDEV("h4",{className:"font-semibold mb-2",children:"Key Strategic Priorities"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/frameworks/PortersRenderer.tsx",lineNumber:122,columnNumber:15},void 0),t.jsxDEV("ul",{className:"list-decimal list-inside space-y-1",children:e.key_strategic_priorities.map((r,n)=>t.jsxDEV("li",{className:"text-muted-foreground","data-testid":`text-priority-${n}`,children:r},n,!1,{fileName:"/home/runner/workspace/client/src/components/frameworks/PortersRenderer.tsx",lineNumber:125,columnNumber:19},void 0))},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/frameworks/PortersRenderer.tsx",lineNumber:123,columnNumber:15},void 0)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/frameworks/PortersRenderer.tsx",lineNumber:121,columnNumber:13},void 0)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/frameworks/PortersRenderer.tsx",lineNumber:47,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/frameworks/PortersRenderer.tsx",lineNumber:38,columnNumber:7},void 0)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/frameworks/PortersRenderer.tsx",lineNumber:37,columnNumber:5},void 0),_ae=({data:e})=>{const r=d=>{if(!d)return"";if(typeof d=="string")return d;if(typeof d=="number")return String(d);if(typeof d=="object"){if("text"in d)return r(d.text);if("content"in d)return r(d.content);if("description"in d)return r(d.description);if("answer"in d)return r(d.answer);if("value"in d)return r(d.value);try{return JSON.stringify(d,null,2)}catch{return"[Complex data]"}}return String(d)},n=d=>d?typeof d=="object"&&"question"in d&&"answer"in d?{question:r(d.question),answer:r(d.answer)}:typeof d=="string"?{question:"",answer:d}:{question:"",answer:r(d)}:{question:"",answer:""},s=n(e.why_1),a=n(e.why_2),l=n(e.why_3),c=n(e.why_4),u=n(e.why_5);return t.jsxDEV(Z,{"data-testid":"framework-five-whys",children:[t.jsxDEV(de,{children:t.jsxDEV("div",{className:"flex items-center justify-between",children:t.jsxDEV("div",{children:[t.jsxDEV(pe,{className:"flex items-center gap-2",children:[t.jsxDEV("span",{children:""},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/frameworks/FiveWhysRenderer.tsx",lineNumber:56,columnNumber:15},void 0),t.jsxDEV("span",{children:"Five Whys Analysis"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/frameworks/FiveWhysRenderer.tsx",lineNumber:57,columnNumber:15},void 0)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/frameworks/FiveWhysRenderer.tsx",lineNumber:55,columnNumber:13},void 0),t.jsxDEV(He,{children:"Root Cause Investigation"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/frameworks/FiveWhysRenderer.tsx",lineNumber:59,columnNumber:13},void 0)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/frameworks/FiveWhysRenderer.tsx",lineNumber:54,columnNumber:11},void 0)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/frameworks/FiveWhysRenderer.tsx",lineNumber:53,columnNumber:9},void 0)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/frameworks/FiveWhysRenderer.tsx",lineNumber:52,columnNumber:7},void 0),t.jsxDEV(te,{className:"space-y-6",children:t.jsxDEV("div",{className:"space-y-4",children:[t.jsxDEV("div",{children:[t.jsxDEV("h3",{className:"font-semibold mb-2",children:"Problem Statement"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/frameworks/FiveWhysRenderer.tsx",lineNumber:66,columnNumber:13},void 0),t.jsxDEV("p",{className:"text-muted-foreground",children:String(e.problem_statement||"")},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/frameworks/FiveWhysRenderer.tsx",lineNumber:67,columnNumber:13},void 0)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/frameworks/FiveWhysRenderer.tsx",lineNumber:65,columnNumber:11},void 0),t.jsxDEV("div",{className:"space-y-3",children:[t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"font-medium text-sm mb-1",children:["Why #1: ",s.question]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/frameworks/FiveWhysRenderer.tsx",lineNumber:72,columnNumber:15},void 0),t.jsxDEV("p",{className:"text-muted-foreground text-sm pl-4",children:s.answer},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/frameworks/FiveWhysRenderer.tsx",lineNumber:73,columnNumber:15},void 0)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/frameworks/FiveWhysRenderer.tsx",lineNumber:71,columnNumber:13},void 0),t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"font-medium text-sm mb-1",children:["Why #2: ",a.question]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/frameworks/FiveWhysRenderer.tsx",lineNumber:76,columnNumber:15},void 0),t.jsxDEV("p",{className:"text-muted-foreground text-sm pl-4",children:a.answer},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/frameworks/FiveWhysRenderer.tsx",lineNumber:77,columnNumber:15},void 0)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/frameworks/FiveWhysRenderer.tsx",lineNumber:75,columnNumber:13},void 0),t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"font-medium text-sm mb-1",children:["Why #3: ",l.question]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/frameworks/FiveWhysRenderer.tsx",lineNumber:80,columnNumber:15},void 0),t.jsxDEV("p",{className:"text-muted-foreground text-sm pl-4",children:l.answer},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/frameworks/FiveWhysRenderer.tsx",lineNumber:81,columnNumber:15},void 0)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/frameworks/FiveWhysRenderer.tsx",lineNumber:79,columnNumber:13},void 0),t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"font-medium text-sm mb-1",children:["Why #4: ",c.question]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/frameworks/FiveWhysRenderer.tsx",lineNumber:84,columnNumber:15},void 0),t.jsxDEV("p",{className:"text-muted-foreground text-sm pl-4",children:c.answer},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/frameworks/FiveWhysRenderer.tsx",lineNumber:85,columnNumber:15},void 0)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/frameworks/FiveWhysRenderer.tsx",lineNumber:83,columnNumber:13},void 0),t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"font-medium text-sm mb-1",children:["Why #5: ",u.question]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/frameworks/FiveWhysRenderer.tsx",lineNumber:88,columnNumber:15},void 0),t.jsxDEV("p",{className:"text-muted-foreground text-sm pl-4",children:u.answer},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/frameworks/FiveWhysRenderer.tsx",lineNumber:89,columnNumber:15},void 0)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/frameworks/FiveWhysRenderer.tsx",lineNumber:87,columnNumber:13},void 0)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/frameworks/FiveWhysRenderer.tsx",lineNumber:70,columnNumber:11},void 0),t.jsxDEV("div",{className:"bg-primary/10 border-l-4 border-primary p-4",children:[t.jsxDEV("h3",{className:"font-semibold mb-2",children:"Root Cause"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/frameworks/FiveWhysRenderer.tsx",lineNumber:94,columnNumber:13},void 0),t.jsxDEV("p",{className:"text-foreground",children:String(e.root_cause||"")},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/frameworks/FiveWhysRenderer.tsx",lineNumber:95,columnNumber:13},void 0)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/frameworks/FiveWhysRenderer.tsx",lineNumber:93,columnNumber:11},void 0),e.strategic_implications&&e.strategic_implications.length>0&&t.jsxDEV("div",{children:[t.jsxDEV("h3",{className:"font-semibold mb-2",children:"Strategic Implications"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/frameworks/FiveWhysRenderer.tsx",lineNumber:100,columnNumber:15},void 0),t.jsxDEV("ul",{className:"list-disc list-inside space-y-1",children:e.strategic_implications.map((d,h)=>t.jsxDEV("li",{className:"text-sm text-muted-foreground",children:String(d||"")},h,!1,{fileName:"/home/runner/workspace/client/src/components/frameworks/FiveWhysRenderer.tsx",lineNumber:103,columnNumber:19},void 0))},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/frameworks/FiveWhysRenderer.tsx",lineNumber:101,columnNumber:15},void 0)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/frameworks/FiveWhysRenderer.tsx",lineNumber:99,columnNumber:13},void 0)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/frameworks/FiveWhysRenderer.tsx",lineNumber:64,columnNumber:9},void 0)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/frameworks/FiveWhysRenderer.tsx",lineNumber:63,columnNumber:7},void 0)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/frameworks/FiveWhysRenderer.tsx",lineNumber:51,columnNumber:5},void 0)},oF={bmc:Rae,porters:Aae,five_whys:_ae};function Fae(e){return oF[e]||null}function Q4(e){return e in oF}const IE={five_whys:{name:"five_whys",displayName:"Five Whys",description:"Root cause analysis through iterative questioning",icon:"",estimatedDuration:"2-3 minutes"},bmc:{name:"bmc",displayName:"Business Model Canvas",description:"Comprehensive business model design and validation",icon:"",estimatedDuration:"5-7 minutes"},porters:{name:"porters",displayName:"Porter's Five Forces",description:"Industry competitive dynamics analysis",icon:"",estimatedDuration:"4-6 minutes"},pestle:{name:"pestle",displayName:"PESTLE Analysis",description:"External macro-environmental factors",icon:"",estimatedDuration:"5-7 minutes"},swot:{name:"swot",displayName:"SWOT Analysis",description:"Strengths, weaknesses, opportunities, and threats",icon:"",estimatedDuration:"3-5 minutes"},ansoff:{name:"ansoff",displayName:"Ansoff Matrix",description:"Growth strategy matrix for market/product expansion",icon:"",estimatedDuration:"3-4 minutes"},blue_ocean:{name:"blue_ocean",displayName:"Blue Ocean Strategy",description:"Value innovation and uncontested market space",icon:"",estimatedDuration:"6-8 minutes"}};function Iae(e){var n,s,a,l,c,u;if(!e)return[];if(e.frameworks&&Array.isArray(e.frameworks))return e.frameworks;const r=[];if(e.five_whys&&r.push({framework:"five_whys",...e.five_whys}),e.porters_five_forces||(n=e.enhanced_analysis)!=null&&n.portersAnalysis){const d=((s=e.enhanced_analysis)==null?void 0:s.portersAnalysis)||e.porters_five_forces;r.push({framework:"porters",...d,recommendations:(a=e.enhanced_analysis)==null?void 0:a.recommendations,citations:(l=e.enhanced_analysis)==null?void 0:l.citations,confidenceScore:(c=e.enhanced_analysis)==null?void 0:c.confidenceScore,confidenceExplanation:(u=e.enhanced_analysis)==null?void 0:u.confidenceExplanation})}return e.bmc_research&&r.push({framework:"bmc",...e.bmc_research}),r}function Oae(){var j,P;const[,e]=Xn("/strategic-consultant/results/:sessionId/:versionNumber"),[,r]=or(),{runningJobs:n}=mV(),s=(e==null?void 0:e.sessionId)||"";let a=1;if(e!=null&&e.versionNumber)a=parseInt(e.versionNumber);else if(s){const w=localStorage.getItem(`strategic-versionNumber-${s}`)||localStorage.getItem(`journey-version-${s}`);w&&(a=parseInt(w))}const{data:l,isLoading:c,error:u}=yt({queryKey:["/api/strategic-consultant/versions",s,a],enabled:!!s}),d=l==null?void 0:l.version,h=Iae(d==null?void 0:d.analysis),g=h.filter(w=>Q4(w.framework)),p=h.filter(w=>!Q4(w.framework)),N=d==null?void 0:d.id,{data:b}=yt({queryKey:["/api/strategy-workspace/epm"],enabled:!!N}),D=(j=b==null?void 0:b.programs)==null?void 0:j.find(w=>w.strategyVersionId===N),E=n.some(w=>w.jobType==="epm_generation"&&w.sessionId===s);return c?t.jsxDEV(st,{title:"Strategy Analysis Results",subtitle:"Loading framework analysis",children:t.jsxDEV("div",{className:"flex items-center justify-center py-12",children:t.jsxDEV("div",{className:"text-center space-y-4",children:[t.jsxDEV(lt,{className:"h-8 w-8 animate-spin mx-auto text-primary"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/StrategyResultsPage.tsx",lineNumber:146,columnNumber:13},this),t.jsxDEV("p",{className:"text-muted-foreground",children:"Loading analysis results..."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/StrategyResultsPage.tsx",lineNumber:147,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/StrategyResultsPage.tsx",lineNumber:145,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/StrategyResultsPage.tsx",lineNumber:144,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/StrategyResultsPage.tsx",lineNumber:140,columnNumber:7},this):u||!l?t.jsxDEV(st,{title:"Strategy Analysis Results",subtitle:"Error loading results",children:t.jsxDEV("div",{className:"max-w-2xl mx-auto py-12",children:t.jsxDEV(it,{variant:"destructive",children:[t.jsxDEV(Dt,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/StrategyResultsPage.tsx",lineNumber:162,columnNumber:13},this),t.jsxDEV(er,{children:"Error Loading Results"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/StrategyResultsPage.tsx",lineNumber:163,columnNumber:13},this),t.jsxDEV(at,{children:u instanceof Error?u.message:"Failed to load strategy analysis"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/StrategyResultsPage.tsx",lineNumber:164,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/StrategyResultsPage.tsx",lineNumber:161,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/StrategyResultsPage.tsx",lineNumber:160,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/StrategyResultsPage.tsx",lineNumber:156,columnNumber:7},this):h.length===0?t.jsxDEV(st,{title:"Strategy Analysis Results",subtitle:"No analysis found",children:t.jsxDEV("div",{className:"max-w-2xl mx-auto py-12",children:[t.jsxDEV(it,{children:[t.jsxDEV(Dt,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/StrategyResultsPage.tsx",lineNumber:181,columnNumber:13},this),t.jsxDEV(er,{children:"No Analysis Found"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/StrategyResultsPage.tsx",lineNumber:182,columnNumber:13},this),t.jsxDEV(at,{children:"This version does not contain any framework analysis yet. The analysis may still be running or might have failed."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/StrategyResultsPage.tsx",lineNumber:183,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/StrategyResultsPage.tsx",lineNumber:180,columnNumber:11},this),t.jsxDEV(me,{variant:"outline",className:"mt-4",onClick:()=>r("/strategic-consultant"),"data-testid":"button-back",children:[t.jsxDEV(jn,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/StrategyResultsPage.tsx",lineNumber:194,columnNumber:13},this),"Back to Strategic Consultant"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/StrategyResultsPage.tsx",lineNumber:188,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/StrategyResultsPage.tsx",lineNumber:179,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/StrategyResultsPage.tsx",lineNumber:175,columnNumber:7},this):t.jsxDEV(st,{title:"Strategy Analysis Results",subtitle:`Version ${a}  ${h.length} framework${h.length>1?"s":""}`,children:t.jsxDEV("div",{className:"max-w-6xl mx-auto space-y-8 py-6",children:[t.jsxDEV(Z,{"data-testid":"card-results-header",children:[t.jsxDEV(de,{children:t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("div",{children:[t.jsxDEV(pe,{children:"Strategic Analysis Complete"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/StrategyResultsPage.tsx",lineNumber:213,columnNumber:17},this),t.jsxDEV(He,{children:["Analyzed with ",h.map(w=>{var k;return((k=IE[w.framework])==null?void 0:k.displayName)||w.framework}).join(", ")]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/StrategyResultsPage.tsx",lineNumber:214,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/StrategyResultsPage.tsx",lineNumber:212,columnNumber:15},this),t.jsxDEV("div",{className:"flex gap-2",children:h.map(w=>{var k,V;return t.jsxDEV(se,{variant:"secondary","data-testid":`badge-framework-${w.framework}`,children:[((k=IE[w.framework])==null?void 0:k.icon)||""," ",((V=IE[w.framework])==null?void 0:V.displayName)||w.framework]},w.framework,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/StrategyResultsPage.tsx",lineNumber:220,columnNumber:19},this)})},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/StrategyResultsPage.tsx",lineNumber:218,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/StrategyResultsPage.tsx",lineNumber:211,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/StrategyResultsPage.tsx",lineNumber:210,columnNumber:11},this),((P=d==null?void 0:d.analysis)==null?void 0:P.executiveSummary)&&t.jsxDEV(te,{children:t.jsxDEV("p",{className:"text-muted-foreground",children:d.analysis.executiveSummary},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/StrategyResultsPage.tsx",lineNumber:229,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/StrategyResultsPage.tsx",lineNumber:228,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/StrategyResultsPage.tsx",lineNumber:209,columnNumber:9},this),t.jsxDEV(V0,{},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/StrategyResultsPage.tsx",lineNumber:234,columnNumber:9},this),t.jsxDEV("div",{className:"space-y-8",children:g.map(w=>{const k=Fae(w.framework);return k?t.jsxDEV("div",{"data-testid":`framework-section-${w.framework}`,children:t.jsxDEV(k,{data:w,sessionId:s,versionNumber:a},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/StrategyResultsPage.tsx",lineNumber:244,columnNumber:17},this)},w.framework,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/StrategyResultsPage.tsx",lineNumber:243,columnNumber:15},this):null})},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/StrategyResultsPage.tsx",lineNumber:237,columnNumber:9},this),p.length>0&&t.jsxDEV(it,{children:[t.jsxDEV(Dt,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/StrategyResultsPage.tsx",lineNumber:257,columnNumber:13},this),t.jsxDEV(er,{children:"Additional Frameworks Pending"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/StrategyResultsPage.tsx",lineNumber:258,columnNumber:13},this),t.jsxDEV(at,{children:["The following frameworks are not yet available for display: "," ",p.map(w=>w.framework).join(", ")]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/StrategyResultsPage.tsx",lineNumber:259,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/StrategyResultsPage.tsx",lineNumber:256,columnNumber:11},this),t.jsxDEV("div",{className:"space-y-4",children:[D&&t.jsxDEV("div",{className:"p-6 border-2 border-green-500 rounded-lg bg-green-50 dark:bg-green-950",children:[t.jsxDEV("h3",{className:"text-lg font-semibold mb-2 text-green-700 dark:text-green-300",children:" EPM Program Generated"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/StrategyResultsPage.tsx",lineNumber:271,columnNumber:15},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground mb-4",children:"Your complete EPM program is ready to view and edit"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/StrategyResultsPage.tsx",lineNumber:272,columnNumber:15},this),t.jsxDEV(me,{size:"lg",onClick:()=>r(`/strategy-workspace/epm/${D.id}`),"data-testid":"button-view-epm-program",className:"w-full bg-green-600 hover:bg-green-700 text-sm md:text-base px-3 py-2 sm:px-4 sm:py-2",children:t.jsxDEV("span",{className:"truncate",children:"View EPM Program"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/StrategyResultsPage.tsx",lineNumber:281,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/StrategyResultsPage.tsx",lineNumber:275,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/StrategyResultsPage.tsx",lineNumber:270,columnNumber:13},this),!D&&E&&t.jsxDEV("div",{className:"p-6 border-2 border-blue-500 rounded-lg bg-blue-50 dark:bg-blue-950",children:[t.jsxDEV("h3",{className:"text-lg font-semibold mb-2 text-blue-700 dark:text-blue-300 flex items-center gap-2",children:[t.jsxDEV(lt,{className:"h-5 w-5 animate-spin"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/StrategyResultsPage.tsx",lineNumber:290,columnNumber:17},this),"EPM Generation In Progress"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/StrategyResultsPage.tsx",lineNumber:289,columnNumber:15},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground mb-4",children:"Your EPM program is being generated. You can safely navigate away - we'll notify you when it's ready."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/StrategyResultsPage.tsx",lineNumber:293,columnNumber:15},this),t.jsxDEV(me,{size:"lg",onClick:()=>r("/strategy-workspace/programs"),variant:"outline","data-testid":"button-view-programs-in-progress",className:"w-full text-sm md:text-base px-3 py-2 sm:px-4 sm:py-2",children:t.jsxDEV("span",{className:"truncate",children:"View Programs & Running Jobs"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/StrategyResultsPage.tsx",lineNumber:303,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/StrategyResultsPage.tsx",lineNumber:296,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/StrategyResultsPage.tsx",lineNumber:288,columnNumber:13},this),!D&&!E&&t.jsxDEV("div",{className:"p-6 border-2 border-primary rounded-lg bg-primary/5",children:[t.jsxDEV("h3",{className:"text-lg font-semibold mb-2",children:"Next Step: Strategic Decision Making"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/StrategyResultsPage.tsx",lineNumber:311,columnNumber:15},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground mb-4",children:"Review the analysis above and make key strategic decisions to generate your complete EPM program"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/StrategyResultsPage.tsx",lineNumber:312,columnNumber:15},this),t.jsxDEV(me,{size:"lg",onClick:()=>r(`/strategy-workspace/decisions/${s}/${a}`),"data-testid":"button-review-decide",className:"w-full text-sm md:text-base px-3 py-2 sm:px-4 sm:py-2",children:t.jsxDEV("span",{className:"truncate",children:"Review Results & Make Strategic Decisions"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/StrategyResultsPage.tsx",lineNumber:321,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/StrategyResultsPage.tsx",lineNumber:315,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/StrategyResultsPage.tsx",lineNumber:310,columnNumber:13},this),t.jsxDEV("div",{className:"flex flex-col sm:flex-row gap-4",children:t.jsxDEV(me,{variant:"outline",onClick:()=>r("/strategic-consultant"),"data-testid":"button-new-analysis",className:"w-full sm:w-auto text-sm md:text-base px-3 py-2 sm:px-4 sm:py-2",children:t.jsxDEV("span",{className:"truncate",children:"Start New Analysis"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/StrategyResultsPage.tsx",lineNumber:333,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/StrategyResultsPage.tsx",lineNumber:327,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/StrategyResultsPage.tsx",lineNumber:326,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/StrategyResultsPage.tsx",lineNumber:267,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/StrategyResultsPage.tsx",lineNumber:207,columnNumber:7},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/StrategyResultsPage.tsx",lineNumber:203,columnNumber:5},this)}const _h=G8,Fh=LV,Ih=BV,yb=e=>{switch(e==null?void 0:e.toLowerCase()){case"high":return"destructive";case"medium":return"default";case"low":return"secondary";default:return"outline"}},Z4=e=>{switch(e==null?void 0:e.toLowerCase()){case"high":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"medium":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case"low":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}};function Lae(){const[,e]=Xn("/strategic-consultant/analysis/:sessionId"),[,r]=or(),{toast:n}=ur(),s=e==null?void 0:e.sessionId,[a,l]=v.useState({}),[c,u]=v.useState(null),{data:d,isLoading:h,error:g}=yt({queryKey:["/api/strategic-consultant/versions",s,1],enabled:!!s}),p=Qr({mutationFn:async()=>{const w=localStorage.getItem(`strategic-rootCause-${s}`)||"",k=localStorage.getItem(`strategic-whysPath-${s}`)||"[]",V=JSON.parse(k);if(!w||!V.length)throw new Error("Missing root cause or whys path");return await(await Zt("POST","/api/strategic-consultant/analyze-enhanced",{sessionId:s,rootCause:w,whysPath:V,versionNumber:d==null?void 0:d.version.versionNumber})).json()},onSuccess:w=>{u(w.analysis),n({title:"Research-backed analysis complete",description:`Confidence score: ${w.analysis.confidenceScore}%`})},onError:w=>{console.error("Enhanced analysis failed:",w),n({title:"Enhanced analysis failed",description:"Falling back to standard analysis",variant:"destructive"})}});v.useEffect(()=>{var w,k,V,S;(k=(w=d==null?void 0:d.version)==null?void 0:w.analysis)!=null&&k.research&&!d.version.analysis.enhanced_analysis&&!c?p.mutate():(S=(V=d==null?void 0:d.version)==null?void 0:V.analysis)!=null&&S.enhanced_analysis&&u(d.version.analysis.enhanced_analysis)},[d]);const N=w=>{l(k=>({...k,[w]:!k[w]}))};if(!s)return t.jsxDEV("div",{className:"min-h-screen bg-background flex items-center justify-center p-8",children:t.jsxDEV(it,{variant:"destructive",className:"max-w-md",children:[t.jsxDEV(Dt,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:173,columnNumber:11},this),t.jsxDEV(er,{children:"Invalid Session"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:174,columnNumber:11},this),t.jsxDEV(at,{children:"No session ID provided in URL"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:175,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:172,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:171,columnNumber:7},this);if(h||p.isPending)return t.jsxDEV("div",{className:"min-h-screen bg-background flex items-center justify-center",children:t.jsxDEV("div",{className:"text-center space-y-4",children:[t.jsxDEV(lt,{className:"h-8 w-8 animate-spin mx-auto text-primary"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:185,columnNumber:11},this),t.jsxDEV("p",{className:"text-muted-foreground",children:p.isPending?"Generating research-backed analysis...":"Loading analysis..."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:186,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:184,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:183,columnNumber:7},this);if(g||!d||!d.version||!d.version.analysis)return t.jsxDEV("div",{className:"min-h-screen bg-background flex items-center justify-center p-8",children:t.jsxDEV(it,{variant:"destructive",className:"max-w-md",children:[t.jsxDEV(Dt,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:198,columnNumber:11},this),t.jsxDEV(er,{children:"Analysis Not Found"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:199,columnNumber:11},this),t.jsxDEV(at,{children:(g==null?void 0:g.message)||"Unable to load analysis. The session may not exist or analysis may have failed."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:200,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:197,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:196,columnNumber:7},this);const b=d.version.analysis,D=!!c,E=!!(b!=null&&b.five_whys),j=!!(b!=null&&b.porters_five_forces),P=[{key:"competitive_rivalry",label:"Competitive Rivalry"},{key:"supplier_power",label:"Supplier Power"},{key:"buyer_power",label:"Buyer Power"},{key:"threat_of_substitution",label:"Threat of Substitution"},{key:"threat_of_new_entry",label:"Threat of New Entry"}];return t.jsxDEV(st,{title:"Strategic Analysis",subtitle:D?"Research-backed AI strategic insights":"AI-powered strategic insights and recommendations",children:t.jsxDEV("div",{className:"max-w-6xl mx-auto space-y-4 sm:space-y-6 p-4 sm:p-0",children:[t.jsxDEV("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[t.jsxDEV("div",{className:"flex flex-wrap items-center gap-2",children:[t.jsxDEV("p",{className:"text-sm text-muted-foreground break-words","data-testid":"text-session-id",children:["Session: ",s]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:229,columnNumber:13},this),D&&t.jsxDEV(se,{variant:"default",className:"bg-blue-600","data-testid":"badge-research-backed",children:[t.jsxDEV(tr,{className:"h-3 w-3 mr-1"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:232,columnNumber:17},this),"Research-backed Analysis"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:231,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:228,columnNumber:11},this),t.jsxDEV(me,{onClick:()=>r(`/strategic-consultant/decisions/${s}/${d.version.versionNumber}`),"data-testid":"button-proceed-decisions",className:"w-full sm:w-auto",size:"lg",children:["Proceed to Decisions ",t.jsxDEV(ar,{className:"ml-2 h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:243,columnNumber:34},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:237,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:227,columnNumber:9},this),D&&c&&t.jsxDEV(t.Fragment,{children:[t.jsxDEV(Z,{children:[t.jsxDEV(de,{children:t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV(pe,{children:"Executive Summary"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:252,columnNumber:19},this),t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV("span",{className:"text-sm text-muted-foreground",children:"Overall Confidence:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:254,columnNumber:21},this),t.jsxDEV(se,{className:Z4(c.confidenceScore>=75?"high":c.confidenceScore>=50?"medium":"low"),"data-testid":"badge-confidence-overall",children:[c.confidenceScore,"%"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:255,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:253,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:251,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:250,columnNumber:15},this),t.jsxDEV(te,{children:[t.jsxDEV("p",{className:"text-lg mb-4","data-testid":"text-executive-summary",children:c.executiveSummary},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:265,columnNumber:17},this),t.jsxDEV("div",{className:"mt-2",children:t.jsxDEV(Ln,{value:c.confidenceScore,className:"h-2","data-testid":"progress-confidence"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:267,columnNumber:19},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:266,columnNumber:17},this),c.confidenceExplanation&&t.jsxDEV(it,{className:"mt-4 bg-muted/50","data-testid":"alert-confidence-explanation",children:[t.jsxDEV(er,{className:"flex items-center gap-2",children:[t.jsxDEV(qr,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:272,columnNumber:23},this),"Confidence Assessment"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:271,columnNumber:21},this),t.jsxDEV(at,{className:"mt-2 whitespace-pre-line text-sm",children:c.confidenceExplanation},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:275,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:270,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:264,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:249,columnNumber:13},this),t.jsxDEV(Z,{children:[t.jsxDEV(de,{children:[t.jsxDEV(pe,{children:"Porter's Five Forces Analysis (Research-backed)"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:285,columnNumber:17},this),t.jsxDEV(He,{children:["Overall Market Attractiveness: ",t.jsxDEV(se,{variant:yb(c.portersAnalysis.overall_attractiveness),"data-testid":"badge-overall-attractiveness",children:c.portersAnalysis.overall_attractiveness},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:287,columnNumber:50},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:286,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:284,columnNumber:15},this),t.jsxDEV(te,{className:"space-y-6",children:P.map(({key:w,label:k})=>{const V=c.portersAnalysis[w];return t.jsxDEV("div",{className:"space-y-3 border-l-4 border-primary/20 pl-4","data-testid":`section-porter-${w}`,children:[t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("h4",{className:"font-semibold text-lg",children:k},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:298,columnNumber:25},this),t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(se,{variant:yb(V.level),"data-testid":`badge-level-${w}`,children:V.level},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:300,columnNumber:27},this),t.jsxDEV(se,{className:Z4(V.confidence),"data-testid":`badge-confidence-${w}`,children:[V.confidence," confidence"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:301,columnNumber:27},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:299,columnNumber:25},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:297,columnNumber:23},this),V.insufficientData&&t.jsxDEV(it,{variant:"default",className:"border-yellow-500","data-testid":`alert-insufficient-${w}`,children:[t.jsxDEV(qr,{className:"h-4 w-4 text-yellow-600"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:309,columnNumber:27},this),t.jsxDEV(er,{children:"Insufficient Data"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:310,columnNumber:27},this),t.jsxDEV(at,{children:"Limited research data available for this force. Analysis may be less comprehensive."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:311,columnNumber:27},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:308,columnNumber:25},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV("p",{className:"text-sm font-medium text-muted-foreground",children:"Key Factors:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:318,columnNumber:25},this),t.jsxDEV("ul",{className:"space-y-2",children:V.factors.map((S,R)=>t.jsxDEV("li",{className:"text-sm",children:t.jsxDEV("div",{className:"flex items-start gap-2",children:[t.jsxDEV("span",{className:"flex-1",children:S.factor},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:323,columnNumber:33},this),t.jsxDEV("div",{className:"flex gap-1",children:(S.citations||[]).map((M,T)=>t.jsxDEV("a",{href:M,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300","data-testid":`link-citation-${w}-${R}-${T}`,children:t.jsxDEV(Vi,{className:"h-3 w-3"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:334,columnNumber:39},this)},T,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:326,columnNumber:37},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:324,columnNumber:33},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:322,columnNumber:31},this)},R,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:321,columnNumber:29},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:319,columnNumber:25},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:317,columnNumber:23},this),t.jsxDEV("div",{className:"bg-secondary/50 p-3 rounded-md",children:t.jsxDEV("p",{className:"text-sm",children:[t.jsxDEV("span",{className:"font-medium",children:"Strategic Response: "},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:346,columnNumber:27},this),V.strategic_response]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:345,columnNumber:25},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:344,columnNumber:23},this)]},w,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:296,columnNumber:21},this)})},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:292,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:283,columnNumber:13},this),t.jsxDEV(Z,{children:[t.jsxDEV(de,{children:[t.jsxDEV(pe,{children:"Strategic Recommendations"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:358,columnNumber:17},this),t.jsxDEV(He,{children:"Research-grounded actionable recommendations"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:359,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:357,columnNumber:15},this),t.jsxDEV(te,{children:t.jsxDEV("div",{className:"space-y-4",children:c.recommendations.map((w,k)=>t.jsxDEV("div",{className:"border rounded-lg p-4","data-testid":`recommendation-${k}`,children:t.jsxDEV("div",{className:"flex items-start justify-between gap-4",children:[t.jsxDEV("div",{className:"flex-1",children:[t.jsxDEV("h4",{className:"font-semibold mb-2",children:w.text},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:367,columnNumber:27},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground mb-2",children:w.rationale},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:368,columnNumber:27},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:366,columnNumber:25},this),t.jsxDEV("div",{className:"flex gap-1",children:(w.citations||[]).map((V,S)=>t.jsxDEV("a",{href:V,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300","data-testid":`link-recommendation-citation-${k}-${S}`,children:t.jsxDEV(Vi,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:380,columnNumber:31},this)},S,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:372,columnNumber:29},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:370,columnNumber:25},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:365,columnNumber:23},this)},k,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:364,columnNumber:21},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:362,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:361,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:356,columnNumber:13},this),t.jsxDEV(Z,{children:t.jsxDEV(_h,{open:a.sources,onOpenChange:()=>N("sources"),children:[t.jsxDEV(de,{children:t.jsxDEV(Fh,{className:"w-full",children:t.jsxDEV("div",{className:"flex items-center justify-between","data-testid":"toggle-sources",children:[t.jsxDEV(pe,{children:["Research Sources (",c.citations.length,")"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:396,columnNumber:23},this),t.jsxDEV(wo,{className:`h-5 w-5 transition-transform ${a.sources?"rotate-180":""}`},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:397,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:395,columnNumber:21},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:394,columnNumber:19},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:393,columnNumber:17},this),t.jsxDEV(Ih,{children:t.jsxDEV(te,{children:t.jsxDEV("div",{className:"space-y-3",children:c.citations.map((w,k)=>t.jsxDEV("div",{className:"flex items-start justify-between border-b pb-3 last:border-b-0","data-testid":`source-${k}`,children:[t.jsxDEV("div",{className:"flex-1",children:[t.jsxDEV("a",{href:w.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 font-medium flex items-center gap-2",children:[w.title,t.jsxDEV(Vi,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:414,columnNumber:31},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:407,columnNumber:29},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground mt-1",children:w.url},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:416,columnNumber:29},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:406,columnNumber:27},this),w.relevance_score&&t.jsxDEV(se,{variant:"outline",className:"ml-2","data-testid":`badge-relevance-${k}`,children:["Relevance: ",(w.relevance_score*100).toFixed(0),"%"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:419,columnNumber:29},this)]},k,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:405,columnNumber:25},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:403,columnNumber:21},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:402,columnNumber:19},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:401,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:392,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:391,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:248,columnNumber:11},this),!D&&t.jsxDEV(t.Fragment,{children:[t.jsxDEV(Z,{children:[t.jsxDEV(de,{children:t.jsxDEV(pe,{children:"Executive Summary"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:437,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:436,columnNumber:15},this),t.jsxDEV(te,{children:[t.jsxDEV("p",{className:"text-lg","data-testid":"text-executive-summary",children:b.executive_summary},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:440,columnNumber:17},this),t.jsxDEV("div",{className:"mt-4 flex flex-wrap gap-2",children:[t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV("span",{className:"text-sm text-muted-foreground",children:"Recommended Approach:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:443,columnNumber:21},this),b.recommended_approaches.map(w=>t.jsxDEV(se,{variant:"default","data-testid":`badge-approach-${w}`,children:w.replace("_"," ")},w,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:445,columnNumber:23},this))]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:442,columnNumber:19},this),t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV("span",{className:"text-sm text-muted-foreground",children:"Target Market:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:451,columnNumber:21},this),t.jsxDEV(se,{variant:"secondary","data-testid":"badge-market",children:b.recommended_market.toUpperCase()},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:452,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:450,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:441,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:439,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:435,columnNumber:13},this),E&&t.jsxDEV(Z,{children:[t.jsxDEV(de,{children:[t.jsxDEV(pe,{children:"5 Whys Root Cause Analysis"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:463,columnNumber:19},this),t.jsxDEV(He,{children:b.five_whys.problem_statement},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:464,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:462,columnNumber:17},this),t.jsxDEV(te,{className:"space-y-4",children:[[1,2,3,4,5].map(w=>{const k=b.five_whys[`why_${w}`];return t.jsxDEV("div",{className:"border-l-4 border-primary/20 pl-4","data-testid":`section-why-${w}`,children:[t.jsxDEV("p",{className:"font-medium text-sm text-muted-foreground",children:k.question},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:471,columnNumber:25},this),t.jsxDEV("p",{className:"mt-1",children:k.answer},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:472,columnNumber:25},this)]},w,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:470,columnNumber:23},this)}),t.jsxDEV("div",{className:"pt-4 border-t",children:[t.jsxDEV("h4",{className:"font-semibold mb-2",children:"Root Cause"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:478,columnNumber:21},this),t.jsxDEV("p",{className:"text-lg","data-testid":"text-root-cause",children:b.five_whys.root_cause},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:479,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:477,columnNumber:19},this),t.jsxDEV("div",{children:[t.jsxDEV("h4",{className:"font-semibold mb-2",children:"Strategic Implications"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:483,columnNumber:21},this),t.jsxDEV("ul",{className:"list-disc list-inside space-y-1",children:b.five_whys.strategic_implications.map((w,k)=>t.jsxDEV("li",{className:"text-muted-foreground","data-testid":`text-implication-${k}`,children:w},k,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:486,columnNumber:25},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:484,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:482,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:466,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:461,columnNumber:15},this),j&&t.jsxDEV(Z,{children:[t.jsxDEV(de,{children:[t.jsxDEV(pe,{children:"Porter's Five Forces Analysis"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:499,columnNumber:19},this),t.jsxDEV(He,{children:["Overall Market Attractiveness: ",t.jsxDEV(se,{variant:yb(b.porters_five_forces.overall_attractiveness),children:b.porters_five_forces.overall_attractiveness},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:501,columnNumber:52},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:500,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:498,columnNumber:17},this),t.jsxDEV(te,{className:"space-y-6",children:[P.map(({key:w,label:k})=>{const V=b.porters_five_forces[w];return t.jsxDEV("div",{className:"space-y-2","data-testid":`section-${w}`,children:[t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("h4",{className:"font-semibold",children:k},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:512,columnNumber:27},this),t.jsxDEV(se,{variant:yb(V.level),children:V.level},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:513,columnNumber:27},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:511,columnNumber:25},this),t.jsxDEV("ul",{className:"list-disc list-inside text-sm text-muted-foreground space-y-1",children:V.factors.map((S,R)=>t.jsxDEV("li",{children:S},R,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:517,columnNumber:29},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:515,columnNumber:25},this),t.jsxDEV("p",{className:"text-sm bg-secondary/50 p-3 rounded-md",children:[t.jsxDEV("span",{className:"font-medium",children:"Response: "},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:521,columnNumber:27},this),V.strategic_response]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:520,columnNumber:25},this)]},w,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:510,columnNumber:23},this)}),t.jsxDEV("div",{className:"pt-4 border-t",children:[t.jsxDEV("h4",{className:"font-semibold mb-2",children:"Key Strategic Priorities"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:529,columnNumber:21},this),t.jsxDEV("ul",{className:"list-decimal list-inside space-y-1",children:b.porters_five_forces.key_strategic_priorities.map((w,k)=>t.jsxDEV("li",{className:"text-muted-foreground","data-testid":`text-priority-${k}`,children:w},k,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:532,columnNumber:25},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:530,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:528,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:506,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:497,columnNumber:15},this),!E&&!j&&t.jsxDEV(Z,{children:[t.jsxDEV(de,{children:t.jsxDEV(pe,{children:"Strategic Recommendations"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:545,columnNumber:19},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:544,columnNumber:17},this),t.jsxDEV(te,{children:t.jsxDEV("p",{className:"text-muted-foreground",children:"Analysis focused on strategic recommendations. Detailed frameworks available upon request."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:548,columnNumber:19},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:547,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:543,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:434,columnNumber:11},this),t.jsxDEV("div",{className:"flex justify-end",children:t.jsxDEV(me,{size:"lg",onClick:()=>r(`/strategic-consultant/trend-analysis/${s}/${d.version.versionNumber}`),"data-testid":"button-proceed-trend-analysis",children:["Next: PESTLE Trend Analysis ",t.jsxDEV(ar,{className:"ml-2 h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:563,columnNumber:41},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:558,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:557,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:226,columnNumber:7},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/AnalysisPage.tsx",lineNumber:222,columnNumber:5},this)}const OE={domain_extraction:"Extracting Domain Context",pestle_generation:"Generating PESTLE Analysis",assumption_comparison:"Comparing with Assumptions",synthesis:"Synthesizing Insights"};function eM({phase:e,message:r,step:n,totalSteps:s,isComplete:a}){const l=s>0?n/s*100:0;return t.jsxDEV(Z,{"data-testid":"card-trend-progress",children:[t.jsxDEV(de,{children:t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("div",{children:[t.jsxDEV(pe,{className:"text-xl","data-testid":"text-progress-title",children:"Trend Analysis in Progress"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/TrendProgressView.tsx",lineNumber:29,columnNumber:13},this),t.jsxDEV(He,{children:"AI-powered PESTLE analysis with evidence-based insights"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/TrendProgressView.tsx",lineNumber:32,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/TrendProgressView.tsx",lineNumber:28,columnNumber:11},this),a?t.jsxDEV(se,{variant:"default",className:"gap-1","data-testid":"badge-complete",children:[t.jsxDEV(tr,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/TrendProgressView.tsx",lineNumber:38,columnNumber:15},this),"Complete"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/TrendProgressView.tsx",lineNumber:37,columnNumber:13},this):t.jsxDEV(se,{variant:"secondary",className:"gap-1","data-testid":"badge-analyzing",children:[t.jsxDEV(lt,{className:"h-4 w-4 animate-spin"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/TrendProgressView.tsx",lineNumber:43,columnNumber:15},this),"Analyzing"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/TrendProgressView.tsx",lineNumber:42,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/TrendProgressView.tsx",lineNumber:27,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/TrendProgressView.tsx",lineNumber:26,columnNumber:7},this),t.jsxDEV(te,{className:"space-y-4",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV("div",{className:"flex justify-between text-sm",children:[t.jsxDEV("span",{className:"font-medium","data-testid":"text-current-phase",children:OE[e]||"Processing..."},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/TrendProgressView.tsx",lineNumber:53,columnNumber:13},this),t.jsxDEV("span",{className:"text-muted-foreground","data-testid":"text-step-counter",children:["Step ",n," of ",s]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/TrendProgressView.tsx",lineNumber:56,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/TrendProgressView.tsx",lineNumber:52,columnNumber:11},this),t.jsxDEV(Ln,{value:l,className:"h-2","data-testid":"progress-bar"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/TrendProgressView.tsx",lineNumber:60,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/TrendProgressView.tsx",lineNumber:51,columnNumber:9},this),t.jsxDEV("div",{className:"rounded-lg bg-muted p-4",children:t.jsxDEV("p",{className:"text-sm","data-testid":"text-status-message",children:r||"Starting analysis..."},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/TrendProgressView.tsx",lineNumber:65,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/TrendProgressView.tsx",lineNumber:64,columnNumber:9},this),t.jsxDEV("div",{className:"grid grid-cols-4 gap-2",children:Object.entries(OE).map(([c,u],d)=>{const h=e===c,g=Object.keys(OE).indexOf(e)>d;return t.jsxDEV("div",{className:`text-center p-2 rounded-md text-xs ${h?"bg-primary text-primary-foreground":g?"bg-muted text-muted-foreground line-through":"bg-muted/50 text-muted-foreground"}`,"data-testid":`phase-indicator-${c}`,children:u.replace("Generating ","").replace("Extracting ","").replace("Comparing with ","").replace("Synthesizing ","")},c,!1,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/TrendProgressView.tsx",lineNumber:77,columnNumber:15},this)})},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/TrendProgressView.tsx",lineNumber:71,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/TrendProgressView.tsx",lineNumber:49,columnNumber:7},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/TrendProgressView.tsx",lineNumber:25,columnNumber:5},this)}const $ae={political:{label:"Political",color:"bg-red-100 dark:bg-red-950 text-red-900 dark:text-red-100 border-red-200 dark:border-red-800",badgeColor:"bg-red-500 text-white",icon:ul},economic:{label:"Economic",color:"bg-green-100 dark:bg-green-950 text-green-900 dark:text-green-100 border-green-200 dark:border-green-800",badgeColor:"bg-green-500 text-white",icon:vh},social:{label:"Social",color:"bg-blue-100 dark:bg-blue-950 text-blue-900 dark:text-blue-100 border-blue-200 dark:border-blue-800",badgeColor:"bg-blue-500 text-white",icon:On},technological:{label:"Technological",color:"bg-purple-100 dark:bg-purple-950 text-purple-900 dark:text-purple-100 border-purple-200 dark:border-purple-800",badgeColor:"bg-purple-500 text-white",icon:K7},legal:{label:"Legal",color:"bg-amber-100 dark:bg-amber-950 text-amber-900 dark:text-amber-100 border-amber-200 dark:border-amber-800",badgeColor:"bg-amber-500 text-white",icon:iA},environmental:{label:"Environmental",color:"bg-teal-100 dark:bg-teal-950 text-teal-900 dark:text-teal-100 border-teal-200 dark:border-teal-800",badgeColor:"bg-teal-500 text-white",icon:eA}},Bae={"short-term":"Short-term","medium-term":"Medium-term","long-term":"Long-term"};function zae({factors:e}){const[r,n]=v.useState({}),s=l=>{n(c=>({...c,[l]:!c[l]}))},a=(l,c,u)=>t.jsxDEV("div",{className:"border rounded-lg p-4 space-y-3","data-testid":`trend-claim-${u}-${c}`,children:[t.jsxDEV("div",{className:"flex items-start justify-between gap-2",children:[t.jsxDEV("p",{className:"font-medium flex-1","data-testid":`claim-text-${u}-${c}`,children:l.claim},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/PESTLEFactorsView.tsx",lineNumber:77,columnNumber:11},this),t.jsxDEV("div",{className:"flex gap-2 flex-shrink-0",children:[t.jsxDEV(se,{variant:l.confidence==="high"?"default":l.confidence==="medium"?"secondary":"outline",children:l.confidence},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/PESTLEFactorsView.tsx",lineNumber:81,columnNumber:13},this),t.jsxDEV(se,{variant:"outline",className:"text-xs",children:Bae[l.timeHorizon]||l.timeHorizon},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/PESTLEFactorsView.tsx",lineNumber:84,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/PESTLEFactorsView.tsx",lineNumber:80,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/PESTLEFactorsView.tsx",lineNumber:76,columnNumber:9},this),l.rationale&&t.jsxDEV("p",{className:"text-sm text-muted-foreground","data-testid":`claim-rationale-${u}-${c}`,children:l.rationale},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/PESTLEFactorsView.tsx",lineNumber:91,columnNumber:11},this),l.evidence&&l.evidence.length>0&&t.jsxDEV("div",{className:"space-y-1",children:[t.jsxDEV("p",{className:"text-xs font-semibold text-muted-foreground",children:"Evidence:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/PESTLEFactorsView.tsx",lineNumber:98,columnNumber:13},this),t.jsxDEV("ul",{className:"text-xs space-y-1",children:l.evidence.map((d,h)=>t.jsxDEV("li",{className:"text-muted-foreground","data-testid":`claim-evidence-${u}-${c}-${h}`,children:[" ",d]},h,!0,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/PESTLEFactorsView.tsx",lineNumber:101,columnNumber:17},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/PESTLEFactorsView.tsx",lineNumber:99,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/PESTLEFactorsView.tsx",lineNumber:97,columnNumber:11},this),l.sources&&l.sources.length>0&&t.jsxDEV("div",{className:"flex flex-wrap gap-1",children:[t.jsxDEV("p",{className:"text-xs font-semibold text-muted-foreground",children:"Sources:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/PESTLEFactorsView.tsx",lineNumber:111,columnNumber:13},this),l.sources.map((d,h)=>t.jsxDEV(se,{variant:"outline",className:"text-xs","data-testid":`claim-source-${u}-${c}-${h}`,children:d},h,!1,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/PESTLEFactorsView.tsx",lineNumber:113,columnNumber:15},this))]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/PESTLEFactorsView.tsx",lineNumber:110,columnNumber:11},this)]},c,!0,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/PESTLEFactorsView.tsx",lineNumber:71,columnNumber:7},this);return t.jsxDEV(Z,{"data-testid":"card-pestle-factors",children:[t.jsxDEV(de,{children:t.jsxDEV(pe,{className:"text-2xl",children:"PESTLE Analysis"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/PESTLEFactorsView.tsx",lineNumber:126,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/PESTLEFactorsView.tsx",lineNumber:125,columnNumber:7},this),t.jsxDEV(te,{className:"space-y-4",children:Object.entries(e).map(([l,c])=>{const u=$ae[l],d=u.icon,h=r[l]??!0;return t.jsxDEV(_h,{open:h,onOpenChange:()=>s(l),children:[t.jsxDEV(Fh,{asChild:!0,children:t.jsxDEV("div",{className:`flex items-center justify-between p-4 rounded-lg cursor-pointer border-2 ${u.color}`,"data-testid":`pestle-category-${l}`,children:[t.jsxDEV("div",{className:"flex items-center gap-3",children:[t.jsxDEV("div",{className:`p-2 rounded-md ${u.badgeColor}`,children:t.jsxDEV(d,{className:"h-5 w-5"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/PESTLEFactorsView.tsx",lineNumber:147,columnNumber:23},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/PESTLEFactorsView.tsx",lineNumber:146,columnNumber:21},this),t.jsxDEV("div",{children:[t.jsxDEV("h3",{className:"font-semibold text-lg",children:u.label},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/PESTLEFactorsView.tsx",lineNumber:150,columnNumber:23},this),t.jsxDEV("p",{className:"text-sm opacity-80",children:[c.length," trend",c.length!==1?"s":""," identified"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/PESTLEFactorsView.tsx",lineNumber:151,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/PESTLEFactorsView.tsx",lineNumber:149,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/PESTLEFactorsView.tsx",lineNumber:145,columnNumber:19},this),t.jsxDEV(wo,{className:`h-5 w-5 transition-transform ${h?"rotate-180":""}`},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/PESTLEFactorsView.tsx",lineNumber:156,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/PESTLEFactorsView.tsx",lineNumber:141,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/PESTLEFactorsView.tsx",lineNumber:140,columnNumber:15},this),t.jsxDEV(Ih,{className:"pt-4 space-y-3",children:c.length>0?c.map((g,p)=>a(g,p,l)):t.jsxDEV("p",{className:"text-sm text-muted-foreground italic",children:"No trends identified in this category"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/PESTLEFactorsView.tsx",lineNumber:165,columnNumber:19},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/PESTLEFactorsView.tsx",lineNumber:161,columnNumber:15},this)]},l,!0,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/PESTLEFactorsView.tsx",lineNumber:135,columnNumber:13},this)})},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/PESTLEFactorsView.tsx",lineNumber:128,columnNumber:7},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/PESTLEFactorsView.tsx",lineNumber:124,columnNumber:5},this)}const LE={validates:{label:"Validates",icon:tr,color:"text-green-600 dark:text-green-400",bgColor:"bg-green-50 dark:bg-green-950/30 border-green-200 dark:border-green-800",badgeVariant:"default"},contradicts:{label:"Contradicts",icon:Dc,color:"text-red-600 dark:text-red-400",bgColor:"bg-red-50 dark:bg-red-950/30 border-red-200 dark:border-red-800",badgeVariant:"destructive"},partially_validates:{label:"Partially Validates",icon:qr,color:"text-amber-600 dark:text-amber-400",bgColor:"bg-amber-50 dark:bg-amber-950/30 border-amber-200 dark:border-amber-800",badgeVariant:"secondary"}};function Wae({comparisons:e}){const r=e.filter(a=>a.relationship==="validates"),n=e.filter(a=>a.relationship==="contradicts"),s=e.filter(a=>a.relationship==="partially_validates");return t.jsxDEV(Z,{"data-testid":"card-assumption-comparison",children:[t.jsxDEV(de,{children:t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV(pe,{className:"text-2xl",children:"Assumption Analysis"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/AssumptionComparisonView.tsx",lineNumber:44,columnNumber:11},this),t.jsxDEV("div",{className:"flex gap-2",children:[t.jsxDEV(se,{variant:"default","data-testid":"badge-validations-count",children:[r.length," Validated"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/AssumptionComparisonView.tsx",lineNumber:46,columnNumber:13},this),n.length>0&&t.jsxDEV(se,{variant:"destructive","data-testid":"badge-contradictions-count",children:[n.length," Contradicted"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/AssumptionComparisonView.tsx",lineNumber:50,columnNumber:15},this),s.length>0&&t.jsxDEV(se,{variant:"secondary","data-testid":"badge-partial-count",children:[s.length," Partial"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/AssumptionComparisonView.tsx",lineNumber:55,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/AssumptionComparisonView.tsx",lineNumber:45,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/AssumptionComparisonView.tsx",lineNumber:43,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/AssumptionComparisonView.tsx",lineNumber:42,columnNumber:7},this),t.jsxDEV(te,{className:"space-y-4",children:e.length===0?t.jsxDEV(it,{children:t.jsxDEV(at,{children:"No assumptions available for comparison"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/AssumptionComparisonView.tsx",lineNumber:65,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/AssumptionComparisonView.tsx",lineNumber:64,columnNumber:11},this):t.jsxDEV(t.Fragment,{children:[n.length>0&&t.jsxDEV("div",{className:"space-y-3",children:[t.jsxDEV("h3",{className:"font-semibold text-lg flex items-center gap-2 text-red-600 dark:text-red-400",children:[t.jsxDEV(Dc,{className:"h-5 w-5"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/AssumptionComparisonView.tsx",lineNumber:73,columnNumber:19},this),"Contradicted Assumptions"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/AssumptionComparisonView.tsx",lineNumber:72,columnNumber:17},this),n.map((a,l)=>{const c=LE[a.relationship],u=c.icon;return t.jsxDEV("div",{className:`border-2 rounded-lg p-4 space-y-3 ${c.bgColor}`,"data-testid":`comparison-${a.relationship}-${l}`,children:t.jsxDEV("div",{className:"flex items-start gap-3",children:[t.jsxDEV(u,{className:`h-5 w-5 mt-0.5 ${c.color}`},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/AssumptionComparisonView.tsx",lineNumber:87,columnNumber:25},this),t.jsxDEV("div",{className:"flex-1 space-y-2",children:[t.jsxDEV("p",{className:"font-medium","data-testid":`assumption-claim-${l}`,children:a.assumptionClaim},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/AssumptionComparisonView.tsx",lineNumber:89,columnNumber:27},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground","data-testid":`comparison-evidence-${l}`,children:a.evidence},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/AssumptionComparisonView.tsx",lineNumber:92,columnNumber:27},this),a.explanation&&t.jsxDEV("p",{className:"text-sm italic","data-testid":`comparison-explanation-${l}`,children:a.explanation},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/AssumptionComparisonView.tsx",lineNumber:96,columnNumber:29},this),t.jsxDEV("div",{className:"flex items-center gap-2",children:t.jsxDEV(se,{variant:a.confidence==="high"?"default":"secondary",children:[a.confidence," confidence"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/AssumptionComparisonView.tsx",lineNumber:101,columnNumber:29},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/AssumptionComparisonView.tsx",lineNumber:100,columnNumber:27},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/AssumptionComparisonView.tsx",lineNumber:88,columnNumber:25},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/AssumptionComparisonView.tsx",lineNumber:86,columnNumber:23},this)},a.assumptionId,!1,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/AssumptionComparisonView.tsx",lineNumber:81,columnNumber:21},this)})]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/AssumptionComparisonView.tsx",lineNumber:71,columnNumber:15},this),s.length>0&&t.jsxDEV("div",{className:"space-y-3",children:[t.jsxDEV("h3",{className:"font-semibold text-lg flex items-center gap-2 text-amber-600 dark:text-amber-400",children:[t.jsxDEV(qr,{className:"h-5 w-5"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/AssumptionComparisonView.tsx",lineNumber:117,columnNumber:19},this),"Partially Validated Assumptions"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/AssumptionComparisonView.tsx",lineNumber:116,columnNumber:17},this),s.map((a,l)=>{const c=LE[a.relationship],u=c.icon;return t.jsxDEV("div",{className:`border-2 rounded-lg p-4 space-y-3 ${c.bgColor}`,"data-testid":`comparison-${a.relationship}-${l}`,children:t.jsxDEV("div",{className:"flex items-start gap-3",children:[t.jsxDEV(u,{className:`h-5 w-5 mt-0.5 ${c.color}`},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/AssumptionComparisonView.tsx",lineNumber:131,columnNumber:25},this),t.jsxDEV("div",{className:"flex-1 space-y-2",children:[t.jsxDEV("p",{className:"font-medium",children:a.assumptionClaim},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/AssumptionComparisonView.tsx",lineNumber:133,columnNumber:27},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:a.evidence},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/AssumptionComparisonView.tsx",lineNumber:134,columnNumber:27},this),a.explanation&&t.jsxDEV("p",{className:"text-sm italic",children:a.explanation},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/AssumptionComparisonView.tsx",lineNumber:136,columnNumber:29},this),t.jsxDEV(se,{variant:a.confidence==="high"?"default":"secondary",children:[a.confidence," confidence"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/AssumptionComparisonView.tsx",lineNumber:138,columnNumber:27},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/AssumptionComparisonView.tsx",lineNumber:132,columnNumber:25},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/AssumptionComparisonView.tsx",lineNumber:130,columnNumber:23},this)},a.assumptionId,!1,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/AssumptionComparisonView.tsx",lineNumber:125,columnNumber:21},this)})]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/AssumptionComparisonView.tsx",lineNumber:115,columnNumber:15},this),r.length>0&&t.jsxDEV("div",{className:"space-y-3",children:[t.jsxDEV("h3",{className:"font-semibold text-lg flex items-center gap-2 text-green-600 dark:text-green-400",children:[t.jsxDEV(tr,{className:"h-5 w-5"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/AssumptionComparisonView.tsx",lineNumber:153,columnNumber:19},this),"Validated Assumptions"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/AssumptionComparisonView.tsx",lineNumber:152,columnNumber:17},this),r.map((a,l)=>{const c=LE[a.relationship],u=c.icon;return t.jsxDEV("div",{className:`border-2 rounded-lg p-4 space-y-3 ${c.bgColor}`,"data-testid":`comparison-${a.relationship}-${l}`,children:t.jsxDEV("div",{className:"flex items-start gap-3",children:[t.jsxDEV(u,{className:`h-5 w-5 mt-0.5 ${c.color}`},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/AssumptionComparisonView.tsx",lineNumber:167,columnNumber:25},this),t.jsxDEV("div",{className:"flex-1 space-y-2",children:[t.jsxDEV("p",{className:"font-medium",children:a.assumptionClaim},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/AssumptionComparisonView.tsx",lineNumber:169,columnNumber:27},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:a.evidence},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/AssumptionComparisonView.tsx",lineNumber:170,columnNumber:27},this),a.explanation&&t.jsxDEV("p",{className:"text-sm italic",children:a.explanation},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/AssumptionComparisonView.tsx",lineNumber:172,columnNumber:29},this),t.jsxDEV(se,{variant:a.confidence==="high"?"default":"secondary",children:[a.confidence," confidence"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/AssumptionComparisonView.tsx",lineNumber:174,columnNumber:27},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/AssumptionComparisonView.tsx",lineNumber:168,columnNumber:25},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/AssumptionComparisonView.tsx",lineNumber:166,columnNumber:23},this)},a.assumptionId,!1,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/AssumptionComparisonView.tsx",lineNumber:161,columnNumber:21},this)})]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/AssumptionComparisonView.tsx",lineNumber:151,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/AssumptionComparisonView.tsx",lineNumber:68,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/AssumptionComparisonView.tsx",lineNumber:62,columnNumber:7},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/AssumptionComparisonView.tsx",lineNumber:41,columnNumber:5},this)}function Uae({synthesis:e,telemetry:r}){return t.jsxDEV("div",{className:"space-y-4",children:[t.jsxDEV(Z,{"data-testid":"card-executive-summary",children:[t.jsxDEV(de,{children:t.jsxDEV(pe,{className:"text-2xl",children:"Executive Summary"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/TrendSynthesisView.tsx",lineNumber:17,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/TrendSynthesisView.tsx",lineNumber:16,columnNumber:9},this),t.jsxDEV(te,{children:t.jsxDEV("p",{className:"text-muted-foreground leading-relaxed","data-testid":"text-executive-summary",children:e.executiveSummary},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/TrendSynthesisView.tsx",lineNumber:20,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/TrendSynthesisView.tsx",lineNumber:19,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/TrendSynthesisView.tsx",lineNumber:15,columnNumber:7},this),e.keyFindings&&e.keyFindings.length>0&&t.jsxDEV(Z,{"data-testid":"card-key-findings",children:[t.jsxDEV(de,{children:t.jsxDEV(pe,{className:"flex items-center gap-2",children:[t.jsxDEV(yn,{className:"h-5 w-5"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/TrendSynthesisView.tsx",lineNumber:31,columnNumber:15},this),"Key Findings"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/TrendSynthesisView.tsx",lineNumber:30,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/TrendSynthesisView.tsx",lineNumber:29,columnNumber:11},this),t.jsxDEV(te,{children:t.jsxDEV("ul",{className:"space-y-2",children:e.keyFindings.map((n,s)=>t.jsxDEV("li",{className:"flex gap-2","data-testid":`finding-${s}`,children:[t.jsxDEV(tr,{className:"h-5 w-5 text-green-600 dark:text-green-400 flex-shrink-0 mt-0.5"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/TrendSynthesisView.tsx",lineNumber:39,columnNumber:19},this),t.jsxDEV("span",{children:n},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/TrendSynthesisView.tsx",lineNumber:40,columnNumber:19},this)]},s,!0,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/TrendSynthesisView.tsx",lineNumber:38,columnNumber:17},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/TrendSynthesisView.tsx",lineNumber:36,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/TrendSynthesisView.tsx",lineNumber:35,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/TrendSynthesisView.tsx",lineNumber:28,columnNumber:9},this),e.strategicImplications&&e.strategicImplications.length>0&&t.jsxDEV(Z,{"data-testid":"card-strategic-implications",children:[t.jsxDEV(de,{children:t.jsxDEV(pe,{className:"flex items-center gap-2",children:[t.jsxDEV(Xr,{className:"h-5 w-5"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/TrendSynthesisView.tsx",lineNumber:53,columnNumber:15},this),"Strategic Implications"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/TrendSynthesisView.tsx",lineNumber:52,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/TrendSynthesisView.tsx",lineNumber:51,columnNumber:11},this),t.jsxDEV(te,{children:t.jsxDEV("ul",{className:"space-y-2",children:e.strategicImplications.map((n,s)=>t.jsxDEV("li",{className:"flex gap-2","data-testid":`implication-${s}`,children:[t.jsxDEV("span",{className:"text-primary font-semibold",children:""},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/TrendSynthesisView.tsx",lineNumber:61,columnNumber:19},this),t.jsxDEV("span",{children:n},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/TrendSynthesisView.tsx",lineNumber:62,columnNumber:19},this)]},s,!0,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/TrendSynthesisView.tsx",lineNumber:60,columnNumber:17},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/TrendSynthesisView.tsx",lineNumber:58,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/TrendSynthesisView.tsx",lineNumber:57,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/TrendSynthesisView.tsx",lineNumber:50,columnNumber:9},this),t.jsxDEV("div",{className:"grid md:grid-cols-2 gap-4",children:[e.opportunities&&e.opportunities.length>0&&t.jsxDEV(Z,{"data-testid":"card-opportunities",children:[t.jsxDEV(de,{children:t.jsxDEV(pe,{className:"flex items-center gap-2 text-green-600 dark:text-green-400",children:[t.jsxDEV(cn,{className:"h-5 w-5"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/TrendSynthesisView.tsx",lineNumber:76,columnNumber:17},this),"Opportunities"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/TrendSynthesisView.tsx",lineNumber:75,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/TrendSynthesisView.tsx",lineNumber:74,columnNumber:13},this),t.jsxDEV(te,{children:t.jsxDEV("ul",{className:"space-y-2",children:e.opportunities.map((n,s)=>t.jsxDEV("li",{className:"text-sm","data-testid":`opportunity-${s}`,children:[" ",n]},s,!0,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/TrendSynthesisView.tsx",lineNumber:83,columnNumber:19},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/TrendSynthesisView.tsx",lineNumber:81,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/TrendSynthesisView.tsx",lineNumber:80,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/TrendSynthesisView.tsx",lineNumber:73,columnNumber:11},this),e.risks&&e.risks.length>0&&t.jsxDEV(Z,{"data-testid":"card-risks",children:[t.jsxDEV(de,{children:t.jsxDEV(pe,{className:"flex items-center gap-2 text-amber-600 dark:text-amber-400",children:[t.jsxDEV(qr,{className:"h-5 w-5"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/TrendSynthesisView.tsx",lineNumber:97,columnNumber:17},this),"Risks"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/TrendSynthesisView.tsx",lineNumber:96,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/TrendSynthesisView.tsx",lineNumber:95,columnNumber:13},this),t.jsxDEV(te,{children:t.jsxDEV("ul",{className:"space-y-2",children:e.risks.map((n,s)=>t.jsxDEV("li",{className:"text-sm","data-testid":`risk-${s}`,children:[" ",n]},s,!0,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/TrendSynthesisView.tsx",lineNumber:104,columnNumber:19},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/TrendSynthesisView.tsx",lineNumber:102,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/TrendSynthesisView.tsx",lineNumber:101,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/TrendSynthesisView.tsx",lineNumber:94,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/TrendSynthesisView.tsx",lineNumber:70,columnNumber:7},this),e.recommendedActions&&e.recommendedActions.length>0&&t.jsxDEV(Z,{"data-testid":"card-recommended-actions",children:[t.jsxDEV(de,{children:t.jsxDEV(pe,{children:"Recommended Actions"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/TrendSynthesisView.tsx",lineNumber:118,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/TrendSynthesisView.tsx",lineNumber:117,columnNumber:11},this),t.jsxDEV(te,{children:t.jsxDEV("ol",{className:"space-y-3",children:e.recommendedActions.map((n,s)=>t.jsxDEV("li",{className:"flex gap-3","data-testid":`action-${s}`,children:[t.jsxDEV(se,{variant:"outline",className:"flex-shrink-0",children:s+1},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/TrendSynthesisView.tsx",lineNumber:124,columnNumber:19},this),t.jsxDEV("span",{children:n},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/TrendSynthesisView.tsx",lineNumber:127,columnNumber:19},this)]},s,!0,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/TrendSynthesisView.tsx",lineNumber:123,columnNumber:17},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/TrendSynthesisView.tsx",lineNumber:121,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/TrendSynthesisView.tsx",lineNumber:120,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/TrendSynthesisView.tsx",lineNumber:116,columnNumber:9},this),r&&t.jsxDEV(Z,{className:"border-dashed","data-testid":"card-telemetry",children:[t.jsxDEV(de,{children:t.jsxDEV(pe,{className:"text-sm",children:"Analysis Metrics"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/TrendSynthesisView.tsx",lineNumber:139,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/TrendSynthesisView.tsx",lineNumber:138,columnNumber:11},this),t.jsxDEV(te,{children:t.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-muted-foreground",children:"Processing Time"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/TrendSynthesisView.tsx",lineNumber:144,columnNumber:17},this),t.jsxDEV("p",{className:"font-semibold",children:[(r.totalLatencyMs/1e3).toFixed(1),"s"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/TrendSynthesisView.tsx",lineNumber:145,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/TrendSynthesisView.tsx",lineNumber:143,columnNumber:15},this),t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-muted-foreground",children:"LLM Calls"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/TrendSynthesisView.tsx",lineNumber:148,columnNumber:17},this),t.jsxDEV("p",{className:"font-semibold",children:r.llmCalls},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/TrendSynthesisView.tsx",lineNumber:149,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/TrendSynthesisView.tsx",lineNumber:147,columnNumber:15},this),t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-muted-foreground",children:"Cache Hits"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/TrendSynthesisView.tsx",lineNumber:152,columnNumber:17},this),t.jsxDEV("p",{className:"font-semibold",children:r.cacheHits},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/TrendSynthesisView.tsx",lineNumber:153,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/TrendSynthesisView.tsx",lineNumber:151,columnNumber:15},this),t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-muted-foreground",children:"API Calls"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/TrendSynthesisView.tsx",lineNumber:156,columnNumber:17},this),t.jsxDEV("p",{className:"font-semibold",children:r.apiCalls},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/TrendSynthesisView.tsx",lineNumber:157,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/TrendSynthesisView.tsx",lineNumber:155,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/TrendSynthesisView.tsx",lineNumber:142,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/TrendSynthesisView.tsx",lineNumber:141,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/TrendSynthesisView.tsx",lineNumber:137,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/trend-analysis/TrendSynthesisView.tsx",lineNumber:13,columnNumber:5},this)}var lF="AlertDialog",[Gae]=As(lF,[x6]),yl=x6(),cF=e=>{const{__scopeAlertDialog:r,...n}=e,s=yl(r);return U.jsx(wV,{...s,...n,modal:!0})};cF.displayName=lF;var Hae="AlertDialogTrigger",Jae=v.forwardRef((e,r)=>{const{__scopeAlertDialog:n,...s}=e,a=yl(n);return U.jsx(A6,{...a,...s,ref:r})});Jae.displayName=Hae;var Kae="AlertDialogPortal",uF=e=>{const{__scopeAlertDialog:r,...n}=e,s=yl(r);return U.jsx(kV,{...s,...n})};uF.displayName=Kae;var qae="AlertDialogOverlay",mF=v.forwardRef((e,r)=>{const{__scopeAlertDialog:n,...s}=e,a=yl(n);return U.jsx(Tg,{...a,...s,ref:r})});mF.displayName=qae;var Cd="AlertDialogContent",[Yae,Xae]=Gae(Cd),Qae=b7("AlertDialogContent"),dF=v.forwardRef((e,r)=>{const{__scopeAlertDialog:n,children:s,...a}=e,l=yl(n),c=v.useRef(null),u=Nr(r,c),d=v.useRef(null);return U.jsx(Nte,{contentName:Cd,titleName:hF,docsSlug:"alert-dialog",children:U.jsx(Yae,{scope:n,cancelRef:d,children:U.jsxs(Ag,{role:"alertdialog",...l,...a,ref:u,onOpenAutoFocus:Et(a.onOpenAutoFocus,h=>{var g;h.preventDefault(),(g=d.current)==null||g.focus({preventScroll:!0})}),onPointerDownOutside:h=>h.preventDefault(),onInteractOutside:h=>h.preventDefault(),children:[U.jsx(Qae,{children:s}),U.jsx(eoe,{contentRef:c})]})})})});dF.displayName=Cd;var hF="AlertDialogTitle",fF=v.forwardRef((e,r)=>{const{__scopeAlertDialog:n,...s}=e,a=yl(n);return U.jsx(_g,{...a,...s,ref:r})});fF.displayName=hF;var pF="AlertDialogDescription",gF=v.forwardRef((e,r)=>{const{__scopeAlertDialog:n,...s}=e,a=yl(n);return U.jsx(Fg,{...a,...s,ref:r})});gF.displayName=pF;var Zae="AlertDialogAction",NF=v.forwardRef((e,r)=>{const{__scopeAlertDialog:n,...s}=e,a=yl(n);return U.jsx(g0,{...a,...s,ref:r})});NF.displayName=Zae;var xF="AlertDialogCancel",bF=v.forwardRef((e,r)=>{const{__scopeAlertDialog:n,...s}=e,{cancelRef:a}=Xae(xF,n),l=yl(n),c=Nr(r,a);return U.jsx(g0,{...l,...s,ref:c})});bF.displayName=xF;var eoe=({contentRef:e})=>{const r=`\`${Cd}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Cd}\` by passing a \`${pF}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Cd}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return v.useEffect(()=>{var s;document.getElementById((s=e.current)==null?void 0:s.getAttribute("aria-describedby"))||console.warn(r)},[r,e]),null},toe=cF,roe=uF,vF=mF,yF=dF,wF=NF,kF=bF,EF=fF,DF=gF;const HV=toe,noe=roe,jF=v.forwardRef(({className:e,...r},n)=>t.jsxDEV(vF,{className:Ke("fixed inset-0 z-50 bg-black dark:bg-black  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...r,ref:n},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/alert-dialog.tsx",lineNumber:17,columnNumber:3},void 0));jF.displayName=vF.displayName;const P0=v.forwardRef(({className:e,...r},n)=>t.jsxDEV(noe,{children:[t.jsxDEV(jF,{},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/alert-dialog.tsx",lineNumber:33,columnNumber:5},void 0),t.jsxDEV(yF,{ref:n,className:Ke("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/alert-dialog.tsx",lineNumber:34,columnNumber:5},void 0)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/ui/alert-dialog.tsx",lineNumber:32,columnNumber:3},void 0));P0.displayName=yF.displayName;const S0=({className:e,...r})=>t.jsxDEV("div",{className:Ke("flex flex-col space-y-2 text-center sm:text-left",e),...r},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/alert-dialog.tsx",lineNumber:50,columnNumber:3},void 0);S0.displayName="AlertDialogHeader";const C0=({className:e,...r})=>t.jsxDEV("div",{className:Ke("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...r},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/alert-dialog.tsx",lineNumber:64,columnNumber:3},void 0);C0.displayName="AlertDialogFooter";const R0=v.forwardRef(({className:e,...r},n)=>t.jsxDEV(EF,{ref:n,className:Ke("text-lg font-semibold",e),...r},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/alert-dialog.tsx",lineNumber:78,columnNumber:3},void 0));R0.displayName=EF.displayName;const M0=v.forwardRef(({className:e,...r},n)=>t.jsxDEV(DF,{ref:n,className:Ke("text-sm text-muted-foreground",e),...r},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/alert-dialog.tsx",lineNumber:90,columnNumber:3},void 0));M0.displayName=DF.displayName;const JV=v.forwardRef(({className:e,...r},n)=>t.jsxDEV(wF,{ref:n,className:Ke(pV(),e),...r},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/alert-dialog.tsx",lineNumber:103,columnNumber:3},void 0));JV.displayName=wF.displayName;const T0=v.forwardRef(({className:e,...r},n)=>t.jsxDEV(kF,{ref:n,className:Ke(pV({variant:"outline"}),"mt-2 sm:mt-0",e),...r},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/alert-dialog.tsx",lineNumber:115,columnNumber:3},void 0));T0.displayName=kF.displayName;function KV({open:e,onOpenChange:r,onDelete:n,onArchive:s,understandingId:a,isDeleting:l=!1}){const{data:c,isLoading:u}=yt({queryKey:[`/api/repository/${a}/deletion-preview`],enabled:e&&!!a}),d=c?c.journeys+c.versions+c.epmPrograms+c.references:0;return t.jsxDEV(HV,{open:e,onOpenChange:r,children:t.jsxDEV(P0,{className:"max-w-lg",children:[t.jsxDEV(S0,{children:[t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(qr,{className:"h-5 w-5 text-destructive"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/DeleteAnalysisDialog.tsx",lineNumber:53,columnNumber:13},this),t.jsxDEV(R0,{children:"Delete Analysis?"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/DeleteAnalysisDialog.tsx",lineNumber:54,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/DeleteAnalysisDialog.tsx",lineNumber:52,columnNumber:11},this),t.jsxDEV(M0,{className:"space-y-4 pt-4",children:u?t.jsxDEV("div",{className:"flex items-center justify-center py-8",children:t.jsxDEV(lt,{className:"h-8 w-8 animate-spin text-muted-foreground"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/DeleteAnalysisDialog.tsx",lineNumber:59,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/DeleteAnalysisDialog.tsx",lineNumber:58,columnNumber:15},this):t.jsxDEV(t.Fragment,{children:[t.jsxDEV("div",{className:"bg-muted p-4 rounded-lg space-y-2",children:[t.jsxDEV("p",{className:"font-semibold text-foreground",children:["This analysis has ",d," related ",d===1?"item":"items",":"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/DeleteAnalysisDialog.tsx",lineNumber:64,columnNumber:19},this),t.jsxDEV("ul",{className:"space-y-1 text-sm",children:[c&&c.journeys>0&&t.jsxDEV("li",{className:"flex justify-between",children:[t.jsxDEV("span",{children:"Strategic journeys"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/DeleteAnalysisDialog.tsx",lineNumber:70,columnNumber:25},this),t.jsxDEV("span",{className:"font-semibold",children:c.journeys},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/DeleteAnalysisDialog.tsx",lineNumber:71,columnNumber:25},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/DeleteAnalysisDialog.tsx",lineNumber:69,columnNumber:23},this),c&&c.versions>0&&t.jsxDEV("li",{className:"flex justify-between",children:[t.jsxDEV("span",{children:"Analysis versions"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/DeleteAnalysisDialog.tsx",lineNumber:76,columnNumber:25},this),t.jsxDEV("span",{className:"font-semibold",children:c.versions},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/DeleteAnalysisDialog.tsx",lineNumber:77,columnNumber:25},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/DeleteAnalysisDialog.tsx",lineNumber:75,columnNumber:23},this),c&&c.epmPrograms>0&&t.jsxDEV("li",{className:"flex justify-between",children:[t.jsxDEV("span",{children:"EPM programs"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/DeleteAnalysisDialog.tsx",lineNumber:82,columnNumber:25},this),t.jsxDEV("span",{className:"font-semibold text-destructive",children:c.epmPrograms},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/DeleteAnalysisDialog.tsx",lineNumber:83,columnNumber:25},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/DeleteAnalysisDialog.tsx",lineNumber:81,columnNumber:23},this),c&&c.references>0&&t.jsxDEV("li",{className:"flex justify-between",children:[t.jsxDEV("span",{children:"Research references"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/DeleteAnalysisDialog.tsx",lineNumber:88,columnNumber:25},this),t.jsxDEV("span",{className:"font-semibold",children:c.references},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/DeleteAnalysisDialog.tsx",lineNumber:89,columnNumber:25},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/DeleteAnalysisDialog.tsx",lineNumber:87,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/DeleteAnalysisDialog.tsx",lineNumber:67,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/DeleteAnalysisDialog.tsx",lineNumber:63,columnNumber:17},this),t.jsxDEV("div",{className:"space-y-2 text-sm",children:[t.jsxDEV("p",{className:"font-semibold text-foreground",children:"What would you like to do?"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/DeleteAnalysisDialog.tsx",lineNumber:96,columnNumber:19},this),t.jsxDEV("div",{className:"space-y-1 text-muted-foreground",children:[t.jsxDEV("p",{children:[" ",t.jsxDEV("strong",{children:"Archive"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/DeleteAnalysisDialog.tsx",lineNumber:98,columnNumber:26},this)," - Hides this analysis and all related items (recommended)"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/DeleteAnalysisDialog.tsx",lineNumber:98,columnNumber:21},this),t.jsxDEV("p",{children:[" ",t.jsxDEV("strong",{children:"Delete"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/DeleteAnalysisDialog.tsx",lineNumber:99,columnNumber:26},this)," - Permanently removes everything (cannot be undone)"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/DeleteAnalysisDialog.tsx",lineNumber:99,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/DeleteAnalysisDialog.tsx",lineNumber:97,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/DeleteAnalysisDialog.tsx",lineNumber:95,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/DeleteAnalysisDialog.tsx",lineNumber:62,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/DeleteAnalysisDialog.tsx",lineNumber:56,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/DeleteAnalysisDialog.tsx",lineNumber:51,columnNumber:9},this),t.jsxDEV(C0,{className:"flex-col sm:flex-row gap-2",children:[t.jsxDEV(T0,{disabled:l||u,"data-testid":"button-cancel-delete",children:"Cancel"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/DeleteAnalysisDialog.tsx",lineNumber:107,columnNumber:11},this),t.jsxDEV(me,{variant:"outline",onClick:()=>{s(),r(!1)},disabled:l||u,"data-testid":"button-archive",className:"flex items-center gap-2",children:[t.jsxDEV(mo,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/DeleteAnalysisDialog.tsx",lineNumber:120,columnNumber:13},this),"Archive Instead"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/DeleteAnalysisDialog.tsx",lineNumber:110,columnNumber:11},this),t.jsxDEV(me,{variant:"destructive",onClick:()=>{n()},disabled:l||u,"data-testid":"button-confirm-delete",className:"flex items-center gap-2",children:l?t.jsxDEV(t.Fragment,{children:[t.jsxDEV(lt,{className:"h-4 w-4 animate-spin"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/DeleteAnalysisDialog.tsx",lineNumber:134,columnNumber:17},this),"Deleting..."]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/DeleteAnalysisDialog.tsx",lineNumber:133,columnNumber:15},this):t.jsxDEV(t.Fragment,{children:[t.jsxDEV(vo,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/DeleteAnalysisDialog.tsx",lineNumber:139,columnNumber:17},this),"Delete Everything"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/DeleteAnalysisDialog.tsx",lineNumber:138,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/DeleteAnalysisDialog.tsx",lineNumber:123,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/DeleteAnalysisDialog.tsx",lineNumber:106,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/DeleteAnalysisDialog.tsx",lineNumber:50,columnNumber:7},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/DeleteAnalysisDialog.tsx",lineNumber:49,columnNumber:5},this)}function soe(){const[,e]=Xn("/strategic-consultant/trend-analysis/:sessionId/:versionNumber"),[,r]=or(),{toast:n}=ur(),s=e==null?void 0:e.sessionId,a=s??"",l=e!=null&&e.versionNumber?parseInt(e.versionNumber,10):NaN,c=typeof window<"u"&&a?parseInt(window.localStorage.getItem(`strategic-versionNumber-${a}`)||"",10):NaN,u=!Number.isNaN(l)&&l>0?l:!Number.isNaN(c)&&c>0?c:1;v.useEffect(()=>{typeof window>"u"||!a||!u||Number.isNaN(u)||window.localStorage.setItem(`strategic-versionNumber-${a}`,u.toString())},[a,u]);const[d,h]=v.useState(!1),[g,p]=v.useState(!1),[N,b]=v.useState(""),[D,E]=v.useState(""),[j,P]=v.useState(0),[w,k]=v.useState(4),[V,S]=v.useState(null),[R,M]=v.useState(!1),[T,A]=v.useState(!1),[F,L]=v.useState(null),{data:$}=yt({queryKey:["/api/strategic-consultant/understanding",a],enabled:!!s}),W=$==null?void 0:$.understandingId,{data:O,isLoading:Y}=yt({queryKey:["/api/trend-analysis",W,"latest"],enabled:!!W,retry:!1});v.useEffect(()=>{O!=null&&O.data&&(S(O.data),p(!0),L(O.data.insightId))},[O]);const H=async()=>{if(F){A(!0);try{await Zt("DELETE",`/api/repository/analyses/${F}`),n({title:"Analysis deleted",description:"Your PESTLE analysis has been permanently deleted"}),await vr.invalidateQueries({queryKey:["/api/trend-analysis",W]}),await vr.invalidateQueries({queryKey:["/api/repository/statements"]}),r("/repository")}catch(z){console.error("Error deleting analysis:",z),n({title:"Failed to delete",description:z instanceof Error?z.message:"Could not delete analysis",variant:"destructive"})}finally{A(!1),M(!1)}}},q=async()=>{var z;if(!W){n({title:"Missing Understanding ID",description:"Cannot start analysis without strategic understanding",variant:"destructive"});return}h(!0),p(!1),b("Starting PESTLE trend analysis..."),E("domain_extraction"),P(1);try{const G=await fetch(`/api/trend-analysis/${W}`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({sessionId:a,versionNumber:u})});if(!G.ok)throw new Error("Failed to start trend analysis");const ee=(z=G.body)==null?void 0:z.getReader(),K=new TextDecoder;if(!ee)throw new Error("No response body");let be="";for(;;){const{done:_e,value:oe}=await ee.read();if(_e)break;be+=K.decode(oe,{stream:!0});const fe=be.split(`
`);be=fe.pop()||"";for(const Ae of fe)if(Ae.startsWith("data: ")){let ge;try{ge=JSON.parse(Ae.slice(6))}catch(Pe){console.error("[TREND-FRONTEND] Failed to parse SSE message:",Ae,Pe);continue}if(ge.type==="error")throw new Error(ge.error||"Analysis failed");ge.type==="complete"&&ge.result?(S(ge.result),b(" Analysis complete!"),p(!0),n({title:"Trend Analysis Complete",description:"PESTLE analysis has been generated successfully"})):ge.type==="progress"&&ge.message&&(b(ge.message),ge.phase&&E(ge.phase),ge.step!==void 0&&P(ge.step),ge.totalSteps!==void 0&&k(ge.totalSteps))}}}catch(G){b(""),n({title:"Analysis Failed",description:G.message||"Failed to conduct trend analysis",variant:"destructive"})}finally{h(!1)}};return a?Y?t.jsxDEV("div",{className:"min-h-screen bg-background flex items-center justify-center",children:t.jsxDEV("div",{className:"text-center space-y-4",children:[t.jsxDEV(lt,{className:"h-8 w-8 animate-spin mx-auto text-primary"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/TrendAnalysisPage.tsx",lineNumber:218,columnNumber:11},this),t.jsxDEV("p",{className:"text-muted-foreground",children:"Loading trend analysis..."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/TrendAnalysisPage.tsx",lineNumber:219,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/TrendAnalysisPage.tsx",lineNumber:217,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/TrendAnalysisPage.tsx",lineNumber:216,columnNumber:7},this):t.jsxDEV(st,{title:"PESTLE Trend Analysis",subtitle:"Evidence-based macro-environmental analysis",onViewChange:z=>r("/"),children:t.jsxDEV("div",{className:"max-w-7xl mx-auto space-y-6",children:[t.jsxDEV("div",{children:t.jsxDEV("p",{className:"text-sm text-muted-foreground","data-testid":"text-session-id",children:["Session: ",a,"  Version ",u]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/TrendAnalysisPage.tsx",lineNumber:233,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/TrendAnalysisPage.tsx",lineNumber:232,columnNumber:9},this),!g&&!d&&t.jsxDEV("div",{className:"text-center space-y-4 py-12",children:[t.jsxDEV("div",{className:"max-w-2xl mx-auto space-y-3",children:[t.jsxDEV("h2",{className:"text-2xl font-bold",children:"Ready for Trend Analysis"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/TrendAnalysisPage.tsx",lineNumber:242,columnNumber:15},this),t.jsxDEV("p",{className:"text-muted-foreground",children:"Conduct AI-powered PESTLE analysis to identify Political, Economic, Social, Technological, Legal, and Environmental trends affecting your strategy."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/TrendAnalysisPage.tsx",lineNumber:243,columnNumber:15},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"This analysis will compare industry trends with your strategic assumptions to validate or challenge your thinking."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/TrendAnalysisPage.tsx",lineNumber:247,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/TrendAnalysisPage.tsx",lineNumber:241,columnNumber:13},this),t.jsxDEV(me,{size:"lg",onClick:q,disabled:!W,"data-testid":"button-start-trend-analysis",children:"Start PESTLE Analysis"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/TrendAnalysisPage.tsx",lineNumber:252,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/TrendAnalysisPage.tsx",lineNumber:240,columnNumber:11},this),d&&t.jsxDEV(eM,{phase:D,message:N,step:j,totalSteps:w,isComplete:!1},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/TrendAnalysisPage.tsx",lineNumber:265,columnNumber:11},this),g&&V&&t.jsxDEV(t.Fragment,{children:[t.jsxDEV(eM,{phase:"synthesis",message:"Analysis complete",step:w,totalSteps:w,isComplete:!0},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/TrendAnalysisPage.tsx",lineNumber:277,columnNumber:13},this),t.jsxDEV(zae,{factors:V.pestleFactors},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/TrendAnalysisPage.tsx",lineNumber:286,columnNumber:13},this),t.jsxDEV(Wae,{comparisons:V.comparisons},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/TrendAnalysisPage.tsx",lineNumber:289,columnNumber:13},this),t.jsxDEV(Uae,{synthesis:V.synthesis,telemetry:V.telemetry},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/TrendAnalysisPage.tsx",lineNumber:292,columnNumber:13},this),t.jsxDEV("div",{className:"flex flex-col-reverse sm:flex-row sm:justify-between sm:items-center gap-3",children:[t.jsxDEV(me,{variant:"destructive",size:"lg",onClick:()=>M(!0),"data-testid":"button-delete-analysis",className:"w-full sm:w-auto",children:[t.jsxDEV(vo,{className:"mr-2 h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/TrendAnalysisPage.tsx",lineNumber:306,columnNumber:17},this),"Delete Analysis"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/TrendAnalysisPage.tsx",lineNumber:299,columnNumber:15},this),t.jsxDEV(me,{size:"lg",onClick:()=>r(`/strategic-consultant/decisions/${a}/${u}`),"data-testid":"button-proceed-decisions",className:"w-full sm:w-auto",children:["Proceed to Strategic Decisions ",t.jsxDEV(ar,{className:"ml-2 h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/TrendAnalysisPage.tsx",lineNumber:315,columnNumber:48},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/TrendAnalysisPage.tsx",lineNumber:309,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/TrendAnalysisPage.tsx",lineNumber:298,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/TrendAnalysisPage.tsx",lineNumber:276,columnNumber:11},this),t.jsxDEV(KV,{open:R,onOpenChange:M,onConfirm:H,frameworkName:"PESTLE",isDeleting:T},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/TrendAnalysisPage.tsx",lineNumber:322,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/TrendAnalysisPage.tsx",lineNumber:231,columnNumber:7},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/TrendAnalysisPage.tsx",lineNumber:226,columnNumber:5},this):t.jsxDEV("div",{className:"min-h-screen bg-background flex items-center justify-center p-8",children:t.jsxDEV(it,{variant:"destructive",className:"max-w-md",children:[t.jsxDEV(Dt,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/TrendAnalysisPage.tsx",lineNumber:206,columnNumber:11},this),t.jsxDEV(er,{children:"Invalid Session"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/TrendAnalysisPage.tsx",lineNumber:207,columnNumber:11},this),t.jsxDEV(at,{children:"No session ID provided in URL"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/TrendAnalysisPage.tsx",lineNumber:208,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/TrendAnalysisPage.tsx",lineNumber:205,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/TrendAnalysisPage.tsx",lineNumber:204,columnNumber:7},this)}function ioe(){const[,e]=Xn("/strategic-consultant/decisions/:sessionId/:versionNumber"),[,r]=or(),{toast:n}=ur(),s=e==null?void 0:e.sessionId,a=s??"",l=e!=null&&e.versionNumber?parseInt(e.versionNumber,10):NaN,c=typeof window<"u"&&a?parseInt(window.localStorage.getItem(`strategic-versionNumber-${a}`)||"",10):NaN,u=!Number.isNaN(l)&&l>0?l:!Number.isNaN(c)&&c>0?c:1;v.useEffect(()=>{typeof window>"u"||!a||!u||Number.isNaN(u)||window.localStorage.setItem(`strategic-versionNumber-${a}`,u.toString())},[a,u]);const[d,h]=v.useState({}),{data:g,isLoading:p,error:N}=yt({queryKey:["/api/strategic-consultant/versions",a,u],enabled:!!s}),b=Qr({mutationFn:async V=>Zt("POST","/api/strategic-consultant/decisions/select",{sessionId:a,versionNumber:u,selectedDecisions:V}),onSuccess:()=>{vr.invalidateQueries({queryKey:["/api/strategic-consultant/versions",a,u]}),n({title:"Decisions saved",description:"Your strategic decisions have been recorded"}),r(`/strategy-workspace/prioritization/${a}/${u}`)},onError:V=>{var S;(S=V.message)!=null&&S.includes("rate limit")?n({title:"Rate limit reached",description:"Please wait a moment before trying again",variant:"destructive"}):n({title:"Failed to save decisions",description:V.message||"An unexpected error occurred. Please try again.",variant:"destructive"})}}),D=V=>{var R;if(!((R=V==null?void 0:V.version)!=null&&R.decisions))return[];const S=V.version.decisions;return Array.isArray(S==null?void 0:S.decisions)?S.decisions:Array.isArray(S)?S:[]},E=(V,S)=>{h(R=>({...R,[V]:S}))},j=()=>{const V=D(g);if(V.length===0)return;if(!V.every(R=>d[R.id])){n({title:"Incomplete selection",description:"Please make a selection for all strategic decisions",variant:"destructive"});return}b.mutate(d)};if(!a)return t.jsxDEV("div",{className:"min-h-screen bg-background flex items-center justify-center p-8",children:t.jsxDEV(it,{variant:"destructive",className:"max-w-md",children:[t.jsxDEV(Dt,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/DecisionPage.tsx",lineNumber:155,columnNumber:11},this),t.jsxDEV(er,{children:"Invalid Session"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/DecisionPage.tsx",lineNumber:156,columnNumber:11},this),t.jsxDEV(at,{children:"No session ID provided in URL"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/DecisionPage.tsx",lineNumber:157,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/DecisionPage.tsx",lineNumber:154,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/DecisionPage.tsx",lineNumber:153,columnNumber:7},this);if(p)return t.jsxDEV("div",{className:"min-h-screen bg-background flex items-center justify-center",children:t.jsxDEV("div",{className:"text-center space-y-4",children:[t.jsxDEV(lt,{className:"h-8 w-8 animate-spin mx-auto text-primary"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/DecisionPage.tsx",lineNumber:167,columnNumber:11},this),t.jsxDEV("p",{className:"text-muted-foreground",children:"Loading strategic decisions..."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/DecisionPage.tsx",lineNumber:168,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/DecisionPage.tsx",lineNumber:166,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/DecisionPage.tsx",lineNumber:165,columnNumber:7},this);const P=D(g);if(N||P.length===0)return t.jsxDEV("div",{className:"min-h-screen bg-background flex items-center justify-center p-8",children:t.jsxDEV(it,{variant:"destructive",className:"max-w-md",children:[t.jsxDEV(Dt,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/DecisionPage.tsx",lineNumber:181,columnNumber:11},this),t.jsxDEV(er,{children:"Decisions Not Found"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/DecisionPage.tsx",lineNumber:182,columnNumber:11},this),t.jsxDEV(at,{children:(N==null?void 0:N.message)||"Unable to load decisions. Please try analyzing again."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/DecisionPage.tsx",lineNumber:183,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/DecisionPage.tsx",lineNumber:180,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/DecisionPage.tsx",lineNumber:179,columnNumber:7},this);const w=P.every(V=>d[V.id]),k=Object.keys(d).length;return t.jsxDEV(st,{title:"Strategic Decisions",subtitle:"Select strategic options for your EPM program",onViewChange:V=>r("/"),children:t.jsxDEV("div",{className:"max-w-6xl mx-auto space-y-4 sm:space-y-6 p-4 sm:p-0",children:[t.jsxDEV("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[t.jsxDEV("div",{children:t.jsxDEV("p",{className:"text-sm text-muted-foreground break-words",children:["Session: ",a," | Version: ",u]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/DecisionPage.tsx",lineNumber:203,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/DecisionPage.tsx",lineNumber:202,columnNumber:11},this),t.jsxDEV("div",{className:"flex flex-col sm:items-end gap-2",children:[t.jsxDEV("div",{className:"text-sm text-muted-foreground","data-testid":"text-selection-progress",children:[k," / ",P.length," selected"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/DecisionPage.tsx",lineNumber:208,columnNumber:13},this),t.jsxDEV(me,{onClick:j,disabled:!w||b.isPending,"data-testid":"button-convert-epm",className:"w-full sm:w-auto",size:"lg",children:b.isPending?t.jsxDEV(t.Fragment,{children:[t.jsxDEV(lt,{className:"mr-2 h-4 w-4 animate-spin"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/DecisionPage.tsx",lineNumber:220,columnNumber:19},this),"Saving..."]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/DecisionPage.tsx",lineNumber:219,columnNumber:17},this):t.jsxDEV(t.Fragment,{children:["Convert to EPM Program ",t.jsxDEV(ar,{className:"ml-2 h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/DecisionPage.tsx",lineNumber:225,columnNumber:42},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/DecisionPage.tsx",lineNumber:224,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/DecisionPage.tsx",lineNumber:211,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/DecisionPage.tsx",lineNumber:207,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/DecisionPage.tsx",lineNumber:201,columnNumber:9},this),t.jsxDEV("div",{className:"space-y-6",children:P.map((V,S)=>t.jsxDEV(Z,{"data-testid":`card-decision-${V.id}`,children:[t.jsxDEV(de,{children:t.jsxDEV("div",{className:"flex items-start justify-between gap-4",children:[t.jsxDEV("div",{className:"flex-1",children:[t.jsxDEV(pe,{className:"text-xl",children:["Decision ",S+1,": ",V.question]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/DecisionPage.tsx",lineNumber:238,columnNumber:21},this),t.jsxDEV(He,{className:"mt-2",children:V.context},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/DecisionPage.tsx",lineNumber:241,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/DecisionPage.tsx",lineNumber:237,columnNumber:19},this),d[V.id]&&t.jsxDEV(se,{variant:"default","data-testid":`badge-selected-${V.id}`,children:"Selected"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/DecisionPage.tsx",lineNumber:244,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/DecisionPage.tsx",lineNumber:236,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/DecisionPage.tsx",lineNumber:235,columnNumber:15},this),t.jsxDEV(te,{children:t.jsxDEV(Xd,{value:d[V.id]||"",onValueChange:R=>E(V.id,R),className:"space-y-4",children:V.options.map(R=>t.jsxDEV("div",{className:`border rounded-lg p-4 transition-all ${d[V.id]===R.id?"border-primary bg-primary/5":R.recommended&&!R.warning?"border-2 border-primary bg-primary/5 hover:border-primary":"border-border hover:border-primary/50"}`,"data-testid":`option-${V.id}-${R.id}`,children:t.jsxDEV("div",{className:"flex items-start space-x-3",children:[t.jsxDEV(co,{value:R.id,id:`${V.id}-${R.id}`,className:"mt-1"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/DecisionPage.tsx",lineNumber:267,columnNumber:25},this),t.jsxDEV("div",{className:"flex-1 space-y-2",children:[t.jsxDEV(br,{htmlFor:`${V.id}-${R.id}`,className:"text-base font-semibold cursor-pointer",children:R.label},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/DecisionPage.tsx",lineNumber:269,columnNumber:27},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:R.description},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/DecisionPage.tsx",lineNumber:275,columnNumber:27},this),R.warning&&t.jsxDEV(it,{variant:"destructive",className:"mt-2",children:[t.jsxDEV(Dt,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/DecisionPage.tsx",lineNumber:279,columnNumber:31},this),t.jsxDEV(at,{children:[t.jsxDEV("span",{className:"font-semibold",children:R.warning},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/DecisionPage.tsx",lineNumber:281,columnNumber:33},this),R.reasoning&&t.jsxDEV("p",{className:"mt-1 text-sm",children:R.reasoning},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/DecisionPage.tsx",lineNumber:283,columnNumber:35},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/DecisionPage.tsx",lineNumber:280,columnNumber:31},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/DecisionPage.tsx",lineNumber:278,columnNumber:29},this),R.reasoning&&!R.warning&&t.jsxDEV("div",{className:"mt-2 p-2 bg-blue-50 dark:bg-blue-950/30 rounded border border-blue-200 dark:border-blue-800",children:t.jsxDEV("p",{className:"text-xs text-blue-900 dark:text-blue-100",children:[t.jsxDEV("span",{className:"font-semibold",children:"Research insight:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/DecisionPage.tsx",lineNumber:292,columnNumber:33},this)," ",R.reasoning]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/DecisionPage.tsx",lineNumber:291,columnNumber:31},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/DecisionPage.tsx",lineNumber:290,columnNumber:29},this),t.jsxDEV("div",{className:"flex items-center gap-4 text-xs flex-wrap",children:[R.estimated_cost&&t.jsxDEV(se,{variant:"outline",className:"font-normal",children:["$",(R.estimated_cost.min/1e6).toFixed(1),"M - $",(R.estimated_cost.max/1e6).toFixed(1),"M"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/DecisionPage.tsx",lineNumber:299,columnNumber:31},this),R.estimated_timeline_months&&t.jsxDEV(se,{variant:"outline",className:"font-normal",children:[R.estimated_timeline_months," months"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/DecisionPage.tsx",lineNumber:304,columnNumber:31},this),R.recommended&&!R.warning&&t.jsxDEV(se,{variant:"default",className:"font-normal flex items-center gap-1",children:[t.jsxDEV(ng,{className:"w-3 h-3"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/DecisionPage.tsx",lineNumber:310,columnNumber:33},this),"Recommended"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/DecisionPage.tsx",lineNumber:309,columnNumber:31},this),R.warning&&t.jsxDEV(se,{variant:"destructive",className:"font-normal",children:" Not Recommended"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/DecisionPage.tsx",lineNumber:315,columnNumber:31},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/DecisionPage.tsx",lineNumber:297,columnNumber:27},this),t.jsxDEV("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4 pt-2",children:[R.pros&&R.pros.length>0&&t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-xs font-medium text-green-600 dark:text-green-400 mb-1",children:"Pros:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/DecisionPage.tsx",lineNumber:324,columnNumber:33},this),t.jsxDEV("ul",{className:"list-disc list-inside text-xs text-muted-foreground space-y-0.5",children:R.pros.map((M,T)=>t.jsxDEV("li",{children:M},T,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/DecisionPage.tsx",lineNumber:327,columnNumber:37},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/DecisionPage.tsx",lineNumber:325,columnNumber:33},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/DecisionPage.tsx",lineNumber:323,columnNumber:31},this),R.cons&&R.cons.length>0&&t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-xs font-medium text-red-600 dark:text-red-400 mb-1",children:"Cons:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/DecisionPage.tsx",lineNumber:334,columnNumber:33},this),t.jsxDEV("ul",{className:"list-disc list-inside text-xs text-muted-foreground space-y-0.5",children:R.cons.map((M,T)=>t.jsxDEV("li",{children:M},T,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/DecisionPage.tsx",lineNumber:337,columnNumber:37},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/DecisionPage.tsx",lineNumber:335,columnNumber:33},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/DecisionPage.tsx",lineNumber:333,columnNumber:31},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/DecisionPage.tsx",lineNumber:321,columnNumber:27},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/DecisionPage.tsx",lineNumber:268,columnNumber:25},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/DecisionPage.tsx",lineNumber:266,columnNumber:23},this)},R.id,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/DecisionPage.tsx",lineNumber:255,columnNumber:21},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/DecisionPage.tsx",lineNumber:249,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/DecisionPage.tsx",lineNumber:248,columnNumber:15},this)]},V.id,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/DecisionPage.tsx",lineNumber:234,columnNumber:13},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/DecisionPage.tsx",lineNumber:232,columnNumber:9},this),t.jsxDEV("div",{className:"flex justify-end pt-4",children:t.jsxDEV(me,{size:"lg",onClick:j,disabled:!w||b.isPending,"data-testid":"button-convert-epm-bottom",className:"w-full sm:w-auto",children:b.isPending?t.jsxDEV(t.Fragment,{children:[t.jsxDEV(lt,{className:"mr-2 h-4 w-4 animate-spin"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/DecisionPage.tsx",lineNumber:363,columnNumber:17},this),"Saving Decisions..."]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/DecisionPage.tsx",lineNumber:362,columnNumber:15},this):t.jsxDEV(t.Fragment,{children:["Convert to EPM Program ",t.jsxDEV(ar,{className:"ml-2 h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/DecisionPage.tsx",lineNumber:368,columnNumber:40},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/DecisionPage.tsx",lineNumber:367,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/DecisionPage.tsx",lineNumber:354,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/DecisionPage.tsx",lineNumber:353,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/DecisionPage.tsx",lineNumber:200,columnNumber:7},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/DecisionPage.tsx",lineNumber:195,columnNumber:5},this)}const Di=220,Vu=110,Ap=40,aoe=140,Ki=3,VF=220,ci=(e,r)=>`${e}-${r}`;function ooe(e){const r={},n=[],s=Array.from(e).map(d=>{const[h,g]=d.split("-").map(p=>parseInt(p,10));return{d:h,i:g,key:d}});s.sort((d,h)=>d.d-h.d||d.i-h.i);const a={};s.forEach(d=>{const h=ci(d.d,d.i);if(a[h]=[],d.d<5)for(let g=0;g<Ki;g++){const p=d.i*Ki+g,N=ci(d.d+1,p);e.has(N)&&a[h].push({d:d.d+1,i:p,key:N})}});const l={},c=(d,h)=>{const g=ci(d,h),p=a[g]||[];if(p.length===0)return l[g]=Di+Ap,l[g];let N=0;return p.forEach(b=>{N+=c(b.d,b.i)}),l[g]=Math.max(Di+Ap,N),l[g]};e.has("0-0")&&c(0,0);const u=(d,h,g)=>{const p=ci(d,h),N=l[p]??Di+Ap,b=g+N/2,D=d*(Vu+aoe);r[p]={d,i:h,x:b,y:D,key:p};const E=a[p]||[];if(E.length>0){let j=g;E.forEach(P=>{const w=l[ci(P.d,P.i)]??Di+Ap;u(P.d,P.i,j),j+=w})}};if(e.has("0-0")){const d=l["0-0"]??Di+Ap;u(0,0,-d/2)}return s.forEach(d=>{if(d.d>0){const h=Math.floor(d.i/Ki),g=ci(d.d-1,h);r[g]&&r[d.key]&&n.push({key:`e-${g}-${d.key}`,parent:g,child:d.key})}}),{nodes:Object.values(r),edges:n}}function loe(e){if(e.length===0)return{x:-200,y:-50,w:400,h:200};let r=1/0,n=-1/0,s=1/0,a=-1/0;e.forEach(u=>{u.x-Di/2<r&&(r=u.x-Di/2),u.x+Di/2>n&&(n=u.x+Di/2),u.y<s&&(s=u.y),u.y+Vu+30>a&&(a=u.y+Vu+30)});const l=120,c=100;return{x:r-l,y:s-c,w:n-r+l*2,h:a-s+c*2}}function coe(e,r=VF){if(!e)return"";const n=e.trim();return n.length<=r?n:n.slice(0,r-1).trimEnd()+""}function tM(e){var l;if(!e)return"";let r=e.replace(//g," ").replace(/\s+/g," ").trim();r=((l=r.split(/[.!?]/)[0])==null?void 0:l.trim())||r;const s=[" through "," where "," while "," which "," that "," because "," due to "];for(const c of s){const u=r.toLowerCase().indexOf(c);if(u>40){r=r.slice(0,u).trim();break}}const a=r.split(" ");return a.length>16&&(r=a.slice(0,16).join(" ")),coe(r,VF)}function uoe(){const[,e]=Xn("/strategic-consultant/whys-tree/:understandingId"),[,r]=or(),{toast:n}=ur(),s=e==null?void 0:e.understandingId,[a,l]=v.useState(null),[c,u]=v.useState(null),[d,h]=v.useState(!0),[g,p]=v.useState(!1),[N,b]=v.useState(null),[D,E]=v.useState(new Set(["0-0"])),[j,P]=v.useState({}),[w,k]=v.useState({}),V=v.useRef(new Map),[S,R]=v.useState(null),[M,T]=v.useState([]),[A,F]=v.useState(""),[L,$]=v.useState(!1),[W,O]=v.useState(null),Y=v.useRef(null),H=v.useRef({x:-200,y:-50,w:400,h:200}),[q,z]=v.useState(H.current),[G,ee]=v.useState(!1),K=v.useRef({x:0,y:0,vx:0,vy:0}),be=v.useMemo(()=>new Set(M),[M]),_e=v.useMemo(()=>S&&w[S]||null,[w,S]),oe=v.useMemo(()=>S&&V.current.get(S)||null,[S]),fe=(oe==null?void 0:oe.depth)??0,Ae=S?be.has(S):!1,ge=!!(S&&_e&&!_e.isRoot&&fe>=4),Pe=!!(S&&_e&&!_e.isRoot&&fe<4);v.useEffect(()=>{(async()=>{if(!s){h(!1);return}h(!0);try{const we=await fetch(`/api/strategic-consultant/understanding/${s}`);if(!we.ok)throw new Error("Failed to fetch understanding");const Ve=await we.json(),ke=localStorage.getItem(`current-journey-session-${Ve.id}`);if(ke)try{const Oe=await fetch(`/api/strategic-consultant/journey-sessions/${ke}`);if(Oe.ok){const et=await Oe.json();et.journeyType&&(localStorage.setItem(`journey-type-${Ve.sessionId}`,et.journeyType),Ve.journeyType=et.journeyType),et.versionNumber&&(localStorage.setItem(`journey-version-${Ve.sessionId}`,String(et.versionNumber)),localStorage.setItem(`journey-version-${ke}`,String(et.versionNumber)),localStorage.setItem(`strategic-versionNumber-${Ve.sessionId}`,String(et.versionNumber))),u(ke)}}catch(Oe){console.warn("Could not fetch journey session:",Oe)}l(Ve)}catch(we){n({title:"Failed to load data",description:we.message||"Could not load strategic understanding",variant:"destructive"})}finally{h(!1)}})()},[s]),v.useEffect(()=>{a&&(async()=>{if(a){p(!0);try{const Ve=await(await Zt("POST","/api/strategic-consultant/whys-tree/generate",{sessionId:a.sessionId,input:a.userInput})).json();ze(Ve.tree)}catch(we){n({title:"Tree generation failed",description:we.message||"Failed to generate decision tree",variant:"destructive"})}finally{p(!1)}}})()},[a]);const ze=ue=>{b({rootQuestion:ue.rootQuestion,maxDepth:ue.maxDepth}),V.current.clear(),T([]);const we="root",Ve=ci(0,0);V.current.set(we,{depth:0,index:0,questionAsked:ue.rootQuestion});const ke={label:ue.rootQuestion,depth:1,isRoot:!0},Oe={[we]:ke},et={[Ve]:we},Fe=new Set([Ve]);ue.branches.forEach((Je,Nt)=>{const Vt=ci(1,Nt);V.current.set(Je.id,{parentId:we,depth:1,index:Nt,questionAsked:ue.rootQuestion}),et[Vt]=Je.id,Oe[Je.id]={label:Je.option,summary:Je.summary,option:Je.consideration,questionAsked:ue.rootQuestion,nextQuestion:Je.question,depth:2,supporting_evidence:Je.supporting_evidence,counter_arguments:Je.counter_arguments,consideration:Je.consideration},Fe.add(Vt)}),P(et),k(Oe),E(Fe),R(we)},We=v.useMemo(()=>ooe(D),[D]),Re=v.useMemo(()=>{const ue={};return We.nodes.forEach(we=>{ue[we.key]={x:we.x,y:we.y}}),ue},[We.nodes]);v.useEffect(()=>{const ue=loe(We.nodes);H.current=ue,z(ue)},[We]);const Ee=v.useCallback(ue=>{const we=V.current.get(ue);if(!we)return;const Ve=ci(we.depth,we.index),ke=Re[Ve];if(!ke)return;const Oe=H.current,et=ke.x,Fe=ke.y,Je={x:et-Oe.w/2,y:Fe-Oe.h/2,w:Oe.w,h:Oe.h};H.current=Je,z(Je)},[Re]),ie=ue=>{const we=[];let Ve=ue;for(;Ve;){const ke=V.current.get(Ve),Oe=w[Ve];if(Oe&&Oe.label&&!Oe.isRoot){const et=ke!=null&&ke.depth?`Why ${ke.depth}?`:"Why?";we.push({question:(ke==null?void 0:ke.questionAsked)||et,answer:Oe.label})}Ve=ke==null?void 0:ke.parentId}return we.reverse()},ve=async ue=>{var Fe,Je;if(!a||L)return;const we=V.current.get(ue);if(!we||!N||we.depth>=N.maxDepth-1)return;$(!0);const Ve=[0,1,2].map(Nt=>ci(we.depth+1,we.index*Ki+Nt)),ke=new Set(D),Oe={...j},et={...w};Ve.forEach((Nt,Vt)=>{if(!Oe[Nt]){const Ot=`temp-${Nt}`;Oe[Nt]=Ot,et[Ot]={label:"Loading...",depth:we.depth+2,isLoading:!0}}ke.add(Nt)}),E(ke),P(Oe),k(et);try{const Vt=await(await Zt("POST","/api/strategic-consultant/whys-tree/expand",{sessionId:a.sessionId,nodeId:ue,selectedPath:ie(ue),currentDepth:we.depth+1,parentQuestion:((Fe=w[ue])==null?void 0:Fe.nextQuestion)||((Je=w[ue])==null?void 0:Je.label),input:a.userInput})).json();if(!Vt.expandedBranches||Vt.expandedBranches.length===0){$(!1);return}const Ot={...Oe},fr={...et};Vt.expandedBranches.forEach((_t,Zr)=>{var wr,gn,Nn,$r;const xr=Ve[Zr]||Ve[0],mr=Ot[xr];mr&&mr.startsWith("temp-")&&delete fr[mr],Ot[xr]=_t.id,fr[_t.id]={label:_t.option,summary:_t.summary,option:_t.consideration,questionAsked:((wr=w[ue])==null?void 0:wr.nextQuestion)||((gn=w[ue])==null?void 0:gn.label),nextQuestion:_t.question,depth:we.depth+2,supporting_evidence:_t.supporting_evidence,counter_arguments:_t.counter_arguments,consideration:_t.consideration},V.current.set(_t.id,{parentId:ue,depth:we.depth+1,index:we.index*Ki+Zr,questionAsked:((Nn=w[ue])==null?void 0:Nn.nextQuestion)||(($r=w[ue])==null?void 0:$r.label)})}),P(Ot),k(fr),ne(ue,we.depth+1,Ot,fr,ke)}catch(Nt){n({title:"Expansion failed",description:Nt.message||"Failed to expand branch",variant:"destructive"})}finally{$(!1)}},ne=async(ue,we,Ve,ke,Oe)=>{var Nt,Vt;if(!a||!N||we>=N.maxDepth)return;const et=V.current.get(ue);if(!et)return;const Fe=Math.floor(et.index/Ki),Je=[0,1,2].map(Ot=>Fe*Ki+Ot);for(const Ot of Je){const fr=ci(we,Ot),_t=Ve[fr];if(!(!_t||_t===ue||[0,1,2].some(xr=>Ve[ci(we+1,Ot*Ki+xr)])))try{const mr=await(await Zt("POST","/api/strategic-consultant/whys-tree/expand",{sessionId:a.sessionId,nodeId:_t,selectedPath:ie(_t),currentDepth:we,parentQuestion:((Nt=ke[_t])==null?void 0:Nt.nextQuestion)||((Vt=ke[_t])==null?void 0:Vt.label),input:a.userInput})).json();if(!mr.expandedBranches||mr.expandedBranches.length===0)continue;const wr={...Ve},gn={...ke},Nn=new Set(Oe);mr.expandedBranches.forEach(($r,Ds)=>{var Ys,Xs,Qs,Zs;const di=ci(we+1,Ot*Ki+Ds);wr[di]=$r.id,gn[$r.id]={label:$r.option,option:$r.consideration,questionAsked:((Ys=ke[_t])==null?void 0:Ys.nextQuestion)||((Xs=ke[_t])==null?void 0:Xs.label),nextQuestion:$r.question,depth:we+2,supporting_evidence:$r.supporting_evidence,counter_arguments:$r.counter_arguments,consideration:$r.consideration},V.current.set($r.id,{parentId:_t,depth:we+1,index:Ot*Ki+Ds,questionAsked:((Qs=ke[_t])==null?void 0:Qs.nextQuestion)||((Zs=ke[_t])==null?void 0:Zs.label)}),Nn.add(di)}),P(wr),k(gn),E(Nn)}catch{}}},le=()=>{!_e||_e.isRoot||S&&(T(ue=>ue.includes(S)?ue:[...ue,S]),ve(S))},Ue=async()=>{if(!S||!a)return;const ue=w[S];if(!ue||ue.isRoot||!ge)return;const we=localStorage.getItem(`journey-version-${a.sessionId}`)||(c?localStorage.getItem(`journey-version-${c}`):null)||localStorage.getItem(`strategic-versionNumber-${a.sessionId}`),Ve=we?parseInt(we,10):NaN,ke=Number.isFinite(Ve)?Ve:void 0;try{$(!0),O(null);const et=await(await Zt("POST","/api/strategic-consultant/whys-tree/validate-root-cause",{rootCauseText:ue.label})).json();if(!et.valid){O(et.message||"This root cause needs refinement.");return}const Fe=c||a.sessionId,Je=ie(S),Vt=await(await Zt("POST","/api/strategic-consultant/whys-tree/finalize",{sessionId:a.sessionId,selectedPath:Je,rootCause:ue.label,input:a.userInput,versionNumber:ke})).json();Vt!=null&&Vt.versionNumber&&(localStorage.setItem(`strategic-versionNumber-${Fe}`,String(Vt.versionNumber)),localStorage.setItem(`journey-version-${Fe}`,String(Vt.versionNumber)),c&&localStorage.setItem(`journey-version-${c}`,String(Vt.versionNumber))),localStorage.setItem(`strategic-rootCause-${Fe}`,ue.label||""),localStorage.setItem(`strategic-whysPath-${Fe}`,JSON.stringify(Je)),localStorage.setItem(`strategic-input-${Fe}`,a.userInput),localStorage.setItem(`journey-type-${Fe}`,a.journeyType||""),n({title:"Root cause identified",description:"Proceeding to research phase"}),r(`/strategic-consultant/research/${Fe}`)}catch(Oe){n({title:"Finalization failed",description:Oe.message||"Failed to finalize root cause",variant:"destructive"})}finally{$(!1)}},bt=()=>{var Fe,Je;if(!A.trim()||!S||!N)return;const ue=V.current.get(S);if(!ue)return;const we=ci(ue.depth+1,ue.index*Ki),Ve=`custom-${Date.now()}`,ke=new Set(D);ke.add(we);const Oe={...j,[we]:Ve},et={...w,[Ve]:{label:A.trim(),summary:tM(A.trim()),depth:ue.depth+2,questionAsked:(Fe=w[S])==null?void 0:Fe.label,nextQuestion:`Why is this? (${A.trim()})`,consideration:"Custom option"}};V.current.set(Ve,{parentId:S,depth:ue.depth+1,index:ue.index*Ki,questionAsked:(Je=w[S])==null?void 0:Je.label}),E(ke),P(Oe),k(et),F("")},ht=ue=>{ue.target.closest("[data-node]")||(ee(!0),K.current={x:ue.clientX,y:ue.clientY,vx:H.current.x,vy:H.current.y})},Mt=ue=>{if(!G)return;const we=Y.current;if(!we)return;const Ve=we.getBoundingClientRect(),ke=H.current,Oe=(ue.clientX-K.current.x)*(ke.w/Ve.width),et=(ue.clientY-K.current.y)*(ke.h/Ve.height),Fe={x:K.current.vx-Oe,y:K.current.vy-et,w:ke.w,h:ke.h};H.current=Fe,z(Fe)},Kt=()=>ee(!1),re=(ue,we,Ve)=>{const ke=Y.current;if(!ke)return;const Oe=ke.getBoundingClientRect(),et=H.current,Fe=we!==void 0?we:Oe.left+Oe.width/2,Je=Ve!==void 0?Ve:Oe.top+Oe.height/2,Nt=(Fe-Oe.left)/Oe.width*et.w+et.x,Vt=(Je-Oe.top)/Oe.height*et.h+et.y,Ot={x:Nt-(Nt-et.x)*ue,y:Vt-(Vt-et.y)*ue,w:et.w*ue,h:et.h*ue};H.current=Ot,z(Ot)};if(v.useEffect(()=>{const ue=Y.current;if(!ue)return;const we=Ve=>{if(!Ve.shiftKey)return;Ve.preventDefault();const ke=Ve.deltaY>0?1.1:.91;re(ke,Ve.clientX,Ve.clientY)};return ue.addEventListener("wheel",we,{passive:!1}),()=>ue.removeEventListener("wheel",we)},[]),d||g)return t.jsxDEV(st,{children:t.jsxDEV("div",{className:"flex items-center justify-center h-[70vh]",children:t.jsxDEV(lt,{className:"h-8 w-8 animate-spin text-primary"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/WhysTreePage.tsx",lineNumber:750,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/WhysTreePage.tsx",lineNumber:749,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/WhysTreePage.tsx",lineNumber:748,columnNumber:7},this);const ye=`${q.x} ${q.y} ${q.w} ${q.h}`;return t.jsxDEV(st,{children:t.jsxDEV("div",{className:"flex h-[calc(100vh-4rem)]",children:[t.jsxDEV("div",{className:"flex-1 relative bg-background",children:[t.jsxDEV("div",{className:"absolute bottom-6 left-6 z-10 flex flex-col gap-2",children:[t.jsxDEV(me,{size:"sm",onClick:()=>re(.9),"aria-label":"Zoom in",children:"+"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/WhysTreePage.tsx",lineNumber:763,columnNumber:13},this),t.jsxDEV(me,{size:"sm",onClick:()=>re(1.1),"aria-label":"Zoom out",children:""},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/WhysTreePage.tsx",lineNumber:766,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/WhysTreePage.tsx",lineNumber:762,columnNumber:11},this),t.jsxDEV("svg",{ref:Y,className:"w-full h-full",viewBox:ye,onMouseDown:ht,onMouseMove:Mt,onMouseUp:Kt,onMouseLeave:Kt,children:[t.jsxDEV("rect",{x:q.x,y:q.y,width:q.w,height:q.h,fill:"transparent"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/WhysTreePage.tsx",lineNumber:779,columnNumber:13},this),We.edges.map(ue=>{const we=Re[ue.parent],Ve=Re[ue.child],ke=j[ue.parent],Oe=j[ue.child];if(!we||!Ve||!ke||!Oe)return null;const et=be.has(Oe),Fe=S===Oe,Je=et?"#00d4aa":Fe?"#f5b700":"#7b879b",Nt=we.x,Vt=we.y+Vu,Ot=Ve.x,fr=Ve.y,_t=(Vt+fr)/2,Zr=`M ${Nt} ${Vt} C ${Nt} ${_t}, ${Ot} ${_t}, ${Ot} ${fr}`;return t.jsxDEV("path",{d:Zr,stroke:Je,strokeWidth:et||Fe?3:2,fill:"none",opacity:1},ue.key,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/WhysTreePage.tsx",lineNumber:796,columnNumber:17},this)}),We.nodes.map(ue=>{const we=j[ue.key];if(!we)return null;const Ve=w[we];if(!Ve)return null;const ke=we===S,Oe=be.has(we);return t.jsxDEV("g",{"data-node":!0,onClick:()=>{R(we),Ee(we)},children:[t.jsxDEV("rect",{x:ue.x-Di/2,y:ue.y,width:Di,height:Vu,rx:12,fill:"#0f172a",stroke:Oe?"#00d4aa":ke?"#f5b700":"#3b4657",strokeWidth:Oe||ke?2.5:1.5},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/WhysTreePage.tsx",lineNumber:823,columnNumber:19},this),t.jsxDEV("foreignObject",{x:ue.x-Di/2+10,y:ue.y+10,width:Di-20,height:Vu-20,children:t.jsxDEV("div",{style:{color:"#e2e8f0",fontSize:11,lineHeight:1.2,height:Vu-20,overflow:"hidden"},children:t.jsxDEV("div",{style:{fontWeight:600},children:Ve.summary||tM(Ve.label)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/WhysTreePage.tsx",lineNumber:843,columnNumber:23},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/WhysTreePage.tsx",lineNumber:834,columnNumber:21},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/WhysTreePage.tsx",lineNumber:833,columnNumber:19},this)]},ue.key,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/WhysTreePage.tsx",lineNumber:815,columnNumber:17},this)})]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/WhysTreePage.tsx",lineNumber:770,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/WhysTreePage.tsx",lineNumber:761,columnNumber:9},this),t.jsxDEV("aside",{className:"w-96 border-l border-border bg-background/80 backdrop-blur p-4 space-y-4 overflow-y-auto",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(se,{variant:"secondary",children:"Five Whys"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/WhysTreePage.tsx",lineNumber:856,columnNumber:13},this),t.jsxDEV("h2",{className:"text-lg font-semibold",children:"Path Navigator"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/WhysTreePage.tsx",lineNumber:857,columnNumber:13},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Click a node to select it. Use Select this as my why to confirm and expand."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/WhysTreePage.tsx",lineNumber:858,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/WhysTreePage.tsx",lineNumber:855,columnNumber:11},this),W&&t.jsxDEV(it,{variant:"destructive",children:[t.jsxDEV(er,{children:"Validation Warning"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/WhysTreePage.tsx",lineNumber:865,columnNumber:15},this),t.jsxDEV(at,{children:W},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/WhysTreePage.tsx",lineNumber:866,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/WhysTreePage.tsx",lineNumber:864,columnNumber:13},this),_e?t.jsxDEV(Z,{children:[t.jsxDEV(de,{children:t.jsxDEV(pe,{className:"text-base",children:"Selected Why"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/WhysTreePage.tsx",lineNumber:873,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/WhysTreePage.tsx",lineNumber:872,columnNumber:15},this),t.jsxDEV(te,{className:"space-y-3 text-sm",children:[t.jsxDEV("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[t.jsxDEV(se,{variant:"outline",children:["Level ",fe+1]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/WhysTreePage.tsx",lineNumber:877,columnNumber:19},this),Ae?t.jsxDEV(se,{className:"bg-emerald-500/10 text-emerald-300 border-emerald-400/40",variant:"outline",children:"Confirmed"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/WhysTreePage.tsx",lineNumber:879,columnNumber:21},this):t.jsxDEV(se,{className:"bg-amber-500/10 text-amber-300 border-amber-400/40",variant:"outline",children:"Selected"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/WhysTreePage.tsx",lineNumber:883,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/WhysTreePage.tsx",lineNumber:876,columnNumber:17},this),t.jsxDEV("div",{children:[t.jsxDEV("div",{className:"text-xs text-muted-foreground",children:"Statement"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/WhysTreePage.tsx",lineNumber:889,columnNumber:19},this),t.jsxDEV("div",{className:"font-medium",children:_e.label},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/WhysTreePage.tsx",lineNumber:890,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/WhysTreePage.tsx",lineNumber:888,columnNumber:17},this),_e.consideration&&t.jsxDEV("div",{children:[t.jsxDEV("div",{className:"text-xs text-muted-foreground",children:"Consideration"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/WhysTreePage.tsx",lineNumber:894,columnNumber:21},this),t.jsxDEV("div",{children:_e.consideration},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/WhysTreePage.tsx",lineNumber:895,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/WhysTreePage.tsx",lineNumber:893,columnNumber:19},this),_e.supporting_evidence&&_e.supporting_evidence.length>0&&t.jsxDEV("div",{children:[t.jsxDEV("div",{className:"text-xs text-muted-foreground",children:"Evidence"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/WhysTreePage.tsx",lineNumber:900,columnNumber:21},this),t.jsxDEV("ul",{className:"list-disc ml-4 space-y-1",children:_e.supporting_evidence.map((ue,we)=>t.jsxDEV("li",{children:ue},we,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/WhysTreePage.tsx",lineNumber:903,columnNumber:25},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/WhysTreePage.tsx",lineNumber:901,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/WhysTreePage.tsx",lineNumber:899,columnNumber:19},this),_e.counter_arguments&&_e.counter_arguments.length>0&&t.jsxDEV("div",{children:[t.jsxDEV("div",{className:"text-xs text-muted-foreground",children:"Counterpoints"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/WhysTreePage.tsx",lineNumber:910,columnNumber:21},this),t.jsxDEV("ul",{className:"list-disc ml-4 space-y-1",children:_e.counter_arguments.map((ue,we)=>t.jsxDEV("li",{children:ue},we,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/WhysTreePage.tsx",lineNumber:913,columnNumber:25},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/WhysTreePage.tsx",lineNumber:911,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/WhysTreePage.tsx",lineNumber:909,columnNumber:19},this),!_e.isRoot&&t.jsxDEV("div",{className:"pt-2 space-y-2",children:[Pe&&t.jsxDEV(me,{className:"w-full",onClick:le,disabled:L,children:[t.jsxDEV(ar,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/WhysTreePage.tsx",lineNumber:923,columnNumber:25},this),"Select this as my why"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/WhysTreePage.tsx",lineNumber:922,columnNumber:23},this),ge&&t.jsxDEV(me,{className:"w-full",onClick:Ue,disabled:L,children:[L?t.jsxDEV(lt,{className:"h-4 w-4 mr-2 animate-spin"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/WhysTreePage.tsx",lineNumber:930,columnNumber:27},this):t.jsxDEV(tr,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/WhysTreePage.tsx",lineNumber:932,columnNumber:27},this),L?"Finalizing...":"This is my root cause"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/WhysTreePage.tsx",lineNumber:928,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/WhysTreePage.tsx",lineNumber:920,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/WhysTreePage.tsx",lineNumber:875,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/WhysTreePage.tsx",lineNumber:871,columnNumber:13},this):t.jsxDEV(Z,{children:t.jsxDEV(te,{className:"py-6 text-sm text-muted-foreground",children:"Select a node in the graph to see details and actions."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/WhysTreePage.tsx",lineNumber:943,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/WhysTreePage.tsx",lineNumber:942,columnNumber:13},this),t.jsxDEV(Z,{children:[t.jsxDEV(de,{children:t.jsxDEV(pe,{className:"text-base",children:"Add a Custom Why"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/WhysTreePage.tsx",lineNumber:951,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/WhysTreePage.tsx",lineNumber:950,columnNumber:13},this),t.jsxDEV(te,{className:"space-y-3",children:[t.jsxDEV(In,{value:A,onChange:ue=>F(ue.target.value),placeholder:"Add your own why statement here..."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/WhysTreePage.tsx",lineNumber:954,columnNumber:15},this),t.jsxDEV(me,{variant:"secondary",className:"w-full",onClick:bt,disabled:!S,children:[t.jsxDEV(ar,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/WhysTreePage.tsx",lineNumber:960,columnNumber:17},this),"Add as child of selected node"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/WhysTreePage.tsx",lineNumber:959,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/WhysTreePage.tsx",lineNumber:953,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/WhysTreePage.tsx",lineNumber:949,columnNumber:11},this),L&&t.jsxDEV(it,{children:[t.jsxDEV(er,{children:"Generating next why..."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/WhysTreePage.tsx",lineNumber:968,columnNumber:15},this),t.jsxDEV(at,{children:t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(lt,{className:"h-4 w-4 animate-spin"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/WhysTreePage.tsx",lineNumber:971,columnNumber:19},this),"Preparing new branch options."]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/WhysTreePage.tsx",lineNumber:970,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/WhysTreePage.tsx",lineNumber:969,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/WhysTreePage.tsx",lineNumber:967,columnNumber:13},this),N&&t.jsxDEV("div",{className:"text-xs text-muted-foreground",children:["Depth target: ",N.maxDepth," levels"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/WhysTreePage.tsx",lineNumber:979,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/WhysTreePage.tsx",lineNumber:854,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/WhysTreePage.tsx",lineNumber:760,columnNumber:7},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/WhysTreePage.tsx",lineNumber:759,columnNumber:5},this)}const rM=new Set;function A0(e,r,n){e||rM.has(r)||(console.warn(r),rM.add(r))}function moe(e){if(typeof Proxy>"u")return e;const r=new Map,n=(...s)=>(A0(!1,"motion() is deprecated. Use motion.create() instead."),e(...s));return new Proxy(n,{get:(s,a)=>a==="create"?e:(r.has(a)||r.set(a,e(a)),r.get(a))})}function _0(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const tj=e=>Array.isArray(e);function PF(e,r){if(!Array.isArray(r))return!1;const n=r.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(r[s]!==e[s])return!1;return!0}function ug(e){return typeof e=="string"||Array.isArray(e)}function nM(e){const r=[{},{}];return e==null||e.values.forEach((n,s)=>{r[0][s]=n.get(),r[1][s]=n.getVelocity()}),r}function qV(e,r,n,s){if(typeof r=="function"){const[a,l]=nM(s);r=r(n!==void 0?n:e.custom,a,l)}if(typeof r=="string"&&(r=e.variants&&e.variants[r]),typeof r=="function"){const[a,l]=nM(s);r=r(n!==void 0?n:e.custom,a,l)}return r}function F0(e,r,n){const s=e.getProps();return qV(s,r,n!==void 0?n:s.custom,e)}const YV=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],XV=["initial",...YV],zg=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],rm=new Set(zg),po=e=>e*1e3,ol=e=>e/1e3,doe={type:"spring",stiffness:500,damping:25,restSpeed:10},hoe=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),foe={type:"keyframes",duration:.8},poe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},goe=(e,{keyframes:r})=>r.length>2?foe:rm.has(e)?e.startsWith("scale")?hoe(r[1]):doe:poe;function QV(e,r){return e?e[r]||e.default||e:void 0}const Noe={useManualTiming:!1},xoe=e=>e!==null;function I0(e,{repeat:r,repeatType:n="loop"},s){const a=e.filter(xoe),l=r&&n!=="loop"&&r%2===1?0:a.length-1;return!l||s===void 0?a[l]:s}const ws=e=>e;let Oh=ws,fl=ws;Oh=(e,r)=>{!e&&typeof console<"u"&&console.warn(r)},fl=(e,r)=>{if(!e)throw new Error(r)};function boe(e){let r=new Set,n=new Set,s=!1,a=!1;const l=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function u(h){l.has(h)&&(d.schedule(h),e()),h(c)}const d={schedule:(h,g=!1,p=!1)=>{const b=p&&s?r:n;return g&&l.add(h),b.has(h)||b.add(h),h},cancel:h=>{n.delete(h),l.delete(h)},process:h=>{if(c=h,s){a=!0;return}s=!0,[r,n]=[n,r],n.clear(),r.forEach(u),s=!1,a&&(a=!1,d.process(h))}};return d}const wb=["read","resolveKeyframes","update","preRender","render","postRender"],voe=40;function SF(e,r){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=wb.reduce((P,w)=>(P[w]=boe(l),P),{}),{read:u,resolveKeyframes:d,update:h,preRender:g,render:p,postRender:N}=c,b=()=>{const P=performance.now();n=!1,a.delta=s?1e3/60:Math.max(Math.min(P-a.timestamp,voe),1),a.timestamp=P,a.isProcessing=!0,u.process(a),d.process(a),h.process(a),g.process(a),p.process(a),N.process(a),a.isProcessing=!1,n&&r&&(s=!1,e(b))},D=()=>{n=!0,s=!0,a.isProcessing||e(b)};return{schedule:wb.reduce((P,w)=>{const k=c[w];return P[w]=(V,S=!1,R=!1)=>(n||D(),k.schedule(V,S,R)),P},{}),cancel:P=>{for(let w=0;w<wb.length;w++)c[wb[w]].cancel(P)},state:a,steps:c}}const{schedule:Hr,cancel:pl,state:is,steps:$E}=SF(typeof requestAnimationFrame<"u"?requestAnimationFrame:ws,!0),CF=(e,r,n)=>(((1-3*n+3*r)*e+(3*n-6*r))*e+3*r)*e,yoe=1e-7,woe=12;function koe(e,r,n,s,a){let l,c,u=0;do c=r+(n-r)/2,l=CF(c,s,a)-e,l>0?n=c:r=c;while(Math.abs(l)>yoe&&++u<woe);return c}function Wg(e,r,n,s){if(e===r&&n===s)return ws;const a=l=>koe(l,0,1,e,n);return l=>l===0||l===1?l:CF(a(l),r,s)}const RF=e=>r=>r<=.5?e(2*r)/2:(2-e(2*(1-r)))/2,MF=e=>r=>1-e(1-r),TF=Wg(.33,1.53,.69,.99),ZV=MF(TF),AF=RF(ZV),_F=e=>(e*=2)<1?.5*ZV(e):.5*(2-Math.pow(2,-10*(e-1))),eP=e=>1-Math.sin(Math.acos(e)),FF=MF(eP),IF=RF(eP),OF=e=>/^0[^.\s]+$/u.test(e);function Eoe(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||OF(e):!0}const LF=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),$F=e=>r=>typeof r=="string"&&r.startsWith(e),BF=$F("--"),Doe=$F("var(--"),tP=e=>Doe(e)?joe.test(e.split("/*")[0].trim()):!1,joe=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Voe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Poe(e){const r=Voe.exec(e);if(!r)return[,];const[,n,s,a]=r;return[`--${n??s}`,a]}const Soe=4;function zF(e,r,n=1){fl(n<=Soe,`Max CSS variable fallback depth detected in property "${e}". This may indicate a circular fallback dependency.`);const[s,a]=Poe(e);if(!s)return;const l=window.getComputedStyle(r).getPropertyValue(s);if(l){const c=l.trim();return LF(c)?parseFloat(c):c}return tP(a)?zF(a,r,n+1):a}const gl=(e,r,n)=>n>r?r:n<e?e:n,Lh={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},mg={...Lh,transform:e=>gl(0,1,e)},kb={...Lh,default:1},Ug=e=>({test:r=>typeof r=="string"&&r.endsWith(e)&&r.split(" ").length===1,parse:parseFloat,transform:r=>`${r}${e}`}),ac=Ug("deg"),go=Ug("%"),Ut=Ug("px"),Coe=Ug("vh"),Roe=Ug("vw"),sM={...go,parse:e=>go.parse(e)/100,transform:e=>go.transform(e*100)},Moe=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),iM=e=>e===Lh||e===Ut,aM=(e,r)=>parseFloat(e.split(", ")[r]),oM=(e,r)=>(n,{transform:s})=>{if(s==="none"||!s)return 0;const a=s.match(/^matrix3d\((.+)\)$/u);if(a)return aM(a[1],r);{const l=s.match(/^matrix\((.+)\)$/u);return l?aM(l[1],e):0}},Toe=new Set(["x","y","z"]),Aoe=zg.filter(e=>!Toe.has(e));function _oe(e){const r=[];return Aoe.forEach(n=>{const s=e.getValue(n);s!==void 0&&(r.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),r}const nh={width:({x:e},{paddingLeft:r="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(r)-parseFloat(n),height:({y:e},{paddingTop:r="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(r)-parseFloat(n),top:(e,{top:r})=>parseFloat(r),left:(e,{left:r})=>parseFloat(r),bottom:({y:e},{top:r})=>parseFloat(r)+(e.max-e.min),right:({x:e},{left:r})=>parseFloat(r)+(e.max-e.min),x:oM(4,13),y:oM(5,14)};nh.translateX=nh.x;nh.translateY=nh.y;const WF=e=>r=>r.test(e),Foe={test:e=>e==="auto",parse:e=>e},UF=[Lh,Ut,go,ac,Roe,Coe,Foe],lM=e=>UF.find(WF(e)),Ou=new Set;let rj=!1,nj=!1;function GF(){if(nj){const e=Array.from(Ou).filter(s=>s.needsMeasurement),r=new Set(e.map(s=>s.element)),n=new Map;r.forEach(s=>{const a=_oe(s);a.length&&(n.set(s,a),s.render())}),e.forEach(s=>s.measureInitialState()),r.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([l,c])=>{var u;(u=s.getValue(l))===null||u===void 0||u.set(c)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}nj=!1,rj=!1,Ou.forEach(e=>e.complete()),Ou.clear()}function HF(){Ou.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(nj=!0)})}function Ioe(){HF(),GF()}class rP{constructor(r,n,s,a,l,c=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...r],this.onComplete=n,this.name=s,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Ou.add(this),rj||(rj=!0,Hr.read(HF),Hr.resolveKeyframes(GF))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:r,name:n,element:s,motionValue:a}=this;for(let l=0;l<r.length;l++)if(r[l]===null)if(l===0){const c=a==null?void 0:a.get(),u=r[r.length-1];if(c!==void 0)r[0]=c;else if(s&&n){const d=s.readValue(n,u);d!=null&&(r[0]=d)}r[0]===void 0&&(r[0]=u),a&&c===void 0&&a.set(r[0])}else r[l]=r[l-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Ou.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Ou.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const qp=e=>Math.round(e*1e5)/1e5,nP=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Ooe(e){return e==null}const Loe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,sP=(e,r)=>n=>!!(typeof n=="string"&&Loe.test(n)&&n.startsWith(e)||r&&!Ooe(n)&&Object.prototype.hasOwnProperty.call(n,r)),JF=(e,r,n)=>s=>{if(typeof s!="string")return s;const[a,l,c,u]=s.match(nP);return{[e]:parseFloat(a),[r]:parseFloat(l),[n]:parseFloat(c),alpha:u!==void 0?parseFloat(u):1}},$oe=e=>gl(0,255,e),BE={...Lh,transform:e=>Math.round($oe(e))},Pu={test:sP("rgb","red"),parse:JF("red","green","blue"),transform:({red:e,green:r,blue:n,alpha:s=1})=>"rgba("+BE.transform(e)+", "+BE.transform(r)+", "+BE.transform(n)+", "+qp(mg.transform(s))+")"};function Boe(e){let r="",n="",s="",a="";return e.length>5?(r=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),a=e.substring(7,9)):(r=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),a=e.substring(4,5),r+=r,n+=n,s+=s,a+=a),{red:parseInt(r,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const sj={test:sP("#"),parse:Boe,transform:Pu.transform},xd={test:sP("hsl","hue"),parse:JF("hue","saturation","lightness"),transform:({hue:e,saturation:r,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+go.transform(qp(r))+", "+go.transform(qp(n))+", "+qp(mg.transform(s))+")"},Ts={test:e=>Pu.test(e)||sj.test(e)||xd.test(e),parse:e=>Pu.test(e)?Pu.parse(e):xd.test(e)?xd.parse(e):sj.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Pu.transform(e):xd.transform(e)},zoe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Woe(e){var r,n;return isNaN(e)&&typeof e=="string"&&(((r=e.match(nP))===null||r===void 0?void 0:r.length)||0)+(((n=e.match(zoe))===null||n===void 0?void 0:n.length)||0)>0}const KF="number",qF="color",Uoe="var",Goe="var(",cM="${}",Hoe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function dg(e){const r=e.toString(),n=[],s={color:[],number:[],var:[]},a=[];let l=0;const u=r.replace(Hoe,d=>(Ts.test(d)?(s.color.push(l),a.push(qF),n.push(Ts.parse(d))):d.startsWith(Goe)?(s.var.push(l),a.push(Uoe),n.push(d)):(s.number.push(l),a.push(KF),n.push(parseFloat(d))),++l,cM)).split(cM);return{values:n,split:u,indexes:s,types:a}}function YF(e){return dg(e).values}function XF(e){const{split:r,types:n}=dg(e),s=r.length;return a=>{let l="";for(let c=0;c<s;c++)if(l+=r[c],a[c]!==void 0){const u=n[c];u===KF?l+=qp(a[c]):u===qF?l+=Ts.transform(a[c]):l+=a[c]}return l}}const Joe=e=>typeof e=="number"?0:e;function Koe(e){const r=YF(e);return XF(e)(r.map(Joe))}const Mc={test:Woe,parse:YF,createTransformer:XF,getAnimatableNone:Koe},qoe=new Set(["brightness","contrast","saturate","opacity"]);function Yoe(e){const[r,n]=e.slice(0,-1).split("(");if(r==="drop-shadow")return e;const[s]=n.match(nP)||[];if(!s)return e;const a=n.replace(s,"");let l=qoe.has(r)?1:0;return s!==n&&(l*=100),r+"("+l+a+")"}const Xoe=/\b([a-z-]*)\(.*?\)/gu,ij={...Mc,getAnimatableNone:e=>{const r=e.match(Xoe);return r?r.map(Yoe).join(" "):e}},Qoe={borderWidth:Ut,borderTopWidth:Ut,borderRightWidth:Ut,borderBottomWidth:Ut,borderLeftWidth:Ut,borderRadius:Ut,radius:Ut,borderTopLeftRadius:Ut,borderTopRightRadius:Ut,borderBottomRightRadius:Ut,borderBottomLeftRadius:Ut,width:Ut,maxWidth:Ut,height:Ut,maxHeight:Ut,top:Ut,right:Ut,bottom:Ut,left:Ut,padding:Ut,paddingTop:Ut,paddingRight:Ut,paddingBottom:Ut,paddingLeft:Ut,margin:Ut,marginTop:Ut,marginRight:Ut,marginBottom:Ut,marginLeft:Ut,backgroundPositionX:Ut,backgroundPositionY:Ut},Zoe={rotate:ac,rotateX:ac,rotateY:ac,rotateZ:ac,scale:kb,scaleX:kb,scaleY:kb,scaleZ:kb,skew:ac,skewX:ac,skewY:ac,distance:Ut,translateX:Ut,translateY:Ut,translateZ:Ut,x:Ut,y:Ut,z:Ut,perspective:Ut,transformPerspective:Ut,opacity:mg,originX:sM,originY:sM,originZ:Ut},uM={...Lh,transform:Math.round},iP={...Qoe,...Zoe,zIndex:uM,size:Ut,fillOpacity:mg,strokeOpacity:mg,numOctaves:uM},ele={...iP,color:Ts,backgroundColor:Ts,outlineColor:Ts,fill:Ts,stroke:Ts,borderColor:Ts,borderTopColor:Ts,borderRightColor:Ts,borderBottomColor:Ts,borderLeftColor:Ts,filter:ij,WebkitFilter:ij},aP=e=>ele[e];function QF(e,r){let n=aP(e);return n!==ij&&(n=Mc),n.getAnimatableNone?n.getAnimatableNone(r):void 0}const tle=new Set(["auto","none","0"]);function rle(e,r,n){let s=0,a;for(;s<e.length&&!a;){const l=e[s];typeof l=="string"&&!tle.has(l)&&dg(l).values.length&&(a=e[s]),s++}if(a&&n)for(const l of r)e[l]=QF(n,a)}class ZF extends rP{constructor(r,n,s,a,l){super(r,n,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:r,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<r.length;d++){let h=r[d];if(typeof h=="string"&&(h=h.trim(),tP(h))){const g=zF(h,n.current);g!==void 0&&(r[d]=g),d===r.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!Moe.has(s)||r.length!==2)return;const[a,l]=r,c=lM(a),u=lM(l);if(c!==u)if(iM(c)&&iM(u))for(let d=0;d<r.length;d++){const h=r[d];typeof h=="string"&&(r[d]=parseFloat(h))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:r,name:n}=this,s=[];for(let a=0;a<r.length;a++)Eoe(r[a])&&s.push(a);s.length&&rle(r,s,n)}measureInitialState(){const{element:r,unresolvedKeyframes:n,name:s}=this;if(!r||!r.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=nh[s](r.measureViewportBox(),window.getComputedStyle(r.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&r.getValue(s,a).jump(a,!1)}measureEndState(){var r;const{element:n,name:s,unresolvedKeyframes:a}=this;if(!n||!n.current)return;const l=n.getValue(s);l&&l.jump(this.measuredOrigin,!1);const c=a.length-1,u=a[c];a[c]=nh[s](n.measureViewportBox(),window.getComputedStyle(n.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),!((r=this.removedTransforms)===null||r===void 0)&&r.length&&this.removedTransforms.forEach(([d,h])=>{n.getValue(d).set(h)}),this.resolveNoneKeyframes()}}function oP(e){return typeof e=="function"}let Kb;function nle(){Kb=void 0}const No={now:()=>(Kb===void 0&&No.set(is.isProcessing||Noe.useManualTiming?is.timestamp:performance.now()),Kb),set:e=>{Kb=e,queueMicrotask(nle)}},mM=(e,r)=>r==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Mc.test(e)||e==="0")&&!e.startsWith("url("));function sle(e){const r=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==r)return!0}function ile(e,r,n,s){const a=e[0];if(a===null)return!1;if(r==="display"||r==="visibility")return!0;const l=e[e.length-1],c=mM(a,r),u=mM(l,r);return Oh(c===u,`You are trying to animate ${r} from "${a}" to "${l}". ${a} is not an animatable value - to enable this animation set ${a} to a value animatable to ${l} via the \`style\` property.`),!c||!u?!1:sle(e)||(n==="spring"||oP(n))&&s}const ale=40;class eI{constructor({autoplay:r=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",...u}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=No.now(),this.options={autoplay:r,delay:n,type:s,repeat:a,repeatDelay:l,repeatType:c,...u},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>ale?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Ioe(),this._resolved}onKeyframesResolved(r,n){this.resolvedAt=No.now(),this.hasAttemptedResolve=!0;const{name:s,type:a,velocity:l,delay:c,onComplete:u,onUpdate:d,isGenerator:h}=this.options;if(!h&&!ile(r,s,a,l))if(c)this.options.duration=0;else{d==null||d(I0(r,this.options,n)),u==null||u(),this.resolveFinishedPromise();return}const g=this.initPlayback(r,n);g!==!1&&(this._resolved={keyframes:r,finalKeyframe:n,...g},this.onPostResolved())}onPostResolved(){}then(r,n){return this.currentFinishedPromise.then(r,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(r=>{this.resolveFinishedPromise=r})}}const sh=(e,r,n)=>{const s=r-e;return s===0?1:(n-e)/s},tI=(e,r,n=10)=>{let s="";const a=Math.max(Math.round(r/n),2);for(let l=0;l<a;l++)s+=e(sh(0,a-1,l))+", ";return`linear(${s.substring(0,s.length-2)})`};function rI(e,r){return r?e*(1e3/r):0}const ole=5;function nI(e,r,n){const s=Math.max(r-ole,0);return rI(n-e(s),r-s)}const bn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},zE=.001;function lle({duration:e=bn.duration,bounce:r=bn.bounce,velocity:n=bn.velocity,mass:s=bn.mass}){let a,l;Oh(e<=po(bn.maxDuration),"Spring duration must be 10 seconds or less");let c=1-r;c=gl(bn.minDamping,bn.maxDamping,c),e=gl(bn.minDuration,bn.maxDuration,ol(e)),c<1?(a=h=>{const g=h*c,p=g*e,N=g-n,b=aj(h,c),D=Math.exp(-p);return zE-N/b*D},l=h=>{const p=h*c*e,N=p*n+n,b=Math.pow(c,2)*Math.pow(h,2)*e,D=Math.exp(-p),E=aj(Math.pow(h,2),c);return(-a(h)+zE>0?-1:1)*((N-b)*D)/E}):(a=h=>{const g=Math.exp(-h*e),p=(h-n)*e+1;return-zE+g*p},l=h=>{const g=Math.exp(-h*e),p=(n-h)*(e*e);return g*p});const u=5/e,d=ule(a,l,u);if(e=po(e),isNaN(d))return{stiffness:bn.stiffness,damping:bn.damping,duration:e};{const h=Math.pow(d,2)*s;return{stiffness:h,damping:c*2*Math.sqrt(s*h),duration:e}}}const cle=12;function ule(e,r,n){let s=n;for(let a=1;a<cle;a++)s=s-e(s)/r(s);return s}function aj(e,r){return e*Math.sqrt(1-r*r)}const oj=2e4;function sI(e){let r=0;const n=50;let s=e.next(r);for(;!s.done&&r<oj;)r+=n,s=e.next(r);return r>=oj?1/0:r}const mle=["duration","bounce"],dle=["stiffness","damping","mass"];function dM(e,r){return r.some(n=>e[n]!==void 0)}function hle(e){let r={velocity:bn.velocity,stiffness:bn.stiffness,damping:bn.damping,mass:bn.mass,isResolvedFromDuration:!1,...e};if(!dM(e,dle)&&dM(e,mle))if(e.visualDuration){const n=e.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,l=2*gl(.05,1,1-e.bounce)*Math.sqrt(a);r={...r,mass:bn.mass,stiffness:a,damping:l}}else{const n=lle(e);r={...r,...n,mass:bn.mass},r.isResolvedFromDuration=!0}return r}function iI(e=bn.visualDuration,r=bn.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:r}:e;let{restSpeed:s,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],u={done:!1,value:l},{stiffness:d,damping:h,mass:g,duration:p,velocity:N,isResolvedFromDuration:b}=hle({...n,velocity:-ol(n.velocity||0)}),D=N||0,E=h/(2*Math.sqrt(d*g)),j=c-l,P=ol(Math.sqrt(d/g)),w=Math.abs(j)<5;s||(s=w?bn.restSpeed.granular:bn.restSpeed.default),a||(a=w?bn.restDelta.granular:bn.restDelta.default);let k;if(E<1){const S=aj(P,E);k=R=>{const M=Math.exp(-E*P*R);return c-M*((D+E*P*j)/S*Math.sin(S*R)+j*Math.cos(S*R))}}else if(E===1)k=S=>c-Math.exp(-P*S)*(j+(D+P*j)*S);else{const S=P*Math.sqrt(E*E-1);k=R=>{const M=Math.exp(-E*P*R),T=Math.min(S*R,300);return c-M*((D+E*P*j)*Math.sinh(T)+S*j*Math.cosh(T))/S}}const V={calculatedDuration:b&&p||null,next:S=>{const R=k(S);if(b)u.done=S>=p;else{let M=0;E<1&&(M=S===0?po(D):nI(k,S,R));const T=Math.abs(M)<=s,A=Math.abs(c-R)<=a;u.done=T&&A}return u.value=u.done?c:R,u},toString:()=>{const S=Math.min(sI(V),oj),R=tI(M=>V.next(S*M).value,S,30);return S+"ms "+R}};return V}function hM({keyframes:e,velocity:r=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:u,max:d,restDelta:h=.5,restSpeed:g}){const p=e[0],N={done:!1,value:p},b=T=>u!==void 0&&T<u||d!==void 0&&T>d,D=T=>u===void 0?d:d===void 0||Math.abs(u-T)<Math.abs(d-T)?u:d;let E=n*r;const j=p+E,P=c===void 0?j:c(j);P!==j&&(E=P-p);const w=T=>-E*Math.exp(-T/s),k=T=>P+w(T),V=T=>{const A=w(T),F=k(T);N.done=Math.abs(A)<=h,N.value=N.done?P:F};let S,R;const M=T=>{b(N.value)&&(S=T,R=iI({keyframes:[N.value,D(N.value)],velocity:nI(k,T,N.value),damping:a,stiffness:l,restDelta:h,restSpeed:g}))};return M(0),{calculatedDuration:null,next:T=>{let A=!1;return!R&&S===void 0&&(A=!0,V(T),M(T)),S!==void 0&&T>=S?R.next(T-S):(!A&&V(T),N)}}}const fle=Wg(.42,0,1,1),ple=Wg(0,0,.58,1),aI=Wg(.42,0,.58,1),gle=e=>Array.isArray(e)&&typeof e[0]!="number",lP=e=>Array.isArray(e)&&typeof e[0]=="number",fM={linear:ws,easeIn:fle,easeInOut:aI,easeOut:ple,circIn:eP,circInOut:IF,circOut:FF,backIn:ZV,backInOut:AF,backOut:TF,anticipate:_F},pM=e=>{if(lP(e)){fl(e.length===4,"Cubic bezier arrays must contain four numerical values.");const[r,n,s,a]=e;return Wg(r,n,s,a)}else if(typeof e=="string")return fl(fM[e]!==void 0,`Invalid easing type '${e}'`),fM[e];return e},Nle=(e,r)=>n=>r(e(n)),kc=(...e)=>e.reduce(Nle),vn=(e,r,n)=>e+(r-e)*n;function WE(e,r,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(r-e)*6*n:n<1/2?r:n<2/3?e+(r-e)*(2/3-n)*6:e}function xle({hue:e,saturation:r,lightness:n,alpha:s}){e/=360,r/=100,n/=100;let a=0,l=0,c=0;if(!r)a=l=c=n;else{const u=n<.5?n*(1+r):n+r-n*r,d=2*n-u;a=WE(d,u,e+1/3),l=WE(d,u,e),c=WE(d,u,e-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:s}}function Pv(e,r){return n=>n>0?r:e}const UE=(e,r,n)=>{const s=e*e,a=n*(r*r-s)+s;return a<0?0:Math.sqrt(a)},ble=[sj,Pu,xd],vle=e=>ble.find(r=>r.test(e));function gM(e){const r=vle(e);if(Oh(!!r,`'${e}' is not an animatable color. Use the equivalent color code instead.`),!r)return!1;let n=r.parse(e);return r===xd&&(n=xle(n)),n}const NM=(e,r)=>{const n=gM(e),s=gM(r);if(!n||!s)return Pv(e,r);const a={...n};return l=>(a.red=UE(n.red,s.red,l),a.green=UE(n.green,s.green,l),a.blue=UE(n.blue,s.blue,l),a.alpha=vn(n.alpha,s.alpha,l),Pu.transform(a))},lj=new Set(["none","hidden"]);function yle(e,r){return lj.has(e)?n=>n<=0?e:r:n=>n>=1?r:e}function wle(e,r){return n=>vn(e,r,n)}function cP(e){return typeof e=="number"?wle:typeof e=="string"?tP(e)?Pv:Ts.test(e)?NM:Dle:Array.isArray(e)?oI:typeof e=="object"?Ts.test(e)?NM:kle:Pv}function oI(e,r){const n=[...e],s=n.length,a=e.map((l,c)=>cP(l)(l,r[c]));return l=>{for(let c=0;c<s;c++)n[c]=a[c](l);return n}}function kle(e,r){const n={...e,...r},s={};for(const a in n)e[a]!==void 0&&r[a]!==void 0&&(s[a]=cP(e[a])(e[a],r[a]));return a=>{for(const l in s)n[l]=s[l](a);return n}}function Ele(e,r){var n;const s=[],a={color:0,var:0,number:0};for(let l=0;l<r.values.length;l++){const c=r.types[l],u=e.indexes[c][a[c]],d=(n=e.values[u])!==null&&n!==void 0?n:0;s[l]=d,a[c]++}return s}const Dle=(e,r)=>{const n=Mc.createTransformer(r),s=dg(e),a=dg(r);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?lj.has(e)&&!a.values.length||lj.has(r)&&!s.values.length?yle(e,r):kc(oI(Ele(s,a),a.values),n):(Oh(!0,`Complex values '${e}' and '${r}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`),Pv(e,r))};function lI(e,r,n){return typeof e=="number"&&typeof r=="number"&&typeof n=="number"?vn(e,r,n):cP(e)(e,r)}function jle(e,r,n){const s=[],a=n||lI,l=e.length-1;for(let c=0;c<l;c++){let u=a(e[c],e[c+1]);if(r){const d=Array.isArray(r)?r[c]||ws:r;u=kc(d,u)}s.push(u)}return s}function cI(e,r,{clamp:n=!0,ease:s,mixer:a}={}){const l=e.length;if(fl(l===r.length,"Both input and output ranges must be the same length"),l===1)return()=>r[0];if(l===2&&e[0]===e[1])return()=>r[1];e[0]>e[l-1]&&(e=[...e].reverse(),r=[...r].reverse());const c=jle(r,s,a),u=c.length,d=h=>{let g=0;if(u>1)for(;g<e.length-2&&!(h<e[g+1]);g++);const p=sh(e[g],e[g+1],h);return c[g](p)};return n?h=>d(gl(e[0],e[l-1],h)):d}function Vle(e,r){const n=e[e.length-1];for(let s=1;s<=r;s++){const a=sh(0,r,s);e.push(vn(n,1,a))}}function Ple(e){const r=[0];return Vle(r,e.length-1),r}function Sle(e,r){return e.map(n=>n*r)}function Cle(e,r){return e.map(()=>r||aI).splice(0,e.length-1)}function Sv({duration:e=300,keyframes:r,times:n,ease:s="easeInOut"}){const a=gle(s)?s.map(pM):pM(s),l={done:!1,value:r[0]},c=Sle(n&&n.length===r.length?n:Ple(r),e),u=cI(c,r,{ease:Array.isArray(a)?a:Cle(r,a)});return{calculatedDuration:e,next:d=>(l.value=u(d),l.done=d>=e,l)}}const Rle=e=>{const r=({timestamp:n})=>e(n);return{start:()=>Hr.update(r,!0),stop:()=>pl(r),now:()=>is.isProcessing?is.timestamp:No.now()}},Mle={decay:hM,inertia:hM,tween:Sv,keyframes:Sv,spring:iI},Tle=e=>e/100;class O0 extends eI{constructor(r){super(r),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:d}=this.options;d&&d()};const{name:n,motionValue:s,element:a,keyframes:l}=this.options,c=(a==null?void 0:a.KeyframeResolver)||rP,u=(d,h)=>this.onKeyframesResolved(d,h);this.resolver=new c(l,u,n,s,a),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(r){const{type:n="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=this.options,u=oP(n)?n:Mle[n]||Sv;let d,h;u!==Sv&&typeof r[0]!="number"&&(fl(r.length===2,`Only two keyframes currently supported with spring and inertia animations. Trying to animate ${r}`),d=kc(Tle,lI(r[0],r[1])),r=[0,100]);const g=u({...this.options,keyframes:r});l==="mirror"&&(h=u({...this.options,keyframes:[...r].reverse(),velocity:-c})),g.calculatedDuration===null&&(g.calculatedDuration=sI(g));const{calculatedDuration:p}=g,N=p+a,b=N*(s+1)-a;return{generator:g,mirroredGenerator:h,mapPercentToKeyframes:d,calculatedDuration:p,resolvedDuration:N,totalDuration:b}}onPostResolved(){const{autoplay:r=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!r?this.pause():this.state=this.pendingPlayState}tick(r,n=!1){const{resolved:s}=this;if(!s){const{keyframes:T}=this.options;return{done:!0,value:T[T.length-1]}}const{finalKeyframe:a,generator:l,mirroredGenerator:c,mapPercentToKeyframes:u,keyframes:d,calculatedDuration:h,totalDuration:g,resolvedDuration:p}=s;if(this.startTime===null)return l.next(0);const{delay:N,repeat:b,repeatType:D,repeatDelay:E,onUpdate:j}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,r):this.speed<0&&(this.startTime=Math.min(r-g/this.speed,this.startTime)),n?this.currentTime=r:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(r-this.startTime)*this.speed;const P=this.currentTime-N*(this.speed>=0?1:-1),w=this.speed>=0?P<0:P>g;this.currentTime=Math.max(P,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=g);let k=this.currentTime,V=l;if(b){const T=Math.min(this.currentTime,g)/p;let A=Math.floor(T),F=T%1;!F&&T>=1&&(F=1),F===1&&A--,A=Math.min(A,b+1),!!(A%2)&&(D==="reverse"?(F=1-F,E&&(F-=E/p)):D==="mirror"&&(V=c)),k=gl(0,1,F)*p}const S=w?{done:!1,value:d[0]}:V.next(k);u&&(S.value=u(S.value));let{done:R}=S;!w&&h!==null&&(R=this.speed>=0?this.currentTime>=g:this.currentTime<=0);const M=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&R);return M&&a!==void 0&&(S.value=I0(d,this.options,a)),j&&j(S.value),M&&this.finish(),S}get duration(){const{resolved:r}=this;return r?ol(r.calculatedDuration):0}get time(){return ol(this.currentTime)}set time(r){r=po(r),this.currentTime=r,this.holdTime!==null||this.speed===0?this.holdTime=r:this.driver&&(this.startTime=this.driver.now()-r/this.speed)}get speed(){return this.playbackSpeed}set speed(r){const n=this.playbackSpeed!==r;this.playbackSpeed=r,n&&(this.time=ol(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:r=Rle,onPlay:n,startTime:s}=this.options;this.driver||(this.driver=r(l=>this.tick(l))),n&&n();const a=this.driver.now();this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=a):this.startTime=s??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var r;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(r=this.currentTime)!==null&&r!==void 0?r:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:r}=this.options;r&&r()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(r){return this.startTime=0,this.tick(r,!0)}}function Ale(e){return new O0(e)}const _le=new Set(["opacity","clipPath","filter","transform"]);function uP(e){let r;return()=>(r===void 0&&(r=e()),r)}const Fle={linearEasing:void 0};function Ile(e,r){const n=uP(e);return()=>{var s;return(s=Fle[r])!==null&&s!==void 0?s:n()}}const Cv=Ile(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing");function uI(e){return!!(typeof e=="function"&&Cv()||!e||typeof e=="string"&&(e in cj||Cv())||lP(e)||Array.isArray(e)&&e.every(uI))}const zp=([e,r,n,s])=>`cubic-bezier(${e}, ${r}, ${n}, ${s})`,cj={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:zp([0,.65,.55,1]),circOut:zp([.55,0,1,.45]),backIn:zp([.31,.01,.66,-.59]),backOut:zp([.33,1.53,.69,.99])};function mI(e,r){if(e)return typeof e=="function"&&Cv()?tI(e,r):lP(e)?zp(e):Array.isArray(e)?e.map(n=>mI(n,r)||cj.easeOut):cj[e]}function Ole(e,r,n,{delay:s=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:u="easeInOut",times:d}={}){const h={[r]:n};d&&(h.offset=d);const g=mI(u,a);return Array.isArray(g)&&(h.easing=g),e.animate(h,{delay:s,duration:a,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"})}function xM(e,r){e.timeline=r,e.onfinish=null}const Lle=uP(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Rv=10,$le=2e4;function Ble(e){return oP(e.type)||e.type==="spring"||!uI(e.ease)}function zle(e,r){const n=new O0({...r,keyframes:e,repeat:0,delay:0,isGenerator:!0});let s={done:!1,value:e[0]};const a=[];let l=0;for(;!s.done&&l<$le;)s=n.sample(l),a.push(s.value),l+=Rv;return{times:void 0,keyframes:a,duration:l-Rv,ease:"linear"}}const dI={anticipate:_F,backInOut:AF,circInOut:IF};function Wle(e){return e in dI}class bM extends eI{constructor(r){super(r);const{name:n,motionValue:s,element:a,keyframes:l}=this.options;this.resolver=new ZF(l,(c,u)=>this.onKeyframesResolved(c,u),n,s,a),this.resolver.scheduleResolve()}initPlayback(r,n){var s;let{duration:a=300,times:l,ease:c,type:u,motionValue:d,name:h,startTime:g}=this.options;if(!(!((s=d.owner)===null||s===void 0)&&s.current))return!1;if(typeof c=="string"&&Cv()&&Wle(c)&&(c=dI[c]),Ble(this.options)){const{onComplete:N,onUpdate:b,motionValue:D,element:E,...j}=this.options,P=zle(r,j);r=P.keyframes,r.length===1&&(r[1]=r[0]),a=P.duration,l=P.times,c=P.ease,u="keyframes"}const p=Ole(d.owner.current,h,r,{...this.options,duration:a,times:l,ease:c});return p.startTime=g??this.calcStartTime(),this.pendingTimeline?(xM(p,this.pendingTimeline),this.pendingTimeline=void 0):p.onfinish=()=>{const{onComplete:N}=this.options;d.set(I0(r,this.options,n)),N&&N(),this.cancel(),this.resolveFinishedPromise()},{animation:p,duration:a,times:l,type:u,ease:c,keyframes:r}}get duration(){const{resolved:r}=this;if(!r)return 0;const{duration:n}=r;return ol(n)}get time(){const{resolved:r}=this;if(!r)return 0;const{animation:n}=r;return ol(n.currentTime||0)}set time(r){const{resolved:n}=this;if(!n)return;const{animation:s}=n;s.currentTime=po(r)}get speed(){const{resolved:r}=this;if(!r)return 1;const{animation:n}=r;return n.playbackRate}set speed(r){const{resolved:n}=this;if(!n)return;const{animation:s}=n;s.playbackRate=r}get state(){const{resolved:r}=this;if(!r)return"idle";const{animation:n}=r;return n.playState}get startTime(){const{resolved:r}=this;if(!r)return null;const{animation:n}=r;return n.startTime}attachTimeline(r){if(!this._resolved)this.pendingTimeline=r;else{const{resolved:n}=this;if(!n)return ws;const{animation:s}=n;xM(s,r)}return ws}play(){if(this.isStopped)return;const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:r}=this;if(!r)return;const{animation:n,keyframes:s,duration:a,type:l,ease:c,times:u}=r;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:h,onUpdate:g,onComplete:p,element:N,...b}=this.options,D=new O0({...b,keyframes:s,duration:a,type:l,ease:c,times:u,isGenerator:!0}),E=po(this.time);h.setWithVelocity(D.sample(E-Rv).value,D.sample(E).value,Rv)}const{onStop:d}=this.options;d&&d(),this.cancel()}complete(){const{resolved:r}=this;r&&r.animation.finish()}cancel(){const{resolved:r}=this;r&&r.animation.cancel()}static supports(r){const{motionValue:n,name:s,repeatDelay:a,repeatType:l,damping:c,type:u}=r;return Lle()&&s&&_le.has(s)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!a&&l!=="mirror"&&c!==0&&u!=="inertia"}}const Ule=uP(()=>window.ScrollTimeline!==void 0);class Gle{constructor(r){this.stop=()=>this.runAll("stop"),this.animations=r.filter(Boolean)}then(r,n){return Promise.all(this.animations).then(r).catch(n)}getAll(r){return this.animations[0][r]}setAll(r,n){for(let s=0;s<this.animations.length;s++)this.animations[s][r]=n}attachTimeline(r,n){const s=this.animations.map(a=>Ule()&&a.attachTimeline?a.attachTimeline(r):n(a));return()=>{s.forEach((a,l)=>{a&&a(),this.animations[l].stop()})}}get time(){return this.getAll("time")}set time(r){this.setAll("time",r)}get speed(){return this.getAll("speed")}set speed(r){this.setAll("speed",r)}get startTime(){return this.getAll("startTime")}get duration(){let r=0;for(let n=0;n<this.animations.length;n++)r=Math.max(r,this.animations[n].duration);return r}runAll(r){this.animations.forEach(n=>n[r]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function Hle({when:e,delay:r,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:u,from:d,elapsed:h,...g}){return!!Object.keys(g).length}const mP=(e,r,n,s={},a,l)=>c=>{const u=QV(s,e)||{},d=u.delay||s.delay||0;let{elapsed:h=0}=s;h=h-po(d);let g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:r.getVelocity(),...u,delay:-h,onUpdate:N=>{r.set(N),u.onUpdate&&u.onUpdate(N)},onComplete:()=>{c(),u.onComplete&&u.onComplete()},name:e,motionValue:r,element:l?void 0:a};Hle(u)||(g={...g,...goe(e,g)}),g.duration&&(g.duration=po(g.duration)),g.repeatDelay&&(g.repeatDelay=po(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let p=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(p=!0)),p&&!l&&r.get()!==void 0){const N=I0(g.keyframes,u);if(N!==void 0)return Hr.update(()=>{g.onUpdate(N),g.onComplete()}),new Gle([])}return!l&&bM.supports(g)?new bM(g):new O0(g)},Jle=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),Kle=e=>tj(e)?e[e.length-1]||0:e;function dP(e,r){e.indexOf(r)===-1&&e.push(r)}function hP(e,r){const n=e.indexOf(r);n>-1&&e.splice(n,1)}class fP{constructor(){this.subscriptions=[]}add(r){return dP(this.subscriptions,r),()=>hP(this.subscriptions,r)}notify(r,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](r,n,s);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(r,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const vM=30,qle=e=>!isNaN(parseFloat(e)),Yp={current:void 0};class Yle{constructor(r,n={}){this.version="11.13.1",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,a=!0)=>{const l=No.now();this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(r),this.owner=n.owner}setCurrent(r){this.current=r,this.updatedAt=No.now(),this.canTrackVelocity===null&&r!==void 0&&(this.canTrackVelocity=qle(this.current))}setPrevFrameValue(r=this.current){this.prevFrameValue=r,this.prevUpdatedAt=this.updatedAt}onChange(r){return A0(!1,'value.onChange(callback) is deprecated. Switch to value.on("change", callback).'),this.on("change",r)}on(r,n){this.events[r]||(this.events[r]=new fP);const s=this.events[r].add(n);return r==="change"?()=>{s(),Hr.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const r in this.events)this.events[r].clear()}attach(r,n){this.passiveEffect=r,this.stopPassiveEffect=n}set(r,n=!0){!n||!this.passiveEffect?this.updateAndNotify(r,n):this.passiveEffect(r,this.updateAndNotify)}setWithVelocity(r,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=r,this.prevUpdatedAt=this.updatedAt-s}jump(r,n=!0){this.updateAndNotify(r),this.prev=r,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return Yp.current&&Yp.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const r=No.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||r-this.updatedAt>vM)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,vM);return rI(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(r){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=r(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ih(e,r){return new Yle(e,r)}function Xle(e,r,n){e.hasValue(r)?e.getValue(r).set(n):e.addValue(r,ih(n))}function Qle(e,r){const n=F0(e,r);let{transitionEnd:s={},transition:a={},...l}=n||{};l={...l,...s};for(const c in l){const u=Kle(l[c]);Xle(e,c,u)}}const pP=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Zle="framerAppearId",hI="data-"+pP(Zle);function fI(e){return e.props[hI]}const ls=e=>!!(e&&e.getVelocity);function ece(e){return!!(ls(e)&&e.add)}function uj(e,r){const n=e.getValue("willChange");if(ece(n))return n.add(r)}function tce({protectedKeys:e,needsAnimating:r},n){const s=e.hasOwnProperty(n)&&r[n]!==!0;return r[n]=!1,s}function pI(e,r,{delay:n=0,transitionOverride:s,type:a}={}){var l;let{transition:c=e.getDefaultTransition(),transitionEnd:u,...d}=r;s&&(c=s);const h=[],g=a&&e.animationState&&e.animationState.getState()[a];for(const p in d){const N=e.getValue(p,(l=e.latestValues[p])!==null&&l!==void 0?l:null),b=d[p];if(b===void 0||g&&tce(g,p))continue;const D={delay:n,...QV(c||{},p)};let E=!1;if(window.MotionHandoffAnimation){const P=fI(e);if(P){const w=window.MotionHandoffAnimation(P,p,Hr);w!==null&&(D.startTime=w,E=!0)}}uj(e,p),N.start(mP(p,N,b,e.shouldReduceMotion&&rm.has(p)?{type:!1}:D,e,E));const j=N.animation;j&&h.push(j)}return u&&Promise.all(h).then(()=>{Hr.update(()=>{u&&Qle(e,u)})}),h}function mj(e,r,n={}){var s;const a=F0(e,r,n.type==="exit"?(s=e.presenceContext)===null||s===void 0?void 0:s.custom:void 0);let{transition:l=e.getDefaultTransition()||{}}=a||{};n.transitionOverride&&(l=n.transitionOverride);const c=a?()=>Promise.all(pI(e,a,n)):()=>Promise.resolve(),u=e.variantChildren&&e.variantChildren.size?(h=0)=>{const{delayChildren:g=0,staggerChildren:p,staggerDirection:N}=l;return rce(e,r,g+h,p,N,n)}:()=>Promise.resolve(),{when:d}=l;if(d){const[h,g]=d==="beforeChildren"?[c,u]:[u,c];return h().then(()=>g())}else return Promise.all([c(),u(n.delay)])}function rce(e,r,n=0,s=0,a=1,l){const c=[],u=(e.variantChildren.size-1)*s,d=a===1?(h=0)=>h*s:(h=0)=>u-h*s;return Array.from(e.variantChildren).sort(nce).forEach((h,g)=>{h.notify("AnimationStart",r),c.push(mj(h,r,{...l,delay:n+d(g)}).then(()=>h.notify("AnimationComplete",r)))}),Promise.all(c)}function nce(e,r){return e.sortNodePosition(r)}function sce(e,r,n={}){e.notify("AnimationStart",r);let s;if(Array.isArray(r)){const a=r.map(l=>mj(e,l,n));s=Promise.all(a)}else if(typeof r=="string")s=mj(e,r,n);else{const a=typeof r=="function"?F0(e,r,n.custom):r;s=Promise.all(pI(e,a,n))}return s.then(()=>{e.notify("AnimationComplete",r)})}const ice=XV.length;function gI(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?gI(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const r={};for(let n=0;n<ice;n++){const s=XV[n],a=e.props[s];(ug(a)||a===!1)&&(r[s]=a)}return r}const ace=[...YV].reverse(),oce=YV.length;function lce(e){return r=>Promise.all(r.map(({animation:n,options:s})=>sce(e,n,s)))}function cce(e){let r=lce(e),n=yM(),s=!0;const a=d=>(h,g)=>{var p;const N=F0(e,g,d==="exit"?(p=e.presenceContext)===null||p===void 0?void 0:p.custom:void 0);if(N){const{transition:b,transitionEnd:D,...E}=N;h={...h,...E,...D}}return h};function l(d){r=d(e)}function c(d){const{props:h}=e,g=gI(e.parent)||{},p=[],N=new Set;let b={},D=1/0;for(let j=0;j<oce;j++){const P=ace[j],w=n[P],k=h[P]!==void 0?h[P]:g[P],V=ug(k),S=P===d?w.isActive:null;S===!1&&(D=j);let R=k===g[P]&&k!==h[P]&&V;if(R&&s&&e.manuallyAnimateOnMount&&(R=!1),w.protectedKeys={...b},!w.isActive&&S===null||!k&&!w.prevProp||_0(k)||typeof k=="boolean")continue;const M=uce(w.prevProp,k);let T=M||P===d&&w.isActive&&!R&&V||j>D&&V,A=!1;const F=Array.isArray(k)?k:[k];let L=F.reduce(a(P),{});S===!1&&(L={});const{prevResolvedValues:$={}}=w,W={...$,...L},O=q=>{T=!0,N.has(q)&&(A=!0,N.delete(q)),w.needsAnimating[q]=!0;const z=e.getValue(q);z&&(z.liveStyle=!1)};for(const q in W){const z=L[q],G=$[q];if(b.hasOwnProperty(q))continue;let ee=!1;tj(z)&&tj(G)?ee=!PF(z,G):ee=z!==G,ee?z!=null?O(q):N.add(q):z!==void 0&&N.has(q)?O(q):w.protectedKeys[q]=!0}w.prevProp=k,w.prevResolvedValues=L,w.isActive&&(b={...b,...L}),s&&e.blockInitialAnimation&&(T=!1),T&&(!(R&&M)||A)&&p.push(...F.map(q=>({animation:q,options:{type:P}})))}if(N.size){const j={};N.forEach(P=>{const w=e.getBaseTarget(P),k=e.getValue(P);k&&(k.liveStyle=!0),j[P]=w??null}),p.push({animation:j})}let E=!!p.length;return s&&(h.initial===!1||h.initial===h.animate)&&!e.manuallyAnimateOnMount&&(E=!1),s=!1,E?r(p):Promise.resolve()}function u(d,h){var g;if(n[d].isActive===h)return Promise.resolve();(g=e.variantChildren)===null||g===void 0||g.forEach(N=>{var b;return(b=N.animationState)===null||b===void 0?void 0:b.setActive(d,h)}),n[d].isActive=h;const p=c(d);for(const N in n)n[N].protectedKeys={};return p}return{animateChanges:c,setActive:u,setAnimateFunction:l,getState:()=>n,reset:()=>{n=yM(),s=!0}}}function uce(e,r){return typeof r=="string"?r!==e:Array.isArray(r)?!PF(r,e):!1}function yu(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function yM(){return{animate:yu(!0),whileInView:yu(),whileHover:yu(),whileTap:yu(),whileDrag:yu(),whileFocus:yu(),exit:yu()}}class _c{constructor(r){this.isMounted=!1,this.node=r}update(){}}class mce extends _c{constructor(r){super(r),r.animationState||(r.animationState=cce(r))}updateAnimationControlsSubscription(){const{animate:r}=this.node.getProps();_0(r)&&(this.unmountControls=r.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:r}=this.node.getProps(),{animate:n}=this.node.prevProps||{};r!==n&&this.updateAnimationControlsSubscription()}unmount(){var r;this.node.animationState.reset(),(r=this.unmountControls)===null||r===void 0||r.call(this)}}let dce=0;class hce extends _c{constructor(){super(...arguments),this.id=dce++}update(){if(!this.node.presenceContext)return;const{isPresent:r,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||r===s)return;const a=this.node.animationState.setActive("exit",!r);n&&!r&&a.then(()=>n(this.id))}mount(){const{register:r}=this.node.presenceContext||{};r&&(this.unmount=r(this.id))}unmount(){}}const fce={animation:{Feature:mce},exit:{Feature:hce}};function pce(e,r,n){var s;if(e instanceof Element)return[e];if(typeof e=="string"){let a=document;const l=(s=void 0)!==null&&s!==void 0?s:a.querySelectorAll(e);return l?Array.from(l):[]}return Array.from(e)}const va={x:!1,y:!1};function NI(){return va.x||va.y}function wM(e){return r=>{r.pointerType==="touch"||NI()||e(r)}}function gce(e,r,n={}){const s=new AbortController,a={passive:!0,...n,signal:s.signal},l=wM(c=>{const{target:u}=c,d=r(c);if(!d||!u)return;const h=wM(g=>{d(g),u.removeEventListener("pointerleave",h)});u.addEventListener("pointerleave",h,a)});return pce(e).forEach(c=>{c.addEventListener("pointerenter",l,a)}),()=>s.abort()}function Nce(e){return e==="x"||e==="y"?va[e]?null:(va[e]=!0,()=>{va[e]=!1}):va.x||va.y?null:(va.x=va.y=!0,()=>{va.x=va.y=!1})}const xI=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function Gg(e){return{point:{x:e.pageX,y:e.pageY}}}const xce=e=>r=>xI(r)&&e(r,Gg(r));function il(e,r,n,s={passive:!0}){return e.addEventListener(r,n,s),()=>e.removeEventListener(r,n)}function Ec(e,r,n,s){return il(e,r,xce(n),s)}const kM=(e,r)=>Math.abs(e-r);function bce(e,r){const n=kM(e.x,r.x),s=kM(e.y,r.y);return Math.sqrt(n**2+s**2)}class bI{constructor(r,n,{transformPagePoint:s,contextWindow:a,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=HE(this.lastMoveEventInfo,this.history),N=this.startEvent!==null,b=bce(p.offset,{x:0,y:0})>=3;if(!N&&!b)return;const{point:D}=p,{timestamp:E}=is;this.history.push({...D,timestamp:E});const{onStart:j,onMove:P}=this.handlers;N||(j&&j(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),P&&P(this.lastMoveEvent,p)},this.handlePointerMove=(p,N)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=GE(N,this.transformPagePoint),Hr.update(this.updatePoint,!0)},this.handlePointerUp=(p,N)=>{this.end();const{onEnd:b,onSessionEnd:D,resumeAnimation:E}=this.handlers;if(this.dragSnapToOrigin&&E&&E(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=HE(p.type==="pointercancel"?this.lastMoveEventInfo:GE(N,this.transformPagePoint),this.history);this.startEvent&&b&&b(p,j),D&&D(p,j)},!xI(r))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.contextWindow=a||window;const c=Gg(r),u=GE(c,this.transformPagePoint),{point:d}=u,{timestamp:h}=is;this.history=[{...d,timestamp:h}];const{onSessionStart:g}=n;g&&g(r,HE(u,this.history)),this.removeListeners=kc(Ec(this.contextWindow,"pointermove",this.handlePointerMove),Ec(this.contextWindow,"pointerup",this.handlePointerUp),Ec(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(r){this.handlers=r}end(){this.removeListeners&&this.removeListeners(),pl(this.updatePoint)}}function GE(e,r){return r?{point:r(e.point)}:e}function EM(e,r){return{x:e.x-r.x,y:e.y-r.y}}function HE({point:e},r){return{point:e,delta:EM(e,vI(r)),offset:EM(e,vce(r)),velocity:yce(r,.1)}}function vce(e){return e[0]}function vI(e){return e[e.length-1]}function yce(e,r){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const a=vI(e);for(;n>=0&&(s=e[n],!(a.timestamp-s.timestamp>po(r)));)n--;if(!s)return{x:0,y:0};const l=ol(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function bd(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}const yI=1e-4,wce=1-yI,kce=1+yI,wI=.01,Ece=0-wI,Dce=0+wI;function Ti(e){return e.max-e.min}function jce(e,r,n){return Math.abs(e-r)<=n}function DM(e,r,n,s=.5){e.origin=s,e.originPoint=vn(r.min,r.max,e.origin),e.scale=Ti(n)/Ti(r),e.translate=vn(n.min,n.max,e.origin)-e.originPoint,(e.scale>=wce&&e.scale<=kce||isNaN(e.scale))&&(e.scale=1),(e.translate>=Ece&&e.translate<=Dce||isNaN(e.translate))&&(e.translate=0)}function Xp(e,r,n,s){DM(e.x,r.x,n.x,s?s.originX:void 0),DM(e.y,r.y,n.y,s?s.originY:void 0)}function jM(e,r,n){e.min=n.min+r.min,e.max=e.min+Ti(r)}function Vce(e,r,n){jM(e.x,r.x,n.x),jM(e.y,r.y,n.y)}function VM(e,r,n){e.min=r.min-n.min,e.max=e.min+Ti(r)}function Qp(e,r,n){VM(e.x,r.x,n.x),VM(e.y,r.y,n.y)}function Pce(e,{min:r,max:n},s){return r!==void 0&&e<r?e=s?vn(r,e,s.min):Math.max(e,r):n!==void 0&&e>n&&(e=s?vn(n,e,s.max):Math.min(e,n)),e}function PM(e,r,n){return{min:r!==void 0?e.min+r:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function Sce(e,{top:r,left:n,bottom:s,right:a}){return{x:PM(e.x,n,a),y:PM(e.y,r,s)}}function SM(e,r){let n=r.min-e.min,s=r.max-e.max;return r.max-r.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function Cce(e,r){return{x:SM(e.x,r.x),y:SM(e.y,r.y)}}function Rce(e,r){let n=.5;const s=Ti(e),a=Ti(r);return a>s?n=sh(r.min,r.max-s,e.min):s>a&&(n=sh(e.min,e.max-a,r.min)),gl(0,1,n)}function Mce(e,r){const n={};return r.min!==void 0&&(n.min=r.min-e.min),r.max!==void 0&&(n.max=r.max-e.min),n}const dj=.35;function Tce(e=dj){return e===!1?e=0:e===!0&&(e=dj),{x:CM(e,"left","right"),y:CM(e,"top","bottom")}}function CM(e,r,n){return{min:RM(e,r),max:RM(e,n)}}function RM(e,r){return typeof e=="number"?e:e[r]||0}const MM=()=>({translate:0,scale:1,origin:0,originPoint:0}),vd=()=>({x:MM(),y:MM()}),TM=()=>({min:0,max:0}),Pn=()=>({x:TM(),y:TM()});function Ji(e){return[e("x"),e("y")]}function kI({top:e,left:r,right:n,bottom:s}){return{x:{min:r,max:n},y:{min:e,max:s}}}function Ace({x:e,y:r}){return{top:r.min,right:e.max,bottom:r.max,left:e.min}}function _ce(e,r){if(!r)return e;const n=r({x:e.left,y:e.top}),s=r({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function JE(e){return e===void 0||e===1}function hj({scale:e,scaleX:r,scaleY:n}){return!JE(e)||!JE(r)||!JE(n)}function ku(e){return hj(e)||EI(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function EI(e){return AM(e.x)||AM(e.y)}function AM(e){return e&&e!=="0%"}function Mv(e,r,n){const s=e-n,a=r*s;return n+a}function _M(e,r,n,s,a){return a!==void 0&&(e=Mv(e,a,s)),Mv(e,n,s)+r}function fj(e,r=0,n=1,s,a){e.min=_M(e.min,r,n,s,a),e.max=_M(e.max,r,n,s,a)}function DI(e,{x:r,y:n}){fj(e.x,r.translate,r.scale,r.originPoint),fj(e.y,n.translate,n.scale,n.originPoint)}const FM=.999999999999,IM=1.0000000000001;function Fce(e,r,n,s=!1){const a=n.length;if(!a)return;r.x=r.y=1;let l,c;for(let u=0;u<a;u++){l=n[u],c=l.projectionDelta;const{visualElement:d}=l.options;d&&d.props.style&&d.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&wd(e,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(r.x*=c.x.scale,r.y*=c.y.scale,DI(e,c)),s&&ku(l.latestValues)&&wd(e,l.latestValues))}r.x<IM&&r.x>FM&&(r.x=1),r.y<IM&&r.y>FM&&(r.y=1)}function yd(e,r){e.min=e.min+r,e.max=e.max+r}function OM(e,r,n,s,a=.5){const l=vn(e.min,e.max,a);fj(e,r,n,l,s)}function wd(e,r){OM(e.x,r.x,r.scaleX,r.scale,r.originX),OM(e.y,r.y,r.scaleY,r.scale,r.originY)}function jI(e,r){return kI(_ce(e.getBoundingClientRect(),r))}function Ice(e,r,n){const s=jI(e,n),{scroll:a}=r;return a&&(yd(s.x,a.offset.x),yd(s.y,a.offset.y)),s}const VI=({current:e})=>e?e.ownerDocument.defaultView:null,Oce=new WeakMap;class Lce{constructor(r){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Pn(),this.visualElement=r}start(r,{snapToCursor:n=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const a=g=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Gg(g).point)},l=(g,p)=>{const{drag:N,dragPropagation:b,onDragStart:D}=this.getProps();if(N&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Nce(N),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ji(j=>{let P=this.getAxisMotionValue(j).get()||0;if(go.test(P)){const{projection:w}=this.visualElement;if(w&&w.layout){const k=w.layout.layoutBox[j];k&&(P=Ti(k)*(parseFloat(P)/100))}}this.originPoint[j]=P}),D&&Hr.postRender(()=>D(g,p)),uj(this.visualElement,"transform");const{animationState:E}=this.visualElement;E&&E.setActive("whileDrag",!0)},c=(g,p)=>{const{dragPropagation:N,dragDirectionLock:b,onDirectionLock:D,onDrag:E}=this.getProps();if(!N&&!this.openDragLock)return;const{offset:j}=p;if(b&&this.currentDirection===null){this.currentDirection=$ce(j),this.currentDirection!==null&&D&&D(this.currentDirection);return}this.updateAxis("x",p.point,j),this.updateAxis("y",p.point,j),this.visualElement.render(),E&&E(g,p)},u=(g,p)=>this.stop(g,p),d=()=>Ji(g=>{var p;return this.getAnimationState(g)==="paused"&&((p=this.getAxisMotionValue(g).animation)===null||p===void 0?void 0:p.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new bI(r,{onSessionStart:a,onStart:l,onMove:c,onSessionEnd:u,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,contextWindow:VI(this.visualElement)})}stop(r,n){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:a}=n;this.startAnimation(a);const{onDragEnd:l}=this.getProps();l&&Hr.postRender(()=>l(r,n))}cancel(){this.isDragging=!1;const{projection:r,animationState:n}=this.visualElement;r&&(r.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(r,n,s){const{drag:a}=this.getProps();if(!s||!Eb(r,a,this.currentDirection))return;const l=this.getAxisMotionValue(r);let c=this.originPoint[r]+s[r];this.constraints&&this.constraints[r]&&(c=Pce(c,this.constraints[r],this.elastic[r])),l.set(c)}resolveConstraints(){var r;const{dragConstraints:n,dragElastic:s}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(r=this.visualElement.projection)===null||r===void 0?void 0:r.layout,l=this.constraints;n&&bd(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&a?this.constraints=Sce(a.layoutBox,n):this.constraints=!1,this.elastic=Tce(s),l!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&Ji(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=Mce(a.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:r,onMeasureDragConstraints:n}=this.getProps();if(!r||!bd(r))return!1;const s=r.current;fl(s!==null,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");const{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=Ice(s,a.root,this.visualElement.getTransformPagePoint());let c=Cce(a.layout.layoutBox,l);if(n){const u=n(Ace(c));this.hasMutatedConstraints=!!u,u&&(c=kI(u))}return c}startAnimation(r){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:u}=this.getProps(),d=this.constraints||{},h=Ji(g=>{if(!Eb(g,n,this.currentDirection))return;let p=d&&d[g]||{};c&&(p={min:0,max:0});const N=a?200:1e6,b=a?40:1e7,D={type:"inertia",velocity:s?r[g]:0,bounceStiffness:N,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...l,...p};return this.startAxisValueAnimation(g,D)});return Promise.all(h).then(u)}startAxisValueAnimation(r,n){const s=this.getAxisMotionValue(r);return uj(this.visualElement,r),s.start(mP(r,s,0,n,this.visualElement,!1))}stopAnimation(){Ji(r=>this.getAxisMotionValue(r).stop())}pauseAnimation(){Ji(r=>{var n;return(n=this.getAxisMotionValue(r).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(r){var n;return(n=this.getAxisMotionValue(r).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(r){const n=`_drag${r.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(r,(s.initial?s.initial[r]:void 0)||0)}snapToCursor(r){Ji(n=>{const{drag:s}=this.getProps();if(!Eb(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:u}=a.layout.layoutBox[n];l.set(r[n]-vn(c,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:r,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!bd(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Ji(c=>{const u=this.getAxisMotionValue(c);if(u&&this.constraints!==!1){const d=u.get();a[c]=Rce({min:d,max:d},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Ji(c=>{if(!Eb(c,r,null))return;const u=this.getAxisMotionValue(c),{min:d,max:h}=this.constraints[c];u.set(vn(d,h,a[c]))})}addListeners(){if(!this.visualElement.current)return;Oce.set(this.visualElement,this);const r=this.visualElement.current,n=Ec(r,"pointerdown",d=>{const{drag:h,dragListener:g=!0}=this.getProps();h&&g&&this.start(d)}),s=()=>{const{dragConstraints:d}=this.getProps();bd(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Hr.read(s);const c=il(window,"resize",()=>this.scalePositionWithinConstraints()),u=a.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h})=>{this.isDragging&&h&&(Ji(g=>{const p=this.getAxisMotionValue(g);p&&(this.originPoint[g]+=d[g].translate,p.set(p.get()+d[g].translate))}),this.visualElement.render())});return()=>{c(),n(),l(),u&&u()}}getProps(){const r=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=dj,dragMomentum:u=!0}=r;return{...r,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:u}}}function Eb(e,r,n){return(r===!0||r===e)&&(n===null||n===e)}function $ce(e,r=10){let n=null;return Math.abs(e.y)>r?n="y":Math.abs(e.x)>r&&(n="x"),n}class Bce extends _c{constructor(r){super(r),this.removeGroupControls=ws,this.removeListeners=ws,this.controls=new Lce(r)}mount(){const{dragControls:r}=this.node.getProps();r&&(this.removeGroupControls=r.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ws}unmount(){this.removeGroupControls(),this.removeListeners()}}const LM=e=>(r,n)=>{e&&Hr.postRender(()=>e(r,n))};class zce extends _c{constructor(){super(...arguments),this.removePointerDownListener=ws}onPointerDown(r){this.session=new bI(r,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:VI(this.node)})}createPanHandlers(){const{onPanSessionStart:r,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:LM(r),onStart:LM(n),onMove:s,onEnd:(l,c)=>{delete this.session,a&&Hr.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=Ec(this.node.current,"pointerdown",r=>this.onPointerDown(r))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const L0=v.createContext(null);function Wce(){const e=v.useContext(L0);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:s}=e,a=v.useId();v.useEffect(()=>s(a),[]);const l=v.useCallback(()=>n&&n(a),[a,n]);return!r&&n?[!1,l]:[!0]}const gP=v.createContext({}),PI=v.createContext({}),qb={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function $M(e,r){return r.max===r.min?0:e/(r.max-r.min)*100}const _p={correct:(e,r)=>{if(!r.target)return e;if(typeof e=="string")if(Ut.test(e))e=parseFloat(e);else return e;const n=$M(e,r.target.x),s=$M(e,r.target.y);return`${n}% ${s}%`}},Uce={correct:(e,{treeScale:r,projectionDelta:n})=>{const s=e,a=Mc.parse(e);if(a.length>5)return s;const l=Mc.createTransformer(e),c=typeof a[0]!="number"?1:0,u=n.x.scale*r.x,d=n.y.scale*r.y;a[0+c]/=u,a[1+c]/=d;const h=vn(u,d,.5);return typeof a[2+c]=="number"&&(a[2+c]/=h),typeof a[3+c]=="number"&&(a[3+c]/=h),l(a)}},Tv={};function Gce(e){Object.assign(Tv,e)}const{schedule:NP}=SF(queueMicrotask,!1);class Hce extends v.Component{componentDidMount(){const{visualElement:r,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=r;Gce(Jce),l&&(n.group&&n.group.add(l),s&&s.register&&a&&s.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),qb.hasEverUpdated=!0}getSnapshotBeforeUpdate(r){const{layoutDependency:n,visualElement:s,drag:a,isPresent:l}=this.props,c=s.projection;return c&&(c.isPresent=l,a||r.layoutDependency!==n||n===void 0?c.willUpdate():this.safeToRemove(),r.isPresent!==l&&(l?c.promote():c.relegate()||Hr.postRender(()=>{const u=c.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:r}=this.props.visualElement;r&&(r.root.didUpdate(),NP.postRender(()=>{!r.currentAnimation&&r.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:r,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=r;a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:r}=this.props;r&&r()}render(){return null}}function SI(e){const[r,n]=Wce(),s=v.useContext(gP);return U.jsx(Hce,{...e,layoutGroup:s,switchLayoutGroup:v.useContext(PI),isPresent:r,safeToRemove:n})}const Jce={borderRadius:{..._p,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:_p,borderTopRightRadius:_p,borderBottomLeftRadius:_p,borderBottomRightRadius:_p,boxShadow:Uce},CI=["TopLeft","TopRight","BottomLeft","BottomRight"],Kce=CI.length,BM=e=>typeof e=="string"?parseFloat(e):e,zM=e=>typeof e=="number"||Ut.test(e);function qce(e,r,n,s,a,l){a?(e.opacity=vn(0,n.opacity!==void 0?n.opacity:1,Yce(s)),e.opacityExit=vn(r.opacity!==void 0?r.opacity:1,0,Xce(s))):l&&(e.opacity=vn(r.opacity!==void 0?r.opacity:1,n.opacity!==void 0?n.opacity:1,s));for(let c=0;c<Kce;c++){const u=`border${CI[c]}Radius`;let d=WM(r,u),h=WM(n,u);if(d===void 0&&h===void 0)continue;d||(d=0),h||(h=0),d===0||h===0||zM(d)===zM(h)?(e[u]=Math.max(vn(BM(d),BM(h),s),0),(go.test(h)||go.test(d))&&(e[u]+="%")):e[u]=h}(r.rotate||n.rotate)&&(e.rotate=vn(r.rotate||0,n.rotate||0,s))}function WM(e,r){return e[r]!==void 0?e[r]:e.borderRadius}const Yce=RI(0,.5,FF),Xce=RI(.5,.95,ws);function RI(e,r,n){return s=>s<e?0:s>r?1:n(sh(e,r,s))}function UM(e,r){e.min=r.min,e.max=r.max}function Hi(e,r){UM(e.x,r.x),UM(e.y,r.y)}function GM(e,r){e.translate=r.translate,e.scale=r.scale,e.originPoint=r.originPoint,e.origin=r.origin}function HM(e,r,n,s,a){return e-=r,e=Mv(e,1/n,s),a!==void 0&&(e=Mv(e,1/a,s)),e}function Qce(e,r=0,n=1,s=.5,a,l=e,c=e){if(go.test(r)&&(r=parseFloat(r),r=vn(c.min,c.max,r/100)-c.min),typeof r!="number")return;let u=vn(l.min,l.max,s);e===l&&(u-=r),e.min=HM(e.min,r,n,u,a),e.max=HM(e.max,r,n,u,a)}function JM(e,r,[n,s,a],l,c){Qce(e,r[n],r[s],r[a],r.scale,l,c)}const Zce=["x","scaleX","originX"],eue=["y","scaleY","originY"];function KM(e,r,n,s){JM(e.x,r,Zce,n?n.x:void 0,s?s.x:void 0),JM(e.y,r,eue,n?n.y:void 0,s?s.y:void 0)}function qM(e){return e.translate===0&&e.scale===1}function MI(e){return qM(e.x)&&qM(e.y)}function YM(e,r){return e.min===r.min&&e.max===r.max}function tue(e,r){return YM(e.x,r.x)&&YM(e.y,r.y)}function XM(e,r){return Math.round(e.min)===Math.round(r.min)&&Math.round(e.max)===Math.round(r.max)}function TI(e,r){return XM(e.x,r.x)&&XM(e.y,r.y)}function QM(e){return Ti(e.x)/Ti(e.y)}function ZM(e,r){return e.translate===r.translate&&e.scale===r.scale&&e.originPoint===r.originPoint}class rue{constructor(){this.members=[]}add(r){dP(this.members,r),r.scheduleRender()}remove(r){if(hP(this.members,r),r===this.prevLead&&(this.prevLead=void 0),r===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(r){const n=this.members.findIndex(a=>r===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(r,n){const s=this.lead;if(r!==s&&(this.prevLead=s,this.lead=r,r.show(),s)){s.instance&&s.scheduleRender(),r.scheduleRender(),r.resumeFrom=s,n&&(r.resumeFrom.preserveOpacity=!0),s.snapshot&&(r.snapshot=s.snapshot,r.snapshot.latestValues=s.animationValues||s.latestValues),r.root&&r.root.isUpdating&&(r.isLayoutDirty=!0);const{crossfade:a}=r.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(r=>{const{options:n,resumingFrom:s}=r;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(r=>{r.instance&&r.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function nue(e,r,n){let s="";const a=e.x.translate/r.x,l=e.y.translate/r.y,c=(n==null?void 0:n.z)||0;if((a||l||c)&&(s=`translate3d(${a}px, ${l}px, ${c}px) `),(r.x!==1||r.y!==1)&&(s+=`scale(${1/r.x}, ${1/r.y}) `),n){const{transformPerspective:h,rotate:g,rotateX:p,rotateY:N,skewX:b,skewY:D}=n;h&&(s=`perspective(${h}px) ${s}`),g&&(s+=`rotate(${g}deg) `),p&&(s+=`rotateX(${p}deg) `),N&&(s+=`rotateY(${N}deg) `),b&&(s+=`skewX(${b}deg) `),D&&(s+=`skewY(${D}deg) `)}const u=e.x.scale*r.x,d=e.y.scale*r.y;return(u!==1||d!==1)&&(s+=`scale(${u}, ${d})`),s||"none"}const sue=(e,r)=>e.depth-r.depth;class iue{constructor(){this.children=[],this.isDirty=!1}add(r){dP(this.children,r),this.isDirty=!0}remove(r){hP(this.children,r),this.isDirty=!0}forEach(r){this.isDirty&&this.children.sort(sue),this.isDirty=!1,this.children.forEach(r)}}function Yb(e){const r=ls(e)?e.get():e;return Jle(r)?r.toValue():r}function aue(e,r){const n=No.now(),s=({timestamp:a})=>{const l=a-n;l>=r&&(pl(s),e(l-r))};return Hr.read(s,!0),()=>pl(s)}function oue(e){return e instanceof SVGElement&&e.tagName!=="svg"}function lue(e,r,n){const s=ls(e)?e:ih(e);return s.start(mP("",s,r,n)),s.animation}const Eu={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Wp=typeof window<"u"&&window.MotionDebug!==void 0,KE=["","X","Y","Z"],cue={visibility:"hidden"},eT=1e3;let uue=0;function qE(e,r,n,s){const{latestValues:a}=r;a[e]&&(n[e]=a[e],r.setStaticValue(e,0),s&&(s[e]=0))}function AI(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:r}=e.options;if(!r)return;const n=fI(r);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Hr,!(a||l))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&AI(s)}function _I({attachResizeListener:e,defaultParent:r,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(c={},u=r==null?void 0:r()){this.id=uue++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Wp&&(Eu.totalNodes=Eu.resolvedTargetDeltas=Eu.recalculatedProjection=0),this.nodes.forEach(hue),this.nodes.forEach(xue),this.nodes.forEach(bue),this.nodes.forEach(fue),Wp&&window.MotionDebug.record(Eu)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new iue)}addEventListener(c,u){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new fP),this.eventHandlers.get(c).add(u)}notifyListeners(c,...u){const d=this.eventHandlers.get(c);d&&d.notify(...u)}hasListeners(c){return this.eventHandlers.has(c)}mount(c,u=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=oue(c),this.instance=c;const{layoutId:d,layout:h,visualElement:g}=this.options;if(g&&!g.current&&g.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),u&&(h||d)&&(this.isLayoutDirty=!0),e){let p;const N=()=>this.root.updateBlockedByResize=!1;e(c,()=>{this.root.updateBlockedByResize=!0,p&&p(),p=aue(N,250),qb.hasAnimatedSinceResize&&(qb.hasAnimatedSinceResize=!1,this.nodes.forEach(rT))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&g&&(d||h)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:N,hasRelativeTargetChanged:b,layout:D})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const E=this.options.transition||g.getDefaultTransition()||Eue,{onLayoutAnimationStart:j,onLayoutAnimationComplete:P}=g.getProps(),w=!this.targetLayout||!TI(this.targetLayout,D)||b,k=!N&&b;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||k||N&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(p,k);const V={...QV(E,"layout"),onPlay:j,onComplete:P};(g.shouldReduceMotion||this.options.layoutRoot)&&(V.delay=0,V.type=!1),this.startAnimation(V)}else N||rT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=D})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,pl(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(vue),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&AI(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const p=this.path[g];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:u,layout:d}=this.options;if(u===void 0&&!d)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(tT);return}this.isUpdating||this.nodes.forEach(gue),this.isUpdating=!1,this.nodes.forEach(Nue),this.nodes.forEach(mue),this.nodes.forEach(due),this.clearAllSnapshots();const u=No.now();is.delta=gl(0,1e3/60,u-is.timestamp),is.timestamp=u,is.isProcessing=!0,$E.update.process(is),$E.preRender.process(is),$E.render.process(is),is.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,NP.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(pue),this.sharedNodes.forEach(yue)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Hr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Hr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Pn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(u=!1),u){const d=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!MI(this.projectionDelta),d=this.getTransformTemplate(),h=d?d(this.latestValues,""):void 0,g=h!==this.prevTransformTemplateValue;c&&(u||ku(this.latestValues)||g)&&(a(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const u=this.measurePageBox();let d=this.removeElementScroll(u);return c&&(d=this.removeTransform(d)),Due(d),{animationId:this.root.animationId,measuredBox:u,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:u}=this.options;if(!u)return Pn();const d=u.measureViewportBox();if(!(((c=this.scroll)===null||c===void 0?void 0:c.wasRoot)||this.path.some(jue))){const{scroll:g}=this.root;g&&(yd(d.x,g.offset.x),yd(d.y,g.offset.y))}return d}removeElementScroll(c){var u;const d=Pn();if(Hi(d,c),!((u=this.scroll)===null||u===void 0)&&u.wasRoot)return d;for(let h=0;h<this.path.length;h++){const g=this.path[h],{scroll:p,options:N}=g;g!==this.root&&p&&N.layoutScroll&&(p.wasRoot&&Hi(d,c),yd(d.x,p.offset.x),yd(d.y,p.offset.y))}return d}applyTransform(c,u=!1){const d=Pn();Hi(d,c);for(let h=0;h<this.path.length;h++){const g=this.path[h];!u&&g.options.layoutScroll&&g.scroll&&g!==g.root&&wd(d,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),ku(g.latestValues)&&wd(d,g.latestValues)}return ku(this.latestValues)&&wd(d,this.latestValues),d}removeTransform(c){const u=Pn();Hi(u,c);for(let d=0;d<this.path.length;d++){const h=this.path[d];if(!h.instance||!ku(h.latestValues))continue;hj(h.latestValues)&&h.updateSnapshot();const g=Pn(),p=h.measurePageBox();Hi(g,p),KM(u,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,g)}return ku(this.latestValues)&&KM(u,this.latestValues),u}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==is.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var u;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==d;if(!(c||h&&this.isSharedProjectionDirty||this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:N}=this.options;if(!(!this.layout||!(p||N))){if(this.resolvedRelativeTargetAt=is.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Pn(),this.relativeTargetOrigin=Pn(),Qp(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),Hi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Pn(),this.targetWithTransforms=Pn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Vce(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Hi(this.target,this.layout.layoutBox),DI(this.target,this.targetDelta)):Hi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Pn(),this.relativeTargetOrigin=Pn(),Qp(this.relativeTargetOrigin,this.target,b.target),Hi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Wp&&Eu.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||hj(this.parent.latestValues)||EI(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var c;const u=this.getLead(),d=!!this.resumingFrom||this!==u;let h=!0;if((this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty)&&(h=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===is.timestamp&&(h=!1),h)return;const{layout:g,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||p))return;Hi(this.layoutCorrected,this.layout.layoutBox);const N=this.treeScale.x,b=this.treeScale.y;Fce(this.layoutCorrected,this.treeScale,this.path,d),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=Pn());const{target:D}=u;if(!D){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(GM(this.prevProjectionDelta.x,this.projectionDelta.x),GM(this.prevProjectionDelta.y,this.projectionDelta.y)),Xp(this.projectionDelta,this.layoutCorrected,D,this.latestValues),(this.treeScale.x!==N||this.treeScale.y!==b||!ZM(this.projectionDelta.x,this.prevProjectionDelta.x)||!ZM(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",D)),Wp&&Eu.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var u;if((u=this.options.visualElement)===null||u===void 0||u.scheduleRender(),c){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=vd(),this.projectionDelta=vd(),this.projectionDeltaWithTransform=vd()}setAnimationOrigin(c,u=!1){const d=this.snapshot,h=d?d.latestValues:{},g={...this.latestValues},p=vd();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const N=Pn(),b=d?d.source:void 0,D=this.layout?this.layout.source:void 0,E=b!==D,j=this.getStack(),P=!j||j.members.length<=1,w=!!(E&&!P&&this.options.crossfade===!0&&!this.path.some(kue));this.animationProgress=0;let k;this.mixTargetDelta=V=>{const S=V/1e3;nT(p.x,c.x,S),nT(p.y,c.y,S),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Qp(N,this.layout.layoutBox,this.relativeParent.layout.layoutBox),wue(this.relativeTarget,this.relativeTargetOrigin,N,S),k&&tue(this.relativeTarget,k)&&(this.isProjectionDirty=!1),k||(k=Pn()),Hi(k,this.relativeTarget)),E&&(this.animationValues=g,qce(g,h,this.latestValues,S,w,P)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(pl(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Hr.update(()=>{qb.hasAnimatedSinceResize=!0,this.currentAnimation=lue(0,eT,{...c,onUpdate:u=>{this.mixTargetDelta(u),c.onUpdate&&c.onUpdate(u)},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(eT),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:u,target:d,layout:h,latestValues:g}=c;if(!(!u||!d||!h)){if(this!==c&&this.layout&&h&&FI(this.options.animationType,this.layout.layoutBox,h.layoutBox)){d=this.target||Pn();const p=Ti(this.layout.layoutBox.x);d.x.min=c.target.x.min,d.x.max=d.x.min+p;const N=Ti(this.layout.layoutBox.y);d.y.min=c.target.y.min,d.y.max=d.y.min+N}Hi(u,d),wd(u,g),Xp(this.projectionDeltaWithTransform,this.layoutCorrected,u,g)}}registerSharedNode(c,u){this.sharedNodes.has(c)||this.sharedNodes.set(c,new rue),this.sharedNodes.get(c).add(u);const h=u.options.initialPromotionConfig;u.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(u):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var c;const{layoutId:u}=this.options;return u?((c=this.getStack())===null||c===void 0?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:u}=this.options;return u?(c=this.getStack())===null||c===void 0?void 0:c.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:u,preserveFollowOpacity:d}={}){const h=this.getStack();h&&h.promote(this,d),c&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let u=!1;const{latestValues:d}=c;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(u=!0),!u)return;const h={};d.z&&qE("z",c,h,this.animationValues);for(let g=0;g<KE.length;g++)qE(`rotate${KE[g]}`,c,h,this.animationValues),qE(`skew${KE[g]}`,c,h,this.animationValues);c.render();for(const g in h)c.setStaticValue(g,h[g]),this.animationValues&&(this.animationValues[g]=h[g]);c.scheduleRender()}getProjectionStyles(c){var u,d;if(!this.instance||this.isSVG)return;if(!this.isVisible)return cue;const h={visibility:""},g=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,h.opacity="",h.pointerEvents=Yb(c==null?void 0:c.pointerEvents)||"",h.transform=g?g(this.latestValues,""):"none",h;const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){const E={};return this.options.layoutId&&(E.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,E.pointerEvents=Yb(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!ku(this.latestValues)&&(E.transform=g?g({},""):"none",this.hasProjected=!1),E}const N=p.animationValues||p.latestValues;this.applyTransformsToTarget(),h.transform=nue(this.projectionDeltaWithTransform,this.treeScale,N),g&&(h.transform=g(N,h.transform));const{x:b,y:D}=this.projectionDelta;h.transformOrigin=`${b.origin*100}% ${D.origin*100}% 0`,p.animationValues?h.opacity=p===this?(d=(u=N.opacity)!==null&&u!==void 0?u:this.latestValues.opacity)!==null&&d!==void 0?d:1:this.preserveOpacity?this.latestValues.opacity:N.opacityExit:h.opacity=p===this?N.opacity!==void 0?N.opacity:"":N.opacityExit!==void 0?N.opacityExit:0;for(const E in Tv){if(N[E]===void 0)continue;const{correct:j,applyTo:P}=Tv[E],w=h.transform==="none"?N[E]:j(N[E],p);if(P){const k=P.length;for(let V=0;V<k;V++)h[P[V]]=w}else h[E]=w}return this.options.layoutId&&(h.pointerEvents=p===this?Yb(c==null?void 0:c.pointerEvents)||"":"none"),h}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var u;return(u=c.currentAnimation)===null||u===void 0?void 0:u.stop()}),this.root.nodes.forEach(tT),this.root.sharedNodes.clear()}}}function mue(e){e.updateLayout()}function due(e){var r;const n=((r=e.resumeFrom)===null||r===void 0?void 0:r.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:a}=e.layout,{animationType:l}=e.options,c=n.source!==e.layout.source;l==="size"?Ji(p=>{const N=c?n.measuredBox[p]:n.layoutBox[p],b=Ti(N);N.min=s[p].min,N.max=N.min+b}):FI(l,n.layoutBox,s)&&Ji(p=>{const N=c?n.measuredBox[p]:n.layoutBox[p],b=Ti(s[p]);N.max=N.min+b,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[p].max=e.relativeTarget[p].min+b)});const u=vd();Xp(u,s,n.layoutBox);const d=vd();c?Xp(d,e.applyTransform(a,!0),n.measuredBox):Xp(d,s,n.layoutBox);const h=!MI(u);let g=!1;if(!e.resumeFrom){const p=e.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:N,layout:b}=p;if(N&&b){const D=Pn();Qp(D,n.layoutBox,N.layoutBox);const E=Pn();Qp(E,s,b.layoutBox),TI(D,E)||(g=!0),p.options.layoutRoot&&(e.relativeTarget=E,e.relativeTargetOrigin=D,e.relativeParent=p)}}}e.notifyListeners("didUpdate",{layout:s,snapshot:n,delta:d,layoutDelta:u,hasLayoutChanged:h,hasRelativeTargetChanged:g})}else if(e.isLead()){const{onExitComplete:s}=e.options;s&&s()}e.options.transition=void 0}function hue(e){Wp&&Eu.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function fue(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function pue(e){e.clearSnapshot()}function tT(e){e.clearMeasurements()}function gue(e){e.isLayoutDirty=!1}function Nue(e){const{visualElement:r}=e.options;r&&r.getProps().onBeforeLayoutMeasure&&r.notify("BeforeLayoutMeasure"),e.resetTransform()}function rT(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function xue(e){e.resolveTargetDelta()}function bue(e){e.calcProjection()}function vue(e){e.resetSkewAndRotation()}function yue(e){e.removeLeadSnapshot()}function nT(e,r,n){e.translate=vn(r.translate,0,n),e.scale=vn(r.scale,1,n),e.origin=r.origin,e.originPoint=r.originPoint}function sT(e,r,n,s){e.min=vn(r.min,n.min,s),e.max=vn(r.max,n.max,s)}function wue(e,r,n,s){sT(e.x,r.x,n.x,s),sT(e.y,r.y,n.y,s)}function kue(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Eue={duration:.45,ease:[.4,0,.1,1]},iT=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),aT=iT("applewebkit/")&&!iT("chrome/")?Math.round:ws;function oT(e){e.min=aT(e.min),e.max=aT(e.max)}function Due(e){oT(e.x),oT(e.y)}function FI(e,r,n){return e==="position"||e==="preserve-aspect"&&!jce(QM(r),QM(n),.2)}function jue(e){var r;return e!==e.root&&((r=e.scroll)===null||r===void 0?void 0:r.wasRoot)}const Vue=_I({attachResizeListener:(e,r)=>il(e,"resize",r),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),YE={current:void 0},II=_I({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!YE.current){const e=new Vue({});e.mount(window),e.setOptions({layoutScroll:!0}),YE.current=e}return YE.current},resetTransform:(e,r)=>{e.style.transform=r!==void 0?r:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Pue={pan:{Feature:zce},drag:{Feature:Bce,ProjectionNode:II,MeasureLayout:SI}};function lT(e,r,n){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",n);const a=s[n?"onHoverStart":"onHoverEnd"];a&&Hr.postRender(()=>a(r,Gg(r)))}class Sue extends _c{mount(){const{current:r,props:n}=this.node;r&&(this.unmount=gce(r,s=>(lT(this.node,s,!0),a=>lT(this.node,a,!1)),{passive:!n.onHoverStart&&!n.onHoverEnd}))}unmount(){}}class Cue extends _c{constructor(){super(...arguments),this.isActive=!1}onFocus(){let r=!1;try{r=this.node.current.matches(":focus-visible")}catch{r=!0}!r||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=kc(il(this.node.current,"focus",()=>this.onFocus()),il(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const OI=(e,r)=>r?e===r?!0:OI(e,r.parentElement):!1;function XE(e,r){if(!r)return;const n=new PointerEvent("pointer"+e);r(n,Gg(n))}class Rue extends _c{constructor(){super(...arguments),this.removeStartListeners=ws,this.removeEndListeners=ws,this.removeAccessibleListeners=ws,this.startPointerPress=(r,n)=>{if(this.isPressing)return;this.removeEndListeners();const s=this.node.getProps(),l=Ec(window,"pointerup",(u,d)=>{if(!this.checkPressEnd())return;const{onTap:h,onTapCancel:g,globalTapTarget:p}=this.node.getProps(),N=!p&&!OI(this.node.current,u.target)?g:h;N&&Hr.update(()=>N(u,d))},{passive:!(s.onTap||s.onPointerUp)}),c=Ec(window,"pointercancel",(u,d)=>this.cancelPress(u,d),{passive:!(s.onTapCancel||s.onPointerCancel)});this.removeEndListeners=kc(l,c),this.startPress(r,n)},this.startAccessiblePress=()=>{const r=l=>{if(l.key!=="Enter"||this.isPressing)return;const c=u=>{u.key!=="Enter"||!this.checkPressEnd()||XE("up",(d,h)=>{const{onTap:g}=this.node.getProps();g&&Hr.postRender(()=>g(d,h))})};this.removeEndListeners(),this.removeEndListeners=il(this.node.current,"keyup",c),XE("down",(u,d)=>{this.startPress(u,d)})},n=il(this.node.current,"keydown",r),s=()=>{this.isPressing&&XE("cancel",(l,c)=>this.cancelPress(l,c))},a=il(this.node.current,"blur",s);this.removeAccessibleListeners=kc(n,a)}}startPress(r,n){this.isPressing=!0;const{onTapStart:s,whileTap:a}=this.node.getProps();a&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),s&&Hr.postRender(()=>s(r,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!NI()}cancelPress(r,n){if(!this.checkPressEnd())return;const{onTapCancel:s}=this.node.getProps();s&&Hr.postRender(()=>s(r,n))}mount(){const r=this.node.getProps(),n=Ec(r.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(r.onTapStart||r.onPointerStart)}),s=il(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=kc(n,s)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const pj=new WeakMap,QE=new WeakMap,Mue=e=>{const r=pj.get(e.target);r&&r(e)},Tue=e=>{e.forEach(Mue)};function Aue({root:e,...r}){const n=e||document;QE.has(n)||QE.set(n,{});const s=QE.get(n),a=JSON.stringify(r);return s[a]||(s[a]=new IntersectionObserver(Tue,{root:e,...r})),s[a]}function _ue(e,r,n){const s=Aue(r);return pj.set(e,n),s.observe(e),()=>{pj.delete(e),s.unobserve(e)}}const Fue={some:0,all:1};class Iue extends _c{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:r={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:l}=r,c={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:Fue[a]},u=d=>{const{isIntersecting:h}=d;if(this.isInView===h||(this.isInView=h,l&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:g,onViewportLeave:p}=this.node.getProps(),N=h?g:p;N&&N(d)};return _ue(this.node.current,c,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:r,prevProps:n}=this.node;["amount","margin","root"].some(Oue(r,n))&&this.startObserver()}unmount(){}}function Oue({viewport:e={}},{viewport:r={}}={}){return n=>e[n]!==r[n]}const Lue={inView:{Feature:Iue},tap:{Feature:Rue},focus:{Feature:Cue},hover:{Feature:Sue}},$ue={layout:{ProjectionNode:II,MeasureLayout:SI}},Hg=v.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),$0=v.createContext({}),xP=typeof window<"u",B0=xP?v.useLayoutEffect:v.useEffect,LI=v.createContext({strict:!1});function Bue(e,r,n,s,a){var l,c;const{visualElement:u}=v.useContext($0),d=v.useContext(LI),h=v.useContext(L0),g=v.useContext(Hg).reducedMotion,p=v.useRef();s=s||d.renderer,!p.current&&s&&(p.current=s(e,{visualState:r,parent:u,props:n,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:g}));const N=p.current,b=v.useContext(PI);N&&!N.projection&&a&&(N.type==="html"||N.type==="svg")&&zue(p.current,n,a,b);const D=v.useRef(!1);v.useInsertionEffect(()=>{N&&D.current&&N.update(n,h)});const E=n[hI],j=v.useRef(!!E&&!(!((l=window.MotionHandoffIsComplete)===null||l===void 0)&&l.call(window,E))&&((c=window.MotionHasOptimisedAnimation)===null||c===void 0?void 0:c.call(window,E)));return B0(()=>{N&&(D.current=!0,window.MotionIsMounted=!0,N.updateFeatures(),NP.render(N.render),j.current&&N.animationState&&N.animationState.animateChanges())}),v.useEffect(()=>{N&&(!j.current&&N.animationState&&N.animationState.animateChanges(),j.current&&(queueMicrotask(()=>{var P;(P=window.MotionHandoffMarkAsComplete)===null||P===void 0||P.call(window,E)}),j.current=!1))}),N}function zue(e,r,n,s){const{layoutId:a,layout:l,drag:c,dragConstraints:u,layoutScroll:d,layoutRoot:h}=r;e.projection=new n(e.latestValues,r["data-framer-portal-id"]?void 0:$I(e.parent)),e.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||u&&bd(u),visualElement:e,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,layoutScroll:d,layoutRoot:h})}function $I(e){if(e)return e.options.allowProjection!==!1?e.projection:$I(e.parent)}function Wue(e,r,n){return v.useCallback(s=>{s&&e.mount&&e.mount(s),r&&(s?r.mount(s):r.unmount()),n&&(typeof n=="function"?n(s):bd(n)&&(n.current=s))},[r])}function z0(e){return _0(e.animate)||XV.some(r=>ug(e[r]))}function BI(e){return!!(z0(e)||e.variants)}function Uue(e,r){if(z0(e)){const{initial:n,animate:s}=e;return{initial:n===!1||ug(n)?n:void 0,animate:ug(s)?s:void 0}}return e.inherit!==!1?r:{}}function Gue(e){const{initial:r,animate:n}=Uue(e,v.useContext($0));return v.useMemo(()=>({initial:r,animate:n}),[cT(r),cT(n)])}function cT(e){return Array.isArray(e)?e.join(" "):e}const uT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ah={};for(const e in uT)ah[e]={isEnabled:r=>uT[e].some(n=>!!r[n])};function Hue(e){for(const r in e)ah[r]={...ah[r],...e[r]}}const Jue=Symbol.for("motionComponentSymbol");function Kue({preloadedFeatures:e,createVisualElement:r,useRender:n,useVisualState:s,Component:a}){e&&Hue(e);function l(u,d){let h;const g={...v.useContext(Hg),...u,layoutId:que(u)},{isStatic:p}=g,N=Gue(u),b=s(u,p);if(!p&&xP){Yue(g,e);const D=Xue(g);h=D.MeasureLayout,N.visualElement=Bue(a,b,g,r,D.ProjectionNode)}return U.jsxs($0.Provider,{value:N,children:[h&&N.visualElement?U.jsx(h,{visualElement:N.visualElement,...g}):null,n(a,u,Wue(b,N.visualElement,d),b,p,N.visualElement)]})}const c=v.forwardRef(l);return c[Jue]=a,c}function que({layoutId:e}){const r=v.useContext(gP).id;return r&&e!==void 0?r+"-"+e:e}function Yue(e,r){const n=v.useContext(LI).strict;if(r&&n){const s="You have rendered a `motion` component within a `LazyMotion` component. This will break tree shaking. Import and render a `m` component instead.";e.ignoreStrict?Oh(!1,s):fl(!1,s)}}function Xue(e){const{drag:r,layout:n}=ah;if(!r&&!n)return{};const s={...r,...n};return{MeasureLayout:r!=null&&r.isEnabled(e)||n!=null&&n.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}const Que=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function bP(e){return typeof e!="string"||e.includes("-")?!1:!!(Que.indexOf(e)>-1||/[A-Z]/u.test(e))}function zI(e,{style:r,vars:n},s,a){Object.assign(e.style,r,a&&a.getProjectionStyles(s));for(const l in n)e.style.setProperty(l,n[l])}const WI=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function UI(e,r,n,s){zI(e,r,void 0,s);for(const a in r.attrs)e.setAttribute(WI.has(a)?a:pP(a),r.attrs[a])}function GI(e,{layout:r,layoutId:n}){return rm.has(e)||e.startsWith("origin")||(r||n!==void 0)&&(!!Tv[e]||e==="opacity")}function vP(e,r,n){var s;const{style:a}=e,l={};for(const c in a)(ls(a[c])||r.style&&ls(r.style[c])||GI(c,e)||((s=n==null?void 0:n.getValue(c))===null||s===void 0?void 0:s.liveStyle)!==void 0)&&(l[c]=a[c]);return l}function HI(e,r,n){const s=vP(e,r,n);for(const a in e)if(ls(e[a])||ls(r[a])){const l=zg.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=e[a]}return s}function Jg(e){const r=v.useRef(null);return r.current===null&&(r.current=e()),r.current}function Zue({scrapeMotionValuesFromProps:e,createRenderState:r,onMount:n},s,a,l){const c={latestValues:eme(s,a,l,e),renderState:r()};return n&&(c.mount=u=>n(s,u,c)),c}const JI=e=>(r,n)=>{const s=v.useContext($0),a=v.useContext(L0),l=()=>Zue(e,r,s,a);return n?l():Jg(l)};function eme(e,r,n,s){const a={},l=s(e,{});for(const N in l)a[N]=Yb(l[N]);let{initial:c,animate:u}=e;const d=z0(e),h=BI(e);r&&h&&!d&&e.inherit!==!1&&(c===void 0&&(c=r.initial),u===void 0&&(u=r.animate));let g=n?n.initial===!1:!1;g=g||c===!1;const p=g?u:c;if(p&&typeof p!="boolean"&&!_0(p)){const N=Array.isArray(p)?p:[p];for(let b=0;b<N.length;b++){const D=qV(e,N[b]);if(D){const{transitionEnd:E,transition:j,...P}=D;for(const w in P){let k=P[w];if(Array.isArray(k)){const V=g?k.length-1:0;k=k[V]}k!==null&&(a[w]=k)}for(const w in E)a[w]=E[w]}}}return a}const yP=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),KI=()=>({...yP(),attrs:{}}),qI=(e,r)=>r&&typeof e=="number"?r.transform(e):e,tme={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},rme=zg.length;function nme(e,r,n){let s="",a=!0;for(let l=0;l<rme;l++){const c=zg[l],u=e[c];if(u===void 0)continue;let d=!0;if(typeof u=="number"?d=u===(c.startsWith("scale")?1:0):d=parseFloat(u)===0,!d||n){const h=qI(u,iP[c]);if(!d){a=!1;const g=tme[c]||c;s+=`${g}(${h}) `}n&&(r[c]=h)}}return s=s.trim(),n?s=n(r,a?"":s):a&&(s="none"),s}function wP(e,r,n){const{style:s,vars:a,transformOrigin:l}=e;let c=!1,u=!1;for(const d in r){const h=r[d];if(rm.has(d)){c=!0;continue}else if(BF(d)){a[d]=h;continue}else{const g=qI(h,iP[d]);d.startsWith("origin")?(u=!0,l[d]=g):s[d]=g}}if(r.transform||(c||n?s.transform=nme(r,e.transform,n):s.transform&&(s.transform="none")),u){const{originX:d="50%",originY:h="50%",originZ:g=0}=l;s.transformOrigin=`${d} ${h} ${g}`}}function mT(e,r,n){return typeof e=="string"?e:Ut.transform(r+n*e)}function sme(e,r,n){const s=mT(r,e.x,e.width),a=mT(n,e.y,e.height);return`${s} ${a}`}const ime={offset:"stroke-dashoffset",array:"stroke-dasharray"},ame={offset:"strokeDashoffset",array:"strokeDasharray"};function ome(e,r,n=1,s=0,a=!0){e.pathLength=1;const l=a?ime:ame;e[l.offset]=Ut.transform(-s);const c=Ut.transform(r),u=Ut.transform(n);e[l.array]=`${c} ${u}`}function kP(e,{attrX:r,attrY:n,attrScale:s,originX:a,originY:l,pathLength:c,pathSpacing:u=1,pathOffset:d=0,...h},g,p){if(wP(e,h,p),g){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:N,style:b,dimensions:D}=e;N.transform&&(D&&(b.transform=N.transform),delete N.transform),D&&(a!==void 0||l!==void 0||b.transform)&&(b.transformOrigin=sme(D,a!==void 0?a:.5,l!==void 0?l:.5)),r!==void 0&&(N.x=r),n!==void 0&&(N.y=n),s!==void 0&&(N.scale=s),c!==void 0&&ome(N,c,u,d,!1)}const EP=e=>typeof e=="string"&&e.toLowerCase()==="svg",lme={useVisualState:JI({scrapeMotionValuesFromProps:HI,createRenderState:KI,onMount:(e,r,{renderState:n,latestValues:s})=>{Hr.read(()=>{try{n.dimensions=typeof r.getBBox=="function"?r.getBBox():r.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Hr.render(()=>{kP(n,s,EP(r.tagName),e.transformTemplate),UI(r,n)})}})},cme={useVisualState:JI({scrapeMotionValuesFromProps:vP,createRenderState:yP})};function YI(e,r,n){for(const s in r)!ls(r[s])&&!GI(s,n)&&(e[s]=r[s])}function ume({transformTemplate:e},r){return v.useMemo(()=>{const n=yP();return wP(n,r,e),Object.assign({},n.vars,n.style)},[r])}function mme(e,r){const n=e.style||{},s={};return YI(s,n,e),Object.assign(s,ume(e,r)),s}function dme(e,r){const n={},s=mme(e,r);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const hme=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Av(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||hme.has(e)}let XI=e=>!Av(e);function fme(e){e&&(XI=r=>r.startsWith("on")?!Av(r):e(r))}try{fme(require("@emotion/is-prop-valid").default)}catch{}function pme(e,r,n){const s={};for(const a in e)a==="values"&&typeof e.values=="object"||(XI(a)||n===!0&&Av(a)||!r&&!Av(a)||e.draggable&&a.startsWith("onDrag"))&&(s[a]=e[a]);return s}function gme(e,r,n,s){const a=v.useMemo(()=>{const l=KI();return kP(l,r,EP(s),e.transformTemplate),{...l.attrs,style:{...l.style}}},[r]);if(e.style){const l={};YI(l,e.style,e),a.style={...l,...a.style}}return a}function Nme(e=!1){return(n,s,a,{latestValues:l},c)=>{const d=(bP(n)?gme:dme)(s,l,c,n),h=pme(s,typeof n=="string",e),g=n!==v.Fragment?{...h,...d,ref:a}:{},{children:p}=s,N=v.useMemo(()=>ls(p)?p.get():p,[p]);return v.createElement(n,{...g,children:N})}}function xme(e,r){return function(s,{forwardMotionProps:a}={forwardMotionProps:!1}){const c={...bP(s)?lme:cme,preloadedFeatures:e,useRender:Nme(a),createVisualElement:r,Component:s};return Kue(c)}}const gj={current:null},QI={current:!1};function bme(){if(QI.current=!0,!!xP)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),r=()=>gj.current=e.matches;e.addListener(r),r()}else gj.current=!1}function vme(e,r,n){for(const s in r){const a=r[s],l=n[s];if(ls(a))e.addValue(s,a),A0(a.version==="11.13.1",`Attempting to mix Motion versions ${a.version} with 11.13.1 may not work as expected.`);else if(ls(l))e.addValue(s,ih(a,{owner:e}));else if(l!==a)if(e.hasValue(s)){const c=e.getValue(s);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=e.getStaticValue(s);e.addValue(s,ih(c!==void 0?c:a,{owner:e}))}}for(const s in n)r[s]===void 0&&e.removeValue(s);return r}const dT=new WeakMap,yme=[...UF,Ts,Mc],wme=e=>yme.find(WF(e)),hT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class kme{scrapeMotionValuesFromProps(r,n,s){return{}}constructor({parent:r,props:n,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=rP,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const N=No.now();this.renderScheduledAt<N&&(this.renderScheduledAt=N,Hr.render(this.render,!1,!0))};const{latestValues:d,renderState:h}=c;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=h,this.parent=r,this.props=n,this.presenceContext=s,this.depth=r?r.depth+1:0,this.reducedMotionConfig=a,this.options=u,this.blockInitialAnimation=!!l,this.isControllingVariants=z0(n),this.isVariantNode=BI(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(r&&r.current);const{willChange:g,...p}=this.scrapeMotionValuesFromProps(n,{},this);for(const N in p){const b=p[N];d[N]!==void 0&&ls(b)&&b.set(d[N],!1)}}mount(r){this.current=r,dT.set(r,this),this.projection&&!this.projection.instance&&this.projection.mount(r),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),QI.current||bme(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:gj.current,A0(this.shouldReduceMotion!==!0,"You have Reduced Motion enabled on your device. Animations may not appear as expected."),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){dT.delete(this.current),this.projection&&this.projection.unmount(),pl(this.notifyUpdate),pl(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const n=this.features[r];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(r,n){this.valueSubscriptions.has(r)&&this.valueSubscriptions.get(r)();const s=rm.has(r),a=n.on("change",u=>{this.latestValues[r]=u,this.props.onUpdate&&Hr.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),l=n.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,r,n)),this.valueSubscriptions.set(r,()=>{a(),l(),c&&c(),n.owner&&n.stop()})}sortNodePosition(r){return!this.current||!this.sortInstanceNodePosition||this.type!==r.type?0:this.sortInstanceNodePosition(this.current,r.current)}updateFeatures(){let r="animation";for(r in ah){const n=ah[r];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[r]&&a&&s(this.props)&&(this.features[r]=new a(this)),this.features[r]){const l=this.features[r];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Pn()}getStaticValue(r){return this.latestValues[r]}setStaticValue(r,n){this.latestValues[r]=n}update(r,n){(r.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=r,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<hT.length;s++){const a=hT[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=r[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=vme(this,this.scrapeMotionValuesFromProps(r,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(r){return this.props.variants?this.props.variants[r]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(r){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(r),()=>n.variantChildren.delete(r)}addValue(r,n){const s=this.values.get(r);n!==s&&(s&&this.removeValue(r),this.bindToMotionValue(r,n),this.values.set(r,n),this.latestValues[r]=n.get())}removeValue(r){this.values.delete(r);const n=this.valueSubscriptions.get(r);n&&(n(),this.valueSubscriptions.delete(r)),delete this.latestValues[r],this.removeValueFromRenderState(r,this.renderState)}hasValue(r){return this.values.has(r)}getValue(r,n){if(this.props.values&&this.props.values[r])return this.props.values[r];let s=this.values.get(r);return s===void 0&&n!==void 0&&(s=ih(n===null?void 0:n,{owner:this}),this.addValue(r,s)),s}readValue(r,n){var s;let a=this.latestValues[r]!==void 0||!this.current?this.latestValues[r]:(s=this.getBaseTargetFromProps(this.props,r))!==null&&s!==void 0?s:this.readValueFromInstance(this.current,r,this.options);return a!=null&&(typeof a=="string"&&(LF(a)||OF(a))?a=parseFloat(a):!wme(a)&&Mc.test(n)&&(a=QF(r,n)),this.setBaseTarget(r,ls(a)?a.get():a)),ls(a)?a.get():a}setBaseTarget(r,n){this.baseTarget[r]=n}getBaseTarget(r){var n;const{initial:s}=this.props;let a;if(typeof s=="string"||typeof s=="object"){const c=qV(this.props,s,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);c&&(a=c[r])}if(s&&a!==void 0)return a;const l=this.getBaseTargetFromProps(this.props,r);return l!==void 0&&!ls(l)?l:this.initialValues[r]!==void 0&&a===void 0?void 0:this.baseTarget[r]}on(r,n){return this.events[r]||(this.events[r]=new fP),this.events[r].add(n)}notify(r,...n){this.events[r]&&this.events[r].notify(...n)}}class ZI extends kme{constructor(){super(...arguments),this.KeyframeResolver=ZF}sortInstanceNodePosition(r,n){return r.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(r,n){return r.style?r.style[n]:void 0}removeValueFromRenderState(r,{vars:n,style:s}){delete n[r],delete s[r]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:r}=this.props;ls(r)&&(this.childSubscription=r.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Eme(e){return window.getComputedStyle(e)}class Dme extends ZI{constructor(){super(...arguments),this.type="html",this.renderInstance=zI}readValueFromInstance(r,n){if(rm.has(n)){const s=aP(n);return s&&s.default||0}else{const s=Eme(r),a=(BF(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(r,{transformPagePoint:n}){return jI(r,n)}build(r,n,s){wP(r,n,s.transformTemplate)}scrapeMotionValuesFromProps(r,n,s){return vP(r,n,s)}}class jme extends ZI{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Pn}getBaseTargetFromProps(r,n){return r[n]}readValueFromInstance(r,n){if(rm.has(n)){const s=aP(n);return s&&s.default||0}return n=WI.has(n)?n:pP(n),r.getAttribute(n)}scrapeMotionValuesFromProps(r,n,s){return HI(r,n,s)}build(r,n,s){kP(r,n,this.isSVGTag,s.transformTemplate)}renderInstance(r,n,s,a){UI(r,n,s,a)}mount(r){this.isSVGTag=EP(r.tagName),super.mount(r)}}const Vme=(e,r)=>bP(e)?new jme(r):new Dme(r,{allowProjection:e!==v.Fragment}),Pme=xme({...fce,...Lue,...Pue,...$ue},Vme),Su=moe(Pme);class Sme extends v.Component{getSnapshotBeforeUpdate(r){const n=this.props.childRef.current;if(n&&r.isPresent&&!this.props.isPresent){const s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Cme({children:e,isPresent:r}){const n=v.useId(),s=v.useRef(null),a=v.useRef({width:0,height:0,top:0,left:0}),{nonce:l}=v.useContext(Hg);return v.useInsertionEffect(()=>{const{width:c,height:u,top:d,left:h}=a.current;if(r||!s.current||!c||!u)return;s.current.dataset.motionPopId=n;const g=document.createElement("style");return l&&(g.nonce=l),document.head.appendChild(g),g.sheet&&g.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${u}px !important;
            top: ${d}px !important;
            left: ${h}px !important;
          }
        `),()=>{document.head.removeChild(g)}},[r]),U.jsx(Sme,{isPresent:r,childRef:s,sizeRef:a,children:v.cloneElement(e,{ref:s})})}const Rme=({children:e,initial:r,isPresent:n,onExitComplete:s,custom:a,presenceAffectsLayout:l,mode:c})=>{const u=Jg(Mme),d=v.useId(),h=v.useCallback(p=>{u.set(p,!0);for(const N of u.values())if(!N)return;s&&s()},[u,s]),g=v.useMemo(()=>({id:d,initial:r,isPresent:n,custom:a,onExitComplete:h,register:p=>(u.set(p,!1),()=>u.delete(p))}),l?[Math.random(),h]:[n,h]);return v.useMemo(()=>{u.forEach((p,N)=>u.set(N,!1))},[n]),v.useEffect(()=>{!n&&!u.size&&s&&s()},[n]),c==="popLayout"&&(e=U.jsx(Cme,{isPresent:n,children:e})),U.jsx(L0.Provider,{value:g,children:e})};function Mme(){return new Map}const Db=e=>e.key||"";function fT(e){const r=[];return v.Children.forEach(e,n=>{v.isValidElement(n)&&r.push(n)}),r}const Tme=({children:e,exitBeforeEnter:r,custom:n,initial:s=!0,onExitComplete:a,presenceAffectsLayout:l=!0,mode:c="sync"})=>{fl(!r,"Replace exitBeforeEnter with mode='wait'");const u=v.useMemo(()=>fT(e),[e]),d=u.map(Db),h=v.useRef(!0),g=v.useRef(u),p=Jg(()=>new Map),[N,b]=v.useState(u),[D,E]=v.useState(u);B0(()=>{h.current=!1,g.current=u;for(let w=0;w<D.length;w++){const k=Db(D[w]);d.includes(k)?p.delete(k):p.get(k)!==!0&&p.set(k,!1)}},[D,d.length,d.join("-")]);const j=[];if(u!==N){let w=[...u];for(let k=0;k<D.length;k++){const V=D[k],S=Db(V);d.includes(S)||(w.splice(k,0,V),j.push(V))}c==="wait"&&j.length&&(w=j),E(fT(w)),b(u);return}c==="wait"&&D.length>1&&console.warn(`You're attempting to animate multiple children within AnimatePresence, but its mode is set to "wait". This will lead to odd visual behaviour.`);const{forceRender:P}=v.useContext(gP);return U.jsx(U.Fragment,{children:D.map(w=>{const k=Db(w),V=u===D||d.includes(k),S=()=>{if(p.has(k))p.set(k,!0);else return;let R=!0;p.forEach(M=>{M||(R=!1)}),R&&(P==null||P(),E(g.current),a&&a())};return U.jsx(Rme,{isPresent:V,initial:!h.current||s?void 0:!1,custom:V?void 0:n,presenceAffectsLayout:l,mode:c,onExitComplete:V?void 0:S,children:w},k)})})};function eO(e){const r=Jg(()=>ih(e)),{isStatic:n}=v.useContext(Hg);if(n){const[,s]=v.useState(e);v.useEffect(()=>r.on("change",s),[])}return r}function tO(e,r){const n=eO(r()),s=()=>n.set(r());return s(),B0(()=>{const a=()=>Hr.preRender(s,!1,!0),l=e.map(c=>c.on("change",a));return()=>{l.forEach(c=>c()),pl(s)}}),n}const Ame=e=>e&&typeof e=="object"&&e.mix,_me=e=>Ame(e)?e.mix:void 0;function Fme(...e){const r=!Array.isArray(e[0]),n=r?0:-1,s=e[0+n],a=e[1+n],l=e[2+n],c=e[3+n],u=cI(a,l,{mixer:_me(l[0]),...c});return r?u(s):u}function Ime(e){Yp.current=[],e();const r=tO(Yp.current,e);return Yp.current=void 0,r}function Ome(e,r,n,s){if(typeof e=="function")return Ime(e);const a=typeof r=="function"?r:Fme(r,n,s);return Array.isArray(e)?pT(e,a):pT([e],([l])=>a(l))}function pT(e,r){const n=Jg(()=>[]);return tO(e,()=>{n.length=0;const s=e.length;for(let a=0;a<s;a++)n[a]=e[a].get();return r(n)})}function gT(e){return typeof e=="number"?e:parseFloat(e)}function Lme(e,r={}){const{isStatic:n}=v.useContext(Hg),s=v.useRef(null),a=eO(ls(e)?gT(e.get()):e),l=v.useRef(a.get()),c=v.useRef(()=>{}),u=()=>{const h=s.current;h&&h.time===0&&h.sample(is.delta),d(),s.current=Ale({keyframes:[a.get(),l.current],velocity:a.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...r,onUpdate:c.current})},d=()=>{s.current&&s.current.stop()};return v.useInsertionEffect(()=>a.attach((h,g)=>n?g(h):(l.current=h,c.current=g,Hr.update(u),a.get()),d),[JSON.stringify(r)]),B0(()=>{if(ls(e))return e.on("change",h=>a.set(gT(h)))},[a]),a}function $me({prefersReducedMotion:e}){const[r,n]=v.useState(!0);if(v.useEffect(()=>{const a=()=>{n(!document.hidden)};return document.addEventListener("visibilitychange",a),()=>{document.removeEventListener("visibilitychange",a)}},[]),e||!r)return t.jsxDEV("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 via-background to-secondary/5"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/research-experience/AnimatedBackground.tsx",lineNumber:24,columnNumber:7},this);const s=[{size:300,x:"10%",y:"20%",duration:20,delay:0,color:"primary"},{size:200,x:"80%",y:"60%",duration:25,delay:2,color:"secondary"},{size:150,x:"30%",y:"70%",duration:22,delay:4,color:"accent"},{size:250,x:"70%",y:"15%",duration:28,delay:1,color:"primary"},{size:180,x:"50%",y:"50%",duration:24,delay:3,color:"secondary"}];return t.jsxDEV("div",{className:"absolute inset-0 overflow-hidden bg-gradient-to-br from-primary/5 via-background to-secondary/5",children:s.map((a,l)=>t.jsxDEV(Su.div,{className:"absolute rounded-full opacity-10 blur-xl",style:{width:a.size,height:a.size,left:a.x,top:a.y,willChange:"transform"},animate:{x:[0,30,-20,0],y:[0,-40,20,0],scale:[1,1.1,.9,1]},transition:{duration:a.duration,repeat:1/0,ease:"easeInOut",delay:a.delay},children:t.jsxDEV("div",{className:`w-full h-full rounded-full ${a.color==="primary"?"bg-primary":a.color==="secondary"?"bg-secondary":"bg-accent"}`},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/research-experience/AnimatedBackground.tsx",lineNumber:61,columnNumber:11},this)},l,!1,{fileName:"/home/runner/workspace/client/src/components/research-experience/AnimatedBackground.tsx",lineNumber:39,columnNumber:9},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/research-experience/AnimatedBackground.tsx",lineNumber:37,columnNumber:5},this)}const jb=[{id:"query-gen",label:"Generating Queries",icon:"",range:[0,15]},{id:"source-collection",label:"Collecting Sources",icon:"",range:[15,35]},{id:"evidence-extraction",label:"Extracting Evidence",icon:"",range:[35,60]},{id:"validation",label:"Validating Contradictions",icon:"",range:[60,80]},{id:"synthesis",label:"Synthesizing Insights",icon:"",range:[80,95]},{id:"summary",label:"Preparing Summary",icon:"",range:[95,100]}];function Bme({progress:e,prefersReducedMotion:r}){const s=jb.findIndex(c=>e>=c.range[0]&&e<c.range[1]),a=c=>e>jb[c].range[1],l=c=>c===s;return t.jsxDEV("div",{className:"w-full",children:[t.jsxDEV("div",{className:"md:hidden space-y-4",children:jb.map((c,u)=>{const d=a(u),h=l(u);return t.jsxDEV(Su.div,{className:Ke("flex items-center gap-3 p-3 rounded-lg transition-colors",h&&"bg-primary/10 border border-primary/20",d&&"opacity-60"),initial:r?{}:{opacity:0,x:-20},animate:r?{}:{opacity:1,x:0},transition:{delay:u*.1},"data-testid":`phase-${c.id}`,children:[t.jsxDEV("div",{className:Ke("flex items-center justify-center w-10 h-10 rounded-full text-xl transition-all",d&&"bg-green-500/20",h&&"bg-primary/20 scale-110",!d&&!h&&"bg-muted"),children:d?t.jsxDEV(tr,{className:"w-5 h-5 text-green-500","data-testid":`checkmark-${c.id}`},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/research-experience/ProgressTimeline.tsx",lineNumber:66,columnNumber:19},this):t.jsxDEV("span",{children:c.icon},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/research-experience/ProgressTimeline.tsx",lineNumber:68,columnNumber:19},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/research-experience/ProgressTimeline.tsx",lineNumber:57,columnNumber:15},this),t.jsxDEV("div",{className:"flex-1",children:[t.jsxDEV("p",{className:Ke("text-sm font-medium",h&&"text-primary"),children:c.label},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/research-experience/ProgressTimeline.tsx",lineNumber:72,columnNumber:17},this),h&&t.jsxDEV("p",{className:"text-xs text-muted-foreground",children:[Math.floor(e),"% complete"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/research-experience/ProgressTimeline.tsx",lineNumber:76,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/research-experience/ProgressTimeline.tsx",lineNumber:71,columnNumber:15},this)]},c.id,!0,{fileName:"/home/runner/workspace/client/src/components/research-experience/ProgressTimeline.tsx",lineNumber:45,columnNumber:13},this)})},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/research-experience/ProgressTimeline.tsx",lineNumber:39,columnNumber:7},this),t.jsxDEV("div",{className:"hidden md:block",children:t.jsxDEV("div",{className:"flex items-center justify-between relative",children:[t.jsxDEV("div",{className:"absolute left-0 right-0 top-1/2 h-1 bg-muted -translate-y-1/2 -z-10",children:t.jsxDEV(Su.div,{className:"h-full bg-primary",initial:{width:"0%"},animate:{width:`${e}%`},transition:{duration:.5,ease:"easeOut"},"data-testid":"progress-bar"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/research-experience/ProgressTimeline.tsx",lineNumber:91,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/research-experience/ProgressTimeline.tsx",lineNumber:90,columnNumber:11},this),jb.map((c,u)=>{const d=a(u),h=l(u);return t.jsxDEV("div",{className:"flex flex-col items-center gap-2 relative",children:[t.jsxDEV(Su.div,{className:Ke("flex items-center justify-center w-12 h-12 rounded-full border-2 text-xl transition-all bg-background",d&&"border-green-500 bg-green-500/20",h&&"border-primary bg-primary/20 scale-125 shadow-lg",!d&&!h&&"border-muted"),initial:r?{}:{scale:0},animate:r?{}:{scale:d||h?1.1:1},transition:{delay:u*.1,type:"spring",stiffness:260,damping:20},"data-testid":`phase-${c.id}`,children:d?t.jsxDEV(tr,{className:"w-6 h-6 text-green-500","data-testid":`checkmark-${c.id}`},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/research-experience/ProgressTimeline.tsx",lineNumber:124,columnNumber:21},this):t.jsxDEV("span",{children:c.icon},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/research-experience/ProgressTimeline.tsx",lineNumber:126,columnNumber:21},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/research-experience/ProgressTimeline.tsx",lineNumber:106,columnNumber:17},this),t.jsxDEV("div",{className:"text-center max-w-[120px]",children:[t.jsxDEV("p",{className:Ke("text-xs font-medium",h&&"text-primary font-semibold"),children:c.label},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/research-experience/ProgressTimeline.tsx",lineNumber:130,columnNumber:19},this),h&&t.jsxDEV(Su.p,{className:"text-xs text-muted-foreground mt-1",initial:{opacity:0},animate:{opacity:1},children:[Math.floor(e),"%"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/research-experience/ProgressTimeline.tsx",lineNumber:139,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/research-experience/ProgressTimeline.tsx",lineNumber:129,columnNumber:17},this)]},c.id,!0,{fileName:"/home/runner/workspace/client/src/components/research-experience/ProgressTimeline.tsx",lineNumber:105,columnNumber:15},this)})]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/research-experience/ProgressTimeline.tsx",lineNumber:88,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/research-experience/ProgressTimeline.tsx",lineNumber:87,columnNumber:7},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/research-experience/ProgressTimeline.tsx",lineNumber:37,columnNumber:5},this)}function zme({value:e,duration:r=1}){const n=Lme(0,{stiffness:75,damping:15}),s=Ome(n,c=>Math.round(c)),[a,l]=v.useState(0);return v.useEffect(()=>{n.set(e)},[n,e]),v.useEffect(()=>{const c=s.on("change",u=>{l(u)});return()=>c()},[s]),t.jsxDEV("span",{children:a},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/research-experience/StatsPanel.tsx",lineNumber:35,columnNumber:10},this)}function Wme({sourcesScanned:e,articlesAnalyzed:r,contradictionsFlagged:n,prefersReducedMotion:s}){const a=[{label:"Sources Scanned",value:e,icon:PX,color:"text-blue-500",bgColor:"bg-blue-500/10"},{label:"Articles Analyzed",value:r,icon:H7,color:"text-green-500",bgColor:"bg-green-500/10"},{label:"Contradictions Flagged",value:n,icon:qr,color:"text-amber-500",bgColor:"bg-amber-500/10"}];return t.jsxDEV("div",{className:"space-y-3","data-testid":"stats-panel",children:a.map((l,c)=>{const u=l.icon;return t.jsxDEV(Su.div,{initial:s?{}:{opacity:0,x:20},animate:s?{}:{opacity:1,x:0},transition:{delay:c*.1},"data-testid":`stat-${l.label.toLowerCase().replace(/\s+/g,"-")}`,children:t.jsxDEV(Z,{className:"overflow-hidden",children:t.jsxDEV(te,{className:"p-4",children:t.jsxDEV("div",{className:"flex items-center gap-3",children:[t.jsxDEV("div",{className:`p-2 rounded-lg ${l.bgColor}`,children:t.jsxDEV(u,{className:`w-5 h-5 ${l.color}`},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/research-experience/StatsPanel.tsx",lineNumber:85,columnNumber:21},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/research-experience/StatsPanel.tsx",lineNumber:84,columnNumber:19},this),t.jsxDEV("div",{className:"flex-1",children:[t.jsxDEV("p",{className:"text-xs text-muted-foreground",children:l.label},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/research-experience/StatsPanel.tsx",lineNumber:88,columnNumber:21},this),t.jsxDEV("p",{className:`text-2xl font-bold ${l.color}`,children:s?l.value:t.jsxDEV(zme,{value:l.value},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/research-experience/StatsPanel.tsx",lineNumber:93,columnNumber:25},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/research-experience/StatsPanel.tsx",lineNumber:89,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/research-experience/StatsPanel.tsx",lineNumber:87,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/research-experience/StatsPanel.tsx",lineNumber:83,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/research-experience/StatsPanel.tsx",lineNumber:82,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/research-experience/StatsPanel.tsx",lineNumber:81,columnNumber:13},this)},l.label,!1,{fileName:"/home/runner/workspace/client/src/components/research-experience/StatsPanel.tsx",lineNumber:74,columnNumber:11},this)})},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/research-experience/StatsPanel.tsx",lineNumber:69,columnNumber:5},this)}function Ume({message:e,duration:r=3e3,prefersReducedMotion:n}){const[s,a]=v.useState(!0);v.useEffect(()=>{a(!0);const c=setTimeout(()=>{a(!1)},r);return()=>clearTimeout(c)},[e,r]);const l={hidden:{opacity:0,y:-20,scale:.9},visible:{opacity:1,y:0,scale:1,transition:{type:"spring",stiffness:400,damping:25}},exit:{opacity:0,y:-20,scale:.9,transition:{duration:.2}}};return t.jsxDEV(Tme,{mode:"wait",children:s&&t.jsxDEV(Su.div,{variants:n?{}:l,initial:n?{}:"hidden",animate:"visible",exit:n?{}:"exit",className:"fixed top-20 left-1/2 -translate-x-1/2 z-50 max-w-md w-full px-4","data-testid":"narrative-beat",role:"status","aria-live":"polite",children:t.jsxDEV(Z,{className:"bg-primary/95 text-primary-foreground border-primary shadow-lg",children:t.jsxDEV("div",{className:"p-3 flex items-center gap-2",children:[t.jsxDEV(Ma,{className:"w-4 h-4 flex-shrink-0"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/research-experience/NarrativeBeat.tsx",lineNumber:63,columnNumber:15},this),t.jsxDEV("p",{className:"text-sm font-medium",children:e},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/research-experience/NarrativeBeat.tsx",lineNumber:64,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/research-experience/NarrativeBeat.tsx",lineNumber:62,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/research-experience/NarrativeBeat.tsx",lineNumber:61,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/research-experience/NarrativeBeat.tsx",lineNumber:51,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/research-experience/NarrativeBeat.tsx",lineNumber:49,columnNumber:5},this)}const NT="research-simple-mode-preference";function Gme({progress:e,currentMessage:r,elapsedSeconds:n,onComplete:s}){const[a,l]=v.useState(()=>localStorage.getItem(NT)==="true"),[c,u]=v.useState(!1),[d,h]=v.useState([]),[g,p]=v.useState(""),[N,b]=v.useState({sourcesScanned:0,articlesAnalyzed:0,contradictionsFlagged:0});v.useEffect(()=>{const j=window.matchMedia("(prefers-reduced-motion: reduce)");u(j.matches);const P=w=>{u(w.matches)};return j.addEventListener("change",P),()=>j.removeEventListener("change",P)},[]),v.useEffect(()=>{if(!r)return;const j=r.toLowerCase();if(j.includes("found")||j.includes("discovered")||j.includes("analyzing")){const S=["market_dynamics","competitive_landscape","buyer_behavior","regulatory_factors","language_preferences"].find(R=>j.includes(R.replace(/_/g," ")));if(S&&d.length<5){const R={id:`insight-${Date.now()}-${Math.random()}`,category:S,headline:r.substring(0,60),summary:r.length>60?r.substring(0,120)+"...":r,confidence:.6+Math.random()*.3,sourcesCount:Math.floor(Math.random()*5)+1};h(M=>[R,...M].slice(0,5))}}const w=["artisan","premium","local","sustainable","organic","community","quality","authentic"].find(V=>j.includes(V));w&&p(`Top keyword: ${w}`);const k={sourcesScanned:Math.floor(e*2.5),articlesAnalyzed:Math.floor(e*1.5),contradictionsFlagged:Math.floor(e*.3)};b(k)},[r,e]),v.useEffect(()=>{if(e>=100&&s){const j=setTimeout(()=>{s()},1e3);return()=>clearTimeout(j)}},[e,s]);const D=()=>{const j=!a;l(j),localStorage.setItem(NT,String(j))},E=c||a;return a?t.jsxDEV("div",{className:"min-h-screen bg-background flex items-center justify-center p-4 relative",children:[t.jsxDEV("div",{className:"absolute top-4 right-4",children:t.jsxDEV(me,{variant:"outline",size:"sm",onClick:D,"data-testid":"button-toggle-animations",children:[t.jsxDEV(s0,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/research-experience/ResearchExperience.tsx",lineNumber:127,columnNumber:13},this),"Show Animations"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/research-experience/ResearchExperience.tsx",lineNumber:121,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/research-experience/ResearchExperience.tsx",lineNumber:120,columnNumber:9},this),t.jsxDEV(Z,{className:"max-w-2xl w-full",children:[t.jsxDEV(de,{className:"text-center",children:[t.jsxDEV(pe,{className:"text-2xl","data-testid":"text-research-title",children:"Conducting Market Research"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/research-experience/ResearchExperience.tsx",lineNumber:134,columnNumber:13},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground mt-2","data-testid":"text-current-message",children:r},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/research-experience/ResearchExperience.tsx",lineNumber:137,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/research-experience/ResearchExperience.tsx",lineNumber:133,columnNumber:11},this),t.jsxDEV(te,{className:"space-y-4",children:[t.jsxDEV(Ln,{value:e,className:"h-3","data-testid":"progress-bar-simple"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/research-experience/ResearchExperience.tsx",lineNumber:142,columnNumber:13},this),t.jsxDEV("div",{className:"flex justify-between text-sm",children:[t.jsxDEV("span",{className:"text-muted-foreground",children:"Progress"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/research-experience/ResearchExperience.tsx",lineNumber:144,columnNumber:15},this),t.jsxDEV("span",{className:"font-medium","data-testid":"text-progress-percent",children:[Math.floor(e),"%"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/research-experience/ResearchExperience.tsx",lineNumber:145,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/research-experience/ResearchExperience.tsx",lineNumber:143,columnNumber:13},this),t.jsxDEV("div",{className:"text-center text-xs text-muted-foreground",children:["Time elapsed: ",n,"s"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/research-experience/ResearchExperience.tsx",lineNumber:149,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/research-experience/ResearchExperience.tsx",lineNumber:141,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/research-experience/ResearchExperience.tsx",lineNumber:132,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/research-experience/ResearchExperience.tsx",lineNumber:119,columnNumber:7},this):t.jsxDEV("div",{className:"min-h-screen relative overflow-hidden","data-testid":"research-experience",children:[t.jsxDEV($me,{prefersReducedMotion:E},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/research-experience/ResearchExperience.tsx",lineNumber:162,columnNumber:7},this),t.jsxDEV("div",{className:"relative z-10 min-h-screen flex flex-col",children:[t.jsxDEV("div",{className:"p-4 md:p-6",children:t.jsxDEV("div",{className:"max-w-7xl mx-auto",children:[t.jsxDEV("div",{className:"flex items-center justify-between mb-2",children:[t.jsxDEV("h1",{className:"text-2xl md:text-3xl font-bold","data-testid":"text-research-title",children:"Market Research in Progress"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/research-experience/ResearchExperience.tsx",lineNumber:170,columnNumber:15},this),t.jsxDEV("div",{className:"text-sm text-muted-foreground",children:[Math.floor(n/60),":",String(n%60).padStart(2,"0")]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/research-experience/ResearchExperience.tsx",lineNumber:173,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/research-experience/ResearchExperience.tsx",lineNumber:169,columnNumber:13},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground","data-testid":"text-current-message",children:r},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/research-experience/ResearchExperience.tsx",lineNumber:177,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/research-experience/ResearchExperience.tsx",lineNumber:168,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/research-experience/ResearchExperience.tsx",lineNumber:167,columnNumber:9},this),t.jsxDEV("div",{className:"px-4 md:px-6 mb-6",children:t.jsxDEV("div",{className:"max-w-7xl mx-auto",children:t.jsxDEV(Bme,{progress:e,prefersReducedMotion:E},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/research-experience/ResearchExperience.tsx",lineNumber:186,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/research-experience/ResearchExperience.tsx",lineNumber:185,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/research-experience/ResearchExperience.tsx",lineNumber:184,columnNumber:9},this),t.jsxDEV("div",{className:"flex-1 px-4 md:px-6 pb-20",children:t.jsxDEV("div",{className:"max-w-7xl mx-auto",children:t.jsxDEV("div",{className:"flex justify-center",children:t.jsxDEV("div",{className:"w-full max-w-md space-y-4",children:[t.jsxDEV("h2",{className:"text-lg font-semibold mb-4",children:"Research Stats"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/research-experience/ResearchExperience.tsx",lineNumber:199,columnNumber:17},this),t.jsxDEV(Wme,{sourcesScanned:N.sourcesScanned,articlesAnalyzed:N.articlesAnalyzed,contradictionsFlagged:N.contradictionsFlagged,prefersReducedMotion:E},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/research-experience/ResearchExperience.tsx",lineNumber:200,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/research-experience/ResearchExperience.tsx",lineNumber:198,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/research-experience/ResearchExperience.tsx",lineNumber:196,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/research-experience/ResearchExperience.tsx",lineNumber:195,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/research-experience/ResearchExperience.tsx",lineNumber:194,columnNumber:9},this),t.jsxDEV("div",{className:"fixed bottom-4 right-4 z-20 flex gap-2",children:t.jsxDEV(me,{variant:"outline",size:"sm",onClick:D,className:"bg-background/80 backdrop-blur-sm","data-testid":"button-skip-animation",children:[t.jsxDEV(VX,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/research-experience/ResearchExperience.tsx",lineNumber:220,columnNumber:13},this),"Skip Animation"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/research-experience/ResearchExperience.tsx",lineNumber:213,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/research-experience/ResearchExperience.tsx",lineNumber:212,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/research-experience/ResearchExperience.tsx",lineNumber:165,columnNumber:7},this),g&&t.jsxDEV(Ume,{message:g,duration:3e3,prefersReducedMotion:E},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/research-experience/ResearchExperience.tsx",lineNumber:228,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/research-experience/ResearchExperience.tsx",lineNumber:160,columnNumber:5},this)}const xT={customer_segments:{icon:On,color:"text-blue-600 dark:text-blue-400",bgColor:"bg-blue-50 dark:bg-blue-950"},value_propositions:{icon:yn,color:"text-purple-600 dark:text-purple-400",bgColor:"bg-purple-50 dark:bg-purple-950"},revenue_streams:{icon:vh,color:"text-green-600 dark:text-green-400",bgColor:"bg-green-50 dark:bg-green-950"},channels:{icon:BX,color:"text-cyan-600 dark:text-cyan-400",bgColor:"bg-cyan-50 dark:bg-cyan-950"},customer_relationships:{icon:AX,color:"text-pink-600 dark:text-pink-400",bgColor:"bg-pink-50 dark:bg-pink-950"},key_resources:{icon:LX,color:"text-orange-600 dark:text-orange-400",bgColor:"bg-orange-50 dark:bg-orange-950"},key_activities:{icon:wh,color:"text-yellow-600 dark:text-yellow-400",bgColor:"bg-yellow-50 dark:bg-yellow-950"},key_partnerships:{icon:TX,color:"text-indigo-600 dark:text-indigo-400",bgColor:"bg-indigo-50 dark:bg-indigo-950"},cost_structure:{icon:Qj,color:"text-red-600 dark:text-red-400",bgColor:"bg-red-50 dark:bg-red-950"}},Vb={strong:{badge:"default",text:"Strong",icon:tr,color:"text-green-600"},moderate:{badge:"secondary",text:"Moderate",icon:bo,color:"text-amber-600"},weak:{badge:"outline",text:"Weak",icon:Dt,color:"text-red-600"}},bT={STRONG:{emoji:"",text:"Strong validation"},MODERATE:{emoji:"",text:"Moderate validation"},WEAK:{emoji:"",text:"Weak validation"}};function rO({analysis:e}){const{blocks:r,viability:n,overallConfidence:s,keyInsights:a,criticalGaps:l,consistencyChecks:c,recommendations:u,assumptions:d,contradictions:h}=e,[g,p]=v.useState({}),N=E=>{p(j=>({...j,[E]:!j[E]}))},b=Vb[n]||Vb.weak,D=b.icon;return t.jsxDEV("div",{className:"space-y-6","data-testid":"bmc-canvas-container",children:[t.jsxDEV(Z,{className:"border-2",children:[t.jsxDEV(de,{children:t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("div",{children:[t.jsxDEV(pe,{className:"text-2xl","data-testid":"bmc-viability-title",children:"Business Model Viability"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:126,columnNumber:15},this),t.jsxDEV(He,{children:"AI-powered assessment based on market research"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:127,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:125,columnNumber:13},this),t.jsxDEV(se,{variant:b.badge,className:"text-lg px-4 py-2","data-testid":"viability-badge",children:[t.jsxDEV(D,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:130,columnNumber:15},this),b.text]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:129,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:124,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:123,columnNumber:9},this),t.jsxDEV(te,{className:"space-y-4",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV("div",{className:"flex justify-between text-sm",children:[t.jsxDEV("span",{className:"text-muted-foreground",children:"Overall Confidence"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:138,columnNumber:15},this),t.jsxDEV("span",{className:"font-medium","data-testid":"overall-confidence",children:[Math.round(s*100),"%"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:139,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:137,columnNumber:13},this),t.jsxDEV(Ln,{value:s*100,className:"h-2","data-testid":"overall-confidence-progress"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:141,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:136,columnNumber:11},this),a.length>0&&t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV("h4",{className:"font-medium flex items-center gap-2",children:[t.jsxDEV(yn,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:147,columnNumber:17},this),"Key Insights"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:146,columnNumber:15},this),t.jsxDEV("ul",{className:"space-y-2","data-testid":"key-insights",children:a.map((E,j)=>t.jsxDEV("li",{className:"text-sm flex gap-2",children:[t.jsxDEV(tr,{className:"h-4 w-4 text-green-600 dark:text-green-400 flex-shrink-0 mt-0.5"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:153,columnNumber:21},this),t.jsxDEV("span",{children:E},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:154,columnNumber:21},this)]},j,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:152,columnNumber:19},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:150,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:145,columnNumber:13},this),l.length>0&&t.jsxDEV(it,{variant:"destructive",children:[t.jsxDEV(Dt,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:163,columnNumber:15},this),t.jsxDEV(at,{children:[t.jsxDEV("p",{className:"font-medium",children:"Critical Gaps Identified:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:165,columnNumber:17},this),t.jsxDEV("ul",{className:"mt-1 list-disc list-inside","data-testid":"critical-gaps",children:l.map((E,j)=>t.jsxDEV("li",{className:"text-sm",children:E},j,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:168,columnNumber:21},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:166,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:164,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:162,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:135,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:122,columnNumber:7},this),t.jsxDEV("div",{className:"hidden md:grid md:grid-cols-3 gap-4","data-testid":"bmc-blocks-grid",children:r.map(E=>{const j=xT[E.blockType],P=(j==null?void 0:j.icon)||On,w=Vb[E.confidence],k=w.icon;return t.jsxDEV(Z,{className:"h-full","data-testid":`block-${E.blockType}`,children:[t.jsxDEV(de,{className:j==null?void 0:j.bgColor,children:[t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(P,{className:`h-5 w-5 ${j==null?void 0:j.color}`},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:189,columnNumber:19},this),t.jsxDEV(pe,{className:"text-lg",children:E.blockName},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:190,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:188,columnNumber:17},this),t.jsxDEV(se,{variant:w.badge,className:"w-fit","data-testid":`confidence-${E.blockType}`,children:[t.jsxDEV(k,{className:"h-3 w-3 mr-1"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:193,columnNumber:19},this),w.text]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:192,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:187,columnNumber:15},this),t.jsxDEV(te,{className:"space-y-4 pt-4",children:[t.jsxDEV("p",{className:"text-sm text-muted-foreground","data-testid":`description-${E.blockType}`,children:E.description},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:198,columnNumber:17},this),E.findings.length>0&&t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV("div",{className:"flex items-center justify-between cursor-pointer",onClick:()=>N(E.blockType),"data-testid":`toggle-findings-${E.blockType}`,children:[t.jsxDEV("h5",{className:"text-sm font-medium",children:["Research Findings (",E.findings.length,")"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:209,columnNumber:23},this),g[E.blockType]?t.jsxDEV(Gj,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:210,columnNumber:60},this):t.jsxDEV(wo,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:210,columnNumber:96},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:204,columnNumber:21},this),g[E.blockType]&&t.jsxDEV("ul",{className:"space-y-2","data-testid":`findings-${E.blockType}`,children:E.findings.slice(0,3).map((V,S)=>{const R=V.validationStrength?bT[V.validationStrength]:null;return t.jsxDEV("li",{className:"text-xs border-l-2 pl-2 py-1",children:t.jsxDEV("div",{className:"flex items-start gap-1",children:[R&&t.jsxDEV("span",{title:R.text,children:R.emoji},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:219,columnNumber:48},this),t.jsxDEV("p",{children:V.fact},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:220,columnNumber:33},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:218,columnNumber:31},this)},S,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:217,columnNumber:29},this)})},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:213,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:203,columnNumber:19},this),E.strategicImplications&&t.jsxDEV(it,{children:[t.jsxDEV(bo,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:232,columnNumber:21},this),t.jsxDEV(at,{className:"text-xs","data-testid":`implications-${E.blockType}`,children:E.strategicImplications},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:233,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:231,columnNumber:19},this),E.gaps.length>0&&t.jsxDEV("div",{className:"space-y-1",children:[t.jsxDEV("h5",{className:"text-xs font-medium text-amber-600 dark:text-amber-400",children:"Gaps"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:241,columnNumber:21},this),t.jsxDEV("ul",{className:"text-xs space-y-1","data-testid":`gaps-${E.blockType}`,children:E.gaps.slice(0,2).map((V,S)=>t.jsxDEV("li",{className:"flex gap-1",children:[t.jsxDEV(Dt,{className:"h-3 w-3 flex-shrink-0 mt-0.5"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:245,columnNumber:27},this),t.jsxDEV("span",{children:V},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:246,columnNumber:27},this)]},S,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:244,columnNumber:25},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:242,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:240,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:197,columnNumber:15},this)]},E.blockType,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:186,columnNumber:13},this)})},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:178,columnNumber:7},this),t.jsxDEV(Bg,{type:"single",collapsible:!0,className:"md:hidden","data-testid":"bmc-blocks-accordion",children:r.map(E=>{const j=xT[E.blockType],P=(j==null?void 0:j.icon)||On,w=Vb[E.confidence];return t.jsxDEV(Mh,{value:E.blockType,children:[t.jsxDEV(Th,{className:"hover:no-underline","data-testid":`accordion-trigger-${E.blockType}`,children:t.jsxDEV("div",{className:"flex items-center gap-3 w-full",children:[t.jsxDEV("div",{className:`p-2 rounded-lg ${j==null?void 0:j.bgColor}`,children:t.jsxDEV(P,{className:`h-4 w-4 ${j==null?void 0:j.color}`},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:270,columnNumber:21},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:269,columnNumber:19},this),t.jsxDEV("div",{className:"flex-1 text-left",children:[t.jsxDEV("p",{className:"font-medium",children:E.blockName},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:273,columnNumber:21},this),t.jsxDEV(se,{variant:w.badge,className:"mt-1",children:w.text},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:274,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:272,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:268,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:267,columnNumber:15},this),t.jsxDEV(Ah,{className:"space-y-3 pt-3","data-testid":`accordion-content-${E.blockType}`,children:[t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:E.description},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:281,columnNumber:17},this),E.findings.length>0&&t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV("h5",{className:"text-sm font-medium",children:["Research Findings (",E.findings.length,")"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:285,columnNumber:21},this),t.jsxDEV("ul",{className:"space-y-2","data-testid":`mobile-findings-${E.blockType}`,children:E.findings.slice(0,3).map((k,V)=>{const S=k.validationStrength?bT[k.validationStrength]:null;return t.jsxDEV("li",{className:"text-xs border-l-2 pl-2 py-1",children:t.jsxDEV("div",{className:"flex items-start gap-1",children:[S&&t.jsxDEV("span",{title:S.text,children:S.emoji},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:292,columnNumber:46},this),t.jsxDEV("p",{children:k.fact},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:293,columnNumber:31},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:291,columnNumber:29},this)},V,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:290,columnNumber:27},this)})},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:286,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:284,columnNumber:19},this),E.strategicImplications&&t.jsxDEV(it,{children:[t.jsxDEV(bo,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:304,columnNumber:21},this),t.jsxDEV(at,{className:"text-xs",children:E.strategicImplications},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:305,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:303,columnNumber:19},this),E.gaps.length>0&&t.jsxDEV("div",{className:"space-y-1",children:[t.jsxDEV("h5",{className:"text-xs font-medium text-amber-600 dark:text-amber-400",children:"Gaps"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:312,columnNumber:21},this),t.jsxDEV("ul",{className:"text-xs space-y-1",children:E.gaps.map((k,V)=>t.jsxDEV("li",{className:"flex gap-1",children:[t.jsxDEV(Dt,{className:"h-3 w-3 flex-shrink-0 mt-0.5"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:316,columnNumber:27},this),t.jsxDEV("span",{children:k},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:317,columnNumber:27},this)]},V,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:315,columnNumber:25},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:313,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:311,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:280,columnNumber:15},this)]},E.blockType,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:266,columnNumber:13},this)})},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:259,columnNumber:7},this),h&&h.length>0&&t.jsxDEV(it,{className:"border-amber-500 bg-amber-50 dark:bg-amber-950","data-testid":"contradictions-alert",children:[t.jsxDEV(Dt,{className:"h-4 w-4 text-amber-600"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:332,columnNumber:11},this),t.jsxDEV(at,{children:t.jsxDEV("div",{className:"space-y-3",children:[t.jsxDEV("p",{className:"font-semibold text-amber-900 dark:text-amber-100",children:[" ",h.length," Assumption",h.length>1?"s":""," Contradicted by Research"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:335,columnNumber:15},this),t.jsxDEV("div",{className:"space-y-2",children:h.map((E,j)=>t.jsxDEV("div",{className:"bg-white dark:bg-gray-900 p-3 rounded-md border border-amber-200 dark:border-amber-800",children:[t.jsxDEV("div",{className:"flex items-start gap-2 mb-2",children:[t.jsxDEV(se,{variant:"destructive",className:"text-xs",children:[E.impact," impact"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:342,columnNumber:23},this),E.investmentAmount&&E.investmentAmount.trim()!==""&&t.jsxDEV(se,{variant:"outline",className:"text-xs bg-red-50 dark:bg-red-950 border-red-300 dark:border-red-700",children:[" $",E.investmentAmount," at risk"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:346,columnNumber:25},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:341,columnNumber:21},this),t.jsxDEV("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 mb-1",children:['"',E.assumption,'"']},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:351,columnNumber:21},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground mb-2",children:[t.jsxDEV("strong",{children:"Research found:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:355,columnNumber:23},this)," ",E.contradictedBy.join("; ")]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:354,columnNumber:21},this),t.jsxDEV("p",{className:"text-xs text-amber-800 dark:text-amber-200",children:[t.jsxDEV("strong",{children:" Recommendation:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:358,columnNumber:23},this)," ",E.recommendation]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:357,columnNumber:21},this)]},j,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:340,columnNumber:19},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:338,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:334,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:333,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:331,columnNumber:9},this),(c||u)&&t.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c&&c.length>0&&t.jsxDEV(Z,{children:[t.jsxDEV(de,{children:t.jsxDEV(pe,{className:"text-lg",children:"Consistency Checks"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:374,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:373,columnNumber:15},this),t.jsxDEV(te,{className:"space-y-2","data-testid":"consistency-checks",children:c.map((E,j)=>t.jsxDEV("div",{className:"flex items-start gap-2",children:[t.jsxDEV(se,{variant:E.status==="aligned"?"default":E.status==="misaligned"?"destructive":"secondary",children:E.status},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:379,columnNumber:21},this),t.jsxDEV("div",{className:"flex-1",children:[t.jsxDEV("p",{className:"text-sm font-medium",children:E.aspect},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:383,columnNumber:23},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground",children:E.explanation},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:384,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:382,columnNumber:21},this)]},j,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:378,columnNumber:19},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:376,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:372,columnNumber:13},this),u&&u.length>0&&t.jsxDEV(Z,{children:[t.jsxDEV(de,{children:t.jsxDEV(pe,{className:"text-lg",children:"Recommendations"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:395,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:394,columnNumber:15},this),t.jsxDEV(te,{className:"space-y-2","data-testid":"recommendations",children:u.map((E,j)=>t.jsxDEV("div",{className:"flex items-start gap-2",children:[t.jsxDEV(se,{variant:E.priority==="high"?"destructive":E.priority==="medium"?"secondary":"outline",children:E.priority},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:400,columnNumber:21},this),t.jsxDEV("div",{className:"flex-1",children:[t.jsxDEV("p",{className:"text-sm font-medium",children:E.action},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:404,columnNumber:23},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground",children:E.rationale},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:405,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:403,columnNumber:21},this)]},j,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:399,columnNumber:19},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:397,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:393,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:370,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/BMCCanvas.tsx",lineNumber:120,columnNumber:5},this)}const Hme=e=>{switch(e.toLowerCase()){case"high":return"default";case"medium":return"secondary";case"low":return"outline";default:return"outline"}},Jme=e=>{switch(e){case"STRONG":return"";case"MODERATE":return"";case"WEAK":return"";default:return""}},Kme=(e,r)=>{if(!r)return null;const n=e.toLowerCase().replace(/[^\w\s]/g,"").trim();return r.find(s=>{const a=s.claim.toLowerCase().replace(/[^\w\s]/g,"").trim();return n.includes(a)||a.includes(n)})||null},qme=[{key:"market_dynamics",label:"Market Dynamics",icon:""},{key:"competitive_landscape",label:"Competitive Landscape",icon:""},{key:"language_preferences",label:"Language/Cultural Preferences",icon:""},{key:"buyer_behavior",label:"Buyer Behavior Patterns",icon:""},{key:"regulatory_factors",label:"Regulatory/Compliance Factors",icon:""}];function Yme(){const[,e]=Xn("/strategic-consultant/research/:sessionId"),[,r]=or(),{toast:n}=ur(),s=e==null?void 0:e.sessionId,[a,l]=v.useState(0),[c,u]=v.useState(""),[d,h]=v.useState(0),[g,p]=v.useState(!1),[N,b]=v.useState(null),[D,E]=v.useState(null),[j,P]=v.useState({}),[w,k]=v.useState([]),[V,S]=v.useState(null),[R,M]=v.useState(!0),[T,A]=v.useState(null),F=v.useRef(!1),{data:L,isLoading:$}=yt({queryKey:["journey-session",s],queryFn:async()=>{if(!s)return null;const G=await fetch(`/api/strategic-consultant/journey-sessions/by-session/${s}`);return G.ok?G.json():(console.warn(`[ResearchPage] Journey session not found for ${s}, will use fallback`),null)},enabled:!!s});v.useEffect(()=>{k([]),S(null),b(null),E(null),l(0),A(null),M(!0),F.current=!1,s&&(localStorage.removeItem(`strategic-rootCause-${s}`),localStorage.removeItem(`strategic-whysPath-${s}`),localStorage.removeItem(`strategic-input-${s}`),localStorage.removeItem(`strategic-versionNumber-${s}`),localStorage.removeItem(`journey-type-${s}`))},[s]),v.useEffect(()=>{if(!s||$||F.current)return;const G=(L==null?void 0:L.journeyType)||localStorage.getItem(`journey-type-${s}`)||"business_model_innovation";console.log(`[ResearchPage] Journey type: ${G} (from ${L!=null&&L.journeyType?"backend":"localStorage or default"})`),p(!0);const ee=Date.now(),K=new EventSource(`/api/strategic-consultant/journey-research/stream/${s}`);console.log(`[ResearchPage] Using unified journey research endpoint for ${G}`),console.log("[ResearchPage] Connecting to research stream:",K.url),K.onmessage=_e=>{try{const oe=JSON.parse(_e.data);if(console.log("[ResearchPage] Received message:",oe.type||"unknown",oe),oe.type==="debug"&&oe.debugInput&&console.log("[ResearchPage]  Debug Input:",oe.debugInput),oe.type==="context"||oe.type==="query"||oe.type==="synthesis"||oe.type==="progress"||oe.type==="complete"||oe.type==="debug"){const fe={id:`${oe.type}-${Date.now()}-${Math.random()}`,timestamp:new Date().toISOString(),type:oe.type,message:oe.message||oe.query||oe.debugInput||`${oe.block||"Unknown"}`,meta:oe.purpose?{purpose:oe.purpose,queryType:oe.queryType}:oe.progress!==void 0?{progress:oe.progress.toString()}:void 0};k(Ae=>[...Ae,fe])}oe.type==="progress"||oe.type==="query"?(l(oe.progress||0),u(oe.message||oe.query||"")):oe.type==="complete"?(l(100),b(oe.data),p(!1),oe.data.nextUrl&&S(oe.data.nextUrl),oe.data.bmcAnalysis&&(A(oe.data.bmcAnalysis),M(!1)),localStorage.setItem(`strategic-versionNumber-${s}`,oe.data.versionNumber.toString()),n({title:"Research complete ",description:`Analyzed ${oe.data.sourcesAnalyzed} sources in ${oe.data.timeElapsed}`}),K.close()):oe.type==="error"&&(console.error("[ResearchPage] Research error from backend:",oe.error),E(oe.error||"Research failed"),p(!1),n({title:"Research failed",description:oe.error||"Failed to conduct market research",variant:"destructive"}),K.close())}catch(oe){console.error("[ResearchPage] Error parsing SSE message:",oe,_e.data)}},K.onerror=_e=>{console.error("[ResearchPage] EventSource error:",{readyState:K.readyState,url:K.url,event:_e});const oe=K.readyState===EventSource.CLOSED?"Connection closed by server - the research request may have timed out or encountered an error":"Connection to research stream failed - check your network connection";E(oe),p(!1),F.current=!1,K.close(),n({title:"Connection Error",description:oe,variant:"destructive"})},K.onopen=()=>{console.log("[ResearchPage] EventSource connection opened successfully"),F.current=!0};const be=setInterval(()=>{h(Math.floor((Date.now()-ee)/1e3))},1e3);return()=>{K.close(),clearInterval(be)}},[s,$,L,n]),v.useEffect(()=>{!N||!V||!R||(console.log("[ResearchPage] Both researchData and nextUrl ready, auto-navigating to:",V),n({title:" Research complete",description:"Proceeding to next step in your journey"}),r(V))},[N,V,R,r,n]);const W=()=>{console.log("[ResearchPage] Manual continue to:",V),V&&r(V)},O=()=>{window.location.reload()},Y=G=>{P(ee=>({...ee,[G]:!ee[G]}))};if(!s)return t.jsxDEV("div",{className:"min-h-screen bg-background flex items-center justify-center p-8",children:t.jsxDEV(it,{variant:"destructive",className:"max-w-md",children:[t.jsxDEV(Dt,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ResearchPage.tsx",lineNumber:315,columnNumber:11},this),t.jsxDEV(er,{children:"Invalid Session"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ResearchPage.tsx",lineNumber:316,columnNumber:11},this),t.jsxDEV(at,{children:"No session ID provided in URL"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ResearchPage.tsx",lineNumber:317,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ResearchPage.tsx",lineNumber:314,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ResearchPage.tsx",lineNumber:313,columnNumber:7},this);if(g)return t.jsxDEV(Gme,{progress:a,currentMessage:c,elapsedSeconds:d},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ResearchPage.tsx",lineNumber:325,columnNumber:7},this);if(D)return t.jsxDEV(st,{title:"Market Research",subtitle:"Research failed",onViewChange:G=>r("/"),children:t.jsxDEV("div",{className:"max-w-4xl mx-auto space-y-8 py-12",children:[t.jsxDEV(it,{variant:"destructive",children:[t.jsxDEV(Dt,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ResearchPage.tsx",lineNumber:342,columnNumber:13},this),t.jsxDEV(er,{children:"Research Failed"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ResearchPage.tsx",lineNumber:343,columnNumber:13},this),t.jsxDEV(at,{children:D},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ResearchPage.tsx",lineNumber:344,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ResearchPage.tsx",lineNumber:341,columnNumber:11},this),t.jsxDEV("div",{className:"flex justify-center",children:t.jsxDEV(me,{onClick:O,"data-testid":"button-retry-research",children:[t.jsxDEV(Rg,{className:"mr-2 h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ResearchPage.tsx",lineNumber:348,columnNumber:15},this),"Retry Research"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ResearchPage.tsx",lineNumber:347,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ResearchPage.tsx",lineNumber:346,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ResearchPage.tsx",lineNumber:340,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ResearchPage.tsx",lineNumber:335,columnNumber:7},this);if(!N)return t.jsxDEV(st,{title:"Market Research",subtitle:"Loading...",onViewChange:G=>r("/"),children:t.jsxDEV("div",{className:"max-w-4xl mx-auto space-y-8 py-12",children:t.jsxDEV(Z,{children:[t.jsxDEV(de,{className:"text-center",children:[t.jsxDEV("div",{className:"flex justify-center mb-4",children:t.jsxDEV(lt,{className:"h-12 w-12 animate-spin text-primary"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ResearchPage.tsx",lineNumber:368,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ResearchPage.tsx",lineNumber:367,columnNumber:15},this),t.jsxDEV(pe,{className:"text-2xl","data-testid":"text-research-status",children:"Researching market conditions..."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ResearchPage.tsx",lineNumber:370,columnNumber:15},this),t.jsxDEV(He,{children:"Analyzing market dynamics, competition, and strategic opportunities"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ResearchPage.tsx",lineNumber:373,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ResearchPage.tsx",lineNumber:366,columnNumber:13},this),t.jsxDEV(te,{className:"space-y-4",children:[t.jsxDEV(Ln,{value:a,className:"h-2","data-testid":"progress-research"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ResearchPage.tsx",lineNumber:378,columnNumber:15},this),t.jsxDEV("p",{className:"text-center text-sm text-muted-foreground","data-testid":"text-progress-percent",children:[a,"% complete"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ResearchPage.tsx",lineNumber:379,columnNumber:15},this),t.jsxDEV("div",{className:"pt-4 space-y-2",children:t.jsxDEV("p",{className:"text-xs text-muted-foreground text-center",children:"This may take 20-30 seconds as we gather comprehensive market intelligence"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ResearchPage.tsx",lineNumber:383,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ResearchPage.tsx",lineNumber:382,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ResearchPage.tsx",lineNumber:377,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ResearchPage.tsx",lineNumber:365,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ResearchPage.tsx",lineNumber:364,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ResearchPage.tsx",lineNumber:359,columnNumber:7},this);const{findings:H,sourcesAnalyzed:q,timeElapsed:z}=N;return t.jsxDEV(st,{title:"Market Research",subtitle:"Comprehensive market intelligence gathered",onViewChange:G=>r("/"),children:t.jsxDEV("div",{className:"max-w-6xl mx-auto space-y-4 sm:space-y-6 p-4 sm:p-0",children:[t.jsxDEV("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:t.jsxDEV("div",{className:"flex items-center gap-3",children:[t.jsxDEV(tr,{className:"h-6 w-6 text-green-500 flex-shrink-0","data-testid":"icon-complete"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ResearchPage.tsx",lineNumber:405,columnNumber:13},this),t.jsxDEV("div",{children:[t.jsxDEV("h2",{className:"text-xl font-semibold text-green-600","data-testid":"text-research-complete",children:" Research complete"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ResearchPage.tsx",lineNumber:407,columnNumber:15},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground break-words",children:["Sources analyzed: ",t.jsxDEV("span",{className:"font-medium","data-testid":"text-sources-count",children:q},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ResearchPage.tsx",lineNumber:411,columnNumber:35},this),"  Time: ",t.jsxDEV("span",{className:"font-medium","data-testid":"text-time-elapsed",children:z},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ResearchPage.tsx",lineNumber:412,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ResearchPage.tsx",lineNumber:410,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ResearchPage.tsx",lineNumber:406,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ResearchPage.tsx",lineNumber:404,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ResearchPage.tsx",lineNumber:403,columnNumber:9},this),T&&T.blocks&&T.blocks.length>0&&t.jsxDEV("div",{className:"mt-6","data-testid":"bmc-canvas-section",children:[t.jsxDEV("h3",{className:"text-lg font-semibold mb-4",children:"Business Model Canvas"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ResearchPage.tsx",lineNumber:421,columnNumber:13},this),t.jsxDEV(rO,{analysis:T},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ResearchPage.tsx",lineNumber:422,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ResearchPage.tsx",lineNumber:420,columnNumber:11},this),H&&H.sources&&H.sources.length>0&&t.jsxDEV(Z,{children:[t.jsxDEV(de,{className:"p-4 sm:p-6",children:[t.jsxDEV(pe,{className:"text-lg",children:"Research Sources"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ResearchPage.tsx",lineNumber:429,columnNumber:15},this),t.jsxDEV(He,{children:"Top sources used for analysis"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ResearchPage.tsx",lineNumber:430,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ResearchPage.tsx",lineNumber:428,columnNumber:13},this),t.jsxDEV(te,{className:"p-4 sm:p-6",children:t.jsxDEV("div",{className:"grid gap-2",children:H.sources.map((G,ee)=>t.jsxDEV("div",{className:"flex items-center justify-between p-2 rounded border","data-testid":`source-${ee}`,children:[t.jsxDEV("div",{className:"flex-1 min-w-0",children:[t.jsxDEV("p",{className:"text-sm font-medium truncate",children:G.title},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ResearchPage.tsx",lineNumber:441,columnNumber:23},this),t.jsxDEV("a",{href:G.url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 hover:underline truncate block","data-testid":`link-source-${ee}`,children:G.url},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ResearchPage.tsx",lineNumber:442,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ResearchPage.tsx",lineNumber:440,columnNumber:21},this),t.jsxDEV(se,{variant:"outline",className:"ml-2 shrink-0",children:[(G.relevance_score*100).toFixed(0),"%"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ResearchPage.tsx",lineNumber:452,columnNumber:21},this)]},ee,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ResearchPage.tsx",lineNumber:435,columnNumber:19},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ResearchPage.tsx",lineNumber:433,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ResearchPage.tsx",lineNumber:432,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ResearchPage.tsx",lineNumber:427,columnNumber:11},this),!H||Object.keys(H).filter(G=>G!=="sources"&&G!=="validation").every(G=>!H[G]||H[G].length===0)?t.jsxDEV(Z,{children:t.jsxDEV(de,{children:[t.jsxDEV(pe,{children:"No findings available"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ResearchPage.tsx",lineNumber:465,columnNumber:15},this),t.jsxDEV(He,{children:"The research didn't produce detailed findings. You can still continue to the next step."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ResearchPage.tsx",lineNumber:466,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ResearchPage.tsx",lineNumber:464,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ResearchPage.tsx",lineNumber:463,columnNumber:11},this):null,t.jsxDEV("div",{className:"space-y-4",children:H&&qme.map(({key:G,label:ee,icon:K})=>{const be=H[G];if(!Array.isArray(be)||be.length===0)return null;const _e=j[G]!==!1;return t.jsxDEV(Z,{"data-testid":`section-${G}`,children:t.jsxDEV(_h,{open:_e,onOpenChange:()=>Y(G),children:[t.jsxDEV(de,{className:"cursor-pointer",onClick:()=>Y(G),children:t.jsxDEV(Fh,{asChild:!0,children:t.jsxDEV("div",{className:"flex items-center justify-between w-full",children:[t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV("span",{className:"text-2xl",children:K},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ResearchPage.tsx",lineNumber:487,columnNumber:27},this),t.jsxDEV(pe,{className:"text-lg",children:ee},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ResearchPage.tsx",lineNumber:488,columnNumber:27},this),t.jsxDEV(se,{variant:"secondary",children:be.length},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ResearchPage.tsx",lineNumber:489,columnNumber:27},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ResearchPage.tsx",lineNumber:486,columnNumber:25},this),t.jsxDEV(wo,{className:`h-5 w-5 transition-transform ${_e?"rotate-180":""}`},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ResearchPage.tsx",lineNumber:491,columnNumber:25},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ResearchPage.tsx",lineNumber:485,columnNumber:23},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ResearchPage.tsx",lineNumber:484,columnNumber:21},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ResearchPage.tsx",lineNumber:483,columnNumber:19},this),t.jsxDEV(Ih,{children:t.jsxDEV(te,{className:"space-y-4",children:be.map((oe,fe)=>{const Ae=Kme(oe.fact,H.validation);return t.jsxDEV("div",{className:"p-4 border rounded-lg bg-card hover:bg-accent/50 transition-colors","data-testid":`finding-${G}-${fe}`,children:[t.jsxDEV("div",{className:"flex items-start justify-between gap-4",children:[t.jsxDEV("div",{className:"flex items-start gap-2 flex-1",children:[Ae&&t.jsxDEV(OD,{children:t.jsxDEV(ree,{children:[t.jsxDEV(nee,{asChild:!0,children:t.jsxDEV("span",{className:"text-lg cursor-help mt-0.5","data-testid":`validation-indicator-${G}-${fe}`,children:Jme(Ae.strength)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ResearchPage.tsx",lineNumber:516,columnNumber:41},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ResearchPage.tsx",lineNumber:515,columnNumber:39},this),t.jsxDEV(qA,{className:"max-w-xs",children:[t.jsxDEV("p",{className:"font-semibold",children:Ae.strength},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ResearchPage.tsx",lineNumber:524,columnNumber:41},this),t.jsxDEV("p",{className:"text-xs mt-1",children:Ae.details},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ResearchPage.tsx",lineNumber:525,columnNumber:41},this),Ae.contradicts&&t.jsxDEV("p",{className:"text-xs mt-1 text-amber-500",children:" Contradictory evidence found"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ResearchPage.tsx",lineNumber:527,columnNumber:43},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ResearchPage.tsx",lineNumber:523,columnNumber:39},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ResearchPage.tsx",lineNumber:514,columnNumber:37},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ResearchPage.tsx",lineNumber:513,columnNumber:35},this),t.jsxDEV("p",{className:"text-sm flex-1",children:oe.fact},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ResearchPage.tsx",lineNumber:535,columnNumber:33},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ResearchPage.tsx",lineNumber:511,columnNumber:31},this),t.jsxDEV(se,{variant:Hme(oe.confidence),className:"shrink-0","data-testid":`badge-confidence-${G}-${fe}`,children:oe.confidence},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ResearchPage.tsx",lineNumber:537,columnNumber:31},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ResearchPage.tsx",lineNumber:510,columnNumber:29},this),t.jsxDEV("a",{href:oe.citation,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 mt-2 text-xs text-blue-600 hover:underline","data-testid":`link-citation-${G}-${fe}`,children:[t.jsxDEV(Vi,{className:"h-3 w-3"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ResearchPage.tsx",lineNumber:552,columnNumber:31},this),"View source"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ResearchPage.tsx",lineNumber:545,columnNumber:29},this)]},fe,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ResearchPage.tsx",lineNumber:505,columnNumber:27},this)})},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ResearchPage.tsx",lineNumber:500,columnNumber:21},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ResearchPage.tsx",lineNumber:499,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ResearchPage.tsx",lineNumber:482,columnNumber:17},this)},G,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ResearchPage.tsx",lineNumber:481,columnNumber:15},this)})},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ResearchPage.tsx",lineNumber:473,columnNumber:9},this),t.jsxDEV("div",{className:"flex justify-end pt-4",children:t.jsxDEV(me,{size:"lg",onClick:W,"data-testid":"button-continue-analysis",className:"w-full sm:w-auto",disabled:!V,children:V?"Continue to Strategic Analysis":t.jsxDEV(t.Fragment,{children:[t.jsxDEV(lt,{className:"mr-2 h-4 w-4 animate-spin"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ResearchPage.tsx",lineNumber:578,columnNumber:17},this),"Preparing next step..."]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ResearchPage.tsx",lineNumber:577,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ResearchPage.tsx",lineNumber:567,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ResearchPage.tsx",lineNumber:566,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ResearchPage.tsx",lineNumber:402,columnNumber:7},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/ResearchPage.tsx",lineNumber:397,columnNumber:5},this)}function Xme(){var R;const[,e]=Xn("/strategic-consultant/epm/:sessionId/:versionNumber"),[,r]=or(),{toast:n}=ur(),s=e==null?void 0:e.sessionId,a=s??"",l=e!=null&&e.versionNumber?parseInt(e.versionNumber,10):NaN,c=typeof window<"u"&&a?parseInt(window.localStorage.getItem(`strategic-versionNumber-${a}`)||"",10):NaN,u=!Number.isNaN(l)&&l>0?l:!Number.isNaN(c)&&c>0?c:1;v.useEffect(()=>{typeof window>"u"||!a||!u||Number.isNaN(u)||window.localStorage.setItem(`strategic-versionNumber-${a}`,u.toString())},[a,u]);const[d,h]=v.useState(!1),[g,p]=v.useState(!1),{data:N,isLoading:b,error:D}=yt({queryKey:["/api/strategic-consultant/versions",a,u],enabled:!!s&&!d,retry:!1}),E=Qr({mutationFn:async()=>{p(!0);const M=await fetch(`/api/strategic-consultant/integrate/${a}/${u}`,{method:"POST",credentials:"include"});if(!M.ok){const T=await M.json();throw new Error(T.error||"Integration failed")}return M.json()},onSuccess:M=>{p(!1),n({title:"EPM Integration Complete!",description:`Program created successfully with ${M.summary.workstreamsCreated} workstreams, ${M.summary.tasksCreated} tasks, ${M.summary.stageGatesCreated} stage gates, ${M.summary.kpisCreated} KPIs, and more.`}),vr.invalidateQueries({queryKey:["/api/programs"]}),vr.invalidateQueries({queryKey:["/api/strategic-consultant/versions",a,u]})},onError:M=>{p(!1),n({title:"Integration failed",description:M.message||"Failed to integrate program into EPM Suite",variant:"destructive"})}}),j=Qr({mutationFn:async()=>{h(!0);const M=new AbortController,T=setTimeout(()=>M.abort(),18e4);try{const A=await fetch("/api/strategic-consultant/convert-to-epm",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:a,versionNumber:u}),signal:M.signal});if(clearTimeout(T),!A.ok){const F=await A.json();throw new Error(F.message||"EPM conversion failed")}return A.json()}catch(A){throw clearTimeout(T),A.name==="AbortError"?new Error("EPM conversion timeout (>180s). The program structure is complex - please try again."):A}},onSuccess:()=>{vr.invalidateQueries({queryKey:["/api/strategic-consultant/versions",a,u]}),h(!1),n({title:"EPM Program Generated",description:"Complete program structure with all metadata"})},onError:M=>{h(!1),n({title:"Conversion failed",description:M.message||"An unexpected error occurred during EPM conversion",variant:"destructive"})}});if(v.useEffect(()=>{var M;if(!b&&N&&!((M=N.version)!=null&&M.program)&&!D&&!d&&a){const T=N.version,A=(T==null?void 0:T.selectedDecisions)&&Object.keys(T.selectedDecisions).length>0,F=(T==null?void 0:T.status)!=="finalized";A&&F&&j.mutate()}},[b,N,D,d,a]),!a)return t.jsxDEV("div",{className:"min-h-screen bg-background flex items-center justify-center p-8",children:t.jsxDEV(it,{variant:"destructive",className:"max-w-md",children:[t.jsxDEV(Dt,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:188,columnNumber:11},this),t.jsxDEV(er,{children:"Invalid Session"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:189,columnNumber:11},this),t.jsxDEV(at,{children:"No session ID provided in URL"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:190,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:187,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:186,columnNumber:7},this);if(b||d||j.isPending)return t.jsxDEV("div",{className:"min-h-screen bg-background flex items-center justify-center",children:t.jsxDEV("div",{className:"text-center space-y-4",children:[t.jsxDEV(lt,{className:"h-8 w-8 animate-spin mx-auto text-primary"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:200,columnNumber:11},this),t.jsxDEV("p",{className:"text-muted-foreground",children:"Generating EPM Program with Claude Sonnet 4..."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:201,columnNumber:11},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"This may take up to 3 minutes for complete metadata"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:202,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:199,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:198,columnNumber:7},this);if(D||!N||!((R=N.version)!=null&&R.program)){const M=N==null?void 0:N.version,T=(M==null?void 0:M.selectedDecisions)&&Object.keys(M.selectedDecisions).length>0;return!D&&!T?t.jsxDEV("div",{className:"min-h-screen bg-background flex items-center justify-center p-8",children:t.jsxDEV(it,{className:"max-w-md",children:[t.jsxDEV(Dt,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:217,columnNumber:13},this),t.jsxDEV(er,{children:"Decisions Not Selected"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:218,columnNumber:13},this),t.jsxDEV(at,{className:"space-y-4",children:[t.jsxDEV("p",{children:"This strategy version needs decisions to be selected before it can be converted to an EPM program."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:220,columnNumber:15},this),t.jsxDEV(me,{onClick:()=>r(`/strategic-consultant/decisions/${a}/${u}`),className:"w-full","data-testid":"button-select-decisions",children:"Select Decisions"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:221,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:219,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:216,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:215,columnNumber:9},this):t.jsxDEV("div",{className:"min-h-screen bg-background flex items-center justify-center p-8",children:t.jsxDEV(it,{variant:"destructive",className:"max-w-md",children:[t.jsxDEV(Dt,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:237,columnNumber:11},this),t.jsxDEV(er,{children:"EPM Program Not Found"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:238,columnNumber:11},this),t.jsxDEV(at,{children:(D==null?void 0:D.message)||"Unable to load EPM program. Please try converting again."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:239,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:236,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:235,columnNumber:7},this)}const P=N.program||N.version.program,w=N.validation,k=!!w,V=k?w.ontology.completeness:null,S=V?V.score/V.maxScore*100:0;return t.jsxDEV(st,{title:P.title,subtitle:"Complete EPM program with metadata and validation",onViewChange:M=>r("/"),children:t.jsxDEV("div",{className:"max-w-7xl mx-auto space-y-4 sm:space-y-6 p-4 sm:p-0",children:[t.jsxDEV("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3 sm:gap-4",children:[t.jsxDEV("div",{className:"flex-1",children:t.jsxDEV("div",{className:"flex flex-wrap items-center gap-2 sm:gap-4 text-sm text-muted-foreground",children:[t.jsxDEV("span",{className:"break-words",children:["Session: ",a]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:263,columnNumber:15},this),t.jsxDEV("span",{className:"hidden sm:inline",children:""},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:264,columnNumber:15},this),t.jsxDEV("span",{children:["Version: ",u]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:265,columnNumber:15},this),t.jsxDEV("span",{className:"hidden sm:inline",children:""},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:266,columnNumber:15},this),t.jsxDEV(se,{variant:N.version.status==="finalized"?"default":"secondary",children:N.version.status},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:267,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:262,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:261,columnNumber:11},this),t.jsxDEV("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 sm:gap-3",children:[N.version.status!=="converted_to_program"&&t.jsxDEV(me,{onClick:()=>E.mutate(),disabled:g||E.isPending,size:"lg",className:"bg-green-600 hover:bg-green-700 w-full sm:w-auto","data-testid":"button-integrate-epm",children:g||E.isPending?t.jsxDEV(t.Fragment,{children:[t.jsxDEV(lt,{className:"h-4 w-4 mr-2 animate-spin"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:283,columnNumber:21},this),"Integrating to EPM Suite..."]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:282,columnNumber:19},this):t.jsxDEV(t.Fragment,{children:[t.jsxDEV(tr,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:288,columnNumber:21},this),"Integrate to EPM Suite"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:287,columnNumber:19},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:274,columnNumber:15},this),N.version.status==="converted_to_program"&&t.jsxDEV(se,{variant:"default",className:"bg-green-600 text-base sm:text-lg px-3 sm:px-4 py-2 w-full sm:w-auto justify-center",children:[t.jsxDEV(tr,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:296,columnNumber:17},this),"Integrated to EPM Suite"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:295,columnNumber:15},this),t.jsxDEV(me,{onClick:()=>r(`/strategic-consultant/versions/${a}`),variant:"outline","data-testid":"button-view-versions",className:"w-full sm:w-auto",children:"View All Versions"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:300,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:272,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:260,columnNumber:9},this),k&&V&&t.jsxDEV(Z,{className:"bg-primary/5 border-primary/20",children:[t.jsxDEV(de,{children:t.jsxDEV(pe,{className:"flex items-center gap-2",children:[t.jsxDEV(tr,{className:"h-5 w-5 text-primary"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:315,columnNumber:17},this),"Program Quality Score"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:314,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:313,columnNumber:13},this),t.jsxDEV(te,{className:"space-y-4",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV("div",{className:"flex items-center justify-between text-sm",children:[t.jsxDEV("span",{className:"font-medium",children:"Completeness"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:322,columnNumber:19},this),t.jsxDEV("span",{className:"font-bold","data-testid":"text-completeness-score",children:[V.score," / ",V.maxScore]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:323,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:321,columnNumber:17},this),t.jsxDEV(Ln,{value:S,className:"h-2","data-testid":"progress-completeness"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:327,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:320,columnNumber:15},this),t.jsxDEV("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 text-sm",children:[t.jsxDEV("div",{children:[t.jsxDEV("span",{className:"text-muted-foreground",children:"Critical Fields:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:331,columnNumber:17},this),t.jsxDEV("span",{className:"ml-2 font-medium",children:[V.critical.passed,"/",V.critical.total]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:332,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:330,columnNumber:15},this),t.jsxDEV("div",{children:[t.jsxDEV("span",{className:"text-muted-foreground",children:"Important Fields:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:335,columnNumber:17},this),t.jsxDEV("span",{className:"ml-2 font-medium",children:[V.important.passed,"/",V.important.total]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:336,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:334,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:329,columnNumber:13},this),V.missingFields.length===0&&t.jsxDEV(it,{className:"bg-green-50 border-green-200 dark:bg-green-950 dark:border-green-800",children:[t.jsxDEV(tr,{className:"h-4 w-4 text-green-600"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:341,columnNumber:17},this),t.jsxDEV(at,{className:"text-green-800 dark:text-green-200",children:"All required EPM fields present - Ready for execution"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:342,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:340,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:319,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:312,columnNumber:11},this),t.jsxDEV("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[t.jsxDEV(Z,{children:[t.jsxDEV(de,{className:"pb-3",children:t.jsxDEV(He,{className:"flex items-center gap-2",children:[t.jsxDEV(vh,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:355,columnNumber:17},this),"Budget Range"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:354,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:353,columnNumber:13},this),t.jsxDEV(te,{children:t.jsxDEV("p",{className:"text-2xl font-bold","data-testid":"text-budget",children:["$",(P.cost_estimate.total_min/1e3).toFixed(0),"K - $",(P.cost_estimate.total_max/1e3).toFixed(0),"K"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:360,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:359,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:352,columnNumber:11},this),t.jsxDEV(Z,{children:[t.jsxDEV(de,{className:"pb-3",children:t.jsxDEV(He,{className:"flex items-center gap-2",children:[t.jsxDEV(qs,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:368,columnNumber:17},this),"Timeline"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:367,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:366,columnNumber:13},this),t.jsxDEV(te,{children:t.jsxDEV("p",{className:"text-2xl font-bold","data-testid":"text-timeline",children:[P.timeline.total_months," months"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:373,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:372,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:365,columnNumber:11},this),t.jsxDEV(Z,{children:[t.jsxDEV(de,{className:"pb-3",children:t.jsxDEV(He,{className:"flex items-center gap-2",children:[t.jsxDEV(On,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:379,columnNumber:17},this),"Workstreams"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:378,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:377,columnNumber:13},this),t.jsxDEV(te,{children:t.jsxDEV("p",{className:"text-2xl font-bold","data-testid":"text-workstreams",children:P.workstreams.length},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:384,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:383,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:376,columnNumber:11},this),t.jsxDEV(Z,{children:[t.jsxDEV(de,{className:"pb-3",children:t.jsxDEV(He,{className:"flex items-center gap-2",children:[t.jsxDEV(Xr,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:390,columnNumber:17},this),"Approach"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:389,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:388,columnNumber:13},this),t.jsxDEV(te,{children:t.jsxDEV(se,{variant:"default",className:"text-xs","data-testid":"badge-approach",children:P.strategic_approach.replace("_"," ")},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:395,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:394,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:387,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:351,columnNumber:9},this),t.jsxDEV(bl,{defaultValue:"workstreams",className:"w-full",children:[t.jsxDEV(Eo,{className:"grid w-full grid-cols-6",children:[t.jsxDEV(Pr,{value:"workstreams",children:"Workstreams"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:404,columnNumber:13},this),t.jsxDEV(Pr,{value:"gates",children:"Stage Gates"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:405,columnNumber:13},this),t.jsxDEV(Pr,{value:"kpis",children:"KPIs"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:406,columnNumber:13},this),t.jsxDEV(Pr,{value:"benefits",children:"Benefits"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:407,columnNumber:13},this),t.jsxDEV(Pr,{value:"risks",children:"Risks"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:408,columnNumber:13},this),t.jsxDEV(Pr,{value:"resources",children:"Resources"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:409,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:403,columnNumber:11},this),t.jsxDEV(Sr,{value:"workstreams",className:"space-y-4 mt-6",children:P.workstreams.map((M,T)=>t.jsxDEV(Z,{"data-testid":`card-workstream-${T}`,children:[t.jsxDEV(de,{children:[t.jsxDEV(pe,{children:M.title},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:416,columnNumber:19},this),t.jsxDEV(He,{children:M.description},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:417,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:415,columnNumber:17},this),t.jsxDEV(te,{className:"space-y-4",children:[t.jsxDEV("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 text-sm",children:[t.jsxDEV("div",{children:[t.jsxDEV("span",{className:"text-muted-foreground",children:"Budget:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:422,columnNumber:23},this),t.jsxDEV("p",{className:"font-medium",children:["$",(M.cost_allocation.min/1e3).toFixed(0),"K - $",(M.cost_allocation.max/1e3).toFixed(0),"K"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:423,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:421,columnNumber:21},this),t.jsxDEV("div",{children:[t.jsxDEV("span",{className:"text-muted-foreground",children:"Timeline:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:426,columnNumber:23},this),t.jsxDEV("p",{className:"font-medium",children:[M.timeline_months," months"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:427,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:425,columnNumber:21},this),t.jsxDEV("div",{children:[t.jsxDEV("span",{className:"text-muted-foreground",children:"Team Size:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:430,columnNumber:23},this),t.jsxDEV("p",{className:"font-medium",children:[M.required_team.reduce((A,F)=>A+F.count,0)," people"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:431,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:429,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:420,columnNumber:19},this),t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-sm text-muted-foreground mb-2",children:"Team Composition:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:435,columnNumber:21},this),t.jsxDEV("div",{className:"flex flex-wrap gap-2",children:M.required_team.map((A,F)=>t.jsxDEV(se,{variant:"outline",children:[A.count," ",A.role]},F,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:438,columnNumber:25},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:436,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:434,columnNumber:19},this),t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-sm text-muted-foreground mb-2",children:["Key Tasks (",M.tasks.length,"):"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:443,columnNumber:21},this),t.jsxDEV("ul",{className:"list-disc list-inside text-sm space-y-1",children:M.tasks.slice(0,3).map((A,F)=>t.jsxDEV("li",{className:"text-muted-foreground",children:A.name},F,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:446,columnNumber:25},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:444,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:442,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:419,columnNumber:17},this)]},T,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:414,columnNumber:15},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:412,columnNumber:11},this),t.jsxDEV(Sr,{value:"gates",className:"space-y-4 mt-6",children:P.stage_gates.map((M,T)=>t.jsxDEV(Z,{"data-testid":`card-gate-${M.gate}`,children:[t.jsxDEV(de,{children:t.jsxDEV(pe,{className:"flex items-center gap-2",children:[t.jsxDEV(se,{children:M.gate},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:460,columnNumber:21},this),M.name]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:459,columnNumber:19},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:458,columnNumber:17},this),t.jsxDEV(te,{className:"space-y-4",children:[t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-sm font-medium mb-2",children:["Criteria (",M.criteria.length,"):"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:466,columnNumber:21},this),t.jsxDEV("ul",{className:"list-disc list-inside text-sm text-muted-foreground space-y-1",children:M.criteria.map((A,F)=>t.jsxDEV("li",{children:A},F,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:469,columnNumber:25},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:467,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:465,columnNumber:19},this),t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-sm font-medium mb-2",children:["Deliverables (",M.deliverables.length,"):"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:474,columnNumber:21},this),t.jsxDEV("ul",{className:"list-disc list-inside text-sm text-muted-foreground space-y-1",children:M.deliverables.map((A,F)=>t.jsxDEV("li",{children:A},F,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:477,columnNumber:25},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:475,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:473,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:464,columnNumber:17},this)]},T,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:457,columnNumber:15},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:455,columnNumber:11},this),t.jsxDEV(Sr,{value:"kpis",className:"space-y-4 mt-6",children:P.kpis.map((M,T)=>t.jsxDEV(Z,{"data-testid":`card-kpi-${T}`,children:[t.jsxDEV(de,{children:t.jsxDEV(pe,{className:"flex items-center gap-2",children:[t.jsxDEV(cn,{className:"h-5 w-5 text-primary"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:491,columnNumber:21},this),M.name]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:490,columnNumber:19},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:489,columnNumber:17},this),t.jsxDEV(te,{children:t.jsxDEV("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 text-sm",children:[t.jsxDEV("div",{children:[t.jsxDEV("span",{className:"text-muted-foreground",children:"Target:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:498,columnNumber:23},this),t.jsxDEV("p",{className:"font-medium",children:M.target},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:499,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:497,columnNumber:21},this),t.jsxDEV("div",{children:[t.jsxDEV("span",{className:"text-muted-foreground",children:"Frequency:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:502,columnNumber:23},this),t.jsxDEV("p",{className:"font-medium",children:M.measurement_frequency},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:503,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:501,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:496,columnNumber:19},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:495,columnNumber:17},this)]},T,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:488,columnNumber:15},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:486,columnNumber:11},this),t.jsxDEV(Sr,{value:"benefits",className:"space-y-4 mt-6",children:P.benefits.map((M,T)=>t.jsxDEV(Z,{"data-testid":`card-benefit-${T}`,children:[t.jsxDEV(de,{children:t.jsxDEV("div",{className:"flex items-start justify-between",children:[t.jsxDEV(pe,{children:M.description},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:516,columnNumber:21},this),t.jsxDEV(se,{variant:"secondary",children:M.category},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:517,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:515,columnNumber:19},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:514,columnNumber:17},this),M.quantified_value&&t.jsxDEV(te,{children:t.jsxDEV("p",{className:"text-sm font-medium text-primary",children:M.quantified_value},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:522,columnNumber:21},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:521,columnNumber:19},this)]},T,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:513,columnNumber:15},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:511,columnNumber:11},this),t.jsxDEV(Sr,{value:"risks",className:"space-y-4 mt-6",children:P.risks.map((M,T)=>t.jsxDEV(Z,{"data-testid":`card-risk-${T}`,children:[t.jsxDEV(de,{children:t.jsxDEV("div",{className:"flex items-start gap-3",children:[t.jsxDEV(qr,{className:"h-5 w-5 text-orange-500 mt-0.5"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:534,columnNumber:21},this),t.jsxDEV("div",{className:"flex-1",children:[t.jsxDEV(pe,{className:"text-base",children:M.description},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:536,columnNumber:23},this),t.jsxDEV("div",{className:"flex gap-2 mt-2",children:[t.jsxDEV(se,{variant:M.likelihood==="high"?"destructive":"outline",children:[M.likelihood," likelihood"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:538,columnNumber:25},this),t.jsxDEV(se,{variant:M.impact==="high"?"destructive":"outline",children:[M.impact," impact"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:541,columnNumber:25},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:537,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:535,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:533,columnNumber:19},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:532,columnNumber:17},this),t.jsxDEV(te,{children:t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:[t.jsxDEV("span",{className:"font-medium",children:"Mitigation:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:550,columnNumber:21},this)," ",M.mitigation_strategy]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:549,columnNumber:19},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:548,columnNumber:17},this)]},T,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:531,columnNumber:15},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:529,columnNumber:11},this),t.jsxDEV(Sr,{value:"resources",className:"space-y-4 mt-6",children:t.jsxDEV("div",{className:"grid gap-4",children:[t.jsxDEV(Z,{children:[t.jsxDEV(de,{children:t.jsxDEV(pe,{children:"Funding Plan"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:561,columnNumber:19},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:560,columnNumber:17},this),t.jsxDEV(te,{children:t.jsxDEV("div",{className:"space-y-2",children:P.funding.sources.map((M,T)=>t.jsxDEV("div",{className:"flex justify-between items-center",children:[t.jsxDEV("span",{className:"text-muted-foreground",children:M.source},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:567,columnNumber:25},this),t.jsxDEV("span",{className:"font-medium",children:["$",(M.amount/1e3).toFixed(0),"K"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:568,columnNumber:25},this)]},T,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:566,columnNumber:23},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:564,columnNumber:19},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:563,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:559,columnNumber:15},this),t.jsxDEV(Z,{children:[t.jsxDEV(de,{children:t.jsxDEV(pe,{children:"Resource Requirements"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:577,columnNumber:19},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:576,columnNumber:17},this),t.jsxDEV(te,{children:t.jsxDEV("div",{className:"space-y-3",children:P.resources.map((M,T)=>t.jsxDEV("div",{className:"flex items-center justify-between border-b pb-2 last:border-0",children:[t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"font-medium",children:M.role},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:584,columnNumber:27},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:[M.duration_months," months"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:585,columnNumber:27},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:583,columnNumber:25},this),t.jsxDEV(se,{children:[M.count," person",M.count>1?"s":""]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:587,columnNumber:25},this)]},T,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:582,columnNumber:23},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:580,columnNumber:19},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:579,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:575,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:558,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:557,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:402,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:259,columnNumber:7},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/EPMPage.tsx",lineNumber:254,columnNumber:5},this)}const DP=v.forwardRef(({className:e,...r},n)=>t.jsxDEV("div",{className:"relative w-full overflow-auto",children:t.jsxDEV("table",{ref:n,className:Ke("w-full caption-bottom text-sm",e),...r},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/table.tsx",lineNumber:10,columnNumber:5},void 0)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/table.tsx",lineNumber:9,columnNumber:3},void 0));DP.displayName="Table";const jP=v.forwardRef(({className:e,...r},n)=>t.jsxDEV("thead",{ref:n,className:Ke("[&_tr]:border-b",e),...r},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/table.tsx",lineNumber:23,columnNumber:3},void 0));jP.displayName="TableHeader";const VP=v.forwardRef(({className:e,...r},n)=>t.jsxDEV("tbody",{ref:n,className:Ke("[&_tr:last-child]:border-0",e),...r},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/table.tsx",lineNumber:31,columnNumber:3},void 0));VP.displayName="TableBody";const Qme=v.forwardRef(({className:e,...r},n)=>t.jsxDEV("tfoot",{ref:n,className:Ke("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...r},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/table.tsx",lineNumber:43,columnNumber:3},void 0));Qme.displayName="TableFooter";const Rd=v.forwardRef(({className:e,...r},n)=>t.jsxDEV("tr",{ref:n,className:Ke("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...r},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/table.tsx",lineNumber:58,columnNumber:3},void 0));Rd.displayName="TableRow";const ao=v.forwardRef(({className:e,...r},n)=>t.jsxDEV("th",{ref:n,className:Ke("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...r},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/table.tsx",lineNumber:73,columnNumber:3},void 0));ao.displayName="TableHead";const wa=v.forwardRef(({className:e,...r},n)=>t.jsxDEV("td",{ref:n,className:Ke("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...r},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/table.tsx",lineNumber:88,columnNumber:3},void 0));wa.displayName="TableCell";const Zme=v.forwardRef(({className:e,...r},n)=>t.jsxDEV("caption",{ref:n,className:Ke("mt-4 text-sm text-muted-foreground",e),...r},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/table.tsx",lineNumber:100,columnNumber:3},void 0));Zme.displayName="TableCaption";function ede(){const[,e]=Xn("/strategic-consultant/versions/:sessionId"),[,r]=or(),{toast:n}=ur(),s=e==null?void 0:e.sessionId,[a,l]=v.useState(null),[c,u]=v.useState(null),[d,h]=v.useState(!1),{data:g,isLoading:p,error:N}=yt({queryKey:["/api/strategic-consultant/versions",s],enabled:!!s}),b=(g==null?void 0:g.versions)||[],{data:D,isLoading:E}=yt({queryKey:["/api/strategic-consultant/versions/compare",s,a,c],enabled:d&&!!s&&a!==null&&c!==null,queryFn:async()=>{const w=await fetch("/api/strategic-consultant/versions/compare",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:s,version1:a,version2:c})});if(!w.ok){const k=await w.json();throw new Error(k.message||"Comparison failed")}return w.json()}}),j=D==null?void 0:D.comparison,P=()=>{if(a===null||c===null){n({title:"Select versions to compare",description:"Please select two different versions",variant:"destructive"});return}if(a===c){n({title:"Same version selected",description:"Please select two different versions to compare",variant:"destructive"});return}h(!0)};return s?p?t.jsxDEV("div",{className:"min-h-screen bg-background flex items-center justify-center",children:t.jsxDEV("div",{className:"text-center space-y-4",children:[t.jsxDEV(lt,{className:"h-8 w-8 animate-spin mx-auto text-primary"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/VersionsPage.tsx",lineNumber:116,columnNumber:11},this),t.jsxDEV("p",{className:"text-muted-foreground",children:"Loading versions..."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/VersionsPage.tsx",lineNumber:117,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/VersionsPage.tsx",lineNumber:115,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/VersionsPage.tsx",lineNumber:114,columnNumber:7},this):N||!g?t.jsxDEV("div",{className:"min-h-screen bg-background flex items-center justify-center p-8",children:t.jsxDEV(it,{variant:"destructive",className:"max-w-md",children:[t.jsxDEV(Dt,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/VersionsPage.tsx",lineNumber:127,columnNumber:11},this),t.jsxDEV(er,{children:"Versions Not Found"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/VersionsPage.tsx",lineNumber:128,columnNumber:11},this),t.jsxDEV(at,{children:(N==null?void 0:N.message)||"Unable to load strategy versions."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/VersionsPage.tsx",lineNumber:129,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/VersionsPage.tsx",lineNumber:126,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/VersionsPage.tsx",lineNumber:125,columnNumber:7},this):t.jsxDEV(st,{title:"Strategy Versions",subtitle:"Manage and compare strategy versions",onViewChange:w=>r("/"),children:t.jsxDEV("div",{className:"max-w-7xl mx-auto space-y-6",children:[t.jsxDEV("div",{children:t.jsxDEV("p",{className:"text-sm text-muted-foreground","data-testid":"text-session-id",children:["Session: ",s]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/VersionsPage.tsx",lineNumber:145,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/VersionsPage.tsx",lineNumber:144,columnNumber:9},this),t.jsxDEV(bl,{defaultValue:"list",className:"w-full",children:[t.jsxDEV(Eo,{children:[t.jsxDEV(Pr,{value:"list",children:"Version List"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/VersionsPage.tsx",lineNumber:150,columnNumber:13},this),t.jsxDEV(Pr,{value:"compare",children:"Compare Versions"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/VersionsPage.tsx",lineNumber:151,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/VersionsPage.tsx",lineNumber:149,columnNumber:11},this),t.jsxDEV(Sr,{value:"list",className:"space-y-4 mt-6",children:t.jsxDEV("div",{className:"grid gap-4",children:b.map(w=>t.jsxDEV(Z,{"data-testid":`card-version-${w.versionNumber}`,children:[t.jsxDEV(de,{children:t.jsxDEV("div",{className:"flex items-start justify-between",children:[t.jsxDEV("div",{children:[t.jsxDEV(pe,{className:"flex items-center gap-2",children:["Version ",w.versionNumber,t.jsxDEV(se,{variant:w.status==="finalized"?"default":"secondary",children:w.status},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/VersionsPage.tsx",lineNumber:163,columnNumber:27},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/VersionsPage.tsx",lineNumber:161,columnNumber:25},this),t.jsxDEV(He,{className:"mt-2",children:["Created: ",new Date(w.createdAt).toLocaleString(),w.finalizedAt&&`  Finalized: ${new Date(w.finalizedAt).toLocaleString()}`]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/VersionsPage.tsx",lineNumber:167,columnNumber:25},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/VersionsPage.tsx",lineNumber:160,columnNumber:23},this),t.jsxDEV(me,{variant:"outline",onClick:()=>r(`/strategic-consultant/epm/${s}/${w.versionNumber}`),"data-testid":`button-view-version-${w.versionNumber}`,children:["View EPM ",t.jsxDEV(ar,{className:"ml-2 h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/VersionsPage.tsx",lineNumber:177,columnNumber:34},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/VersionsPage.tsx",lineNumber:172,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/VersionsPage.tsx",lineNumber:159,columnNumber:21},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/VersionsPage.tsx",lineNumber:158,columnNumber:19},this),w.analysis&&t.jsxDEV(te,{className:"space-y-3",children:[t.jsxDEV("div",{className:"flex flex-wrap gap-2",children:[t.jsxDEV("span",{className:"text-sm text-muted-foreground",children:"Strategic Approach:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/VersionsPage.tsx",lineNumber:184,columnNumber:25},this),w.analysis.recommended_approaches.map(k=>t.jsxDEV(se,{variant:"outline",children:k.replace("_"," ")},k,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/VersionsPage.tsx",lineNumber:186,columnNumber:27},this))]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/VersionsPage.tsx",lineNumber:183,columnNumber:23},this),t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV("span",{className:"text-sm text-muted-foreground",children:"Target Market:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/VersionsPage.tsx",lineNumber:192,columnNumber:25},this),t.jsxDEV(se,{variant:"secondary",children:w.analysis.recommended_market.toUpperCase()},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/VersionsPage.tsx",lineNumber:193,columnNumber:25},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/VersionsPage.tsx",lineNumber:191,columnNumber:23},this),w.selectedDecisions&&Object.keys(w.selectedDecisions).length>0&&t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV("span",{className:"text-sm text-muted-foreground",children:"Decisions:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/VersionsPage.tsx",lineNumber:197,columnNumber:27},this),t.jsxDEV(se,{variant:"outline",children:[Object.keys(w.selectedDecisions).length," selected"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/VersionsPage.tsx",lineNumber:198,columnNumber:27},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/VersionsPage.tsx",lineNumber:196,columnNumber:25},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/VersionsPage.tsx",lineNumber:182,columnNumber:21},this)]},w.versionNumber,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/VersionsPage.tsx",lineNumber:157,columnNumber:17},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/VersionsPage.tsx",lineNumber:155,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/VersionsPage.tsx",lineNumber:154,columnNumber:11},this),t.jsxDEV(Sr,{value:"compare",className:"space-y-6 mt-6",children:[t.jsxDEV(Z,{children:[t.jsxDEV(de,{children:[t.jsxDEV(pe,{children:"Compare Strategy Versions"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/VersionsPage.tsx",lineNumber:211,columnNumber:17},this),t.jsxDEV(He,{children:"Select two versions to see differences in approach, market, and decisions"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/VersionsPage.tsx",lineNumber:212,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/VersionsPage.tsx",lineNumber:210,columnNumber:15},this),t.jsxDEV(te,{className:"space-y-4",children:[t.jsxDEV("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV("label",{className:"text-sm font-medium",children:"Version 1"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/VersionsPage.tsx",lineNumber:217,columnNumber:21},this),t.jsxDEV("select",{className:"w-full p-2 border rounded-md",value:a??"",onChange:w=>l(w.target.value?parseInt(w.target.value):null),"data-testid":"select-version-1",children:[t.jsxDEV("option",{value:"",children:"Select version"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/VersionsPage.tsx",lineNumber:224,columnNumber:23},this),b.map(w=>t.jsxDEV("option",{value:w.versionNumber,children:["Version ",w.versionNumber," (",w.status,")"]},w.versionNumber,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/VersionsPage.tsx",lineNumber:226,columnNumber:25},this))]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/VersionsPage.tsx",lineNumber:218,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/VersionsPage.tsx",lineNumber:216,columnNumber:19},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV("label",{className:"text-sm font-medium",children:"Version 2"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/VersionsPage.tsx",lineNumber:233,columnNumber:21},this),t.jsxDEV("select",{className:"w-full p-2 border rounded-md",value:c??"",onChange:w=>u(w.target.value?parseInt(w.target.value):null),"data-testid":"select-version-2",children:[t.jsxDEV("option",{value:"",children:"Select version"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/VersionsPage.tsx",lineNumber:240,columnNumber:23},this),b.map(w=>t.jsxDEV("option",{value:w.versionNumber,children:["Version ",w.versionNumber," (",w.status,")"]},w.versionNumber,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/VersionsPage.tsx",lineNumber:242,columnNumber:25},this))]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/VersionsPage.tsx",lineNumber:234,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/VersionsPage.tsx",lineNumber:232,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/VersionsPage.tsx",lineNumber:215,columnNumber:17},this),t.jsxDEV(me,{onClick:P,disabled:a===null||c===null||E,className:"w-full","data-testid":"button-compare",children:E?t.jsxDEV(t.Fragment,{children:[t.jsxDEV(lt,{className:"mr-2 h-4 w-4 animate-spin"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/VersionsPage.tsx",lineNumber:257,columnNumber:23},this),"Comparing..."]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/VersionsPage.tsx",lineNumber:256,columnNumber:21},this):t.jsxDEV(t.Fragment,{children:[t.jsxDEV(RX,{className:"mr-2 h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/VersionsPage.tsx",lineNumber:262,columnNumber:23},this),"Compare Versions"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/VersionsPage.tsx",lineNumber:261,columnNumber:21},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/VersionsPage.tsx",lineNumber:249,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/VersionsPage.tsx",lineNumber:214,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/VersionsPage.tsx",lineNumber:209,columnNumber:13},this),d&&j&&t.jsxDEV(Z,{"data-testid":"card-comparison-results",children:[t.jsxDEV(de,{children:[t.jsxDEV(pe,{children:"Comparison Results"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/VersionsPage.tsx",lineNumber:273,columnNumber:19},this),t.jsxDEV(He,{children:["Version ",a," vs Version ",c]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/VersionsPage.tsx",lineNumber:274,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/VersionsPage.tsx",lineNumber:272,columnNumber:17},this),t.jsxDEV(te,{className:"space-y-6",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV("h4",{className:"font-semibold",children:"Strategic Approach"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/VersionsPage.tsx",lineNumber:280,columnNumber:21},this),j.differences.approach_changed?t.jsxDEV("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-sm text-muted-foreground mb-1",children:["Version ",a]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/VersionsPage.tsx",lineNumber:284,columnNumber:27},this),t.jsxDEV("div",{className:"flex flex-wrap gap-1",children:j.version1.analysis.recommended_approaches.map(w=>t.jsxDEV(se,{variant:"outline",children:w.replace("_"," ")},w,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/VersionsPage.tsx",lineNumber:287,columnNumber:31},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/VersionsPage.tsx",lineNumber:285,columnNumber:27},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/VersionsPage.tsx",lineNumber:283,columnNumber:25},this),t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-sm text-muted-foreground mb-1",children:["Version ",c]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/VersionsPage.tsx",lineNumber:292,columnNumber:27},this),t.jsxDEV("div",{className:"flex flex-wrap gap-1",children:j.version2.analysis.recommended_approaches.map(w=>t.jsxDEV(se,{variant:"default",children:w.replace("_"," ")},w,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/VersionsPage.tsx",lineNumber:295,columnNumber:31},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/VersionsPage.tsx",lineNumber:293,columnNumber:27},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/VersionsPage.tsx",lineNumber:291,columnNumber:25},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/VersionsPage.tsx",lineNumber:282,columnNumber:23},this):t.jsxDEV(se,{variant:"secondary",children:"No change"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/VersionsPage.tsx",lineNumber:301,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/VersionsPage.tsx",lineNumber:279,columnNumber:19},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV("h4",{className:"font-semibold",children:"Target Market"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/VersionsPage.tsx",lineNumber:306,columnNumber:21},this),j.differences.market_changed?t.jsxDEV("div",{className:"flex gap-4",children:[t.jsxDEV(se,{variant:"outline",children:["V",a,": ",j.version1.analysis.recommended_market.toUpperCase()]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/VersionsPage.tsx",lineNumber:309,columnNumber:25},this),t.jsxDEV(se,{variant:"default",children:["V",c,": ",j.version2.analysis.recommended_market.toUpperCase()]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/VersionsPage.tsx",lineNumber:312,columnNumber:25},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/VersionsPage.tsx",lineNumber:308,columnNumber:23},this):t.jsxDEV(se,{variant:"secondary",children:"No change"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/VersionsPage.tsx",lineNumber:317,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/VersionsPage.tsx",lineNumber:305,columnNumber:19},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV("h4",{className:"font-semibold",children:"Strategic Decisions"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/VersionsPage.tsx",lineNumber:322,columnNumber:21},this),j.differences.decisions_changed.length>0?t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:[j.differences.decisions_changed.length," decision(s) changed"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/VersionsPage.tsx",lineNumber:325,columnNumber:25},this),t.jsxDEV(DP,{children:[t.jsxDEV(jP,{children:t.jsxDEV(Rd,{children:[t.jsxDEV(ao,{children:"Decision"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/VersionsPage.tsx",lineNumber:331,columnNumber:31},this),t.jsxDEV(ao,{children:["Version ",a]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/VersionsPage.tsx",lineNumber:332,columnNumber:31},this),t.jsxDEV(ao,{children:["Version ",c]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/VersionsPage.tsx",lineNumber:333,columnNumber:31},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/VersionsPage.tsx",lineNumber:330,columnNumber:29},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/VersionsPage.tsx",lineNumber:329,columnNumber:27},this),t.jsxDEV(VP,{children:j.differences.decisions_changed.map(w=>{var S,R;const k=j.version1.decisions.find(M=>M.id===w),V=j.version2.decisions.find(M=>M.id===w);return t.jsxDEV(Rd,{children:[t.jsxDEV(wa,{className:"font-medium",children:(k==null?void 0:k.question)||w},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/VersionsPage.tsx",lineNumber:342,columnNumber:35},this),t.jsxDEV(wa,{children:((S=k==null?void 0:k.options.find(M=>{var T;return M.id===((T=j.version1.selectedDecisions)==null?void 0:T[w])}))==null?void 0:S.label)||"N/A"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/VersionsPage.tsx",lineNumber:343,columnNumber:35},this),t.jsxDEV(wa,{children:((R=V==null?void 0:V.options.find(M=>{var T;return M.id===((T=j.version2.selectedDecisions)==null?void 0:T[w])}))==null?void 0:R.label)||"N/A"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/VersionsPage.tsx",lineNumber:346,columnNumber:35},this)]},w,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/VersionsPage.tsx",lineNumber:341,columnNumber:33},this)})},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/VersionsPage.tsx",lineNumber:336,columnNumber:27},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/VersionsPage.tsx",lineNumber:328,columnNumber:25},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/VersionsPage.tsx",lineNumber:324,columnNumber:23},this):t.jsxDEV(se,{variant:"secondary",children:"No changes in decisions"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/VersionsPage.tsx",lineNumber:356,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/VersionsPage.tsx",lineNumber:321,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/VersionsPage.tsx",lineNumber:278,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/VersionsPage.tsx",lineNumber:271,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/VersionsPage.tsx",lineNumber:208,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/VersionsPage.tsx",lineNumber:148,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/VersionsPage.tsx",lineNumber:143,columnNumber:7},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/VersionsPage.tsx",lineNumber:138,columnNumber:5},this):t.jsxDEV("div",{className:"min-h-screen bg-background flex items-center justify-center p-8",children:t.jsxDEV(it,{variant:"destructive",className:"max-w-md",children:[t.jsxDEV(Dt,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/VersionsPage.tsx",lineNumber:104,columnNumber:11},this),t.jsxDEV(er,{children:"Invalid Session"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/VersionsPage.tsx",lineNumber:105,columnNumber:11},this),t.jsxDEV(at,{children:"No session ID provided in URL"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/VersionsPage.tsx",lineNumber:106,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/VersionsPage.tsx",lineNumber:103,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/VersionsPage.tsx",lineNumber:102,columnNumber:7},this)}const ZE={business_model_canvas:{name:"Business Model Canvas",description:"Design and validate your business model, revenue streams, and customer value",icon:Sg,color:"text-blue-600 dark:text-blue-400",bgColor:"bg-blue-50 dark:bg-blue-950",borderColor:"border-blue-200 dark:border-blue-800"},porters_five_forces:{name:"Porter's Five Forces",description:"Analyze competitive dynamics and industry structure",icon:Yj,color:"text-purple-600 dark:text-purple-400",bgColor:"bg-purple-50 dark:bg-purple-950",borderColor:"border-purple-200 dark:border-purple-800"},user_choice:{name:"Manual Selection",description:"Choose your preferred framework manually",icon:Xr,color:"text-gray-600 dark:text-gray-400",bgColor:"bg-gray-50 dark:bg-gray-950",borderColor:"border-gray-200 dark:border-gray-800"}};function tde({selection:e,onConfirm:r,onOverride:n,isLoading:s=!1}){const{selectedFramework:a,confidence:l,signals:c,reasoning:u,alternativeFramework:d}=e,h=ZE[a]||ZE.user_choice,g=d&&ZE[d]||null,p=Math.round(l*100),N=l>=.8?"high":l>=.6?"moderate":"low",b=(h==null?void 0:h.icon)||Xr;return t.jsxDEV("div",{className:"space-y-6","data-testid":"framework-selection-container",children:t.jsxDEV(Z,{className:`border-2 ${h.borderColor}`,children:[t.jsxDEV(de,{children:t.jsxDEV("div",{className:"flex items-start justify-between",children:[t.jsxDEV("div",{className:"flex items-center gap-3",children:[t.jsxDEV("div",{className:`p-3 rounded-lg ${h.bgColor}`,children:t.jsxDEV(b,{className:`h-6 w-6 ${h.color}`},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/FrameworkSelection.tsx",lineNumber:91,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/FrameworkSelection.tsx",lineNumber:90,columnNumber:15},this),t.jsxDEV("div",{children:[t.jsxDEV(pe,{className:"text-xl","data-testid":"selected-framework-name",children:h.name},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/FrameworkSelection.tsx",lineNumber:94,columnNumber:17},this),t.jsxDEV(He,{"data-testid":"selected-framework-description",children:h.description},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/FrameworkSelection.tsx",lineNumber:97,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/FrameworkSelection.tsx",lineNumber:93,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/FrameworkSelection.tsx",lineNumber:89,columnNumber:13},this),t.jsxDEV(se,{variant:N==="high"?"default":N==="moderate"?"secondary":"outline","data-testid":"confidence-badge",children:[t.jsxDEV(tr,{className:"h-3 w-3 mr-1"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/FrameworkSelection.tsx",lineNumber:106,columnNumber:15},this),p,"% Confidence"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/FrameworkSelection.tsx",lineNumber:102,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/FrameworkSelection.tsx",lineNumber:88,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/FrameworkSelection.tsx",lineNumber:87,columnNumber:9},this),t.jsxDEV(te,{className:"space-y-6",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV("div",{className:"flex justify-between text-sm",children:[t.jsxDEV("span",{className:"text-muted-foreground",children:"AI Confidence"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/FrameworkSelection.tsx",lineNumber:116,columnNumber:15},this),t.jsxDEV("span",{className:"font-medium","data-testid":"confidence-percent",children:[p,"%"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/FrameworkSelection.tsx",lineNumber:117,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/FrameworkSelection.tsx",lineNumber:115,columnNumber:13},this),t.jsxDEV(Ln,{value:p,className:"h-2","data-testid":"confidence-progress"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/FrameworkSelection.tsx",lineNumber:119,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/FrameworkSelection.tsx",lineNumber:114,columnNumber:11},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(t0,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/FrameworkSelection.tsx",lineNumber:129,columnNumber:15},this),t.jsxDEV("span",{className:"text-sm font-medium",children:"Why this framework?"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/FrameworkSelection.tsx",lineNumber:130,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/FrameworkSelection.tsx",lineNumber:128,columnNumber:13},this),t.jsxDEV(it,{children:[t.jsxDEV(yn,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/FrameworkSelection.tsx",lineNumber:133,columnNumber:15},this),t.jsxDEV(at,{"data-testid":"framework-reasoning",children:u},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/FrameworkSelection.tsx",lineNumber:134,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/FrameworkSelection.tsx",lineNumber:132,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/FrameworkSelection.tsx",lineNumber:127,columnNumber:11},this),t.jsxDEV("div",{className:"space-y-3",children:[t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(Xr,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/FrameworkSelection.tsx",lineNumber:143,columnNumber:15},this),t.jsxDEV("span",{className:"text-sm font-medium",children:"Detected Signals"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/FrameworkSelection.tsx",lineNumber:144,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/FrameworkSelection.tsx",lineNumber:142,columnNumber:13},this),t.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[c.bmcKeywords.length>0&&t.jsxDEV("div",{className:"space-y-1",children:[t.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Business Model Keywords"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/FrameworkSelection.tsx",lineNumber:149,columnNumber:19},this),t.jsxDEV("div",{className:"flex flex-wrap gap-1","data-testid":"bmc-keywords",children:[c.bmcKeywords.slice(0,5).map((D,E)=>t.jsxDEV(se,{variant:"outline",className:"text-xs",children:D},E,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/FrameworkSelection.tsx",lineNumber:152,columnNumber:23},this)),c.bmcKeywords.length>5&&t.jsxDEV(se,{variant:"outline",className:"text-xs",children:["+",c.bmcKeywords.length-5," more"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/FrameworkSelection.tsx",lineNumber:157,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/FrameworkSelection.tsx",lineNumber:150,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/FrameworkSelection.tsx",lineNumber:148,columnNumber:17},this),c.portersKeywords.length>0&&t.jsxDEV("div",{className:"space-y-1",children:[t.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Competitive Keywords"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/FrameworkSelection.tsx",lineNumber:166,columnNumber:19},this),t.jsxDEV("div",{className:"flex flex-wrap gap-1","data-testid":"porters-keywords",children:[c.portersKeywords.slice(0,5).map((D,E)=>t.jsxDEV(se,{variant:"outline",className:"text-xs",children:D},E,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/FrameworkSelection.tsx",lineNumber:169,columnNumber:23},this)),c.portersKeywords.length>5&&t.jsxDEV(se,{variant:"outline",className:"text-xs",children:["+",c.portersKeywords.length-5," more"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/FrameworkSelection.tsx",lineNumber:174,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/FrameworkSelection.tsx",lineNumber:167,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/FrameworkSelection.tsx",lineNumber:165,columnNumber:17},this),c.businessStage!=="unknown"&&t.jsxDEV("div",{className:"space-y-1",children:[t.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Business Stage"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/FrameworkSelection.tsx",lineNumber:183,columnNumber:19},this),t.jsxDEV(se,{variant:"secondary","data-testid":"business-stage",children:c.businessStage.replace(/_/g," ")},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/FrameworkSelection.tsx",lineNumber:184,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/FrameworkSelection.tsx",lineNumber:182,columnNumber:17},this),c.queryType!=="general"&&t.jsxDEV("div",{className:"space-y-1",children:[t.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Query Type"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/FrameworkSelection.tsx",lineNumber:191,columnNumber:19},this),t.jsxDEV(se,{variant:"secondary","data-testid":"query-type",children:c.queryType.replace(/_/g," ")},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/FrameworkSelection.tsx",lineNumber:192,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/FrameworkSelection.tsx",lineNumber:190,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/FrameworkSelection.tsx",lineNumber:146,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/FrameworkSelection.tsx",lineNumber:141,columnNumber:11},this),g&&N!=="high"&&t.jsxDEV(it,{variant:"default",className:"border-amber-200 dark:border-amber-800",children:[t.jsxDEV(Dt,{className:"h-4 w-4 text-amber-600 dark:text-amber-400"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/FrameworkSelection.tsx",lineNumber:203,columnNumber:15},this),t.jsxDEV(at,{children:[t.jsxDEV("span",{className:"font-medium",children:"Alternative framework available: "},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/FrameworkSelection.tsx",lineNumber:205,columnNumber:17},this),g.name," could also be relevant to your analysis."]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/FrameworkSelection.tsx",lineNumber:204,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/FrameworkSelection.tsx",lineNumber:202,columnNumber:13},this),t.jsxDEV("div",{className:"flex flex-col sm:flex-row gap-3 pt-4",children:[t.jsxDEV(me,{onClick:r,disabled:s,className:"flex-1","data-testid":"button-confirm-framework",children:[t.jsxDEV(tr,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/FrameworkSelection.tsx",lineNumber:219,columnNumber:15},this),"Continue with ",h.name]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/FrameworkSelection.tsx",lineNumber:213,columnNumber:13},this),g&&t.jsxDEV(me,{onClick:()=>n(d),variant:"outline",disabled:s,className:"flex-1","data-testid":"button-override-framework",children:[t.jsxDEV(cn,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/FrameworkSelection.tsx",lineNumber:230,columnNumber:17},this),"Use ",g.name," Instead"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/FrameworkSelection.tsx",lineNumber:223,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/FrameworkSelection.tsx",lineNumber:212,columnNumber:11},this),N==="low"&&t.jsxDEV("p",{className:"text-xs text-muted-foreground text-center",children:"Low confidence detected. You can manually choose the framework that best fits your needs."},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/FrameworkSelection.tsx",lineNumber:237,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/FrameworkSelection.tsx",lineNumber:112,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/FrameworkSelection.tsx",lineNumber:86,columnNumber:7},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/strategic-consultant/FrameworkSelection.tsx",lineNumber:85,columnNumber:5},this)}function rde(){const[,e]=or(),[r,n]=v.useState(""),[s]=v.useState(()=>`test-${Date.now()}`),[a,l]=v.useState(null),[c,u]=v.useState(null),[d,h]=v.useState(!1),[g,p]=v.useState(!1),[N,b]=v.useState(!1),[D,E]=v.useState(""),[j,P]=v.useState(0),[w,k]=v.useState(0),{toast:V}=ur(),S=async()=>{if(!r.trim()){V({title:"Input Required",description:"Please enter your strategic query first",variant:"destructive"});return}h(!0),u(null);try{const F=await(await Zt("POST","/api/strategic-consultant/select-framework",{input:r,sessionId:s})).json();l(F.selection),V({title:"Framework Selected",description:`Selected: ${F.selection.selectedFramework.replace("_"," ").toUpperCase()}`})}catch(A){V({title:"Selection Failed",description:A.message||"Failed to select framework",variant:"destructive"})}finally{h(!1)}},R=async()=>{var A;if(console.log("[BMC-FRONTEND] Button clicked!"),!a||a.selectedFramework!=="business_model_canvas"){console.log("[BMC-FRONTEND] Framework not BMC:",a),V({title:"BMC Not Selected",description:"Business Model Canvas must be selected first",variant:"destructive"});return}console.log("[BMC-FRONTEND] Starting research, making fetch request..."),p(!0),b(!1),E("Starting research..."),P(0),k(0);try{console.log("[BMC-FRONTEND] Fetching:","/api/strategic-consultant/bmc-research");const F=await fetch("/api/strategic-consultant/bmc-research",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({input:r,sessionId:s,versionNumber:1})});if(!F.ok)throw new Error("Failed to start BMC research");const L=(A=F.body)==null?void 0:A.getReader(),$=new TextDecoder;if(!L)throw new Error("No response body");let W="";for(;;){const{done:O,value:Y}=await L.read();if(O)break;W+=$.decode(Y,{stream:!0});const H=W.split(`
`);W=H.pop()||"";for(const q of H)if(q.startsWith("data: ")){let z;try{z=JSON.parse(q.slice(6)),console.log("[BMC-FRONTEND] Received SSE message:",z)}catch(G){console.error("[BMC-FRONTEND] Failed to parse SSE message:",q,G);continue}if(z.error)throw console.error("[BMC-FRONTEND] Error in SSE:",z.error),new Error(z.error);z.complete?(console.log("[BMC-FRONTEND] Research complete! Setting researchCompleted=true",z.result),u(z.result),E(" Research complete!"),b(!0),console.log("[BMC-FRONTEND] researchCompleted state should now be true"),V({title:"Research Complete",description:`Analyzed ${z.result.blocks.length} BMC blocks. Results saved to database.`})):z.message&&(console.log("[BMC-FRONTEND] Updating progress:",z.message),E(z.message),z.step!==void 0&&P(z.step),z.totalSteps!==void 0&&k(z.totalSteps))}}}catch(F){E(""),V({title:"Research Failed",description:F.message||"Failed to conduct BMC research",variant:"destructive"})}finally{p(!1)}},M=A=>{a&&(l({...a,selectedFramework:A}),V({title:"Framework Overridden",description:`Switched to ${A.replace("_"," ").toUpperCase()}`}))},T=()=>{V({title:"Framework Confirmed",description:`Using ${a==null?void 0:a.selectedFramework.replace("_"," ").toUpperCase()}`})};return t.jsxDEV("div",{className:"container mx-auto p-6 max-w-7xl",children:[t.jsxDEV("div",{className:"mb-8",children:[t.jsxDEV("h1",{className:"text-3xl font-bold mb-2",children:"BMC Test Page"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/BMCTestPage.tsx",lineNumber:194,columnNumber:9},this),t.jsxDEV("p",{className:"text-muted-foreground",children:"Test the Business Model Canvas framework selection and research pipeline"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/BMCTestPage.tsx",lineNumber:195,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/BMCTestPage.tsx",lineNumber:193,columnNumber:7},this),t.jsxDEV("div",{className:"grid gap-6",children:[t.jsxDEV(Z,{children:[t.jsxDEV(de,{children:[t.jsxDEV(pe,{children:"1. Enter Strategic Query"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/BMCTestPage.tsx",lineNumber:204,columnNumber:13},this),t.jsxDEV(He,{children:"Describe your strategic challenge or business question"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/BMCTestPage.tsx",lineNumber:205,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/BMCTestPage.tsx",lineNumber:203,columnNumber:11},this),t.jsxDEV(te,{className:"space-y-4",children:[t.jsxDEV(In,{"data-testid":"input-strategic-query",placeholder:"Paste your strategic query here...",value:r,onChange:A=>n(A.target.value),rows:6,className:"w-full"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/BMCTestPage.tsx",lineNumber:210,columnNumber:13},this),t.jsxDEV(me,{"data-testid":"button-select-framework",onClick:S,disabled:d||!r.trim()||!!a,className:"w-full",children:d?t.jsxDEV(t.Fragment,{children:[t.jsxDEV(lt,{className:"mr-2 h-4 w-4 animate-spin"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/BMCTestPage.tsx",lineNumber:227,columnNumber:19},this),"Analyzing Query..."]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/BMCTestPage.tsx",lineNumber:226,columnNumber:17},this):a?"Framework Selected ":"Select Framework"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/BMCTestPage.tsx",lineNumber:219,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/BMCTestPage.tsx",lineNumber:209,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/BMCTestPage.tsx",lineNumber:202,columnNumber:9},this),a&&t.jsxDEV(Z,{children:[t.jsxDEV(de,{children:[t.jsxDEV(pe,{children:"2. Framework Selection"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/BMCTestPage.tsx",lineNumber:243,columnNumber:15},this),t.jsxDEV(He,{children:"AI-powered routing between BMC and Porter's Five Forces"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/BMCTestPage.tsx",lineNumber:244,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/BMCTestPage.tsx",lineNumber:242,columnNumber:13},this),t.jsxDEV(te,{className:"space-y-4",children:[t.jsxDEV(tde,{selection:a,onConfirm:T,onOverride:M},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/BMCTestPage.tsx",lineNumber:249,columnNumber:15},this),a.selectedFramework==="business_model_canvas"&&t.jsxDEV("div",{className:"space-y-4",children:[t.jsxDEV(me,{"data-testid":"button-conduct-bmc-research",onClick:R,disabled:g,className:"w-full",size:"lg",children:g?t.jsxDEV(t.Fragment,{children:[t.jsxDEV(lt,{className:"mr-2 h-4 w-4 animate-spin"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/BMCTestPage.tsx",lineNumber:266,columnNumber:25},this),"Conducting BMC Research..."]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/BMCTestPage.tsx",lineNumber:265,columnNumber:23},this):"Next: Conduct BMC Research "},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/BMCTestPage.tsx",lineNumber:257,columnNumber:19},this),D&&t.jsxDEV("div",{className:"space-y-2 p-4 bg-blue-50 dark:bg-blue-950 border border-blue-200 dark:border-blue-800 rounded-lg",children:[t.jsxDEV("div",{className:"flex items-center gap-2",children:[g?t.jsxDEV(lt,{className:"h-4 w-4 animate-spin text-blue-600 dark:text-blue-400"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/BMCTestPage.tsx",lineNumber:278,columnNumber:27},this):t.jsxDEV("span",{className:"text-lg",children:""},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/BMCTestPage.tsx",lineNumber:280,columnNumber:27},this),t.jsxDEV("p",{className:"text-sm font-medium text-blue-900 dark:text-blue-100",children:D},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/BMCTestPage.tsx",lineNumber:282,columnNumber:25},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/BMCTestPage.tsx",lineNumber:276,columnNumber:23},this),g&&w>0&&t.jsxDEV("div",{className:"space-y-1",children:[t.jsxDEV("div",{className:"flex justify-between text-xs text-blue-700 dark:text-blue-300",children:[t.jsxDEV("span",{children:["Step ",j," of ",w]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/BMCTestPage.tsx",lineNumber:289,columnNumber:29},this),t.jsxDEV("span",{children:[Math.round(j/w*100),"%"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/BMCTestPage.tsx",lineNumber:290,columnNumber:29},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/BMCTestPage.tsx",lineNumber:288,columnNumber:27},this),t.jsxDEV(Ln,{value:j/w*100,className:"h-2"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/BMCTestPage.tsx",lineNumber:292,columnNumber:27},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/BMCTestPage.tsx",lineNumber:287,columnNumber:25},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/BMCTestPage.tsx",lineNumber:275,columnNumber:21},this),N&&t.jsxDEV(me,{"data-testid":"button-view-results",onClick:()=>{console.log("[BMC-FRONTEND] Navigating to results page:",`/bmc/results/${s}/1`),e(`/bmc/results/${s}/1`)},className:"w-full gap-2",variant:"outline",children:[t.jsxDEV(Vi,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/BMCTestPage.tsx",lineNumber:311,columnNumber:23},this),"View Saved Results & Download"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/BMCTestPage.tsx",lineNumber:302,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/BMCTestPage.tsx",lineNumber:256,columnNumber:17},this),a.selectedFramework==="porters_five_forces"&&t.jsxDEV("div",{className:"p-4 bg-amber-50 dark:bg-amber-950 border border-amber-200 dark:border-amber-800 rounded-lg",children:t.jsxDEV("p",{className:"text-sm text-amber-800 dark:text-amber-200",children:"Porter's Five Forces was selected. Use the override button above to switch to Business Model Canvas if needed."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/BMCTestPage.tsx",lineNumber:320,columnNumber:19},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/BMCTestPage.tsx",lineNumber:319,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/BMCTestPage.tsx",lineNumber:248,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/BMCTestPage.tsx",lineNumber:241,columnNumber:11},this),c&&t.jsxDEV(Z,{children:[t.jsxDEV(de,{children:[t.jsxDEV(pe,{children:"3. Business Model Canvas Analysis"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/BMCTestPage.tsx",lineNumber:333,columnNumber:15},this),t.jsxDEV(He,{children:"3-block analysis: Customer Segments, Value Propositions, Revenue Streams"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/BMCTestPage.tsx",lineNumber:334,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/BMCTestPage.tsx",lineNumber:332,columnNumber:13},this),t.jsxDEV(te,{children:t.jsxDEV(rO,{analysis:c},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/BMCTestPage.tsx",lineNumber:339,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/BMCTestPage.tsx",lineNumber:338,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/BMCTestPage.tsx",lineNumber:331,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/BMCTestPage.tsx",lineNumber:200,columnNumber:7},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/BMCTestPage.tsx",lineNumber:192,columnNumber:5},this)}function nde(){var g;const[,e]=Xn("/bmc/results/:sessionId/:versionNumber"),{toast:r}=ur(),n=(e==null?void 0:e.sessionId)||"",s=e!=null&&e.versionNumber?parseInt(e.versionNumber):1,{data:a,isLoading:l,error:c}=yt({queryKey:["/api/strategic-consultant/versions",n,s],enabled:!!n}),u=a==null?void 0:a.version,d=(g=u==null?void 0:u.analysis)==null?void 0:g.bmc_research,h=()=>{if(!d)return;const p=JSON.stringify(d,null,2),N=new Blob([p],{type:"application/json"}),b=URL.createObjectURL(N),D=document.createElement("a");D.href=b,D.download=`bmc-analysis-${n}-v${s}.json`,document.body.appendChild(D),D.click(),document.body.removeChild(D),URL.revokeObjectURL(b),r({title:"Downloaded",description:"BMC analysis exported as JSON"})};return l?t.jsxDEV("div",{className:"min-h-screen bg-background flex items-center justify-center",children:t.jsxDEV("div",{className:"text-center space-y-4",children:[t.jsxDEV(lt,{className:"h-8 w-8 animate-spin mx-auto text-primary"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/BMCResultsPage.tsx",lineNumber:84,columnNumber:11},this),t.jsxDEV("p",{className:"text-muted-foreground",children:"Loading BMC analysis..."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/BMCResultsPage.tsx",lineNumber:85,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/BMCResultsPage.tsx",lineNumber:83,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/BMCResultsPage.tsx",lineNumber:82,columnNumber:7},this):c||!a?t.jsxDEV("div",{className:"min-h-screen bg-background flex items-center justify-center p-8",children:t.jsxDEV(it,{variant:"destructive",className:"max-w-md",children:[t.jsxDEV(Dt,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/BMCResultsPage.tsx",lineNumber:95,columnNumber:11},this),t.jsxDEV(er,{children:"Error Loading Results"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/BMCResultsPage.tsx",lineNumber:96,columnNumber:11},this),t.jsxDEV(at,{children:c instanceof Error?c.message:"Failed to load BMC analysis"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/BMCResultsPage.tsx",lineNumber:97,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/BMCResultsPage.tsx",lineNumber:94,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/BMCResultsPage.tsx",lineNumber:93,columnNumber:7},this):d?t.jsxDEV("div",{className:"min-h-screen bg-background",children:t.jsxDEV("div",{className:"container mx-auto py-8 px-4",children:[t.jsxDEV("div",{className:"mb-8",children:[t.jsxDEV("div",{className:"flex items-center justify-between mb-4",children:[t.jsxDEV("div",{children:[t.jsxDEV("h1",{className:"text-2xl md:text-3xl font-bold","data-testid":"text-page-title",children:"Business Model Canvas Analysis"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/BMCResultsPage.tsx",lineNumber:126,columnNumber:15},this),t.jsxDEV("p",{className:"text-muted-foreground",children:["Session: ",n,"  Version ",s]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/BMCResultsPage.tsx",lineNumber:129,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/BMCResultsPage.tsx",lineNumber:125,columnNumber:13},this),t.jsxDEV(me,{onClick:h,"data-testid":"button-download-json",className:"gap-2",children:[t.jsxDEV(yh,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/BMCResultsPage.tsx",lineNumber:138,columnNumber:15},this),"Download JSON"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/BMCResultsPage.tsx",lineNumber:133,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/BMCResultsPage.tsx",lineNumber:124,columnNumber:11},this),t.jsxDEV(Z,{children:[t.jsxDEV(de,{children:t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV(pe,{children:"Overall Assessment"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/BMCResultsPage.tsx",lineNumber:147,columnNumber:17},this),t.jsxDEV(se,{variant:d.overallConfidence>.7?"default":"secondary",children:[Math.round(d.overallConfidence*100),"% Confidence"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/BMCResultsPage.tsx",lineNumber:148,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/BMCResultsPage.tsx",lineNumber:146,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/BMCResultsPage.tsx",lineNumber:145,columnNumber:13},this),t.jsxDEV(te,{className:"space-y-4",children:[t.jsxDEV("div",{children:[t.jsxDEV("h3",{className:"font-semibold mb-2",children:"Viability"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/BMCResultsPage.tsx",lineNumber:155,columnNumber:17},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:d.viability},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/BMCResultsPage.tsx",lineNumber:156,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/BMCResultsPage.tsx",lineNumber:154,columnNumber:15},this),d.contradictions&&d.contradictions.length>0&&t.jsxDEV(it,{variant:"destructive",children:[t.jsxDEV(qr,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/BMCResultsPage.tsx",lineNumber:161,columnNumber:19},this),t.jsxDEV(er,{children:"Contradictions Detected"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/BMCResultsPage.tsx",lineNumber:162,columnNumber:19},this),t.jsxDEV(at,{children:[d.contradictions.length," contradiction(s) found between assumptions and research"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/BMCResultsPage.tsx",lineNumber:163,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/BMCResultsPage.tsx",lineNumber:160,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/BMCResultsPage.tsx",lineNumber:153,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/BMCResultsPage.tsx",lineNumber:144,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/BMCResultsPage.tsx",lineNumber:123,columnNumber:9},this),d.keyInsights&&d.keyInsights.length>0&&t.jsxDEV(Z,{className:"mb-6",children:[t.jsxDEV(de,{children:t.jsxDEV(pe,{children:"Key Insights"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/BMCResultsPage.tsx",lineNumber:176,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/BMCResultsPage.tsx",lineNumber:175,columnNumber:13},this),t.jsxDEV(te,{children:t.jsxDEV("ul",{className:"list-disc list-inside space-y-2",children:d.keyInsights.map((p,N)=>t.jsxDEV("li",{className:"text-sm",children:p},N,!1,{fileName:"/home/runner/workspace/client/src/pages/BMCResultsPage.tsx",lineNumber:181,columnNumber:19},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/BMCResultsPage.tsx",lineNumber:179,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/BMCResultsPage.tsx",lineNumber:178,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/BMCResultsPage.tsx",lineNumber:174,columnNumber:11},this),d.recommendations&&d.recommendations.length>0&&t.jsxDEV(Z,{className:"mb-6",children:[t.jsxDEV(de,{children:t.jsxDEV(pe,{children:"Strategic Recommendations"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/BMCResultsPage.tsx",lineNumber:192,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/BMCResultsPage.tsx",lineNumber:191,columnNumber:13},this),t.jsxDEV(te,{children:t.jsxDEV("ul",{className:"list-disc list-inside space-y-2",children:d.recommendations.map((p,N)=>t.jsxDEV("li",{className:"text-sm",children:p},N,!1,{fileName:"/home/runner/workspace/client/src/pages/BMCResultsPage.tsx",lineNumber:197,columnNumber:19},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/BMCResultsPage.tsx",lineNumber:195,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/BMCResultsPage.tsx",lineNumber:194,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/BMCResultsPage.tsx",lineNumber:190,columnNumber:11},this),t.jsxDEV("div",{className:"space-y-6",children:[t.jsxDEV("h2",{className:"text-xl md:text-2xl font-bold",children:"Canvas Components"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/BMCResultsPage.tsx",lineNumber:206,columnNumber:11},this),t.jsxDEV("div",{className:"grid gap-6 md:grid-cols-2",children:d.blocks.map((p,N)=>t.jsxDEV(Z,{"data-testid":`card-bmc-block-${N}`,children:[t.jsxDEV(de,{children:[t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV(pe,{className:"text-lg",children:p.blockName},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/BMCResultsPage.tsx",lineNumber:213,columnNumber:21},this),t.jsxDEV(se,{variant:"outline",children:[Math.round(p.confidence*100),"%"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/BMCResultsPage.tsx",lineNumber:214,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/BMCResultsPage.tsx",lineNumber:212,columnNumber:19},this),t.jsxDEV(He,{className:"mt-2",children:p.description},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/BMCResultsPage.tsx",lineNumber:218,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/BMCResultsPage.tsx",lineNumber:211,columnNumber:17},this),t.jsxDEV(te,{className:"space-y-4",children:[p.keyFindings&&p.keyFindings.length>0&&t.jsxDEV("div",{children:[t.jsxDEV("h4",{className:"font-semibold text-sm mb-2",children:"Key Findings"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/BMCResultsPage.tsx",lineNumber:223,columnNumber:23},this),t.jsxDEV("ul",{className:"list-disc list-inside space-y-1",children:p.keyFindings.map((b,D)=>t.jsxDEV("li",{className:"text-sm text-muted-foreground",children:b},D,!1,{fileName:"/home/runner/workspace/client/src/pages/BMCResultsPage.tsx",lineNumber:226,columnNumber:27},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/BMCResultsPage.tsx",lineNumber:224,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/BMCResultsPage.tsx",lineNumber:222,columnNumber:21},this),p.strategicImplications&&p.strategicImplications.length>0&&t.jsxDEV("div",{children:[t.jsxDEV("h4",{className:"font-semibold text-sm mb-2",children:"Strategic Implications"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/BMCResultsPage.tsx",lineNumber:234,columnNumber:23},this),t.jsxDEV("ul",{className:"list-disc list-inside space-y-1",children:p.strategicImplications.map((b,D)=>t.jsxDEV("li",{className:"text-sm text-muted-foreground",children:b},D,!1,{fileName:"/home/runner/workspace/client/src/pages/BMCResultsPage.tsx",lineNumber:237,columnNumber:27},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/BMCResultsPage.tsx",lineNumber:235,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/BMCResultsPage.tsx",lineNumber:233,columnNumber:21},this),p.identifiedGaps&&p.identifiedGaps.length>0&&t.jsxDEV("div",{children:[t.jsxDEV("h4",{className:"font-semibold text-sm mb-2 text-amber-600",children:"Identified Gaps"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/BMCResultsPage.tsx",lineNumber:245,columnNumber:23},this),t.jsxDEV("ul",{className:"list-disc list-inside space-y-1",children:p.identifiedGaps.map((b,D)=>t.jsxDEV("li",{className:"text-sm text-amber-600",children:b},D,!1,{fileName:"/home/runner/workspace/client/src/pages/BMCResultsPage.tsx",lineNumber:248,columnNumber:27},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/BMCResultsPage.tsx",lineNumber:246,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/BMCResultsPage.tsx",lineNumber:244,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/BMCResultsPage.tsx",lineNumber:220,columnNumber:17},this)]},N,!0,{fileName:"/home/runner/workspace/client/src/pages/BMCResultsPage.tsx",lineNumber:210,columnNumber:15},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/BMCResultsPage.tsx",lineNumber:208,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/BMCResultsPage.tsx",lineNumber:205,columnNumber:9},this),d.criticalGaps&&d.criticalGaps.length>0&&t.jsxDEV(Z,{className:"mt-6",children:[t.jsxDEV(de,{children:t.jsxDEV(pe,{className:"text-amber-600",children:"Critical Gaps to Address"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/BMCResultsPage.tsx",lineNumber:263,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/BMCResultsPage.tsx",lineNumber:262,columnNumber:13},this),t.jsxDEV(te,{children:t.jsxDEV("ul",{className:"list-disc list-inside space-y-2",children:d.criticalGaps.map((p,N)=>t.jsxDEV("li",{className:"text-sm text-amber-600",children:p},N,!1,{fileName:"/home/runner/workspace/client/src/pages/BMCResultsPage.tsx",lineNumber:268,columnNumber:19},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/BMCResultsPage.tsx",lineNumber:266,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/BMCResultsPage.tsx",lineNumber:265,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/BMCResultsPage.tsx",lineNumber:261,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/BMCResultsPage.tsx",lineNumber:121,columnNumber:7},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/BMCResultsPage.tsx",lineNumber:120,columnNumber:5},this):t.jsxDEV("div",{className:"min-h-screen bg-background flex items-center justify-center p-8",children:t.jsxDEV(it,{className:"max-w-md",children:[t.jsxDEV(Dt,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/BMCResultsPage.tsx",lineNumber:109,columnNumber:11},this),t.jsxDEV(er,{children:"No BMC Analysis Found"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/BMCResultsPage.tsx",lineNumber:110,columnNumber:11},this),t.jsxDEV(at,{children:"This version does not contain BMC research results yet."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/BMCResultsPage.tsx",lineNumber:111,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/BMCResultsPage.tsx",lineNumber:108,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/BMCResultsPage.tsx",lineNumber:107,columnNumber:7},this)}function Nj({sessionId:e,versionNumber:r,programId:n,variant:s="outline",size:a="sm",className:l}){const[c,u]=v.useState(!1),{toast:d}=ur(),h=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),g=async()=>{u(!0);try{const p=new URLSearchParams;e&&p.append("sessionId",e),r!==void 0&&p.append("versionNumber",r.toString()),n&&p.append("programId",n);const N=`/api/exports/full-pass?${p.toString()}`;if(h){console.log("[Export] Mobile detected - opening download URL directly"),window.location.href=N,d({title:"Export started",description:"Your download will begin shortly"}),u(!1);return}console.log("[Export] Desktop - using blob download");const b=await fetch(N,{method:"GET",credentials:"include"});if(console.log("[Export] Response status:",b.status),!b.ok){const k=await b.json().catch(()=>({error:"Export failed"}));throw new Error(k.error||`Export failed with status ${b.status}`)}const D=await b.blob();if(console.log("[Export] Blob size:",D.size,"bytes"),D.size===0)throw new Error("Export file is empty");const E=URL.createObjectURL(D),j=document.createElement("a");j.href=E;const P=b.headers.get("content-disposition");let w="qgentic-export.zip";if(P){const k=P.match(/filename="(.+)"/);k&&(w=k[1])}console.log("[Export] Triggering download for:",w),j.download=w,document.body.appendChild(j),j.click(),document.body.removeChild(j),URL.revokeObjectURL(E),d({title:"Export successful",description:"Your full report has been downloaded"})}catch(p){console.error("[Export] Error downloading report:",p),d({title:"Export failed",description:p instanceof Error?p.message:"Failed to download export",variant:"destructive"})}finally{u(!1)}};return t.jsxDEV(me,{variant:s,size:a,onClick:g,disabled:c,className:l,"data-testid":`button-export-${e}`,title:a==="icon"?c?"Exporting...":"Export Report":void 0,children:[t.jsxDEV(yh,{className:a==="icon"?"h-4 w-4":"h-4 w-4 mr-2"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/ExportFullReportButton.tsx",lineNumber:136,columnNumber:7},this),a!=="icon"&&(c?"Exporting...":"Export Report")]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/ExportFullReportButton.tsx",lineNumber:127,columnNumber:5},this)}function sde(){const[,e]=or(),{toast:r}=ur(),[n,s]=v.useState(!1),[a,l]=v.useState(!1),[c,u]=v.useState(null),[d,h]=v.useState(new Set),[g,p]=v.useState(!1),{data:N,isLoading:b,error:D}=yt({queryKey:["/api/repository/statements"]}),E=()=>{N&&(d.size===N.length?h(new Set):h(new Set(N.map(F=>F.understandingId))))},j=F=>{const L=new Set(d);L.has(F)?L.delete(F):L.add(F),h(L)},P=async(F,L)=>{F.stopPropagation();try{await Zt("POST","/api/repository/batch-archive",{ids:[L],archive:!0}),r({title:"Statement archived",description:"The statement has been archived successfully"}),await vr.invalidateQueries({queryKey:["/api/repository/statements"]})}catch($){console.error("Error archiving statement:",$),r({title:"Failed to archive",description:$ instanceof Error?$.message:"Could not archive statement",variant:"destructive"})}},w=async()=>{if(d.size!==0){p(!0);try{await Zt("POST","/api/repository/batch-delete",{ids:Array.from(d)}),r({title:"Statements deleted",description:`${d.size} statement(s) deleted successfully`}),h(new Set),await vr.invalidateQueries({queryKey:["/api/repository/statements"]}),await vr.invalidateQueries({queryKey:["/api/dashboard-summary"]})}catch(F){console.error("Error batch deleting:",F),r({title:"Failed to delete",description:F instanceof Error?F.message:"Could not delete statements",variant:"destructive"})}finally{p(!1)}}},k=async()=>{if(d.size!==0){p(!0);try{await Zt("POST","/api/repository/batch-archive",{ids:Array.from(d),archive:!0}),r({title:"Statements archived",description:`${d.size} statement(s) archived successfully`}),h(new Set),await vr.invalidateQueries({queryKey:["/api/repository/statements"]}),await vr.invalidateQueries({queryKey:["/api/dashboard-summary"]})}catch(F){console.error("Error batch archiving:",F),r({title:"Failed to archive",description:F instanceof Error?F.message:"Could not archive statements",variant:"destructive"})}finally{p(!1)}}},V=async()=>{if(d.size!==0){p(!0);try{const F=await Zt("POST","/api/repository/batch-export",{ids:Array.from(d)}),L=JSON.stringify(F,null,2),$=new Blob([L],{type:"application/json"}),W=URL.createObjectURL($),O=document.createElement("a");O.href=W,O.download=`analyses-export-${new Date().toISOString().split("T")[0]}.json`,O.click(),URL.revokeObjectURL(W),r({title:"Export successful",description:`${d.size} statement(s) exported successfully`})}catch(F){console.error("Error batch exporting:",F),r({title:"Failed to export",description:F instanceof Error?F.message:"Could not export statements",variant:"destructive"})}finally{p(!1)}}},S=(F,L)=>{F.stopPropagation(),u(L),s(!0)},R=async()=>{if(c){l(!0);try{await Zt("POST","/api/repository/batch-delete",{ids:[c]}),r({title:"Analysis deleted",description:"The analysis and all related artifacts have been permanently deleted"}),await vr.invalidateQueries({queryKey:["/api/repository/statements"]}),await vr.invalidateQueries({queryKey:["/api/dashboard-summary"]})}catch(F){console.error("Error deleting statement:",F),r({title:"Failed to delete",description:F instanceof Error?F.message:"Could not delete analysis",variant:"destructive"})}finally{l(!1),s(!1),u(null)}}},M=async()=>{if(c)try{await Zt("POST","/api/repository/batch-archive",{ids:[c],archive:!0}),r({title:"Analysis archived",description:"The analysis and all related artifacts have been archived"}),await vr.invalidateQueries({queryKey:["/api/repository/statements"]}),await vr.invalidateQueries({queryKey:["/api/dashboard-summary"]})}catch(F){console.error("Error archiving statement:",F),r({title:"Failed to archive",description:F instanceof Error?F.message:"Could not archive analysis",variant:"destructive"})}},T=F=>({PESTLE:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",BMC:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200","Five Whys":"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200","Porter's":"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200"})[F]||"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-200",A=F=>F==="PESTLE"?"":F==="BMC"?"":F==="Five Whys"?"":F==="Porter's"?"":"";return t.jsxDEV(st,{title:"Analysis Repository",subtitle:"Browse all strategic analyses and statements",children:t.jsxDEV("div",{className:"max-w-7xl mx-auto p-6 space-y-6",children:[t.jsxDEV("div",{className:"flex flex-col gap-4",children:[t.jsxDEV("div",{className:"flex items-center justify-between",children:t.jsxDEV("div",{children:[t.jsxDEV("h1",{className:"text-2xl md:text-3xl font-bold text-foreground flex items-center gap-3","data-testid":"page-title",children:[t.jsxDEV(mo,{className:"h-8 w-8 text-primary"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/RepositoryBrowser.tsx",lineNumber:264,columnNumber:17},this),"Analysis Repository"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/RepositoryBrowser.tsx",lineNumber:263,columnNumber:15},this),t.jsxDEV("p",{className:"text-muted-foreground mt-2",children:[(N==null?void 0:N.length)||0," strategic statements with analyses"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/RepositoryBrowser.tsx",lineNumber:267,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/RepositoryBrowser.tsx",lineNumber:262,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/RepositoryBrowser.tsx",lineNumber:261,columnNumber:11},this),N&&N.length>0&&t.jsxDEV("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center p-4 bg-muted/50 rounded-lg",children:[t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(Aa,{checked:N.length>0&&d.size===N.length,onCheckedChange:E,"data-testid":"checkbox-select-all"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/RepositoryBrowser.tsx",lineNumber:277,columnNumber:17},this),t.jsxDEV("span",{className:"text-sm font-medium",children:d.size>0?`${d.size} selected`:"Select all"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/RepositoryBrowser.tsx",lineNumber:282,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/RepositoryBrowser.tsx",lineNumber:276,columnNumber:15},this),d.size>0&&t.jsxDEV("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 sm:ml-auto w-full sm:w-auto",children:[t.jsxDEV(me,{size:"sm",variant:"outline",onClick:V,disabled:g,"data-testid":"button-batch-export",children:[t.jsxDEV(yh,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/RepositoryBrowser.tsx",lineNumber:296,columnNumber:21},this),"Export (",d.size,")"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/RepositoryBrowser.tsx",lineNumber:289,columnNumber:19},this),t.jsxDEV(me,{size:"sm",variant:"outline",onClick:k,disabled:g,"data-testid":"button-batch-archive",children:[t.jsxDEV(mo,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/RepositoryBrowser.tsx",lineNumber:306,columnNumber:21},this),"Archive (",d.size,")"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/RepositoryBrowser.tsx",lineNumber:299,columnNumber:19},this),t.jsxDEV(me,{size:"sm",variant:"destructive",onClick:w,disabled:g,"data-testid":"button-batch-delete",children:[t.jsxDEV(vo,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/RepositoryBrowser.tsx",lineNumber:316,columnNumber:21},this),"Delete (",d.size,")"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/RepositoryBrowser.tsx",lineNumber:309,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/RepositoryBrowser.tsx",lineNumber:288,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/RepositoryBrowser.tsx",lineNumber:275,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/RepositoryBrowser.tsx",lineNumber:260,columnNumber:9},this),D?t.jsxDEV(Z,{className:"p-12 text-center border-destructive",children:t.jsxDEV("div",{className:"flex flex-col items-center gap-4",children:[t.jsxDEV(qr,{className:"h-16 w-16 text-destructive"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/RepositoryBrowser.tsx",lineNumber:328,columnNumber:15},this),t.jsxDEV("div",{children:[t.jsxDEV("h3",{className:"text-xl font-semibold text-foreground",children:"Failed to load analyses"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/RepositoryBrowser.tsx",lineNumber:330,columnNumber:17},this),t.jsxDEV("p",{className:"text-muted-foreground mt-2",children:D instanceof Error?D.message:"An unexpected error occurred"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/RepositoryBrowser.tsx",lineNumber:331,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/RepositoryBrowser.tsx",lineNumber:329,columnNumber:15},this),t.jsxDEV(me,{onClick:()=>window.location.reload(),className:"mt-4","data-testid":"button-retry",children:"Retry"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/RepositoryBrowser.tsx",lineNumber:335,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/RepositoryBrowser.tsx",lineNumber:327,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/RepositoryBrowser.tsx",lineNumber:326,columnNumber:11},this):b?t.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(F=>t.jsxDEV(Z,{className:"hover:shadow-lg transition-shadow",children:[t.jsxDEV(de,{children:[t.jsxDEV(Jt,{className:"h-6 w-3/4 mb-2"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/RepositoryBrowser.tsx",lineNumber:349,columnNumber:19},this),t.jsxDEV(Jt,{className:"h-4 w-1/2"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/RepositoryBrowser.tsx",lineNumber:350,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/RepositoryBrowser.tsx",lineNumber:348,columnNumber:17},this),t.jsxDEV(te,{children:t.jsxDEV(Jt,{className:"h-20 w-full"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/RepositoryBrowser.tsx",lineNumber:353,columnNumber:19},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/RepositoryBrowser.tsx",lineNumber:352,columnNumber:17},this)]},F,!0,{fileName:"/home/runner/workspace/client/src/pages/RepositoryBrowser.tsx",lineNumber:347,columnNumber:15},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/RepositoryBrowser.tsx",lineNumber:345,columnNumber:11},this):N&&N.length>0?t.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:N.map(F=>t.jsxDEV(Z,{className:"hover:shadow-lg transition-shadow border-2 hover:border-primary/50","data-testid":`statement-card-${F.understandingId}`,children:[t.jsxDEV(de,{children:t.jsxDEV("div",{className:"flex items-start gap-3",children:[t.jsxDEV(Aa,{checked:d.has(F.understandingId),onCheckedChange:()=>j(F.understandingId),onClick:L=>L.stopPropagation(),"data-testid":`checkbox-${F.understandingId}`,className:"mt-1"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/RepositoryBrowser.tsx",lineNumber:368,columnNumber:21},this),t.jsxDEV("div",{className:"flex-1 min-w-0 cursor-pointer",onClick:()=>e(`/repository/${F.understandingId}`),children:[t.jsxDEV(pe,{className:"text-lg","data-testid":`statement-title-${F.understandingId}`,children:F.title||F.statement},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/RepositoryBrowser.tsx",lineNumber:379,columnNumber:23},this),t.jsxDEV(He,{className:"flex items-center gap-2 mt-2",children:[t.jsxDEV(ys,{className:"h-3 w-3"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/RepositoryBrowser.tsx",lineNumber:383,columnNumber:25},this),Si(new Date(F.createdAt),{addSuffix:!0})]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/RepositoryBrowser.tsx",lineNumber:382,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/RepositoryBrowser.tsx",lineNumber:375,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/RepositoryBrowser.tsx",lineNumber:367,columnNumber:19},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/RepositoryBrowser.tsx",lineNumber:366,columnNumber:17},this),t.jsxDEV(te,{className:"space-y-4",children:[F.totalAnalyses>0?t.jsxDEV("div",{className:"flex flex-wrap gap-2",children:Object.entries(F.analyses).map(([L,$])=>t.jsxDEV(se,{variant:"secondary",className:T(L),"data-testid":`badge-${L}-${F.understandingId}`,children:[t.jsxDEV("span",{className:"mr-1",children:A(L)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/RepositoryBrowser.tsx",lineNumber:400,columnNumber:27},this),L," ",$.count>1?`(${$.count})`:""]},L,!0,{fileName:"/home/runner/workspace/client/src/pages/RepositoryBrowser.tsx",lineNumber:394,columnNumber:25},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/RepositoryBrowser.tsx",lineNumber:392,columnNumber:21},this):t.jsxDEV("div",{className:"text-sm text-muted-foreground italic",children:"No analyses yet"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/RepositoryBrowser.tsx",lineNumber:406,columnNumber:21},this),t.jsxDEV("div",{className:"flex items-center justify-center gap-1 pt-2 border-t",children:[t.jsxDEV(me,{size:"icon",variant:"ghost",className:"text-primary hover:text-primary",onClick:L=>{L.stopPropagation(),e(`/repository/${F.understandingId}`)},"data-testid":`button-view-${F.understandingId}`,title:"View Details",children:t.jsxDEV(s0,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/RepositoryBrowser.tsx",lineNumber:424,columnNumber:23},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/RepositoryBrowser.tsx",lineNumber:413,columnNumber:21},this),t.jsxDEV(Nj,{sessionId:F.sessionId,variant:"ghost",size:"icon"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/RepositoryBrowser.tsx",lineNumber:426,columnNumber:21},this),t.jsxDEV(me,{size:"icon",variant:"ghost",onClick:L=>P(L,F.understandingId),"data-testid":`button-archive-${F.understandingId}`,title:"Archive statement",children:t.jsxDEV(mo,{className:"h-4 w-4 text-muted-foreground hover:text-foreground"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/RepositoryBrowser.tsx",lineNumber:438,columnNumber:23},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/RepositoryBrowser.tsx",lineNumber:431,columnNumber:21},this),t.jsxDEV(me,{size:"icon",variant:"ghost",onClick:L=>S(L,F.understandingId),"data-testid":`button-delete-${F.understandingId}`,title:"Delete statement",children:t.jsxDEV(vo,{className:"h-4 w-4 text-destructive hover:text-destructive/80"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/RepositoryBrowser.tsx",lineNumber:447,columnNumber:23},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/RepositoryBrowser.tsx",lineNumber:440,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/RepositoryBrowser.tsx",lineNumber:412,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/RepositoryBrowser.tsx",lineNumber:389,columnNumber:17},this)]},F.understandingId,!0,{fileName:"/home/runner/workspace/client/src/pages/RepositoryBrowser.tsx",lineNumber:361,columnNumber:15},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/RepositoryBrowser.tsx",lineNumber:359,columnNumber:11},this):t.jsxDEV(Z,{className:"p-12 text-center",children:t.jsxDEV("div",{className:"flex flex-col items-center gap-4",children:[t.jsxDEV(Es,{className:"h-16 w-16 text-muted-foreground"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/RepositoryBrowser.tsx",lineNumber:457,columnNumber:15},this),t.jsxDEV("div",{children:[t.jsxDEV("h3",{className:"text-xl font-semibold text-foreground",children:"No analyses yet"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/RepositoryBrowser.tsx",lineNumber:459,columnNumber:17},this),t.jsxDEV("p",{className:"text-muted-foreground mt-2",children:"Start by creating your first strategic analysis"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/RepositoryBrowser.tsx",lineNumber:460,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/RepositoryBrowser.tsx",lineNumber:458,columnNumber:15},this),t.jsxDEV(me,{onClick:()=>e("/strategic-consultant/input"),className:"mt-4","data-testid":"button-create-first",children:"Create Analysis"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/RepositoryBrowser.tsx",lineNumber:464,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/RepositoryBrowser.tsx",lineNumber:456,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/RepositoryBrowser.tsx",lineNumber:455,columnNumber:11},this),c&&t.jsxDEV(KV,{open:n,onOpenChange:s,onDelete:R,onArchive:M,understandingId:c,isDeleting:a},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/RepositoryBrowser.tsx",lineNumber:477,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/RepositoryBrowser.tsx",lineNumber:259,columnNumber:7},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/RepositoryBrowser.tsx",lineNumber:255,columnNumber:5},this)}function ide(){var T;const[,e]=or(),[r,n]=Xn("/repository/:understandingId"),s=n==null?void 0:n.understandingId,{toast:a}=ur(),[l,c]=v.useState(!1),[u,d]=v.useState(!1),[h,g]=v.useState(null),[p,N]=v.useState(""),{data:b,isLoading:D,error:E}=yt({queryKey:[`/api/repository/statements/${s}`],enabled:!!s}),j=A=>({PESTLE:"text-blue-600 dark:text-blue-400",BMC:"text-green-600 dark:text-green-400","Business Model Canvas":"text-green-600 dark:text-green-400","Five Whys":"text-purple-600 dark:text-purple-400","Porter's":"text-orange-600 dark:text-orange-400","Porter's Five Forces":"text-orange-600 dark:text-orange-400",SWOT:"text-teal-600 dark:text-teal-400","Ansoff Matrix":"text-indigo-600 dark:text-indigo-400","Blue Ocean":"text-cyan-600 dark:text-cyan-400","Ocean Strategy":"text-cyan-600 dark:text-cyan-400",VRIO:"text-amber-600 dark:text-amber-400","BCG Matrix":"text-rose-600 dark:text-rose-400","Value Chain":"text-emerald-600 dark:text-emerald-400","Jobs to Be Done":"text-violet-600 dark:text-violet-400","Competitive Positioning":"text-red-600 dark:text-red-400","Scenario Planning":"text-sky-600 dark:text-sky-400",OKR:"text-lime-600 dark:text-lime-400","Strategic Decisions":"text-fuchsia-600 dark:text-fuchsia-400"})[A]||"text-gray-600 dark:text-gray-400",P=A=>A==="PESTLE"?"":A==="BMC"||A==="Business Model Canvas"?"":A==="Five Whys"?"":A==="Porter's"||A==="Porter's Five Forces"?"":A==="SWOT"?"":A==="Ansoff Matrix"?"":A==="Blue Ocean"||A==="Ocean Strategy"?"":A==="VRIO"?"":A==="BCG Matrix"?"":A==="Value Chain"?"":A==="Jobs to Be Done"?"":A==="Competitive Positioning"?"":A==="Scenario Planning"?"":A==="OKR"?"":A==="Strategic Decisions"?"":"",w=(A,F,L)=>{const $=L||1;A==="PESTLE"?e(`/strategic-consultant/pestle-results/${F}/${$}?viewOnly=true`):A==="Business Model Canvas"?e(`/strategic-consultant/results/${F}/${$}?viewOnly=true`):A==="Five Whys"?e(`/strategic-consultant/results/${F}/${$}?viewOnly=true`):A==="Porter's Five Forces"?e(`/strategic-consultant/porters-results/${F}/${$}?viewOnly=true`):A==="SWOT"?e(`/strategic-consultant/swot-results/${F}/${$}?viewOnly=true`):A==="Strategic Decisions"&&e(`/strategy-workspace/decisions/${F}/${$}?viewOnly=true`)},k=(A,F)=>{g(A),N(F),c(!0)},V=async()=>{if(h){d(!0);try{await Zt("DELETE",`/api/repository/analyses/${h}`),a({title:"Analysis deleted",description:`Your ${p} analysis has been permanently deleted`}),await vr.invalidateQueries({queryKey:[`/api/repository/statements/${s}`]}),await vr.invalidateQueries({queryKey:["/api/repository/statements"]})}catch(A){console.error("Error deleting analysis:",A),a({title:"Failed to delete",description:A instanceof Error?A.message:"Could not delete analysis",variant:"destructive"})}finally{d(!1),c(!1),g(null),N("")}}};if(D)return t.jsxDEV(st,{title:"Loading...",subtitle:"Fetching statement details",onViewChange:A=>e("/"),children:t.jsxDEV("div",{className:"max-w-6xl mx-auto p-6 space-y-6",children:[t.jsxDEV(Jt,{className:"h-12 w-3/4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StatementDetailView.tsx",lineNumber:140,columnNumber:11},this),t.jsxDEV(Jt,{className:"h-64 w-full"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StatementDetailView.tsx",lineNumber:141,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StatementDetailView.tsx",lineNumber:139,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StatementDetailView.tsx",lineNumber:134,columnNumber:7},this);const S=E&&((T=E==null?void 0:E.message)==null?void 0:T.startsWith("404"));if(E&&!S)return t.jsxDEV(st,{title:"Error",subtitle:"Failed to load statement",onViewChange:A=>e("/"),children:t.jsxDEV("div",{className:"max-w-6xl mx-auto p-6",children:[t.jsxDEV(it,{variant:"destructive",children:t.jsxDEV(at,{children:E instanceof Error?E.message:"Failed to load statement details. Please try again."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StatementDetailView.tsx",lineNumber:159,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StatementDetailView.tsx",lineNumber:158,columnNumber:11},this),t.jsxDEV("div",{className:"flex gap-4 mt-4",children:[t.jsxDEV(me,{onClick:()=>window.location.reload(),"data-testid":"button-retry",children:"Retry"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StatementDetailView.tsx",lineNumber:164,columnNumber:13},this),t.jsxDEV(me,{onClick:()=>e("/repository"),variant:"outline","data-testid":"button-back",children:"Back to Repository"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StatementDetailView.tsx",lineNumber:167,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StatementDetailView.tsx",lineNumber:163,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StatementDetailView.tsx",lineNumber:157,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StatementDetailView.tsx",lineNumber:152,columnNumber:7},this);if(!b||S)return t.jsxDEV(st,{title:"Not Found",subtitle:"Statement not found",onViewChange:A=>e("/"),children:t.jsxDEV("div",{className:"max-w-6xl mx-auto p-6",children:[t.jsxDEV(it,{variant:"destructive",children:t.jsxDEV(at,{children:"The requested statement could not be found."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StatementDetailView.tsx",lineNumber:185,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StatementDetailView.tsx",lineNumber:184,columnNumber:11},this),t.jsxDEV(me,{onClick:()=>e("/repository"),className:"mt-4","data-testid":"button-back-404",children:"Back to Repository"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StatementDetailView.tsx",lineNumber:189,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StatementDetailView.tsx",lineNumber:183,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StatementDetailView.tsx",lineNumber:178,columnNumber:7},this);const R=Object.keys(b.analyses),M=R.length>0;return t.jsxDEV(st,{title:"Statement Analysis",subtitle:"View all analyses for this strategic question",onViewChange:A=>e("/"),children:t.jsxDEV("div",{className:"max-w-6xl mx-auto p-6 space-y-6",children:[t.jsxDEV("div",{className:"flex items-start justify-between",children:t.jsxDEV("div",{className:"flex-1",children:[t.jsxDEV(me,{variant:"ghost",onClick:()=>e("/repository"),className:"mb-4","data-testid":"button-back-to-repository",children:[t.jsxDEV(jn,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StatementDetailView.tsx",lineNumber:216,columnNumber:15},this),"Back to Repository"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StatementDetailView.tsx",lineNumber:210,columnNumber:13},this),t.jsxDEV("h1",{className:"text-3xl font-bold text-foreground mb-2","data-testid":"statement-title",children:b.title||b.statement},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StatementDetailView.tsx",lineNumber:219,columnNumber:13},this),b.title&&t.jsxDEV(Bg,{type:"single",collapsible:!0,className:"mb-4",children:t.jsxDEV(Mh,{value:"original-input",className:"border rounded-lg bg-muted/50",children:[t.jsxDEV(Th,{className:"px-4 py-3 hover:no-underline","data-testid":"accordion-original-input",children:t.jsxDEV("h2",{className:"text-sm font-semibold text-muted-foreground",children:"Original Input"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StatementDetailView.tsx",lineNumber:226,columnNumber:21},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StatementDetailView.tsx",lineNumber:225,columnNumber:19},this),t.jsxDEV(Ah,{className:"px-4 pb-4",children:t.jsxDEV("p",{className:"text-base text-foreground whitespace-pre-wrap","data-testid":"statement-original-input",children:b.statement},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StatementDetailView.tsx",lineNumber:229,columnNumber:21},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StatementDetailView.tsx",lineNumber:228,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StatementDetailView.tsx",lineNumber:224,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StatementDetailView.tsx",lineNumber:223,columnNumber:15},this),t.jsxDEV("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[t.jsxDEV("div",{className:"flex items-center gap-1",children:[t.jsxDEV(ys,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StatementDetailView.tsx",lineNumber:238,columnNumber:17},this),Si(new Date(b.createdAt),{addSuffix:!0})]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StatementDetailView.tsx",lineNumber:237,columnNumber:15},this),t.jsxDEV("div",{className:"flex items-center gap-1",children:[t.jsxDEV(cn,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StatementDetailView.tsx",lineNumber:242,columnNumber:17},this),R.length," ",R.length===1?"framework":"frameworks"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StatementDetailView.tsx",lineNumber:241,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StatementDetailView.tsx",lineNumber:236,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StatementDetailView.tsx",lineNumber:209,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StatementDetailView.tsx",lineNumber:208,columnNumber:9},this),M?t.jsxDEV(bl,{defaultValue:R[0],className:"w-full",children:[t.jsxDEV("div",{className:"overflow-x-auto -mx-4 sm:mx-0",children:t.jsxDEV(Eo,{className:"inline-flex sm:grid w-full min-w-max sm:min-w-0 px-4 sm:px-0",style:{gridTemplateColumns:`repeat(${R.length}, 1fr)`},children:R.map(A=>t.jsxDEV(Pr,{value:A,className:"flex-shrink-0 whitespace-nowrap","data-testid":`tab-${A}`,children:[t.jsxDEV("span",{className:"mr-2",children:P(A)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StatementDetailView.tsx",lineNumber:256,columnNumber:21},this),A,t.jsxDEV(se,{variant:"secondary",className:"ml-2",children:b.analyses[A].length},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StatementDetailView.tsx",lineNumber:258,columnNumber:21},this)]},A,!0,{fileName:"/home/runner/workspace/client/src/pages/StatementDetailView.tsx",lineNumber:255,columnNumber:19},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StatementDetailView.tsx",lineNumber:253,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StatementDetailView.tsx",lineNumber:252,columnNumber:13},this),R.map(A=>t.jsxDEV(Sr,{value:A,className:"space-y-4",children:b.analyses[A].map((F,L)=>{var $;return t.jsxDEV(Z,{"data-testid":`analysis-card-${A}-${L}`,children:[t.jsxDEV(de,{children:t.jsxDEV("div",{className:"flex flex-col sm:flex-row sm:items-start gap-4 sm:justify-between",children:[t.jsxDEV("div",{className:"flex-1 min-w-0",children:[t.jsxDEV(pe,{className:"flex flex-wrap items-center gap-2",children:[t.jsxDEV("span",{className:"text-2xl",children:P(A)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StatementDetailView.tsx",lineNumber:274,columnNumber:29},this),t.jsxDEV("span",{className:j(A),children:[A," Analysis"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StatementDetailView.tsx",lineNumber:275,columnNumber:29},this),t.jsxDEV(se,{variant:"outline",children:["v",F.version]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StatementDetailView.tsx",lineNumber:278,columnNumber:29},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StatementDetailView.tsx",lineNumber:273,columnNumber:27},this),t.jsxDEV(He,{className:"mt-2 flex flex-wrap items-center gap-4",children:[t.jsxDEV("span",{className:"flex items-center gap-1",children:[t.jsxDEV(ys,{className:"h-3 w-3"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StatementDetailView.tsx",lineNumber:282,columnNumber:31},this),Si(new Date(F.createdAt),{addSuffix:!0})]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StatementDetailView.tsx",lineNumber:281,columnNumber:29},this),F.duration&&t.jsxDEV("span",{className:"flex items-center gap-1",children:[t.jsxDEV(qs,{className:"h-3 w-3"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StatementDetailView.tsx",lineNumber:287,columnNumber:33},this),(F.duration/1e3).toFixed(1),"s"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StatementDetailView.tsx",lineNumber:286,columnNumber:31},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StatementDetailView.tsx",lineNumber:280,columnNumber:27},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StatementDetailView.tsx",lineNumber:272,columnNumber:25},this),t.jsxDEV("div",{className:"flex flex-row sm:flex-col gap-2 shrink-0",children:[t.jsxDEV(me,{onClick:()=>k(F.id,A),variant:"ghost",size:"icon",className:"h-9 w-9","data-testid":`button-delete-${A}-${L}`,children:t.jsxDEV(vo,{className:"h-4 w-4 text-destructive"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StatementDetailView.tsx",lineNumber:301,columnNumber:29},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StatementDetailView.tsx",lineNumber:294,columnNumber:27},this),t.jsxDEV(me,{onClick:()=>w(A,b.sessionId,F.versionNumber),variant:"default",size:"sm",className:"whitespace-nowrap","data-testid":`button-view-report-${A}-${L}`,children:[t.jsxDEV(Vi,{className:"h-4 w-4 mr-2 flex-shrink-0"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StatementDetailView.tsx",lineNumber:310,columnNumber:29},this),"View Full Report"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StatementDetailView.tsx",lineNumber:303,columnNumber:27},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StatementDetailView.tsx",lineNumber:293,columnNumber:25},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StatementDetailView.tsx",lineNumber:271,columnNumber:23},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StatementDetailView.tsx",lineNumber:270,columnNumber:21},this),t.jsxDEV(te,{className:"space-y-4",children:[F.summary&&t.jsxDEV("div",{children:[t.jsxDEV("h4",{className:"font-semibold text-sm text-muted-foreground mb-2",children:"Executive Summary"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StatementDetailView.tsx",lineNumber:320,columnNumber:27},this),t.jsxDEV("p",{className:"text-sm text-foreground",children:F.summary},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StatementDetailView.tsx",lineNumber:321,columnNumber:27},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StatementDetailView.tsx",lineNumber:319,columnNumber:25},this),F.keyFindings&&F.keyFindings.length>0&&t.jsxDEV("div",{children:[t.jsxDEV("h4",{className:"font-semibold text-sm text-muted-foreground mb-2",children:"Key Findings"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StatementDetailView.tsx",lineNumber:328,columnNumber:27},this),t.jsxDEV("ul",{className:"space-y-2",children:F.keyFindings.map((W,O)=>{const Y=typeof W=="string"?W:(W==null?void 0:W.answer)||(W==null?void 0:W.question)||JSON.stringify(W);return t.jsxDEV("li",{className:"flex items-start gap-2 text-sm",children:[t.jsxDEV("span",{className:"text-primary mt-1",children:""},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StatementDetailView.tsx",lineNumber:336,columnNumber:35},this),t.jsxDEV("span",{children:Y},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StatementDetailView.tsx",lineNumber:337,columnNumber:35},this)]},O,!0,{fileName:"/home/runner/workspace/client/src/pages/StatementDetailView.tsx",lineNumber:335,columnNumber:33},this)})},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StatementDetailView.tsx",lineNumber:329,columnNumber:27},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StatementDetailView.tsx",lineNumber:327,columnNumber:25},this),!F.summary&&!(($=F.keyFindings)!=null&&$.length)&&t.jsxDEV("div",{className:"text-sm text-muted-foreground italic",children:'Click "View Full Report" to see complete analysis details'},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StatementDetailView.tsx",lineNumber:346,columnNumber:25},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StatementDetailView.tsx",lineNumber:316,columnNumber:21},this)]},F.id,!0,{fileName:"/home/runner/workspace/client/src/pages/StatementDetailView.tsx",lineNumber:269,columnNumber:19},this)})},A,!1,{fileName:"/home/runner/workspace/client/src/pages/StatementDetailView.tsx",lineNumber:267,columnNumber:15},this))]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StatementDetailView.tsx",lineNumber:251,columnNumber:11},this):t.jsxDEV(Z,{className:"p-12 text-center",children:t.jsxDEV("div",{className:"flex flex-col items-center gap-4",children:[t.jsxDEV(Es,{className:"h-16 w-16 text-muted-foreground"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StatementDetailView.tsx",lineNumber:359,columnNumber:15},this),t.jsxDEV("div",{children:[t.jsxDEV("h3",{className:"text-xl font-semibold text-foreground",children:"No analyses yet"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StatementDetailView.tsx",lineNumber:361,columnNumber:17},this),t.jsxDEV("p",{className:"text-muted-foreground mt-2",children:"No framework analyses have been run for this statement"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StatementDetailView.tsx",lineNumber:362,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StatementDetailView.tsx",lineNumber:360,columnNumber:15},this),t.jsxDEV(me,{onClick:()=>e(`/strategic-consultant/input?text=${encodeURIComponent(b.statement)}`),className:"mt-4","data-testid":"button-run-analysis",children:"Run Analysis"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StatementDetailView.tsx",lineNumber:366,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StatementDetailView.tsx",lineNumber:358,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StatementDetailView.tsx",lineNumber:357,columnNumber:11},this),t.jsxDEV(KV,{open:l,onOpenChange:c,onConfirm:V,frameworkName:p,isDeleting:u},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StatementDetailView.tsx",lineNumber:378,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StatementDetailView.tsx",lineNumber:206,columnNumber:7},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StatementDetailView.tsx",lineNumber:201,columnNumber:5},this)}function Fp(e,r){const n=e==null?void 0:e.find(s=>s.blockName===r);return(n==null?void 0:n.description)||""}function vT(e){return e?e.split(/[,;\n]/).map(r=>r.trim()).filter(r=>r.length>0&&r.length<100):[]}function ade(){var $,W,O,Y,H,q,z,G,ee,K,be,_e,oe;const[,e]=Xn("/strategy-workspace/decisions/:sessionId/:versionNumber"),[,r]=or(),n=qv(),{toast:s}=ur(),a=e==null?void 0:e.sessionId,l=e!=null&&e.versionNumber?parseInt(e.versionNumber):1,c=n.includes("viewOnly=true"),[u,d]=v.useState(1),[h,g]=v.useState({riskTolerance:"balanced",timelinePreference:"sustainable_pace",channelPriorities:[],successMetricsPriority:[],validatedAssumptions:[],concerns:[],topPriorities:[],investmentCapacityMin:0,investmentCapacityMax:5e5}),{data:p,isLoading:N}=yt({queryKey:["/api/strategic-consultant/versions",a,l],enabled:!!a}),b=(W=($=p==null?void 0:p.version)==null?void 0:$.analysis)==null?void 0:W.bmc_research,D=(b==null?void 0:b.blocks)||[],E=(O=p==null?void 0:p.version)==null?void 0:O.id,j=(Y=p==null?void 0:p.version)==null?void 0:Y.decisions;v.useEffect(()=>{var fe,Ae,ge,Pe,ze,We,Re,Ee;p&&console.log("[DecisionSummaryPage] Version response:",{hasDecisions:!!((fe=p.version)!=null&&fe.decisions),decisionsType:typeof((Ae=p.version)==null?void 0:Ae.decisions),decisionsKeys:(ge=p.version)!=null&&ge.decisions?Object.keys(p.version.decisions):[],decisionsData:(Pe=p.version)==null?void 0:Pe.decisions,decisionCount:((Re=(We=(ze=p.version)==null?void 0:ze.decisions)==null?void 0:We.decisions)==null?void 0:Re.length)||0,selectedDecisions:(Ee=p.version)==null?void 0:Ee.selectedDecisions})},[p]);const[P,w]=v.useState({});v.useEffect(()=>{var fe;if((fe=p==null?void 0:p.version)!=null&&fe.selectedDecisions){const Ae=p.version.selectedDecisions;typeof Ae=="object"&&Object.keys(Ae).length>0&&(console.log("[DecisionSummaryPage] Loading saved selectedDecisions:",Ae),w(Ae))}},[(H=p==null?void 0:p.version)==null?void 0:H.selectedDecisions]),v.useEffect(()=>{if(!b||!D.length)return;const fe=Fp(D,"Customer Segments"),Ae=Fp(D,"Channels"),ge=vT(Ae),Pe=Fp(D,"Revenue Streams"),ze=Fp(D,"Key Partnerships"),Re=[...(b.recommendations||[]).map(ie=>typeof ie=="object"?ie.action:ie),...(b.keyInsights||[]).slice(0,3)].slice(0,5),Ee=(b.criticalGaps||[]).map(ie=>ie);g(ie=>({...ie,primaryCustomerSegment:fe||ie.primaryCustomerSegment,revenueModel:Pe||ie.revenueModel,channelPriorities:ge.length>0?ge.slice(0,3):ie.channelPriorities,partnershipStrategy:ze||ie.partnershipStrategy,topPriorities:Re.length>0?Re:ie.topPriorities,concerns:Ee.length>0?Ee:ie.concerns}))},[b,D]);const k=Qr({mutationFn:async fe=>{if(!E)throw new Error("Strategy version ID not available");return(await Zt("PATCH",`/api/strategic-consultant/versions/${a}/${l}`,{selectedDecisions:fe})).json()},onSuccess:()=>{vr.invalidateQueries({queryKey:["/api/strategic-consultant/versions",a,l]}),r(`/strategy-workspace/prioritization/${a}/${l}`)},onError:fe=>{s({title:"Failed to save decisions",description:fe.message||"Please try again",variant:"destructive"})}}),V=Qr({mutationFn:async fe=>{if(!E)throw new Error("Strategy version ID not available");return(await Zt("POST","/api/strategy-workspace/decisions",{strategyVersionId:E,...fe})).json()},onSuccess:fe=>{s({title:"Decisions saved",description:"Proceeding to prioritization..."}),r(`/strategy-workspace/prioritization/${a}/${l}`)},onError:fe=>{s({title:"Failed to save decisions",description:fe.message||"Please try again",variant:"destructive"})}}),S=(fe,Ae)=>{g(ge=>({...ge,[fe]:Ae}))},R=()=>{u<4&&d(u+1)},M=()=>{u>1&&d(u-1)},T=()=>{if(!h.goDecision){s({title:"Go/No-Go decision required",description:"Please select whether to proceed, pivot, or abandon",variant:"destructive"});return}V.mutate(h)};if(!a)return t.jsxDEV("div",{className:"min-h-screen bg-background flex items-center justify-center p-8",children:t.jsxDEV(it,{variant:"destructive",className:"max-w-md",children:[t.jsxDEV(Dt,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:307,columnNumber:11},this),t.jsxDEV(er,{children:"Invalid Session"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:308,columnNumber:11},this),t.jsxDEV(at,{children:"No session ID provided"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:309,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:306,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:305,columnNumber:7},this);if(N)return t.jsxDEV("div",{className:"min-h-screen bg-background flex items-center justify-center",children:t.jsxDEV("div",{className:"text-center space-y-4",children:[t.jsxDEV(lt,{className:"h-8 w-8 animate-spin mx-auto text-primary"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:319,columnNumber:11},this),t.jsxDEV("p",{className:"text-muted-foreground",children:"Loading analysis results..."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:320,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:318,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:317,columnNumber:7},this);const A=vT(Fp(D,"Channels")),F=A.length>0?A:["Online","Retail","Direct sales","Partnerships","Mobile app"],L=((b==null?void 0:b.recommendations)||[]).map(fe=>typeof fe=="object"?fe.action:fe);return t.jsxDEV(st,{title:"Strategic Decision Summary",subtitle:"Make key strategic choices to guide EPM program generation",children:t.jsxDEV("div",{className:"max-w-4xl mx-auto space-y-4 sm:space-y-6 p-4 sm:p-0",children:[j&&j.decisions&&j.decisions.length>0&&t.jsxDEV(Z,{className:"border-primary","data-testid":"card-strategic-decisions",children:[t.jsxDEV(de,{className:"p-4 sm:p-6",children:[t.jsxDEV(pe,{children:"Strategic Decisions"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:347,columnNumber:15},this),t.jsxDEV(He,{children:"Select strategic options for your EPM program"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:348,columnNumber:15},this),j.decision_flow&&t.jsxDEV("p",{className:"text-sm text-muted-foreground mt-2 break-words",children:j.decision_flow},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:352,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:346,columnNumber:13},this),t.jsxDEV(te,{className:"space-y-4 sm:space-y-6 p-4 sm:p-6",children:[j.decisions.map((fe,Ae)=>t.jsxDEV("div",{className:"space-y-3 sm:space-y-4 p-3 sm:p-4 border rounded-lg","data-testid":`decision-${Ae}`,children:[t.jsxDEV("div",{children:[t.jsxDEV("h3",{className:"text-lg font-semibold",children:fe.title},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:359,columnNumber:21},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground mt-1",children:fe.context},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:360,columnNumber:21},this),t.jsxDEV("p",{className:"font-medium mt-2",children:fe.question},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:361,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:358,columnNumber:19},this),t.jsxDEV(Xd,{value:P[fe.id]||"",onValueChange:ge=>!c&&w(Pe=>({...Pe,[fe.id]:ge})),disabled:c,children:fe.options.map(ge=>t.jsxDEV("div",{className:`border rounded-lg p-4 space-y-3 ${P[fe.id]===ge.id?"border-primary bg-primary/5":""}`,"data-testid":`option-${ge.id}`,children:t.jsxDEV("div",{className:"flex items-start gap-3",children:[t.jsxDEV(co,{value:ge.id,id:ge.id,className:"mt-1"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:378,columnNumber:27},this),t.jsxDEV("div",{className:"flex-1",children:[t.jsxDEV(br,{htmlFor:ge.id,className:"font-semibold cursor-pointer flex items-center gap-2",children:[ge.label,ge.recommended&&t.jsxDEV(se,{variant:"default",children:"Recommended"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:382,columnNumber:54},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:380,columnNumber:29},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground mt-1",children:ge.description},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:384,columnNumber:29},this),ge.estimated_cost&&t.jsxDEV("p",{className:"text-sm font-medium mt-2",children:["Cost: $",(ge.estimated_cost.min/1e6).toFixed(1),"M - $",(ge.estimated_cost.max/1e6).toFixed(1),"M"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:387,columnNumber:31},this),ge.estimated_timeline_months&&t.jsxDEV("p",{className:"text-sm font-medium",children:["Timeline: ",ge.estimated_timeline_months," months"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:392,columnNumber:31},this),ge.pros&&ge.pros.length>0&&t.jsxDEV("div",{className:"mt-2",children:[t.jsxDEV("p",{className:"text-sm font-semibold",children:"Pros:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:397,columnNumber:33},this),t.jsxDEV("ul",{className:"text-sm space-y-1 ml-4",children:ge.pros.map((Pe,ze)=>t.jsxDEV("li",{className:"flex items-start gap-2",children:[t.jsxDEV("span",{className:"text-green-600 mt-1",children:""},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:401,columnNumber:39},this),t.jsxDEV("span",{children:Pe},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:402,columnNumber:39},this)]},ze,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:400,columnNumber:37},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:398,columnNumber:33},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:396,columnNumber:31},this),ge.cons&&ge.cons.length>0&&t.jsxDEV("div",{className:"mt-2",children:[t.jsxDEV("p",{className:"text-sm font-semibold",children:"Cons:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:411,columnNumber:33},this),t.jsxDEV("ul",{className:"text-sm space-y-1 ml-4",children:ge.cons.map((Pe,ze)=>t.jsxDEV("li",{className:"flex items-start gap-2",children:[t.jsxDEV("span",{className:"text-red-600 mt-1",children:""},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:415,columnNumber:39},this),t.jsxDEV("span",{children:Pe},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:416,columnNumber:39},this)]},ze,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:414,columnNumber:37},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:412,columnNumber:33},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:410,columnNumber:31},this),ge.reasoning&&t.jsxDEV("div",{className:"mt-2 p-2 bg-blue-50 dark:bg-blue-950/20 rounded",children:t.jsxDEV("p",{className:"text-sm",children:[t.jsxDEV("span",{className:"font-semibold",children:"Research insight:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:425,columnNumber:56},this)," ",ge.reasoning]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:425,columnNumber:33},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:424,columnNumber:31},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:379,columnNumber:27},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:377,columnNumber:25},this)},ge.id,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:370,columnNumber:23},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:364,columnNumber:19},this)]},fe.id,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:357,columnNumber:17},this)),t.jsxDEV("div",{className:"flex flex-col sm:flex-row sm:justify-end gap-3 sm:gap-4 pt-4",children:c?t.jsxDEV(me,{onClick:()=>r("/repository"),variant:"outline","data-testid":"button-back-to-repository",className:"w-full sm:w-auto",size:"lg",children:[t.jsxDEV(jn,{className:"mr-2 h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:445,columnNumber:21},this),"Back to Repository"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:438,columnNumber:19},this):t.jsxDEV(t.Fragment,{children:[Object.keys(P).length<j.decisions.length&&t.jsxDEV("p",{className:"text-sm text-amber-600 sm:mr-auto",children:["Please select an option for all ",j.decisions.length," strategic decisions (",Object.keys(P).length,"/",j.decisions.length," selected)"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:451,columnNumber:23},this),t.jsxDEV(me,{onClick:()=>{if(Object.keys(P).length<j.decisions.length){s({title:"Missing selections",description:"Please select an option for all strategic decisions",variant:"destructive"});return}k.mutate(P)},disabled:Object.keys(P).length<j.decisions.length||k.isPending,"data-testid":"button-proceed-prioritization",className:"w-full sm:w-auto",size:"lg",children:k.isPending?t.jsxDEV(t.Fragment,{children:[t.jsxDEV(lt,{className:"mr-2 h-4 w-4 animate-spin"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:478,columnNumber:27},this),"Saving..."]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:477,columnNumber:25},this):t.jsxDEV(t.Fragment,{children:["Proceed to Prioritization",t.jsxDEV(ar,{className:"ml-2 h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:484,columnNumber:27},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:482,columnNumber:25},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:456,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:449,columnNumber:19},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:436,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:355,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:345,columnNumber:11},this),(!j||!j.decisions||j.decisions.length===0)&&t.jsxDEV(t.Fragment,{children:[t.jsxDEV("div",{className:"flex items-center justify-between mb-8",children:[1,2,3,4].map(fe=>t.jsxDEV("div",{className:"flex items-center",children:[t.jsxDEV("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-semibold ${u===fe?"bg-primary text-primary-foreground":u>fe?"bg-green-500 text-white":"bg-muted text-muted-foreground"}`,"data-testid":`step-indicator-${fe}`,children:u>fe?t.jsxDEV(tr,{className:"h-5 w-5"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:512,columnNumber:39},this):fe},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:502,columnNumber:15},this),fe<4&&t.jsxDEV("div",{className:`w-16 h-1 mx-2 ${u>fe?"bg-green-500":"bg-muted"}`},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:515,columnNumber:17},this)]},fe,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:501,columnNumber:13},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:499,columnNumber:9},this),u===1&&t.jsxDEV(Z,{"data-testid":"card-page-1",children:[t.jsxDEV(de,{children:[t.jsxDEV(pe,{children:"Page 1: Strategic Choices"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:529,columnNumber:15},this),t.jsxDEV(He,{children:"Define your core business model decisions"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:530,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:528,columnNumber:13},this),t.jsxDEV(te,{className:"space-y-6",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(br,{htmlFor:"customer-segment",children:"Primary Customer Segment"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:536,columnNumber:17},this),t.jsxDEV(In,{id:"customer-segment","data-testid":"input-customer-segment",placeholder:"e.g., Young professionals aged 25-35 in urban areas",value:h.primaryCustomerSegment||"",onChange:fe=>S("primaryCustomerSegment",fe.target.value),className:"min-h-[80px]"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:537,columnNumber:17},this),b&&t.jsxDEV("p",{className:"text-xs text-muted-foreground",children:["From BMC analysis: ",(q=D.find(fe=>fe.blockName==="Customer Segments"))==null?void 0:q.description.substring(0,100),"..."]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:546,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:535,columnNumber:15},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(br,{htmlFor:"revenue-model",children:"Revenue Model"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:553,columnNumber:17},this),t.jsxDEV(In,{id:"revenue-model","data-testid":"input-revenue-model",placeholder:"e.g., Subscription-based with premium tiers",value:h.revenueModel||"",onChange:fe=>S("revenueModel",fe.target.value),className:"min-h-[60px]"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:554,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:552,columnNumber:15},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(br,{children:"Channel Priorities"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:565,columnNumber:17},this),t.jsxDEV("div",{className:"space-y-2",children:F.map(fe=>{var Ae;return t.jsxDEV("div",{className:"flex items-center space-x-2",children:[t.jsxDEV(Aa,{id:`channel-${fe}`,"data-testid":`checkbox-channel-${fe.toLowerCase().replace(/\s+/g,"-")}`,checked:(Ae=h.channelPriorities)==null?void 0:Ae.includes(fe),onCheckedChange:ge=>{const Pe=h.channelPriorities||[];S("channelPriorities",ge?[...Pe,fe]:Pe.filter(ze=>ze!==fe))}},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:569,columnNumber:23},this),t.jsxDEV("label",{htmlFor:`channel-${fe}`,className:"text-sm cursor-pointer",children:fe},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:583,columnNumber:23},this)]},fe,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:568,columnNumber:21},this)})},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:566,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:564,columnNumber:15},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(br,{htmlFor:"partnership-strategy",children:"Partnership Strategy"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:592,columnNumber:17},this),t.jsxDEV(In,{id:"partnership-strategy","data-testid":"input-partnership-strategy",placeholder:"e.g., Strategic partnerships with complementary brands",value:h.partnershipStrategy||"",onChange:fe=>S("partnershipStrategy",fe.target.value),className:"min-h-[60px]"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:593,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:591,columnNumber:15},this),t.jsxDEV(me,{onClick:R,className:"w-full","data-testid":"button-next",children:["Next: Risk & Investment ",t.jsxDEV(ar,{className:"ml-2 h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:604,columnNumber:41},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:603,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:534,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:527,columnNumber:11},this),u===2&&t.jsxDEV(Z,{"data-testid":"card-page-2",children:[t.jsxDEV(de,{children:[t.jsxDEV(pe,{children:"Page 2: Risk & Investment"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:614,columnNumber:15},this),t.jsxDEV(He,{children:"Set your risk tolerance and investment parameters"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:615,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:613,columnNumber:13},this),t.jsxDEV(te,{className:"space-y-6",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(br,{htmlFor:"risk-tolerance",children:"Risk Tolerance"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:621,columnNumber:17},this),t.jsxDEV(Pa,{value:h.riskTolerance,onValueChange:fe=>S("riskTolerance",fe),children:[t.jsxDEV(Qi,{id:"risk-tolerance","data-testid":"select-risk-tolerance",children:t.jsxDEV(Sa,{},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:627,columnNumber:21},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:626,columnNumber:19},this),t.jsxDEV(Zi,{children:[t.jsxDEV(as,{value:"conservative",children:"Conservative - Minimize risk"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:630,columnNumber:21},this),t.jsxDEV(as,{value:"balanced",children:"Balanced - Moderate risk/reward"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:631,columnNumber:21},this),t.jsxDEV(as,{value:"aggressive",children:"Aggressive - Maximize growth"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:632,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:629,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:622,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:620,columnNumber:15},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(br,{children:"Investment Capacity"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:638,columnNumber:17},this),t.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxDEV("div",{children:[t.jsxDEV(br,{htmlFor:"investment-min",className:"text-xs text-muted-foreground",children:"Minimum ($)"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:641,columnNumber:21},this),t.jsxDEV(Ci,{id:"investment-min",type:"number","data-testid":"input-investment-min",value:h.investmentCapacityMin,onChange:fe=>S("investmentCapacityMin",parseInt(fe.target.value)||0)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:642,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:640,columnNumber:19},this),t.jsxDEV("div",{children:[t.jsxDEV(br,{htmlFor:"investment-max",className:"text-xs text-muted-foreground",children:"Maximum ($)"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:651,columnNumber:21},this),t.jsxDEV(Ci,{id:"investment-max",type:"number","data-testid":"input-investment-max",value:h.investmentCapacityMax,onChange:fe=>S("investmentCapacityMax",parseInt(fe.target.value)||0)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:652,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:650,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:639,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:637,columnNumber:15},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(br,{htmlFor:"timeline-preference",children:"Timeline Preference"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:664,columnNumber:17},this),t.jsxDEV(Pa,{value:h.timelinePreference,onValueChange:fe=>S("timelinePreference",fe),children:[t.jsxDEV(Qi,{id:"timeline-preference","data-testid":"select-timeline-preference",children:t.jsxDEV(Sa,{},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:670,columnNumber:21},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:669,columnNumber:19},this),t.jsxDEV(Zi,{children:[t.jsxDEV(as,{value:"fast_growth",children:"Fast Growth - Aggressive timeline"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:673,columnNumber:21},this),t.jsxDEV(as,{value:"sustainable_pace",children:"Sustainable Pace - Balanced timeline"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:674,columnNumber:21},this),t.jsxDEV(as,{value:"deliberate",children:"Deliberate - Conservative timeline"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:675,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:672,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:665,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:663,columnNumber:15},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(br,{htmlFor:"success-metrics",children:"Success Metrics Priority"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:681,columnNumber:17},this),t.jsxDEV(Ci,{id:"success-metrics","data-testid":"input-success-metrics",placeholder:"e.g., Revenue growth, Customer retention, Market share",value:((z=h.successMetricsPriority)==null?void 0:z.join(", "))||"",onChange:fe=>S("successMetricsPriority",fe.target.value.split(",").map(Ae=>Ae.trim()))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:682,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:680,columnNumber:15},this),t.jsxDEV("div",{className:"flex gap-4",children:[t.jsxDEV(me,{onClick:M,variant:"outline",className:"flex-1","data-testid":"button-back",children:[t.jsxDEV(jn,{className:"mr-2 h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:693,columnNumber:19},this)," Back"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:692,columnNumber:17},this),t.jsxDEV(me,{onClick:R,className:"flex-1","data-testid":"button-next",children:["Next: Assumptions ",t.jsxDEV(ar,{className:"ml-2 h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:696,columnNumber:37},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:695,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:691,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:619,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:612,columnNumber:11},this),u===3&&t.jsxDEV(Z,{"data-testid":"card-page-3",children:[t.jsxDEV(de,{children:[t.jsxDEV(pe,{children:"Page 3: Assumptions & Concerns"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:707,columnNumber:15},this),t.jsxDEV(He,{children:"Validate assumptions and identify concerns from the analysis"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:708,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:706,columnNumber:13},this),t.jsxDEV(te,{className:"space-y-6",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(br,{htmlFor:"assumptions",children:"Validated Assumptions"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:714,columnNumber:17},this),t.jsxDEV(In,{id:"assumptions","data-testid":"textarea-assumptions",placeholder:"List key assumptions you agree with (one per line)",value:((G=h.validatedAssumptions)==null?void 0:G.map(fe=>fe.assumption).join(`
`))||"",onChange:fe=>{const Ae=fe.target.value.split(`
`).filter(ge=>ge.trim());S("validatedAssumptions",Ae.map(ge=>({assumption:ge,confirmed:!0,concern:""})))},className:"min-h-[120px]"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:715,columnNumber:17},this),(b==null?void 0:b.keyInsights)&&t.jsxDEV("div",{className:"text-xs text-muted-foreground space-y-1",children:[t.jsxDEV("p",{className:"font-medium",children:"From analysis:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:732,columnNumber:21},this),b.keyInsights.slice(0,3).map((fe,Ae)=>t.jsxDEV("p",{children:[" ",fe]},Ae,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:734,columnNumber:23},this))]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:731,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:713,columnNumber:15},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(br,{htmlFor:"concerns",children:"Concerns & Risks"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:741,columnNumber:17},this),t.jsxDEV(In,{id:"concerns","data-testid":"textarea-concerns",placeholder:"List your concerns and potential risks (one per line)",value:((ee=h.concerns)==null?void 0:ee.join(`
`))||"",onChange:fe=>S("concerns",fe.target.value.split(`
`).filter(Ae=>Ae.trim())),className:"min-h-[120px]"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:742,columnNumber:17},this),(b==null?void 0:b.criticalGaps)&&b.criticalGaps.length>0&&t.jsxDEV("div",{className:"text-xs text-muted-foreground space-y-1",children:[t.jsxDEV("p",{className:"font-medium",children:"Critical gaps identified:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:752,columnNumber:21},this),b.criticalGaps.slice(0,3).map((fe,Ae)=>t.jsxDEV("p",{children:[" ",fe]},Ae,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:754,columnNumber:23},this))]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:751,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:740,columnNumber:15},this),t.jsxDEV("div",{className:"flex gap-4",children:[t.jsxDEV(me,{onClick:M,variant:"outline",className:"flex-1","data-testid":"button-back",children:[t.jsxDEV(jn,{className:"mr-2 h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:762,columnNumber:19},this)," Back"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:761,columnNumber:17},this),t.jsxDEV(me,{onClick:R,className:"flex-1","data-testid":"button-next",children:["Next: Priorities ",t.jsxDEV(ar,{className:"ml-2 h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:765,columnNumber:36},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:764,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:760,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:712,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:705,columnNumber:11},this),u===4&&t.jsxDEV(Z,{"data-testid":"card-page-4",children:[t.jsxDEV(de,{children:[t.jsxDEV(pe,{children:"Page 4: Priorities & Go Decision"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:776,columnNumber:15},this),t.jsxDEV(He,{children:"Set final priorities and make your go/no-go decision"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:777,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:775,columnNumber:13},this),t.jsxDEV(te,{className:"space-y-6",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(br,{htmlFor:"priorities",children:"Top Priorities"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:783,columnNumber:17},this),t.jsxDEV(In,{id:"priorities","data-testid":"textarea-priorities",placeholder:"List your top 3-5 priorities (one per line)",value:((K=h.topPriorities)==null?void 0:K.join(`
`))||"",onChange:fe=>S("topPriorities",fe.target.value.split(`
`).filter(Ae=>Ae.trim())),className:"min-h-[120px]"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:784,columnNumber:17},this),L.length>0&&t.jsxDEV("div",{className:"text-xs text-muted-foreground space-y-1",children:[t.jsxDEV("p",{className:"font-medium",children:"Recommendations from analysis:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:794,columnNumber:21},this),L.slice(0,5).map((fe,Ae)=>t.jsxDEV("p",{children:[" ",typeof fe=="object"?fe.action:fe]},Ae,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:796,columnNumber:23},this))]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:793,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:782,columnNumber:15},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(br,{children:"Go/No-Go Decision"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:803,columnNumber:17},this),t.jsxDEV(Xd,{value:h.goDecision,onValueChange:fe=>S("goDecision",fe),"data-testid":"select-go-decision",children:[t.jsxDEV("div",{className:"flex items-center space-x-2",children:[t.jsxDEV(co,{value:"proceed",id:"go-proceed","data-testid":"radio-proceed"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:810,columnNumber:21},this),t.jsxDEV(br,{htmlFor:"go-proceed",className:"cursor-pointer",children:[t.jsxDEV("span",{className:"font-semibold text-green-600",children:"Proceed"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:812,columnNumber:23},this)," - Move forward with this strategy"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:811,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:809,columnNumber:19},this),t.jsxDEV("div",{className:"flex items-center space-x-2",children:[t.jsxDEV(co,{value:"pivot",id:"go-pivot","data-testid":"radio-pivot"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:816,columnNumber:21},this),t.jsxDEV(br,{htmlFor:"go-pivot",className:"cursor-pointer",children:[t.jsxDEV("span",{className:"font-semibold text-yellow-600",children:"Pivot"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:818,columnNumber:23},this)," - Modify the strategy before proceeding"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:817,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:815,columnNumber:19},this),t.jsxDEV("div",{className:"flex items-center space-x-2",children:[t.jsxDEV(co,{value:"abandon",id:"go-abandon","data-testid":"radio-abandon"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:822,columnNumber:21},this),t.jsxDEV(br,{htmlFor:"go-abandon",className:"cursor-pointer",children:[t.jsxDEV("span",{className:"font-semibold text-red-600",children:"Abandon"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:824,columnNumber:23},this)," - Do not pursue this strategy"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:823,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:821,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:804,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:802,columnNumber:15},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(br,{htmlFor:"rationale",children:"Decision Rationale"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:831,columnNumber:17},this),t.jsxDEV(In,{id:"rationale","data-testid":"textarea-rationale",placeholder:"Explain the reasoning behind your decision...",value:h.decisionRationale||"",onChange:fe=>S("decisionRationale",fe.target.value),className:"min-h-[100px]"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:832,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:830,columnNumber:15},this),t.jsxDEV("div",{className:"flex gap-4",children:[t.jsxDEV(me,{onClick:M,variant:"outline",className:"flex-1","data-testid":"button-back",children:[t.jsxDEV(jn,{className:"mr-2 h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:844,columnNumber:19},this)," Back"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:843,columnNumber:17},this),t.jsxDEV(me,{onClick:T,className:"flex-1",disabled:V.isPending,"data-testid":"button-save-generate",children:V.isPending?t.jsxDEV(t.Fragment,{children:[t.jsxDEV(lt,{className:"mr-2 h-4 w-4 animate-spin"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:854,columnNumber:23},this),"Generating EPM..."]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:853,columnNumber:21},this):t.jsxDEV(t.Fragment,{children:["Save & Generate EPM ",t.jsxDEV(ar,{className:"ml-2 h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:859,columnNumber:43},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:858,columnNumber:21},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:846,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:842,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:781,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:774,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:497,columnNumber:11},this),b&&t.jsxDEV(Z,{className:"bg-muted/50",children:[t.jsxDEV(de,{children:t.jsxDEV(pe,{className:"text-sm",children:"Data Extracted from BMC Analysis"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:874,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:873,columnNumber:13},this),t.jsxDEV(te,{className:"text-xs space-y-2",children:[t.jsxDEV("div",{children:[t.jsxDEV("strong",{children:"Blocks found:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:878,columnNumber:17},this)," ",D.map(fe=>fe.blockName).join(", ")]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:877,columnNumber:15},this),t.jsxDEV("div",{children:[t.jsxDEV("strong",{children:"Recommendations:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:881,columnNumber:17},this)," ",((be=b.recommendations)==null?void 0:be.length)||0]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:880,columnNumber:15},this),t.jsxDEV("div",{children:[t.jsxDEV("strong",{children:"Key Insights:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:884,columnNumber:17},this)," ",((_e=b.keyInsights)==null?void 0:_e.length)||0]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:883,columnNumber:15},this),t.jsxDEV("div",{children:[t.jsxDEV("strong",{children:"Critical Gaps:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:887,columnNumber:17},this)," ",((oe=b.criticalGaps)==null?void 0:oe.length)||0]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:886,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:876,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:872,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:342,columnNumber:7},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/DecisionSummaryPage.tsx",lineNumber:338,columnNumber:5},this)}function ode({onComplete:e,onError:r}){const[n,s]=v.useState(0),[a,l]=v.useState("Initializing..."),[c,u]=v.useState([{id:"workstreams",name:"Generating Workstreams",description:"Creating strategic workstreams from analysis",status:"pending"},{id:"planning",name:"Building Schedule",description:"Creating timeline with Critical Path Method",status:"pending"},{id:"resources",name:"Allocating Resources",description:"Matching skills to tasks",status:"pending"},{id:"components",name:"Generating Components",description:"Creating program components and summaries",status:"pending"},{id:"validation",name:"Final Validation",description:"Quality checks and confidence scoring",status:"pending"}]),[d,h]=v.useState(0),[g,p]=v.useState(!1),[N,b]=v.useState(null);v.useEffect(()=>{if(g||N)return;const k=setInterval(()=>{h(V=>V+1)},1e3);return()=>clearInterval(k)},[g,N]);const D=k=>{switch(k){case"complete":return t.jsxDEV(tr,{className:"h-5 w-5 text-green-600 dark:text-green-500","data-testid":"icon-complete"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/intelligent-planning/PlanningProgressTracker.tsx",lineNumber:51,columnNumber:16},this);case"in-progress":return t.jsxDEV(lt,{className:"h-5 w-5 text-blue-600 dark:text-blue-500 animate-spin","data-testid":"icon-in-progress"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/intelligent-planning/PlanningProgressTracker.tsx",lineNumber:53,columnNumber:16},this);case"error":return t.jsxDEV(Dt,{className:"h-5 w-5 text-red-600 dark:text-red-500","data-testid":"icon-error"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/intelligent-planning/PlanningProgressTracker.tsx",lineNumber:55,columnNumber:16},this);default:return t.jsxDEV(qs,{className:"h-5 w-5 text-gray-400 dark:text-gray-600","data-testid":"icon-pending"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/intelligent-planning/PlanningProgressTracker.tsx",lineNumber:57,columnNumber:16},this)}},E=k=>{const V=Math.floor(k/60),S=k%60;return`${V}:${S.toString().padStart(2,"0")}`},j=k=>({init:"workstreams","wbs-generation":"workstreams","planning-context":"planning","intelligent-planning":"planning","program-name":"planning",timeline:"planning",financial:"validation"})[k]||k,P=(k,V)=>k==="init"?5:k==="wbs-generation"||k==="workstreams"?10+V*.9:k==="planning-context"?10:k==="intelligent-planning"?35+V*.35:k==="program-name"?60:k==="timeline"?85:k==="financial"?25:V||50,w=(k,V,S)=>{const R=j(k),M=S.findIndex(W=>W.id===R);if(M===-1)return 0;const T=S.length,F=M/T*100,L=P(k,V),$=1/T*(L/100)*100;return Math.min(Math.round(F+$),99)};return v.useEffect(()=>(window.__updatePlanningProgress=k=>{switch(k.type){case"step-start":l(k.description||""),k.elapsedSeconds!==void 0&&k.elapsedSeconds>0&&h(k.elapsedSeconds),u(V=>{const S=j(k.step),R=V.map(A=>A.id===S?{...A,status:"in-progress"}:A.status==="in-progress"&&A.id!==S?{...A,status:"complete"}:A),M=k.progress||0,T=w(k.step,M,R);return s(T),R});break;case"step-complete":u(V=>V.map(S=>S.id===j(k.step)?{...S,status:"complete",durationSeconds:k.durationSeconds}:S));break;case"complete":s(100),u(V=>V.map(S=>({...S,status:S.status==="pending"?"pending":"complete"}))),p(!0),e&&e();break;case"error":u(V=>V.map(S=>S.status==="in-progress"?{...S,status:"error"}:S)),b(k.message||"An error occurred"),r&&r(k.message);break}},()=>{delete window.__updatePlanningProgress}),[e,r]),t.jsxDEV(Z,{className:"w-full max-w-md sm:max-w-lg md:max-w-xl lg:max-w-2xl max-h-[90vh] flex flex-col bg-card dark:bg-gray-900 opacity-100","data-testid":"planning-progress-tracker",style:{backgroundColor:"var(--card)"},children:[t.jsxDEV(de,{className:"flex-shrink-0 bg-card dark:bg-gray-900",children:t.jsxDEV(pe,{className:"flex items-center gap-2 text-base sm:text-lg",children:[!g&&!N&&t.jsxDEV(lt,{className:"h-5 w-5 animate-spin"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/intelligent-planning/PlanningProgressTracker.tsx",lineNumber:190,columnNumber:37},this),g&&t.jsxDEV(tr,{className:"h-5 w-5 text-green-600"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/intelligent-planning/PlanningProgressTracker.tsx",lineNumber:191,columnNumber:26},this),N&&t.jsxDEV(Dt,{className:"h-5 w-5 text-red-600"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/intelligent-planning/PlanningProgressTracker.tsx",lineNumber:192,columnNumber:21},this),"Creating Your Program Plan"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/intelligent-planning/PlanningProgressTracker.tsx",lineNumber:189,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/intelligent-planning/PlanningProgressTracker.tsx",lineNumber:188,columnNumber:7},this),t.jsxDEV(te,{className:"space-y-6 overflow-y-auto flex-1 bg-card dark:bg-gray-900",children:[N&&t.jsxDEV(it,{variant:"destructive","data-testid":"error-alert",children:[t.jsxDEV(Dt,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/intelligent-planning/PlanningProgressTracker.tsx",lineNumber:201,columnNumber:13},this),t.jsxDEV(at,{children:N},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/intelligent-planning/PlanningProgressTracker.tsx",lineNumber:202,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/intelligent-planning/PlanningProgressTracker.tsx",lineNumber:200,columnNumber:11},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV("div",{className:"flex justify-between text-sm",children:[t.jsxDEV("span",{className:"text-muted-foreground",children:"Overall Progress"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/intelligent-planning/PlanningProgressTracker.tsx",lineNumber:209,columnNumber:13},this),t.jsxDEV("span",{className:"font-medium","data-testid":"progress-percentage",children:[n,"%"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/intelligent-planning/PlanningProgressTracker.tsx",lineNumber:210,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/intelligent-planning/PlanningProgressTracker.tsx",lineNumber:208,columnNumber:11},this),t.jsxDEV(Ln,{value:n,className:"h-2","data-testid":"progress-bar"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/intelligent-planning/PlanningProgressTracker.tsx",lineNumber:212,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/intelligent-planning/PlanningProgressTracker.tsx",lineNumber:207,columnNumber:9},this),t.jsxDEV("div",{className:"rounded-lg bg-muted/50 dark:bg-muted/20 p-4","data-testid":"current-status",children:[t.jsxDEV("div",{className:"flex items-center gap-2 text-sm font-medium mb-1",children:[t.jsxDEV(lt,{className:"h-4 w-4 animate-spin"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/intelligent-planning/PlanningProgressTracker.tsx",lineNumber:218,columnNumber:13},this),"Current Step"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/intelligent-planning/PlanningProgressTracker.tsx",lineNumber:217,columnNumber:11},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:a},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/intelligent-planning/PlanningProgressTracker.tsx",lineNumber:221,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/intelligent-planning/PlanningProgressTracker.tsx",lineNumber:216,columnNumber:9},this),t.jsxDEV("div",{className:"space-y-2 sm:space-y-3",children:c.map((k,V)=>t.jsxDEV("div",{className:"flex items-start gap-2 sm:gap-3 p-2 sm:p-3 rounded-lg transition-colors hover:bg-muted/50 dark:hover:bg-muted/20","data-testid":`step-${k.id}`,children:[t.jsxDEV("div",{className:"mt-0.5 flex-shrink-0",children:D(k.status)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/intelligent-planning/PlanningProgressTracker.tsx",lineNumber:232,columnNumber:15},this),t.jsxDEV("div",{className:"flex-1 min-w-0",children:[t.jsxDEV("div",{className:"flex items-center justify-between gap-2",children:[t.jsxDEV("h4",{className:"text-xs sm:text-sm font-medium truncate",children:[V+1,". ",k.name]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/intelligent-planning/PlanningProgressTracker.tsx",lineNumber:235,columnNumber:19},this),k.durationSeconds!==void 0&&t.jsxDEV("span",{className:"text-xs text-muted-foreground whitespace-nowrap",children:[k.durationSeconds,"s"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/intelligent-planning/PlanningProgressTracker.tsx",lineNumber:239,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/intelligent-planning/PlanningProgressTracker.tsx",lineNumber:234,columnNumber:17},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-1 sm:line-clamp-none",children:k.description},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/intelligent-planning/PlanningProgressTracker.tsx",lineNumber:244,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/intelligent-planning/PlanningProgressTracker.tsx",lineNumber:233,columnNumber:15},this)]},k.id,!0,{fileName:"/home/runner/workspace/client/src/components/intelligent-planning/PlanningProgressTracker.tsx",lineNumber:227,columnNumber:13},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/intelligent-planning/PlanningProgressTracker.tsx",lineNumber:225,columnNumber:9},this),t.jsxDEV("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2 sm:gap-0 text-xs sm:text-sm text-muted-foreground border-t pt-3 sm:pt-4",children:[t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(qs,{className:"h-4 w-4 flex-shrink-0"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/intelligent-planning/PlanningProgressTracker.tsx",lineNumber:255,columnNumber:13},this),t.jsxDEV("span",{"data-testid":"elapsed-time",children:["Elapsed: ",E(d)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/intelligent-planning/PlanningProgressTracker.tsx",lineNumber:256,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/intelligent-planning/PlanningProgressTracker.tsx",lineNumber:254,columnNumber:11},this),!g&&!N&&t.jsxDEV("span",{className:"text-xs",children:"Estimated: Approx. 10 minutes"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/intelligent-planning/PlanningProgressTracker.tsx",lineNumber:259,columnNumber:13},this),g&&t.jsxDEV("span",{className:"text-xs text-green-600 dark:text-green-500 font-medium",children:"Completed!"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/intelligent-planning/PlanningProgressTracker.tsx",lineNumber:262,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/intelligent-planning/PlanningProgressTracker.tsx",lineNumber:253,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/intelligent-planning/PlanningProgressTracker.tsx",lineNumber:196,columnNumber:7},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/intelligent-planning/PlanningProgressTracker.tsx",lineNumber:183,columnNumber:5},this)}function lde({progress:e,message:r,title:n="EPM Generation",onExpand:s,onDismiss:a}){return t.jsxDEV(t.Fragment,{children:[t.jsxDEV("div",{className:"fixed inset-0 bg-black/60 z-40","data-testid":"minimized-tracker-backdrop"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/MinimizedJobTracker.tsx",lineNumber:22,columnNumber:7},this),t.jsxDEV("div",{className:"fixed top-4 right-4 w-80 bg-card dark:bg-gray-900 border rounded-lg shadow-lg z-50 p-3 opacity-100","data-testid":"minimized-job-tracker",style:{backgroundColor:"var(--card)"},children:[t.jsxDEV("div",{className:"flex items-center justify-between mb-2",children:[t.jsxDEV("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[t.jsxDEV(lt,{className:"h-4 w-4 animate-spin text-blue-500 flex-shrink-0"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/MinimizedJobTracker.tsx",lineNumber:33,columnNumber:13},this),t.jsxDEV("span",{className:"text-sm font-medium truncate",children:n},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/MinimizedJobTracker.tsx",lineNumber:34,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/MinimizedJobTracker.tsx",lineNumber:32,columnNumber:11},this),t.jsxDEV("div",{className:"flex items-center gap-1",children:[t.jsxDEV(me,{variant:"ghost",size:"icon",onClick:s,className:"h-6 w-6","data-testid":"button-expand-tracker",children:t.jsxDEV(rA,{className:"h-3 w-3"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/MinimizedJobTracker.tsx",lineNumber:44,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/MinimizedJobTracker.tsx",lineNumber:37,columnNumber:13},this),t.jsxDEV(me,{variant:"ghost",size:"icon",onClick:a,className:"h-6 w-6","data-testid":"button-dismiss-tracker",children:t.jsxDEV(Ri,{className:"h-3 w-3"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/MinimizedJobTracker.tsx",lineNumber:53,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/MinimizedJobTracker.tsx",lineNumber:46,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/MinimizedJobTracker.tsx",lineNumber:36,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/MinimizedJobTracker.tsx",lineNumber:31,columnNumber:9},this),t.jsxDEV(Ln,{value:e,className:"h-1"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/MinimizedJobTracker.tsx",lineNumber:58,columnNumber:9},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground mt-1 truncate",children:[e,"% - ",r]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/MinimizedJobTracker.tsx",lineNumber:59,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/MinimizedJobTracker.tsx",lineNumber:26,columnNumber:7},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/MinimizedJobTracker.tsx",lineNumber:21,columnNumber:5},this)}const cde={all:["knowledge","similar-strategies"],bySession:e=>["knowledge","similar-strategies",e]};function ude(e,r){return yt({queryKey:cde.bySession(e),queryFn:async()=>{const n=await fetch(`/api/knowledge/similar-strategies?sessionId=${e}`);if(!n.ok){const s=await n.json();throw new Error(s.error||"Failed to fetch similar strategies")}return await n.json()},enabled:(r==null?void 0:r.enabled)!==void 0?r.enabled:!!e,staleTime:5*60*1e3,gcTime:10*60*1e3})}const mde={all:["knowledge","incentives"],bySession:e=>["knowledge","incentives",e]};function dde(e,r){return yt({queryKey:mde.bySession(e),queryFn:async()=>{const n=await fetch(`/api/knowledge/incentives?sessionId=${e}`);if(!n.ok){const s=await n.json();throw new Error(s.error||"Failed to fetch incentives")}return await n.json()},enabled:(r==null?void 0:r.enabled)!==void 0?r.enabled:!!e,staleTime:10*60*1e3,gcTime:30*60*1e3})}function hde(){var Ee;const[,e]=Xn("/strategy-workspace/prioritization/:sessionId/:versionNumber"),[,r]=or(),{toast:n}=ur(),{runningJobs:s}=mV(),a=e==null?void 0:e.sessionId,l=a??"",c=e!=null&&e.versionNumber?parseInt(e.versionNumber,10):NaN,u=typeof window<"u"&&l?parseInt(window.localStorage.getItem(`strategic-versionNumber-${l}`)||"",10):NaN,d=!Number.isNaN(c)&&c>0?c:!Number.isNaN(u)&&u>0?u:1;v.useEffect(()=>{typeof window>"u"||!l||!d||Number.isNaN(d)||window.localStorage.setItem(`strategic-versionNumber-${l}`,d.toString())},[l,d]);const[h,g]=v.useState(!0),p=s.find(ie=>ie.jobType==="epm_generation"&&ie.sessionId===l),N=()=>{var ie;if((ie=p==null?void 0:p.inputData)!=null&&ie.strategyName){const ve=p.inputData.strategyName;return ve.length>35?ve.substring(0,32)+"...":ve}return"EPM Generation"},{data:b,isLoading:D,error:E}=yt({queryKey:["/api/strategic-consultant/versions",l,d],enabled:!!a}),j=b==null?void 0:b.version,P=j==null?void 0:j.id,{data:w,isLoading:k}=ude(l,{enabled:!!l}),{data:V,isLoading:S}=dde(l,{enabled:!!l}),[R,M]=v.useState([]),[T,A]=v.useState(!1),[F,L]=v.useState(!1),[$,W]=v.useState(0),[O,Y]=v.useState(""),[H,q]=v.useState(null),z=v.useRef(null),[G,ee]=v.useState(null),[K,be]=v.useState(()=>{try{const ie=localStorage.getItem("dismissedEPMJobs");return ie?new Set(JSON.parse(ie)):new Set}catch{return new Set}}),_e=ie=>{be(ve=>{const ne=new Set(ve).add(ie);return localStorage.setItem("dismissedEPMJobs",JSON.stringify(Array.from(ne))),ne})},{data:oe,refetch:fe}=yt({queryKey:["/api/background-jobs/by-session",l],enabled:!!l,queryFn:async()=>{const ie=await fetch(`/api/background-jobs/by-session/${l}`);if(!ie.ok)throw new Error("Failed to fetch job");return ie.json()},retry:!1});v.useEffect(()=>{var le;if(!j)return;const ie=[],ve=((le=j.decisions)==null?void 0:le.decisions)||[],ne=j.selectedDecisions||{};ve.forEach(Ue=>{const bt=ne[Ue.id];if(bt){const ht=Ue.options.find(Mt=>Mt.id===bt);ht&&ie.push({id:ht.id,title:ht.label,description:ht.description,isRecommended:ht.recommended||!1,decisionId:Ue.id})}}),M(ie)},[j]),v.useEffect(()=>{var le,Ue,bt,ht;if(!(oe!=null&&oe.job))return;const ie=oe.job;if(console.log("[Reconnection] Found existing job:",ie),K.has(ie.id)){console.log("[Reconnection] Job already dismissed, skipping");return}if(ie.jobType!=="epm_generation")return;const ve=(le=ie.inputData)==null?void 0:le.versionNumber;if(ve!==d){console.log(`[Reconnection] Job version (${ve}) doesn't match current version (${d}), skipping`);return}const ne=(Ue=ie.inputData)==null?void 0:Ue.progressId;if(ie.status==="completed"){const Mt=(bt=ie.resultData)==null?void 0:bt.programId,Kt=((ht=ie.resultData)==null?void 0:ht.overallConfidence)||0;Mt&&(ee({programId:Mt,confidence:Kt}),n({title:"EPM Generation Complete",description:`Your EPM program finished generating while you were away (${Math.round(Kt*100)}% confidence)`}))}else ie.status==="running"&&ne?(console.log("[Reconnection] Reconnecting to running job with progressId:",ne),q(ne),A(!0),n({title:"Resuming EPM Generation",description:"Reconnecting to your in-progress EPM generation..."})):ie.status==="failed"&&!K.has(ie.id)&&(n({title:"EPM Generation Failed",description:ie.errorMessage||"The EPM generation encountered an error",variant:"destructive"}),_e(ie.id))},[oe,K,n,_e]);const Ae=()=>{G&&(oe!=null&&oe.job)&&(_e(oe.job.id),ee(null),r(`/strategy-workspace/epm/${G.programId}`))},ge=(Ee=j==null?void 0:j.analysis)==null?void 0:Ee.bmc_research,Pe=(ge==null?void 0:ge.keyInsights)||[],ze=(ge==null?void 0:ge.criticalGaps)||[];v.useEffect(()=>{if(!H)return;const ie=new EventSource(`/api/strategy-workspace/epm/progress/${H}`);z.current=ie;let ve=setTimeout(()=>{ie.close(),A(!1),n({title:"Generation Timeout",description:"EPM generation took too long. Please try again or check your results later.",variant:"destructive"})},10*60*1e3);return ie.onmessage=ne=>{clearTimeout(ve),ve=setTimeout(()=>{ie.close(),A(!1),n({title:"Generation Timeout",description:"No progress updates received. The generation may have completed - check your programs list.",variant:"destructive"})},10*60*1e3);const le=JSON.parse(ne.data);if(console.log("[Progress] Received SSE event:",le),le.progress!==void 0&&W(le.progress),(le.description||le.message)&&Y(le.description||le.message),window.__updatePlanningProgress&&window.__updatePlanningProgress(le),le.type==="complete"){if(clearTimeout(ve),ie.close(),A(!1),!le.epmProgramId){console.error("[Progress]  EPM completed but no program ID returned!",le),n({title:"EPM Generation Issue",description:"EPM was generated but could not be retrieved. Please check your programs list.",variant:"destructive"});return}console.log("[Progress]  EPM generation complete with ID:",le.epmProgramId),n({title:"EPM Program Generated",description:`Created with ${Math.round(parseFloat(le.overallConfidence||"0")*100)}% confidence`}),console.log("[Progress] Navigating to:",`/strategy-workspace/epm/${le.epmProgramId}`),r(`/strategy-workspace/epm/${le.epmProgramId}`)}le.type==="error"&&(clearTimeout(ve),ie.close(),A(!1),n({title:"EPM Generation Failed",description:le.message||"Please try again",variant:"destructive"}))},ie.onerror=()=>{clearTimeout(ve),ie.close(),A(!1),n({title:"Connection Error",description:"Lost connection to progress updates. The generation may still be running - check your programs list.",variant:"destructive"})},()=>{clearTimeout(ve),ie.close()}},[H,r,n]);const We=Qr({mutationFn:async()=>{if(!P)throw new Error("Strategy version ID not available");const ie=R.map(ne=>ne.id);return(await Zt("POST","/api/strategy-workspace/epm/generate",{strategyVersionId:P,prioritizedOrder:ie})).json()},onSuccess:ie=>{ie.progressId?(q(ie.progressId),A(!0)):(n({title:"EPM Program Generated",description:`Created with ${Math.round(parseFloat(ie.overallConfidence)*100)}% confidence`}),r(`/strategy-workspace/epm/${ie.epmProgramId}`))},onError:ie=>{n({title:"Failed to generate EPM",description:ie.message||"Please try again",variant:"destructive"})}}),Re=(ie,ve)=>{const ne=[...R],le=ve==="up"?ie-1:ie+1;le<0||le>=ne.length||([ne[ie],ne[le]]=[ne[le],ne[ie]],M(ne))};return D?t.jsxDEV(st,{title:"Prioritize Strategic Initiatives",subtitle:"Organize your strategic choices by priority",children:t.jsxDEV("div",{className:"flex items-center justify-center py-12",children:t.jsxDEV("div",{className:"text-center space-y-4",children:[t.jsxDEV(lt,{className:"h-8 w-8 animate-spin mx-auto text-primary"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:448,columnNumber:13},this),t.jsxDEV("p",{className:"text-muted-foreground",children:"Loading strategy data..."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:449,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:447,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:446,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:442,columnNumber:7},this):E||!b?t.jsxDEV(st,{title:"Prioritize Strategic Initiatives",subtitle:"Organize your strategic choices by priority",children:t.jsxDEV("div",{className:"max-w-2xl mx-auto py-12",children:t.jsxDEV(it,{variant:"destructive",children:[t.jsxDEV(Dt,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:464,columnNumber:13},this),t.jsxDEV(er,{children:"Error Loading Data"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:465,columnNumber:13},this),t.jsxDEV(at,{children:E instanceof Error?E.message:"Failed to load strategy data"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:466,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:463,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:462,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:458,columnNumber:7},this):R.length===0&&j?t.jsxDEV(st,{title:"Prioritize Strategic Initiatives",subtitle:"Organize your strategic choices by priority",children:t.jsxDEV("div",{className:"max-w-2xl mx-auto py-12",children:[t.jsxDEV(it,{children:[t.jsxDEV(Dt,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:483,columnNumber:13},this),t.jsxDEV(er,{children:"No Strategic Decisions"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:484,columnNumber:13},this),t.jsxDEV(at,{children:"No strategic decisions found. Please complete the decision-making process first."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:485,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:482,columnNumber:11},this),t.jsxDEV("div",{className:"mt-4",children:t.jsxDEV(me,{onClick:()=>r(`/strategy-workspace/decisions/${l}/${d}`),className:"w-full sm:w-auto","data-testid":"button-go-decisions",children:"Go to Decisions"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:490,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:489,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:481,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:477,columnNumber:7},this):t.jsxDEV(st,{title:"Prioritize Strategic Initiatives",subtitle:"Drag to reorder initiatives by priority - highest priority at the top",children:t.jsxDEV("div",{className:"flex gap-6 relative",children:[t.jsxDEV("div",{className:"flex-1 space-y-6 min-w-0",children:[t.jsxDEV(Z,{className:"border-primary",children:t.jsxDEV(de,{children:[t.jsxDEV(pe,{className:"flex items-center gap-2",children:[t.jsxDEV(Dn,{className:"h-5 w-5 text-primary"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:515,columnNumber:17},this),"Finalize Your Strategic Priorities"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:514,columnNumber:15},this),t.jsxDEV(He,{children:"Your strategic choices are listed below. Use the arrows to reorder them by priority. The top item will become your primary focus in the EPM program."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:518,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:513,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:512,columnNumber:11},this),t.jsxDEV(Z,{children:[t.jsxDEV(de,{children:[t.jsxDEV(pe,{children:"Strategic Initiatives (in priority order)"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:528,columnNumber:13},this),t.jsxDEV(He,{children:[R.length," ",R.length===1?"initiative":"initiatives"," selected"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:529,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:527,columnNumber:11},this),t.jsxDEV(te,{className:"space-y-3",children:R.map((ie,ve)=>t.jsxDEV("div",{className:"flex items-start gap-4 p-4 border rounded-lg bg-card hover:bg-accent/5 transition-colors","data-testid":`priority-item-${ve}`,children:[t.jsxDEV("div",{className:"flex flex-col items-center gap-1 min-w-[3rem]",children:[t.jsxDEV(se,{variant:ve===0?"default":"outline",className:"text-lg font-bold",children:["#",ve+1]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:542,columnNumber:19},this),t.jsxDEV("div",{className:"flex flex-col gap-1",children:[t.jsxDEV(me,{variant:"ghost",size:"sm",onClick:()=>Re(ve,"up"),disabled:ve===0,className:"h-6 w-6 p-0","data-testid":`button-move-up-${ve}`,children:t.jsxDEV(vX,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:554,columnNumber:23},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:546,columnNumber:21},this),t.jsxDEV(me,{variant:"ghost",size:"sm",onClick:()=>Re(ve,"down"),disabled:ve===R.length-1,className:"h-6 w-6 p-0","data-testid":`button-move-down-${ve}`,children:t.jsxDEV(xX,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:564,columnNumber:23},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:556,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:545,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:541,columnNumber:17},this),t.jsxDEV("div",{className:"flex-1",children:[t.jsxDEV("div",{className:"flex items-center gap-2 mb-1",children:[t.jsxDEV("h4",{className:"font-semibold",children:ie.title},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:572,columnNumber:21},this),ie.isRecommended&&t.jsxDEV(se,{variant:"default",className:"text-xs",children:"AI Recommended"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:574,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:571,columnNumber:19},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:ie.description},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:579,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:570,columnNumber:17},this)]},`${ie.decisionId}-${ie.id}`,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:535,columnNumber:15},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:533,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:526,columnNumber:9},this),G?t.jsxDEV(Z,{className:"border-2 border-green-500",children:t.jsxDEV(te,{className:"p-6",children:t.jsxDEV("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[t.jsxDEV("div",{className:"flex-1",children:[t.jsxDEV("div",{className:"flex items-center gap-2 mb-1",children:[t.jsxDEV(Dn,{className:"h-5 w-5 text-green-500"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:593,columnNumber:21},this),t.jsxDEV("h3",{className:"font-semibold",children:"EPM Program Generated"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:594,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:592,columnNumber:19},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:["Your EPM program was generated with ",Math.round(G.confidence*100),"% confidence. Click below to view the results."]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:596,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:591,columnNumber:17},this),t.jsxDEV(me,{size:"lg",onClick:Ae,className:"w-full sm:w-auto","data-testid":"button-view-epm",children:"View EPM Program"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:601,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:590,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:589,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:588,columnNumber:11},this):t.jsxDEV(Z,{className:"border-2 border-primary",children:t.jsxDEV(te,{className:"p-6",children:t.jsxDEV("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[t.jsxDEV("div",{className:"flex-1",children:[t.jsxDEV("h3",{className:"font-semibold mb-1",children:"Ready to Generate Your EPM Program?"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:617,columnNumber:19},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Your strategic initiatives will be converted into a complete EPM program with workstreams structured according to your priority order."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:618,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:616,columnNumber:17},this),t.jsxDEV(me,{size:"lg",onClick:()=>We.mutate(),disabled:We.isPending||R.length===0,className:"w-full sm:w-auto","data-testid":"button-generate-epm",children:We.isPending?t.jsxDEV(t.Fragment,{children:[t.jsxDEV(lt,{className:"mr-2 h-4 w-4 animate-spin"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:632,columnNumber:23},this),"Generating..."]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:631,columnNumber:21},this):"Generate EPM Program"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:623,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:615,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:614,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:613,columnNumber:11},this),t.jsxDEV("div",{className:"flex justify-start",children:t.jsxDEV(me,{variant:"outline",onClick:()=>r(`/strategy-workspace/decisions/${l}/${d}`),"data-testid":"button-back-decisions",children:" Back to Decisions"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:646,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:645,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:510,columnNumber:9},this),T&&!F&&t.jsxDEV(t.Fragment,{children:[t.jsxDEV("div",{className:"fixed inset-0 bg-black/80 z-40","data-testid":"progress-tracker-backdrop"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:659,columnNumber:13},this),t.jsxDEV(Z,{className:"fixed top-4 bottom-4 right-4 w-96 shadow-lg z-50 flex flex-col max-h-[calc(100vh-2rem)] overflow-hidden","data-testid":"progress-tracker-card",children:[t.jsxDEV(de,{className:"flex-shrink-0",children:t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV(pe,{className:"text-lg flex items-center gap-2 flex-1 min-w-0",children:[t.jsxDEV(lt,{className:"h-5 w-5 animate-spin flex-shrink-0"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:667,columnNumber:19},this),t.jsxDEV("span",{className:"truncate",children:N()},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:668,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:666,columnNumber:17},this),t.jsxDEV(me,{variant:"ghost",size:"icon",onClick:()=>L(!0),"data-testid":"button-minimize-progress",children:t.jsxDEV(Ri,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:676,columnNumber:19},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:670,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:665,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:664,columnNumber:13},this),t.jsxDEV(te,{className:"space-y-4 overflow-y-auto flex-1",children:[t.jsxDEV(ode,{},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:681,columnNumber:15},this),t.jsxDEV(it,{children:[t.jsxDEV(bo,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:684,columnNumber:17},this),t.jsxDEV(at,{children:"You can safely navigate away. We'll notify you when it's ready."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:685,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:683,columnNumber:15},this),t.jsxDEV("div",{className:"flex gap-2",children:t.jsxDEV(me,{variant:"outline",onClick:()=>{L(!0),n({title:"Generation continues in background",description:"Check the Programs menu for completion status"})},className:"flex-1","data-testid":"button-navigate-away",children:"Navigate Away"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:691,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:690,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:680,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:663,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:658,columnNumber:11},this),T&&F&&t.jsxDEV(lde,{progress:$,message:O,title:N(),onExpand:()=>L(!1),onDismiss:()=>{L(!1),A(!1)}},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:713,columnNumber:11},this),t.jsxDEV("div",{className:`hidden lg:block transition-all duration-300 ${h?"w-80":"w-0"}`,children:h&&t.jsxDEV("div",{className:"space-y-4 sticky top-4",children:[Pe.length>0&&t.jsxDEV(Z,{children:[t.jsxDEV(de,{children:t.jsxDEV(pe,{className:"text-sm flex items-center gap-2",children:[t.jsxDEV(yn,{className:"h-4 w-4 text-yellow-500"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:733,columnNumber:23},this),"Key Insights"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:732,columnNumber:21},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:731,columnNumber:19},this),t.jsxDEV(te,{children:t.jsxDEV("ul",{className:"space-y-2 text-xs",children:Pe.map((ie,ve)=>t.jsxDEV("li",{className:"flex items-start gap-2",children:[t.jsxDEV("span",{className:"text-primary font-bold mt-0.5",children:""},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:741,columnNumber:27},this),t.jsxDEV("span",{className:"text-muted-foreground",children:ie},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:742,columnNumber:27},this)]},ve,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:740,columnNumber:25},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:738,columnNumber:21},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:737,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:730,columnNumber:17},this),ze.length>0&&t.jsxDEV(Z,{children:[t.jsxDEV(de,{children:t.jsxDEV(pe,{className:"text-sm flex items-center gap-2",children:[t.jsxDEV(qr,{className:"h-4 w-4 text-orange-500"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:754,columnNumber:23},this),"Critical Gaps"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:753,columnNumber:21},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:752,columnNumber:19},this),t.jsxDEV(te,{children:t.jsxDEV("ul",{className:"space-y-2 text-xs",children:ze.map((ie,ve)=>t.jsxDEV("li",{className:"flex items-start gap-2",children:[t.jsxDEV("span",{className:"text-orange-500 font-bold mt-0.5",children:""},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:762,columnNumber:27},this),t.jsxDEV("span",{className:"text-muted-foreground",children:ie},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:763,columnNumber:27},this)]},ve,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:761,columnNumber:25},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:759,columnNumber:21},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:758,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:751,columnNumber:17},this),t.jsxDEV(Z,{"data-testid":"card-similar-strategies",children:[t.jsxDEV(de,{children:t.jsxDEV(pe,{className:"text-sm flex items-center gap-2",children:[t.jsxDEV(cn,{className:"h-4 w-4 text-blue-500"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:775,columnNumber:21},this),"Similar Strategies"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:774,columnNumber:19},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:773,columnNumber:17},this),t.jsxDEV(te,{children:k?t.jsxDEV("div",{className:"space-y-3","data-testid":"skeleton-similar-strategies",children:[t.jsxDEV(Jt,{className:"h-16 w-full"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:782,columnNumber:23},this),t.jsxDEV(Jt,{className:"h-16 w-full"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:783,columnNumber:23},this),t.jsxDEV(Jt,{className:"h-16 w-full"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:784,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:781,columnNumber:21},this):w!=null&&w.similarJourneys&&w.similarJourneys.length>0?t.jsxDEV("div",{className:"space-y-2",children:w.similarJourneys.map((ie,ve)=>t.jsxDEV("div",{className:"p-2 bg-muted/30 rounded-md hover:bg-muted/50 transition-colors","data-testid":`similar-journey-${ve}`,children:t.jsxDEV("div",{className:"flex items-start justify-between gap-2",children:[t.jsxDEV("div",{className:"flex-1 min-w-0",children:[t.jsxDEV("p",{className:"text-xs font-medium truncate",children:[ie.journeyType.toUpperCase()," Journey"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:796,columnNumber:31},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground mt-0.5",children:[Math.round(ie.similarity*100),"% match"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:799,columnNumber:31},this),ie.matchedFactors&&ie.matchedFactors.length>0&&t.jsxDEV("div",{className:"flex flex-wrap gap-1 mt-1",children:ie.matchedFactors.map((ne,le)=>t.jsxDEV(se,{variant:"outline",className:"text-[10px] px-1 py-0",children:ne},le,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:805,columnNumber:37},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:803,columnNumber:33},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:795,columnNumber:29},this),t.jsxDEV("a",{href:`/strategy-workspace/${ie.sessionId}`,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:text-primary/80","data-testid":`link-journey-${ve}`,children:t.jsxDEV(Vi,{className:"h-3 w-3"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:819,columnNumber:31},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:812,columnNumber:29},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:794,columnNumber:27},this)},ie.sessionId,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:789,columnNumber:25},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:787,columnNumber:21},this):t.jsxDEV("div",{className:"text-center py-4","data-testid":"empty-similar-strategies",children:t.jsxDEV("p",{className:"text-xs text-muted-foreground",children:(w==null?void 0:w.message)||"No similar strategies found"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:827,columnNumber:23},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:826,columnNumber:21},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:779,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:772,columnNumber:15},this),t.jsxDEV(Z,{"data-testid":"card-incentives",children:[t.jsxDEV(de,{children:t.jsxDEV(pe,{className:"text-sm flex items-center gap-2",children:[t.jsxDEV(CX,{className:"h-4 w-4 text-green-500"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:839,columnNumber:21},this),"Applicable Incentives"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:838,columnNumber:19},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:837,columnNumber:17},this),t.jsxDEV(te,{children:S?t.jsxDEV("div",{className:"space-y-3","data-testid":"skeleton-incentives",children:[t.jsxDEV(Jt,{className:"h-12 w-full"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:846,columnNumber:23},this),t.jsxDEV(Jt,{className:"h-12 w-full"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:847,columnNumber:23},this),t.jsxDEV(Jt,{className:"h-12 w-full"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:848,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:845,columnNumber:21},this):V!=null&&V.incentives&&V.incentives.length>0?t.jsxDEV("div",{className:"space-y-2",children:V.incentives.slice(0,5).map((ie,ve)=>t.jsxDEV("div",{className:"p-2 bg-muted/30 rounded-md hover:bg-muted/50 transition-colors","data-testid":`incentive-${ve}`,children:t.jsxDEV("div",{className:"flex items-start justify-between gap-2",children:[t.jsxDEV("div",{className:"flex-1 min-w-0",children:[t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(se,{variant:ie.type==="grant"?"default":"secondary",className:"text-[10px] px-1 py-0",children:ie.type.replace("_"," ")},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:861,columnNumber:33},this),t.jsxDEV("p",{className:"text-xs font-medium truncate",children:ie.name},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:867,columnNumber:33},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:860,columnNumber:31},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-2",children:ie.eligibilitySummary},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:871,columnNumber:31},this),ie.amount&&t.jsxDEV("p",{className:"text-xs font-semibold text-green-600 dark:text-green-400 mt-1",children:ie.amount},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:875,columnNumber:33},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:859,columnNumber:29},this),ie.link&&t.jsxDEV("a",{href:ie.link,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:text-primary/80","data-testid":`link-incentive-${ve}`,children:t.jsxDEV(Vi,{className:"h-3 w-3"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:888,columnNumber:33},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:881,columnNumber:31},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:858,columnNumber:27},this)},ie.incentiveId,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:853,columnNumber:25},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:851,columnNumber:21},this):t.jsxDEV("div",{className:"text-center py-4","data-testid":"empty-incentives",children:t.jsxDEV("p",{className:"text-xs text-muted-foreground",children:(V==null?void 0:V.message)||"No applicable incentives found"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:897,columnNumber:23},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:896,columnNumber:21},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:843,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:836,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:728,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:726,columnNumber:9},this),t.jsxDEV(me,{variant:"outline",size:"icon",onClick:()=>g(!h),className:"hidden lg:flex fixed right-4 top-24 z-40 shadow-lg","data-testid":"button-toggle-sidebar",children:h?t.jsxDEV(Wu,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:917,columnNumber:13},this):t.jsxDEV(J7,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:919,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:909,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:508,columnNumber:7},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/PrioritizationPage.tsx",lineNumber:504,columnNumber:5},this)}function Kg(){const{data:e,isLoading:r}=yt({queryKey:["/api/strategic-consultant/config/features"],staleTime:3e5,retry:1});return{journeyRegistryV2:(e==null?void 0:e.journeyRegistryV2)??!1,knowledgeGraph:(e==null?void 0:e.knowledgeGraph)??!1,isLoading:r}}const fde={all:["knowledge-insights"],bySession:e=>["knowledge-insights",e]};function W0(e,r){return yt({queryKey:fde.bySession(e),queryFn:async()=>{if(!e)return{success:!1,hasConsent:!1,similarStrategies:[],incentives:[],evidence:[],dataClassification:"user-scoped",message:"No session ID provided"};const n=await fetch(`/api/knowledge/insights/${e}`);if(!n.ok){const s=await n.json();throw new Error(s.error||"Failed to fetch insights")}return await n.json()},enabled:(r==null?void 0:r.enabled)!==void 0?r.enabled:!!e,staleTime:6e4,gcTime:5*60*1e3})}function nO({title:e="Knowledge Graph Insights",insights:r,loading:n=!1,error:s=null,hasConsent:a=!0,dataClassification:l="user-scoped"}){if(n)return t.jsxDEV(Z,{"data-testid":"card-knowledge-insights-loading",children:[t.jsxDEV(de,{children:[t.jsxDEV(pe,{className:"flex items-center gap-2",children:[t.jsxDEV(yn,{className:"h-5 w-5"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:38,columnNumber:13},this),e]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:37,columnNumber:11},this),t.jsxDEV(He,{children:"Loading insights from knowledge graph..."},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:41,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:36,columnNumber:9},this),t.jsxDEV(te,{children:t.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsxDEV("div",{className:"space-y-3",children:[t.jsxDEV(Jt,{className:"h-4 w-32"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:46,columnNumber:15},this),t.jsxDEV(Jt,{className:"h-20 w-full"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:47,columnNumber:15},this),t.jsxDEV(Jt,{className:"h-20 w-full"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:48,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:45,columnNumber:13},this),t.jsxDEV("div",{className:"space-y-3",children:[t.jsxDEV(Jt,{className:"h-4 w-32"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:51,columnNumber:15},this),t.jsxDEV(Jt,{className:"h-20 w-full"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:52,columnNumber:15},this),t.jsxDEV(Jt,{className:"h-20 w-full"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:53,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:50,columnNumber:13},this),t.jsxDEV("div",{className:"space-y-3",children:[t.jsxDEV(Jt,{className:"h-4 w-32"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:56,columnNumber:15},this),t.jsxDEV(Jt,{className:"h-20 w-full"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:57,columnNumber:15},this),t.jsxDEV(Jt,{className:"h-20 w-full"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:58,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:55,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:44,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:43,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:35,columnNumber:7},this);if(s)return t.jsxDEV(Z,{"data-testid":"card-knowledge-insights-error",children:[t.jsxDEV(de,{children:t.jsxDEV(pe,{className:"flex items-center gap-2",children:[t.jsxDEV(Dt,{className:"h-5 w-5"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:72,columnNumber:13},this),e]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:71,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:70,columnNumber:9},this),t.jsxDEV(te,{children:t.jsxDEV(it,{variant:"destructive",children:[t.jsxDEV(Dt,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:78,columnNumber:13},this),t.jsxDEV(at,{children:["Failed to load insights. ",s.message]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:79,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:77,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:76,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:69,columnNumber:7},this);if(!a)return t.jsxDEV(Z,{"data-testid":"card-knowledge-insights-no-consent",children:[t.jsxDEV(de,{children:[t.jsxDEV(pe,{className:"flex items-center gap-2",children:[t.jsxDEV(yn,{className:"h-5 w-5"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:94,columnNumber:13},this),e]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:93,columnNumber:11},this),t.jsxDEV(He,{children:"Insights not available"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:97,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:92,columnNumber:9},this),t.jsxDEV(te,{children:t.jsxDEV(it,{children:[t.jsxDEV(Dt,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:101,columnNumber:13},this),t.jsxDEV(at,{children:"Knowledge Graph insights are not available. Data sharing consent may be required."},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:102,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:100,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:99,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:91,columnNumber:7},this);const c=(r==null?void 0:r.similarStrategies)||[],u=(r==null?void 0:r.incentives)||[],d=(r==null?void 0:r.evidence)||[];if(c.length===0&&u.length===0&&d.length===0)return t.jsxDEV(Z,{"data-testid":"card-knowledge-insights-empty",children:[t.jsxDEV(de,{children:[t.jsxDEV(pe,{className:"flex items-center gap-2",children:[t.jsxDEV(yn,{className:"h-5 w-5"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:121,columnNumber:13},this),e]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:120,columnNumber:11},this),t.jsxDEV(He,{children:"No insights available yet"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:124,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:119,columnNumber:9},this),t.jsxDEV(te,{children:t.jsxDEV(it,{children:[t.jsxDEV(Dt,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:128,columnNumber:13},this),t.jsxDEV(at,{children:"No similar strategies, incentives, or evidence found at this time. Check back later as more data becomes available."},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:129,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:127,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:126,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:118,columnNumber:7},this);const h=p=>{try{return bc(Ire(p),"MMM d, yyyy")}catch{return p}},g=p=>`${Math.round(p*100)}%`;return t.jsxDEV(Z,{"data-testid":"card-knowledge-insights",children:[t.jsxDEV(de,{children:t.jsxDEV("div",{className:"flex items-start justify-between",children:[t.jsxDEV("div",{children:[t.jsxDEV(pe,{className:"flex items-center gap-2",children:[t.jsxDEV(yn,{className:"h-5 w-5"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:158,columnNumber:15},this),e]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:157,columnNumber:13},this),t.jsxDEV(He,{children:"AI-powered insights from strategic analysis"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:161,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:156,columnNumber:11},this),l==="user-scoped"&&t.jsxDEV(se,{variant:"secondary",className:"flex items-center gap-1","data-testid":"badge-privacy",children:[t.jsxDEV(IX,{className:"h-3 w-3"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:167,columnNumber:15},this),"Private to your account"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:166,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:155,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:154,columnNumber:7},this),t.jsxDEV(te,{children:t.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsxDEV("div",{className:"space-y-4",children:[t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(cn,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:178,columnNumber:15},this),t.jsxDEV("h3",{className:"font-semibold text-sm",children:"Similar Strategies"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:179,columnNumber:15},this),c.length>0&&t.jsxDEV(se,{variant:"secondary","data-testid":"badge-similar-count",children:c.length},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:181,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:177,columnNumber:13},this),c.length===0?t.jsxDEV("p",{className:"text-sm text-muted-foreground","data-testid":"text-no-similar",children:"No similar strategies found"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:188,columnNumber:15},this):t.jsxDEV("div",{className:"space-y-3",children:c.map((p,N)=>t.jsxDEV(os,{href:`/strategies/${p.strategyId}?session=${p.sessionId}`,children:t.jsxDEV("div",{className:"p-3 rounded-lg border bg-card hover:bg-accent transition-colors cursor-pointer","data-testid":`card-similar-strategy-${N}`,children:[t.jsxDEV("div",{className:"flex items-start justify-between gap-2 mb-2",children:[t.jsxDEV("p",{className:"font-medium text-sm line-clamp-2",children:p.title},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:203,columnNumber:25},this),t.jsxDEV(se,{variant:"outline",className:"text-xs shrink-0","data-testid":`badge-score-${N}`,children:[g(p.score)," match"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:206,columnNumber:25},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:202,columnNumber:23},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground mb-2 line-clamp-2","data-testid":`text-summary-${N}`,children:p.summary},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:211,columnNumber:23},this),t.jsxDEV("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-2",children:[t.jsxDEV(ys,{className:"h-3 w-3"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:216,columnNumber:25},this),t.jsxDEV("span",{"data-testid":`text-completed-${N}`,children:["Completed ",h(p.completedAt)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:217,columnNumber:25},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:215,columnNumber:23},this),t.jsxDEV("div",{className:"flex items-center gap-1 text-xs text-primary",children:[t.jsxDEV("span",{children:"View strategy"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:223,columnNumber:25},this),t.jsxDEV(Vi,{className:"h-3 w-3"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:224,columnNumber:25},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:222,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:198,columnNumber:21},this)},p.strategyId,!1,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:194,columnNumber:19},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:192,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:176,columnNumber:11},this),t.jsxDEV("div",{className:"space-y-4",children:[t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(vh,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:236,columnNumber:15},this),t.jsxDEV("h3",{className:"font-semibold text-sm",children:"Available Incentives"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:237,columnNumber:15},this),u.length>0&&t.jsxDEV(se,{variant:"secondary","data-testid":"badge-incentives-count",children:u.length},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:239,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:235,columnNumber:13},this),u.length===0?t.jsxDEV("p",{className:"text-sm text-muted-foreground","data-testid":"text-no-incentives",children:"No applicable incentives found"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:246,columnNumber:15},this):t.jsxDEV("div",{className:"space-y-3",children:u.map((p,N)=>t.jsxDEV("div",{className:"p-3 rounded-lg border bg-card","data-testid":`card-incentive-${N}`,children:[t.jsxDEV("div",{className:"flex items-start justify-between gap-2 mb-2",children:[t.jsxDEV("p",{className:"font-medium text-sm line-clamp-2",children:p.name},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:258,columnNumber:23},this),t.jsxDEV(se,{variant:"outline",className:"text-xs shrink-0","data-testid":`badge-incentive-score-${N}`,children:g(p.score)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:261,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:257,columnNumber:21},this),t.jsxDEV("div",{className:"flex items-center gap-1 mb-2",children:[t.jsxDEV(RD,{className:"h-3 w-3 text-muted-foreground"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:267,columnNumber:23},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground","data-testid":`text-jurisdiction-${N}`,children:p.jurisdiction},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:268,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:266,columnNumber:21},this),t.jsxDEV("div",{className:"flex items-center gap-1 mb-2",children:[t.jsxDEV(ys,{className:"h-3 w-3 text-muted-foreground"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:274,columnNumber:23},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground","data-testid":`text-deadline-${N}`,children:["Deadline: ",h(p.deadline)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:275,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:273,columnNumber:21},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground line-clamp-3","data-testid":`text-rationale-${N}`,children:p.rationale},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:280,columnNumber:21},this)]},p.id,!0,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:252,columnNumber:19},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:250,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:234,columnNumber:11},this),t.jsxDEV("div",{className:"space-y-4",children:[t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(Es,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:292,columnNumber:15},this),t.jsxDEV("h3",{className:"font-semibold text-sm",children:"Evidence"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:293,columnNumber:15},this),d.length>0&&t.jsxDEV(se,{variant:"secondary","data-testid":"badge-evidence-count",children:d.length},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:295,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:291,columnNumber:13},this),d.length===0?t.jsxDEV("p",{className:"text-sm text-muted-foreground","data-testid":"text-no-evidence",children:"No evidence citations found"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:302,columnNumber:15},this):t.jsxDEV("div",{className:"space-y-3",children:d.map((p,N)=>t.jsxDEV("div",{className:"p-3 rounded-lg border bg-card","data-testid":`card-evidence-${N}`,children:[t.jsxDEV("div",{className:"flex items-start justify-between gap-2 mb-2",children:[t.jsxDEV("p",{className:"font-medium text-sm line-clamp-2",children:p.title},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:314,columnNumber:23},this),t.jsxDEV(se,{variant:"outline",className:"text-xs shrink-0","data-testid":`badge-confidence-${N}`,children:g(p.confidence)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:317,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:313,columnNumber:21},this),t.jsxDEV("div",{className:"mb-2",children:t.jsxDEV(se,{variant:"secondary",className:"text-xs","data-testid":`badge-topic-${N}`,children:p.topic},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:323,columnNumber:23},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:322,columnNumber:21},this),t.jsxDEV("a",{href:p.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-xs text-primary hover:underline","data-testid":`link-evidence-${N}`,children:[t.jsxDEV("span",{className:"line-clamp-1",children:"View source"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:335,columnNumber:23},this),t.jsxDEV(Vi,{className:"h-3 w-3 shrink-0"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:336,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:328,columnNumber:21},this)]},p.referenceId,!0,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:308,columnNumber:19},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:306,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:290,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:174,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:173,columnNumber:7},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/knowledge/KnowledgeInsightsCard.tsx",lineNumber:153,columnNumber:5},this)}function Pb({icon:e,title:r,count:n,children:s,defaultOpen:a=!1,variant:l="default"}){const[c,u]=v.useState(a),d=l==="destructive"?"destructive":l==="warning"?"secondary":"default";return t.jsxDEV(_h,{open:c,onOpenChange:u,children:[t.jsxDEV(Fh,{className:"flex items-center justify-between w-full p-4 hover:bg-accent rounded-lg transition-colors",children:[t.jsxDEV("div",{className:"flex items-center gap-3",children:[t.jsxDEV(e,{className:"h-5 w-5 text-muted-foreground"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/knowledge/BMCKnowledgeCard.tsx",lineNumber:62,columnNumber:11},this),t.jsxDEV("h3",{className:"font-semibold text-sm",children:r},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/knowledge/BMCKnowledgeCard.tsx",lineNumber:63,columnNumber:11},this),t.jsxDEV(se,{variant:d,"data-testid":`badge-${r.toLowerCase().replace(/\s+/g,"-")}-count`,children:n},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/knowledge/BMCKnowledgeCard.tsx",lineNumber:64,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/knowledge/BMCKnowledgeCard.tsx",lineNumber:61,columnNumber:9},this),c?t.jsxDEV(wo,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/knowledge/BMCKnowledgeCard.tsx",lineNumber:69,columnNumber:11},this):t.jsxDEV(Wu,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/knowledge/BMCKnowledgeCard.tsx",lineNumber:71,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/knowledge/BMCKnowledgeCard.tsx",lineNumber:60,columnNumber:7},this),t.jsxDEV(Ih,{className:"px-4 pb-4",children:s},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/knowledge/BMCKnowledgeCard.tsx",lineNumber:74,columnNumber:7},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/knowledge/BMCKnowledgeCard.tsx",lineNumber:59,columnNumber:5},this)}function pde({programId:e,data:r,loading:n=!1,error:s=null}){if(n)return t.jsxDEV(Z,{"data-testid":"card-bmc-knowledge-loading",children:[t.jsxDEV(de,{children:[t.jsxDEV(pe,{className:"flex items-center gap-2",children:[t.jsxDEV(yn,{className:"h-5 w-5"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/knowledge/BMCKnowledgeCard.tsx",lineNumber:88,columnNumber:13},this),"Before You Launch"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/knowledge/BMCKnowledgeCard.tsx",lineNumber:87,columnNumber:11},this),t.jsxDEV(He,{children:"Loading knowledge graph insights..."},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/knowledge/BMCKnowledgeCard.tsx",lineNumber:91,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/knowledge/BMCKnowledgeCard.tsx",lineNumber:86,columnNumber:9},this),t.jsxDEV(te,{children:t.jsxDEV("div",{className:"space-y-4",children:[t.jsxDEV(Jt,{className:"h-16 w-full"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/knowledge/BMCKnowledgeCard.tsx",lineNumber:95,columnNumber:13},this),t.jsxDEV(Jt,{className:"h-16 w-full"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/knowledge/BMCKnowledgeCard.tsx",lineNumber:96,columnNumber:13},this),t.jsxDEV(Jt,{className:"h-16 w-full"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/knowledge/BMCKnowledgeCard.tsx",lineNumber:97,columnNumber:13},this),t.jsxDEV(Jt,{className:"h-16 w-full"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/knowledge/BMCKnowledgeCard.tsx",lineNumber:98,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/knowledge/BMCKnowledgeCard.tsx",lineNumber:94,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/knowledge/BMCKnowledgeCard.tsx",lineNumber:93,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/knowledge/BMCKnowledgeCard.tsx",lineNumber:85,columnNumber:7},this);if(s)return t.jsxDEV(Z,{"data-testid":"card-bmc-knowledge-error",children:[t.jsxDEV(de,{children:t.jsxDEV(pe,{className:"flex items-center gap-2",children:[t.jsxDEV(Dt,{className:"h-5 w-5"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/knowledge/BMCKnowledgeCard.tsx",lineNumber:111,columnNumber:13},this),"Before You Launch"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/knowledge/BMCKnowledgeCard.tsx",lineNumber:110,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/knowledge/BMCKnowledgeCard.tsx",lineNumber:109,columnNumber:9},this),t.jsxDEV(te,{children:t.jsxDEV(it,{variant:"destructive",children:[t.jsxDEV(Dt,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/knowledge/BMCKnowledgeCard.tsx",lineNumber:117,columnNumber:13},this),t.jsxDEV(at,{children:["Failed to load knowledge insights. ",s.message]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/knowledge/BMCKnowledgeCard.tsx",lineNumber:118,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/knowledge/BMCKnowledgeCard.tsx",lineNumber:116,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/knowledge/BMCKnowledgeCard.tsx",lineNumber:115,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/knowledge/BMCKnowledgeCard.tsx",lineNumber:108,columnNumber:7},this);if(!r)return null;const{userAssumptions:a,researchFindings:l,contradictions:c,criticalGaps:u}=r;return a.length>0||l.length>0||c.length>0||u.length>0?t.jsxDEV(Z,{"data-testid":"card-bmc-knowledge",children:[t.jsxDEV(de,{children:[t.jsxDEV(pe,{className:"flex items-center gap-2",children:[t.jsxDEV(yn,{className:"h-5 w-5"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/knowledge/BMCKnowledgeCard.tsx",lineNumber:148,columnNumber:11},this),"Before You Launch"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/knowledge/BMCKnowledgeCard.tsx",lineNumber:147,columnNumber:9},this),t.jsxDEV(He,{children:"Critical insights from your strategic analysis to review before execution"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/knowledge/BMCKnowledgeCard.tsx",lineNumber:151,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/knowledge/BMCKnowledgeCard.tsx",lineNumber:146,columnNumber:7},this),t.jsxDEV(te,{className:"space-y-2",children:[a.length>0&&t.jsxDEV(Pb,{icon:yn,title:"Your Assumptions",count:a.length,defaultOpen:!0,children:t.jsxDEV("div",{className:"space-y-3 mt-3",children:a.map(h=>t.jsxDEV("div",{className:"p-3 rounded-lg border bg-card","data-testid":`assumption-${h.id}`,children:[t.jsxDEV("p",{className:"text-sm font-medium mb-1",children:h.claim},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/knowledge/BMCKnowledgeCard.tsx",lineNumber:171,columnNumber:19},this),h.source&&t.jsxDEV("p",{className:"text-xs text-muted-foreground italic",children:['Source: "',h.source,'"']},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/knowledge/BMCKnowledgeCard.tsx",lineNumber:173,columnNumber:21},this),h.confidence&&t.jsxDEV(se,{variant:"secondary",className:"mt-2 text-xs",children:[h.confidence," confidence"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/knowledge/BMCKnowledgeCard.tsx",lineNumber:178,columnNumber:21},this)]},h.id,!0,{fileName:"/home/runner/workspace/client/src/components/knowledge/BMCKnowledgeCard.tsx",lineNumber:166,columnNumber:17},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/knowledge/BMCKnowledgeCard.tsx",lineNumber:164,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/knowledge/BMCKnowledgeCard.tsx",lineNumber:158,columnNumber:11},this),l.length>0&&t.jsxDEV(Pb,{icon:Gu,title:"Research Findings",count:l.length,defaultOpen:!0,children:t.jsxDEV("div",{className:"space-y-3 mt-3",children:l.map(h=>t.jsxDEV("div",{className:"p-3 rounded-lg border bg-card","data-testid":`finding-${h.id}`,children:[t.jsxDEV("p",{className:"text-sm font-medium mb-1",children:h.claim},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/knowledge/BMCKnowledgeCard.tsx",lineNumber:203,columnNumber:19},this),h.evidence&&t.jsxDEV("p",{className:"text-xs text-muted-foreground mt-1",children:h.evidence},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/knowledge/BMCKnowledgeCard.tsx",lineNumber:205,columnNumber:21},this),h.confidence&&t.jsxDEV(se,{variant:"secondary",className:"mt-2 text-xs",children:[h.confidence," confidence"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/knowledge/BMCKnowledgeCard.tsx",lineNumber:210,columnNumber:21},this)]},h.id,!0,{fileName:"/home/runner/workspace/client/src/components/knowledge/BMCKnowledgeCard.tsx",lineNumber:198,columnNumber:17},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/knowledge/BMCKnowledgeCard.tsx",lineNumber:196,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/knowledge/BMCKnowledgeCard.tsx",lineNumber:190,columnNumber:11},this),c.length>0&&t.jsxDEV(Pb,{icon:Dt,title:"Contradictions to Resolve",count:c.length,defaultOpen:!0,variant:"warning",children:t.jsxDEV("div",{className:"space-y-3 mt-3",children:c.map((h,g)=>{var p,N;return t.jsxDEV(it,{variant:"destructive","data-testid":`contradiction-${g}`,children:[t.jsxDEV(Dt,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/knowledge/BMCKnowledgeCard.tsx",lineNumber:232,columnNumber:19},this),t.jsxDEV(er,{className:"text-sm font-semibold mb-2",children:"Conflicting Information"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/knowledge/BMCKnowledgeCard.tsx",lineNumber:233,columnNumber:19},this),t.jsxDEV(at,{children:t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-xs font-medium mb-1",children:"Your assumption:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/knowledge/BMCKnowledgeCard.tsx",lineNumber:239,columnNumber:25},this),t.jsxDEV("p",{className:"text-xs",children:(p=h.userClaim)==null?void 0:p.claim},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/knowledge/BMCKnowledgeCard.tsx",lineNumber:240,columnNumber:25},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/knowledge/BMCKnowledgeCard.tsx",lineNumber:238,columnNumber:23},this),t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-xs font-medium mb-1",children:"Research finding:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/knowledge/BMCKnowledgeCard.tsx",lineNumber:243,columnNumber:25},this),t.jsxDEV("p",{className:"text-xs",children:(N=h.researchClaim)==null?void 0:N.claim},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/knowledge/BMCKnowledgeCard.tsx",lineNumber:244,columnNumber:25},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/knowledge/BMCKnowledgeCard.tsx",lineNumber:242,columnNumber:23},this),h.evidence&&t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-xs font-medium mb-1",children:"Evidence:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/knowledge/BMCKnowledgeCard.tsx",lineNumber:248,columnNumber:27},this),t.jsxDEV("p",{className:"text-xs italic",children:h.evidence},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/knowledge/BMCKnowledgeCard.tsx",lineNumber:249,columnNumber:27},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/knowledge/BMCKnowledgeCard.tsx",lineNumber:247,columnNumber:25},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/knowledge/BMCKnowledgeCard.tsx",lineNumber:237,columnNumber:21},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/knowledge/BMCKnowledgeCard.tsx",lineNumber:236,columnNumber:19},this)]},g,!0,{fileName:"/home/runner/workspace/client/src/components/knowledge/BMCKnowledgeCard.tsx",lineNumber:231,columnNumber:17},this)})},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/knowledge/BMCKnowledgeCard.tsx",lineNumber:229,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/knowledge/BMCKnowledgeCard.tsx",lineNumber:222,columnNumber:11},this),u.length>0&&t.jsxDEV(Pb,{icon:qr,title:"Critical Gaps",count:u.length,defaultOpen:!0,variant:"destructive",children:t.jsxDEV("div",{className:"space-y-2 mt-3",children:u.map((h,g)=>t.jsxDEV(it,{"data-testid":`gap-${g}`,children:[t.jsxDEV(qr,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/knowledge/BMCKnowledgeCard.tsx",lineNumber:272,columnNumber:19},this),t.jsxDEV(at,{className:"text-sm",children:h},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/knowledge/BMCKnowledgeCard.tsx",lineNumber:273,columnNumber:19},this)]},g,!0,{fileName:"/home/runner/workspace/client/src/components/knowledge/BMCKnowledgeCard.tsx",lineNumber:271,columnNumber:17},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/knowledge/BMCKnowledgeCard.tsx",lineNumber:269,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/knowledge/BMCKnowledgeCard.tsx",lineNumber:262,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/knowledge/BMCKnowledgeCard.tsx",lineNumber:155,columnNumber:7},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/knowledge/BMCKnowledgeCard.tsx",lineNumber:145,columnNumber:5},this):null}function Jr({title:e,icon:r,children:n}){return t.jsxDEV("div",{className:"space-y-3",children:[t.jsxDEV("div",{className:"flex items-center gap-2 font-semibold text-sm text-muted-foreground",children:[r&&t.jsxDEV(r,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:43,columnNumber:18},this),e]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:42,columnNumber:7},this),t.jsxDEV("div",{className:"pl-6",children:n},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:46,columnNumber:7},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:41,columnNumber:5},this)}function _a({label:e,value:r,className:n=""}){return t.jsxDEV("div",{className:`flex flex-col sm:flex-row sm:items-start gap-1 sm:gap-2 ${n}`,children:[t.jsxDEV("span",{className:"text-sm font-medium sm:min-w-[120px] flex-shrink-0",children:[e,":"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:54,columnNumber:7},this),t.jsxDEV("span",{className:"text-sm text-muted-foreground flex-1 break-words overflow-wrap-anywhere",children:r},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:55,columnNumber:7},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:53,columnNumber:5},this)}function ks({items:e,className:r=""}){return!e||e.length===0?t.jsxDEV("span",{className:"text-sm text-muted-foreground italic",children:"None specified"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:70,columnNumber:44},this):t.jsxDEV("ul",{className:`space-y-1 ${r}`,children:e.map((n,s)=>{if(typeof n=="string")return t.jsxDEV("li",{className:"text-sm flex items-start gap-2",children:[t.jsxDEV("span",{className:"text-primary mt-1",children:""},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:79,columnNumber:15},this),t.jsxDEV("span",{className:"flex-1",children:n},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:80,columnNumber:15},this)]},s,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:78,columnNumber:13},this);if(typeof n=="object"&&n!==null){const a=n.action||n.description||n.name,l=n.priority,c=n.rationale;return a?t.jsxDEV("li",{className:"text-sm flex items-start gap-2",children:[t.jsxDEV("span",{className:"text-primary mt-1",children:""},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:99,columnNumber:15},this),t.jsxDEV("div",{className:"flex-1 space-y-1",children:[t.jsxDEV("div",{className:"flex items-start gap-2",children:[t.jsxDEV("span",{children:a},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:102,columnNumber:19},this),l&&t.jsxDEV(se,{variant:l==="high"?"destructive":l==="medium"?"secondary":"outline",className:"text-xs",children:l},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:104,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:101,columnNumber:17},this),c&&t.jsxDEV("p",{className:"text-xs text-muted-foreground italic pl-4",children:c},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:110,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:100,columnNumber:15},this)]},s,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:98,columnNumber:13},this):(console.warn("List item missing text fields:",n),null)}return null})},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:73,columnNumber:5},this)}function gde({data:e}){return t.jsxDEV("div",{className:"space-y-6",children:[e.title&&t.jsxDEV("div",{className:"pb-4 border-b",children:t.jsxDEV("h2",{className:"text-2xl font-bold",children:e.title},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:132,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:131,columnNumber:9},this),t.jsxDEV(Jr,{title:"Market Opportunity",icon:cn,children:t.jsxDEV("p",{className:"text-sm",children:e.marketOpportunity},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:137,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:136,columnNumber:7},this),t.jsxDEV(Jr,{title:"Strategic Imperatives",icon:Xr,children:t.jsxDEV(ks,{items:e.strategicImperatives||[]},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:141,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:140,columnNumber:7},this),t.jsxDEV(Jr,{title:"Key Success Factors",icon:tr,children:t.jsxDEV(ks,{items:e.keySuccessFactors||[]},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:145,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:144,columnNumber:7},this),t.jsxDEV(Jr,{title:"Risk Summary",icon:qr,children:t.jsxDEV("p",{className:"text-sm",children:e.riskSummary},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:149,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:148,columnNumber:7},this),t.jsxDEV("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 pt-4 border-t",children:[t.jsxDEV(_a,{label:"Investment Required",value:e.investmentRequired},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:153,columnNumber:9},this),e.expectedOutcomes&&t.jsxDEV("div",{children:[t.jsxDEV("div",{className:"text-sm font-medium mb-2",children:"Expected Outcomes"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:156,columnNumber:13},this),t.jsxDEV("ul",{className:"list-disc list-inside space-y-1 text-sm text-foreground",children:e.expectedOutcomes.split(/[;\n]+/).filter(Boolean).map((r,n)=>t.jsxDEV("li",{children:r.trim()},n,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:162,columnNumber:19},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:157,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:155,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:152,columnNumber:7},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:129,columnNumber:5},this)}function Nde({data:e}){return!e||e.length===0?t.jsxDEV("p",{className:"text-sm text-muted-foreground italic",children:"No workstreams defined"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:178,columnNumber:12},this):t.jsxDEV("div",{className:"space-y-4",children:e.map(r=>t.jsxDEV(Z,{className:"border-l-4 border-l-primary",children:[t.jsxDEV(de,{className:"pb-3",children:[t.jsxDEV("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-2",children:[t.jsxDEV(pe,{className:"text-base flex-1 min-w-0 break-words",children:r.name},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:187,columnNumber:15},this),t.jsxDEV(se,{variant:"outline",className:"w-fit",children:[Math.round((r.confidence||0)*100),"% confidence"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:188,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:186,columnNumber:13},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground mt-1 break-words",children:r.description},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:192,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:185,columnNumber:11},this),t.jsxDEV(te,{className:"space-y-3",children:[t.jsxDEV(_a,{label:"Timeline",value:`Month ${r.startMonth} - ${r.endMonth} (${r.endMonth-r.startMonth+1} months)`},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:195,columnNumber:13},this),r.owner&&t.jsxDEV(_a,{label:"Owner",value:r.owner},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:199,columnNumber:26},this),r.deliverables&&r.deliverables.length>0&&t.jsxDEV("div",{children:[t.jsxDEV("span",{className:"text-sm font-medium",children:"Deliverables:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:203,columnNumber:17},this),t.jsxDEV("ul",{className:"mt-2 space-y-1",children:r.deliverables.map(n=>t.jsxDEV("li",{className:"text-sm ml-4 flex items-start gap-2",children:[t.jsxDEV(tr,{className:"h-4 w-4 text-primary mt-0.5"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:207,columnNumber:23},this),t.jsxDEV("div",{children:[t.jsxDEV("span",{className:"font-medium",children:n.name},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:209,columnNumber:25},this),t.jsxDEV("span",{className:"text-muted-foreground",children:[" - ",n.description]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:210,columnNumber:25},this),t.jsxDEV("span",{className:"text-muted-foreground text-xs block",children:["Due: Month ",n.dueMonth,"  ",n.effort]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:211,columnNumber:25},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:208,columnNumber:23},this)]},n.id,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:206,columnNumber:21},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:204,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:202,columnNumber:15},this),r.dependencies&&r.dependencies.length>0&&t.jsxDEV("div",{children:[t.jsxDEV("span",{className:"text-sm font-medium",children:"Dependencies:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:221,columnNumber:17},this),t.jsxDEV("div",{className:"flex flex-wrap gap-2 mt-1",children:r.dependencies.map((n,s)=>t.jsxDEV(se,{variant:"secondary",children:n},s,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:224,columnNumber:21},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:222,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:220,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:194,columnNumber:11},this)]},r.id,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:184,columnNumber:9},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:182,columnNumber:5},this)}function xde({data:e}){return t.jsxDEV("div",{className:"space-y-6",children:[t.jsxDEV("div",{className:"flex items-center gap-4",children:t.jsxDEV(se,{variant:"outline",className:"text-base px-4 py-2",children:[t.jsxDEV(ys,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:245,columnNumber:11},this),e.totalMonths," Months Total"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:244,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:243,columnNumber:7},this),t.jsxDEV(Jr,{title:"Phases",icon:qs,children:t.jsxDEV("div",{className:"space-y-3",children:e.phases.map(r=>t.jsxDEV(Z,{children:[t.jsxDEV(de,{className:"pb-3",children:[t.jsxDEV(pe,{className:"text-sm flex items-center gap-2",children:[t.jsxDEV(se,{children:r.phase},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:256,columnNumber:19},this),r.name,t.jsxDEV("span",{className:"text-xs text-muted-foreground font-normal ml-auto",children:["Months ",r.startMonth,"-",r.endMonth]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:258,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:255,columnNumber:17},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:r.description},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:262,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:254,columnNumber:15},this),t.jsxDEV(te,{children:[t.jsxDEV("div",{className:"text-sm font-medium mb-2",children:"Key Milestones:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:265,columnNumber:17},this),t.jsxDEV(ks,{items:r.keyMilestones},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:266,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:264,columnNumber:15},this)]},r.phase,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:253,columnNumber:13},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:251,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:250,columnNumber:7},this),e.criticalPath&&e.criticalPath.length>0&&t.jsxDEV(Jr,{title:"Critical Path",icon:qr,children:t.jsxDEV("div",{className:"flex flex-wrap gap-2",children:e.criticalPath.map((r,n)=>t.jsxDEV(se,{variant:"destructive",children:r},n,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:277,columnNumber:15},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:275,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:274,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:242,columnNumber:5},this)}function bde({data:e}){var r;return t.jsxDEV("div",{className:"space-y-6",children:[t.jsxDEV("div",{className:"flex items-center gap-4",children:t.jsxDEV(se,{variant:"outline",className:"text-base px-4 py-2",children:[t.jsxDEV(On,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:295,columnNumber:11},this),e.totalFTEs," Total FTEs"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:294,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:293,columnNumber:7},this),t.jsxDEV(Jr,{title:"Internal Team",icon:On,children:t.jsxDEV("div",{className:"space-y-3",children:(r=e.internalTeam)==null?void 0:r.map((n,s)=>t.jsxDEV(Z,{children:t.jsxDEV(te,{className:"pt-4",children:[t.jsxDEV("div",{className:"mb-3",children:t.jsxDEV("div",{children:[t.jsxDEV("h4",{className:"font-semibold break-words",children:n.role},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:307,columnNumber:21},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:[n.allocation,"% allocation  ",n.months," months"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:308,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:306,columnNumber:19},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:305,columnNumber:17},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV("div",{children:[t.jsxDEV("span",{className:"text-sm font-medium",children:"Skills:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:315,columnNumber:21},this),t.jsxDEV("div",{className:"flex flex-wrap gap-1 mt-1",children:n.skills.map((a,l)=>t.jsxDEV(se,{variant:"secondary",className:"text-xs",children:a},l,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:318,columnNumber:25},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:316,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:314,columnNumber:19},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground italic",children:n.justification},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:322,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:313,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:304,columnNumber:15},this)},s,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:303,columnNumber:13},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:301,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:300,columnNumber:7},this),e.externalResources&&e.externalResources.length>0&&t.jsxDEV(Jr,{title:"External Resources",icon:ul,children:t.jsxDEV("div",{className:"space-y-2",children:e.externalResources.map((n,s)=>t.jsxDEV(Z,{children:t.jsxDEV(te,{className:"pt-4",children:[t.jsxDEV("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-2 mb-2",children:[t.jsxDEV("h4",{className:"font-semibold flex-1 min-w-0 break-words",children:n.type},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:337,columnNumber:21},this),t.jsxDEV(se,{variant:"outline",className:"w-fit",children:["$",n.estimatedCost.toLocaleString()]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:338,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:336,columnNumber:19},this),t.jsxDEV("p",{className:"text-sm mb-1 break-words",children:n.description},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:340,columnNumber:19},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground",children:["Timing: ",n.timing]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:341,columnNumber:19},this),t.jsxDEV("p",{className:"text-sm italic text-muted-foreground mt-2 break-words",children:n.justification},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:342,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:335,columnNumber:17},this)},s,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:334,columnNumber:15},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:332,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:331,columnNumber:9},this),e.criticalSkills&&e.criticalSkills.length>0&&t.jsxDEV(Jr,{title:"Critical Skills",icon:Xr,children:t.jsxDEV("div",{className:"flex flex-wrap gap-2",children:e.criticalSkills.map((n,s)=>t.jsxDEV(se,{variant:"default",children:n},s,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:354,columnNumber:15},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:352,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:351,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:292,columnNumber:5},this)}function vde({data:e}){return t.jsxDEV("div",{className:"space-y-6",children:[t.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxDEV(Z,{children:t.jsxDEV(te,{className:"pt-6",children:[t.jsxDEV("div",{className:"text-sm text-muted-foreground",children:"Total Budget"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:373,columnNumber:13},this),t.jsxDEV("div",{className:"text-3xl font-bold text-primary",children:["$",e.totalBudget.toLocaleString()]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:374,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:372,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:371,columnNumber:9},this),t.jsxDEV(Z,{children:t.jsxDEV(te,{className:"pt-6",children:[t.jsxDEV("div",{className:"text-sm text-muted-foreground",children:["Contingency (",e.contingencyPercentage,"%)"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:381,columnNumber:13},this),t.jsxDEV("div",{className:"text-3xl font-bold",children:["$",e.contingency.toLocaleString()]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:382,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:380,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:379,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:370,columnNumber:7},this),t.jsxDEV(Jr,{title:"Cost Breakdown",icon:vh,children:t.jsxDEV("div",{className:"space-y-2",children:e.costBreakdown.map((r,n)=>t.jsxDEV("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 p-3 bg-muted rounded",children:[t.jsxDEV("div",{className:"flex-1 min-w-0",children:[t.jsxDEV("div",{className:"font-medium break-words",children:r.category},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:394,columnNumber:17},this),t.jsxDEV("div",{className:"text-sm text-muted-foreground break-words",children:r.description},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:395,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:393,columnNumber:15},this),t.jsxDEV("div",{className:"text-left sm:text-right flex-shrink-0",children:[t.jsxDEV("div",{className:"font-bold",children:["$",r.amount.toLocaleString()]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:398,columnNumber:17},this),t.jsxDEV("div",{className:"text-sm text-muted-foreground",children:[r.percentage,"%"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:399,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:397,columnNumber:15},this)]},n,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:392,columnNumber:13},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:390,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:389,columnNumber:7},this),e.cashFlow&&e.cashFlow.length>0&&t.jsxDEV(Jr,{title:"Cash Flow",icon:cn,children:t.jsxDEV("div",{className:"space-y-2",children:e.cashFlow.map(r=>t.jsxDEV("div",{className:"flex items-center justify-between p-2 border-b",children:[t.jsxDEV("span",{className:"font-medium",children:["Q",r.quarter]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:411,columnNumber:17},this),t.jsxDEV("div",{className:"text-right",children:[t.jsxDEV("div",{className:r.amount<0?"text-red-600":"text-green-600",children:["$",Math.abs(r.amount).toLocaleString()," ",r.amount<0?"(out)":"(in)"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:413,columnNumber:19},this),t.jsxDEV("div",{className:"text-sm text-muted-foreground",children:["Cumulative: $",r.cumulative.toLocaleString()]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:416,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:412,columnNumber:17},this)]},r.quarter,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:410,columnNumber:15},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:408,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:407,columnNumber:9},this),e.assumptions&&e.assumptions.length>0&&t.jsxDEV(Jr,{title:"Assumptions",icon:Pg,children:t.jsxDEV(ks,{items:e.assumptions},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:428,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:427,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:369,columnNumber:5},this)}function yde({data:e}){const r=n=>{switch(n){case"Financial":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"Strategic":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case"Operational":return"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200";case"Risk Mitigation":return"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-200"}};return t.jsxDEV("div",{className:"space-y-6",children:[(e.totalFinancialValue||e.roi||e.npv||e.paybackPeriod)&&t.jsxDEV("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.totalFinancialValue&&t.jsxDEV(Z,{children:t.jsxDEV(te,{className:"pt-6",children:[t.jsxDEV("div",{className:"text-sm text-muted-foreground",children:"Total Value"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:457,columnNumber:17},this),t.jsxDEV("div",{className:"text-2xl font-bold",children:["$",e.totalFinancialValue.toLocaleString()]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:458,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:456,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:455,columnNumber:13},this),e.roi&&t.jsxDEV(Z,{children:t.jsxDEV(te,{className:"pt-6",children:[t.jsxDEV("div",{className:"text-sm text-muted-foreground",children:"ROI"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:465,columnNumber:17},this),t.jsxDEV("div",{className:"text-2xl font-bold text-green-600",children:[e.roi,"%"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:466,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:464,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:463,columnNumber:13},this),e.npv&&t.jsxDEV(Z,{children:t.jsxDEV(te,{className:"pt-6",children:[t.jsxDEV("div",{className:"text-sm text-muted-foreground",children:"NPV"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:473,columnNumber:17},this),t.jsxDEV("div",{className:"text-2xl font-bold",children:["$",e.npv.toLocaleString()]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:474,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:472,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:471,columnNumber:13},this),e.paybackPeriod&&t.jsxDEV(Z,{children:t.jsxDEV(te,{className:"pt-6",children:[t.jsxDEV("div",{className:"text-sm text-muted-foreground",children:"Payback"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:481,columnNumber:17},this),t.jsxDEV("div",{className:"text-2xl font-bold",children:[e.paybackPeriod," months"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:482,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:480,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:479,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:453,columnNumber:9},this),t.jsxDEV(Jr,{title:"Benefits",icon:Xr,children:t.jsxDEV("div",{className:"space-y-3",children:e.benefits.map(n=>t.jsxDEV(Z,{children:t.jsxDEV(te,{className:"pt-4",children:[t.jsxDEV("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-2 mb-2",children:[t.jsxDEV(se,{className:r(n.category),children:n.category},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:495,columnNumber:19},this),t.jsxDEV("div",{className:"text-left sm:text-right",children:[t.jsxDEV(se,{variant:"outline",children:[Math.round(n.confidence*100),"% confidence"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:499,columnNumber:21},this),t.jsxDEV("div",{className:"text-xs text-muted-foreground mt-1",children:["Realized: Month ",n.realizationMonth]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:502,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:498,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:494,columnNumber:17},this),t.jsxDEV("p",{className:"text-sm mb-2 break-words",children:n.description},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:507,columnNumber:17},this),n.estimatedValue&&t.jsxDEV("div",{className:"text-sm font-semibold text-green-600",children:["Value: $",n.estimatedValue.toLocaleString()]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:509,columnNumber:19},this),t.jsxDEV("div",{className:"text-sm text-muted-foreground",children:[t.jsxDEV("span",{className:"font-medium",children:"Measurement:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:514,columnNumber:19},this)," ",n.measurement]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:513,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:493,columnNumber:15},this)},n.id,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:492,columnNumber:13},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:490,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:489,columnNumber:7},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:451,columnNumber:5},this)}function wde({data:e}){const r=n=>{switch(n){case"Critical":return"bg-red-100 text-red-800 border-red-300 dark:bg-red-900 dark:text-red-200 dark:border-red-700";case"High":return"bg-orange-100 text-orange-800 border-orange-300 dark:bg-orange-900 dark:text-orange-200 dark:border-orange-700";case"Medium":return"bg-yellow-100 text-yellow-800 border-yellow-300 dark:bg-yellow-900 dark:text-yellow-200 dark:border-yellow-700";case"Low":return"bg-green-100 text-green-800 border-green-300 dark:bg-green-900 dark:text-green-200 dark:border-green-700";default:return"bg-gray-100 text-gray-800 border-gray-300 dark:bg-gray-800 dark:text-gray-200 dark:border-gray-600"}};return t.jsxDEV("div",{className:"space-y-6",children:[e.topRisks&&e.topRisks.length>0&&t.jsxDEV(Jr,{title:"Top Risks",icon:qr,children:t.jsxDEV("div",{className:"space-y-3",children:e.topRisks.map(n=>t.jsxDEV(Z,{className:`border-2 ${r(n.impact)}`,children:t.jsxDEV(te,{className:"pt-4",children:[t.jsxDEV("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-2 mb-3",children:[t.jsxDEV(se,{className:r(n.impact),children:[n.impact," Impact"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:549,columnNumber:21},this),t.jsxDEV("div",{className:"text-left sm:text-right",children:[t.jsxDEV("div",{className:"text-sm font-semibold",children:["Probability: ",n.probability,"%"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:551,columnNumber:23},this),t.jsxDEV("div",{className:"text-xs text-muted-foreground",children:["Severity: ",n.severity]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:552,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:550,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:548,columnNumber:19},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV("div",{children:[t.jsxDEV("span",{className:"font-medium text-sm",children:"Risk:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:557,columnNumber:23},this),t.jsxDEV("p",{className:"text-sm break-words",children:n.description},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:558,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:556,columnNumber:21},this),t.jsxDEV("div",{children:[t.jsxDEV("span",{className:"font-medium text-sm",children:"Category:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:561,columnNumber:23},this),t.jsxDEV(se,{variant:"outline",className:"ml-2",children:n.category},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:562,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:560,columnNumber:21},this),t.jsxDEV("div",{children:[t.jsxDEV("span",{className:"font-medium text-sm",children:"Mitigation:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:565,columnNumber:23},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground break-words",children:n.mitigation},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:566,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:564,columnNumber:21},this),t.jsxDEV("div",{children:[t.jsxDEV("span",{className:"font-medium text-sm",children:"Contingency:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:569,columnNumber:23},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground break-words",children:n.contingency},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:570,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:568,columnNumber:21},this),n.owner&&t.jsxDEV("div",{className:"text-sm",children:[t.jsxDEV("span",{className:"font-medium",children:"Owner:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:574,columnNumber:25},this)," ",n.owner]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:573,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:555,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:547,columnNumber:17},this)},n.id,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:546,columnNumber:15},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:544,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:543,columnNumber:9},this),e.risks&&e.risks.length>e.topRisks.length&&t.jsxDEV(Jr,{title:"All Risks",icon:Pg,children:t.jsxDEV("div",{className:"text-sm text-muted-foreground",children:[e.risks.length," total risks identified (",e.topRisks.length," shown above as top priority)"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:587,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:586,columnNumber:9},this),e.mitigationBudget&&t.jsxDEV(Z,{children:t.jsxDEV(te,{className:"pt-6",children:[t.jsxDEV("div",{className:"text-sm text-muted-foreground",children:"Risk Mitigation Budget"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:596,columnNumber:13},this),t.jsxDEV("div",{className:"text-2xl font-bold",children:["$",e.mitigationBudget.toLocaleString()]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:597,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:595,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:594,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:541,columnNumber:5},this)}function kde({data:e}){return t.jsxDEV("div",{className:"space-y-4",children:e.gates.map(r=>t.jsxDEV(Z,{className:"border-l-4 border-l-blue-500",children:[t.jsxDEV(de,{children:t.jsxDEV(pe,{className:"flex flex-col sm:flex-row sm:items-center gap-2",children:[t.jsxDEV("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[t.jsxDEV(Y7,{className:"h-5 w-5 flex-shrink-0"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:617,columnNumber:17},this),t.jsxDEV("span",{className:"break-words",children:["Gate ",r.gate,": ",r.name]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:618,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:616,columnNumber:15},this),t.jsxDEV(se,{variant:"outline",className:"w-fit",children:["Month ",r.month]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:620,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:615,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:614,columnNumber:11},this),t.jsxDEV(te,{className:"space-y-4",children:[t.jsxDEV("div",{children:[t.jsxDEV("h4",{className:"font-semibold text-sm mb-2 text-green-700",children:" Go Criteria"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:625,columnNumber:15},this),t.jsxDEV(ks,{items:r.goCriteria},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:626,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:624,columnNumber:13},this),t.jsxDEV("div",{children:[t.jsxDEV("h4",{className:"font-semibold text-sm mb-2 text-red-700",children:" No-Go Triggers"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:630,columnNumber:15},this),t.jsxDEV(ks,{items:r.noGoTriggers},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:631,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:629,columnNumber:13},this),t.jsxDEV("div",{children:[t.jsxDEV("h4",{className:"font-semibold text-sm mb-2",children:"Required Deliverables"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:635,columnNumber:15},this),t.jsxDEV(ks,{items:r.deliverables},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:636,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:634,columnNumber:13},this),t.jsxDEV("div",{className:"pt-2 border-t",children:t.jsxDEV(se,{variant:"outline",children:[Math.round(r.confidence*100),"% confidence"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:640,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:639,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:623,columnNumber:11},this)]},r.gate,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:613,columnNumber:9},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:611,columnNumber:5},this)}function Ede({data:e}){const r=n=>{switch(n){case"Financial":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"Operational":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case"Strategic":return"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200";case"Customer":return"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-200"}};return t.jsxDEV("div",{className:"space-y-3",children:e.kpis.map(n=>t.jsxDEV(Z,{children:t.jsxDEV(te,{className:"pt-4",children:[t.jsxDEV("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3 mb-3",children:[t.jsxDEV("div",{className:"flex-1 min-w-0",children:[t.jsxDEV("div",{className:"flex flex-wrap items-center gap-2 mb-1",children:[t.jsxDEV("h4",{className:"font-semibold break-words",children:n.name},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:674,columnNumber:19},this),t.jsxDEV(se,{className:r(n.category),children:n.category},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:675,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:673,columnNumber:17},this),n.owner&&t.jsxDEV("div",{className:"text-sm text-muted-foreground break-words",children:["Owner: ",n.owner]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:678,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:672,columnNumber:15},this),t.jsxDEV(se,{variant:"outline",className:"w-fit",children:[Math.round(n.confidence*100),"% confidence"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:681,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:671,columnNumber:13},this),t.jsxDEV("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-3",children:[t.jsxDEV("div",{children:[t.jsxDEV("div",{className:"text-xs text-muted-foreground",children:"Baseline"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:688,columnNumber:17},this),t.jsxDEV("div",{className:"font-semibold",children:n.baseline},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:689,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:687,columnNumber:15},this),t.jsxDEV("div",{children:[t.jsxDEV("div",{className:"text-xs text-muted-foreground",children:"Target"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:692,columnNumber:17},this),t.jsxDEV("div",{className:"font-semibold text-green-600",children:n.target},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:693,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:691,columnNumber:15},this),t.jsxDEV("div",{children:[t.jsxDEV("div",{className:"text-xs text-muted-foreground",children:"Frequency"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:696,columnNumber:17},this),t.jsxDEV("div",{className:"font-semibold",children:n.frequency},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:697,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:695,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:686,columnNumber:13},this),t.jsxDEV("div",{className:"text-sm",children:[t.jsxDEV("span",{className:"font-medium",children:"Measurement:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:702,columnNumber:15},this),t.jsxDEV("span",{className:"text-muted-foreground ml-2 break-words",children:n.measurement},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:703,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:701,columnNumber:13},this),n.linkedBenefitIds&&n.linkedBenefitIds.length>0&&t.jsxDEV("div",{className:"mt-2 text-xs text-muted-foreground",children:["Linked to ",n.linkedBenefitIds.length," benefit(s)"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:707,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:670,columnNumber:11},this)},n.id,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:669,columnNumber:9},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:667,columnNumber:5},this)}function Dde({data:e}){const r=(n,s)=>n==="High"&&s==="High"?{label:"Manage Closely",color:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"}:n==="High"&&s!=="High"?{label:"Keep Satisfied",color:"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200"}:n!=="High"&&s==="High"?{label:"Keep Informed",color:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"}:{label:"Monitor",color:"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-200"};return t.jsxDEV("div",{className:"space-y-6",children:[t.jsxDEV(Jr,{title:"Stakeholders",icon:On,children:t.jsxDEV("div",{className:"space-y-3",children:e.stakeholders.map((n,s)=>{const a=r(n.power,n.interest);return t.jsxDEV(Z,{children:t.jsxDEV(te,{className:"pt-4",children:[t.jsxDEV("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-2 mb-3",children:[t.jsxDEV("div",{className:"flex-1 min-w-0",children:[t.jsxDEV("h4",{className:"font-semibold break-words",children:n.name},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:741,columnNumber:23},this),t.jsxDEV("div",{className:"text-sm text-muted-foreground break-words",children:n.group},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:742,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:740,columnNumber:21},this),t.jsxDEV(se,{className:`${a.color} w-fit`,children:a.label},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:744,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:739,columnNumber:19},this),t.jsxDEV("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-3",children:[t.jsxDEV("div",{children:[t.jsxDEV("span",{className:"text-xs text-muted-foreground",children:"Power:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:749,columnNumber:23},this),t.jsxDEV(se,{variant:"outline",className:"ml-2",children:n.power},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:750,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:748,columnNumber:21},this),t.jsxDEV("div",{children:[t.jsxDEV("span",{className:"text-xs text-muted-foreground",children:"Interest:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:753,columnNumber:23},this),t.jsxDEV(se,{variant:"outline",className:"ml-2",children:n.interest},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:754,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:752,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:747,columnNumber:19},this),t.jsxDEV("div",{className:"space-y-2 text-sm",children:[t.jsxDEV("div",{children:[t.jsxDEV("span",{className:"font-medium",children:"Engagement Strategy:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:760,columnNumber:23},this),t.jsxDEV("p",{className:"text-muted-foreground break-words",children:n.engagement},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:761,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:759,columnNumber:21},this),t.jsxDEV("div",{children:[t.jsxDEV("span",{className:"font-medium",children:"Communication Plan:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:764,columnNumber:23},this),t.jsxDEV("p",{className:"text-muted-foreground break-words",children:n.communicationPlan},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:765,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:763,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:758,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:738,columnNumber:17},this)},s,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:737,columnNumber:15},this)})},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:733,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:732,columnNumber:7},this),e.changeManagement&&e.changeManagement.length>0&&t.jsxDEV(Jr,{title:"Change Management",icon:cn,children:t.jsxDEV("div",{className:"space-y-2",children:e.changeManagement.map((n,s)=>t.jsxDEV(Z,{children:t.jsxDEV(te,{className:"pt-4",children:[t.jsxDEV("div",{className:"font-semibold mb-1",children:n.phase},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:781,columnNumber:19},this),t.jsxDEV("div",{className:"text-sm text-muted-foreground mb-2",children:n.months},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:782,columnNumber:19},this),t.jsxDEV(ks,{items:n.activities},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:783,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:780,columnNumber:17},this)},s,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:779,columnNumber:15},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:777,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:776,columnNumber:9},this),t.jsxDEV(Z,{children:t.jsxDEV(te,{className:"pt-6",children:[t.jsxDEV("div",{className:"text-sm text-muted-foreground",children:"Total Impacted Groups"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:793,columnNumber:11},this),t.jsxDEV("div",{className:"text-3xl font-bold",children:e.impactedGroups},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:794,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:792,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:791,columnNumber:7},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:731,columnNumber:5},this)}function jde({data:e}){const r=n=>{switch(n){case"Strategic":return"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200";case"Tactical":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case"Execution":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-200"}};return t.jsxDEV("div",{className:"space-y-6",children:[t.jsxDEV(Jr,{title:"Governance Bodies",icon:ul,children:t.jsxDEV("div",{className:"space-y-3",children:e.bodies.map((n,s)=>t.jsxDEV(Z,{children:[t.jsxDEV(de,{children:t.jsxDEV(pe,{className:"flex flex-wrap items-center gap-2 text-base",children:[t.jsxDEV("span",{className:"break-words",children:n.name},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:823,columnNumber:19},this),t.jsxDEV(se,{className:r(n.level),children:n.level},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:824,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:822,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:821,columnNumber:15},this),t.jsxDEV(te,{className:"space-y-3",children:[t.jsxDEV("div",{children:[t.jsxDEV("span",{className:"text-sm font-medium",children:"Members:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:829,columnNumber:19},this),t.jsxDEV("div",{className:"flex flex-wrap gap-1 mt-1",children:n.members.map((a,l)=>t.jsxDEV(se,{variant:"outline",children:a},l,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:832,columnNumber:23},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:830,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:828,columnNumber:17},this),t.jsxDEV(_a,{label:"Cadence",value:n.cadence},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:837,columnNumber:17},this),t.jsxDEV("div",{children:[t.jsxDEV("span",{className:"text-sm font-medium",children:"Responsibilities:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:840,columnNumber:19},this),t.jsxDEV(ks,{items:n.responsibilities},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:841,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:839,columnNumber:17},this),t.jsxDEV(_a,{label:"Escalation Path",value:n.escalationPath},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:844,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:827,columnNumber:15},this)]},s,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:820,columnNumber:13},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:818,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:817,columnNumber:7},this),t.jsxDEV(Jr,{title:"Decision Rights (RACI)",icon:tr,children:[t.jsxDEV("div",{className:"overflow-x-auto -mx-4 px-4 sm:mx-0 sm:px-0",children:t.jsxDEV("div",{className:"min-w-[600px]",children:t.jsxDEV("table",{className:"w-full text-sm",children:[t.jsxDEV("thead",{children:t.jsxDEV("tr",{className:"border-b",children:[t.jsxDEV("th",{className:"text-left p-2",children:"Decision"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:857,columnNumber:19},this),t.jsxDEV("th",{className:"text-left p-2",children:"Responsible"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:858,columnNumber:19},this),t.jsxDEV("th",{className:"text-left p-2",children:"Accountable"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:859,columnNumber:19},this),t.jsxDEV("th",{className:"text-left p-2",children:"Consulted"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:860,columnNumber:19},this),t.jsxDEV("th",{className:"text-left p-2",children:"Informed"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:861,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:856,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:855,columnNumber:15},this),t.jsxDEV("tbody",{children:e.decisionRights.map((n,s)=>t.jsxDEV("tr",{className:"border-b",children:[t.jsxDEV("td",{className:"p-2 font-medium break-words",children:n.decision},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:867,columnNumber:21},this),t.jsxDEV("td",{className:"p-2 break-words",children:n.responsible},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:868,columnNumber:21},this),t.jsxDEV("td",{className:"p-2 break-words",children:n.accountable},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:869,columnNumber:21},this),t.jsxDEV("td",{className:"p-2 break-words",children:n.consulted},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:870,columnNumber:21},this),t.jsxDEV("td",{className:"p-2 break-words",children:n.informed},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:871,columnNumber:21},this)]},s,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:866,columnNumber:19},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:864,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:854,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:853,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:852,columnNumber:9},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground mt-2 sm:hidden",children:"Scroll horizontally to view all columns "},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:878,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:851,columnNumber:7},this),e.meetingCadence&&Object.keys(e.meetingCadence).length>0&&t.jsxDEV(Jr,{title:"Meeting Cadence",icon:ys,children:t.jsxDEV("div",{className:"space-y-1",children:Object.entries(e.meetingCadence).map(([n,s],a)=>t.jsxDEV(_a,{label:n,value:s},a,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:885,columnNumber:15},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:883,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:882,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:816,columnNumber:5},this)}function Vde({data:e}){return t.jsxDEV("div",{className:"space-y-6",children:[t.jsxDEV(Jr,{title:"Quality Standards",icon:tr,children:t.jsxDEV("div",{className:"space-y-3",children:e.standards.map((r,n)=>t.jsxDEV(Z,{children:[t.jsxDEV(de,{children:t.jsxDEV(pe,{className:"text-base",children:r.area},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:906,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:905,columnNumber:15},this),t.jsxDEV(te,{className:"space-y-2",children:[t.jsxDEV(_a,{label:"Standard",value:r.standard},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:909,columnNumber:17},this),t.jsxDEV("div",{children:[t.jsxDEV("span",{className:"text-sm font-medium",children:"Acceptance Criteria:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:911,columnNumber:19},this),t.jsxDEV(ks,{items:r.acceptanceCriteria},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:912,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:910,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:908,columnNumber:15},this)]},n,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:904,columnNumber:13},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:902,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:901,columnNumber:7},this),t.jsxDEV(Jr,{title:"Quality Processes",icon:Pg,children:t.jsxDEV("div",{className:"space-y-3",children:e.processes.map((r,n)=>t.jsxDEV(Z,{children:[t.jsxDEV(de,{children:t.jsxDEV(pe,{className:"text-base",children:r.phase},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:925,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:924,columnNumber:15},this),t.jsxDEV(te,{children:t.jsxDEV(ks,{items:r.activities},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:928,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:927,columnNumber:15},this)]},n,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:923,columnNumber:13},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:921,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:920,columnNumber:7},this),t.jsxDEV(Jr,{title:"Overall Acceptance Criteria",icon:Xr,children:t.jsxDEV(ks,{items:e.acceptanceCriteria},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:936,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:935,columnNumber:7},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:900,columnNumber:5},this)}function Pde({data:e}){const r=n=>{switch(n){case"Software":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case"Services":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"Hardware":return"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-200"}};return t.jsxDEV("div",{className:"space-y-6",children:[t.jsxDEV(Z,{children:t.jsxDEV(te,{className:"pt-6",children:[t.jsxDEV("div",{className:"text-sm text-muted-foreground",children:"Total Procurement Value"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:960,columnNumber:11},this),t.jsxDEV("div",{className:"text-3xl font-bold",children:["$",e.totalProcurementValue.toLocaleString()]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:961,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:959,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:958,columnNumber:7},this),t.jsxDEV(Jr,{title:"Procurement Items",icon:zX,children:t.jsxDEV("div",{className:"space-y-3",children:e.items.map(n=>t.jsxDEV(Z,{children:t.jsxDEV(te,{className:"pt-4",children:[t.jsxDEV("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3 mb-3",children:[t.jsxDEV("div",{className:"flex-1 min-w-0",children:[t.jsxDEV("h4",{className:"font-semibold break-words mb-2",children:n.name},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:972,columnNumber:21},this),t.jsxDEV(se,{className:r(n.type),children:n.type},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:973,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:971,columnNumber:19},this),t.jsxDEV("div",{className:"text-left sm:text-right flex-shrink-0",children:[t.jsxDEV("div",{className:"font-bold text-lg",children:["$",n.estimatedValue.toLocaleString()]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:976,columnNumber:21},this),t.jsxDEV("div",{className:"text-xs text-muted-foreground",children:n.timing},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:977,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:975,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:970,columnNumber:17},this),t.jsxDEV("div",{className:"space-y-2 text-sm",children:[t.jsxDEV(_a,{label:"Purpose",value:n.purpose},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:982,columnNumber:19},this),t.jsxDEV(_a,{label:"Approval Required",value:n.approvalRequired},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:983,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:981,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:969,columnNumber:15},this)},n.id,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:968,columnNumber:13},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:966,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:965,columnNumber:7},this),e.vendorManagement&&e.vendorManagement.length>0&&t.jsxDEV(Jr,{title:"Vendor Management",icon:ul,children:t.jsxDEV(ks,{items:e.vendorManagement},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:993,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:992,columnNumber:9},this),e.policies&&e.policies.length>0&&t.jsxDEV(Jr,{title:"Procurement Policies",icon:Pg,children:t.jsxDEV(ks,{items:e.policies},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:999,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:998,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:957,columnNumber:5},this)}function Sde({data:e}){const r=n=>{switch(n){case"Critical":return"bg-red-100 text-red-800 border-red-300 dark:bg-red-900 dark:text-red-200 dark:border-red-700";case"High":return"bg-orange-100 text-orange-800 border-orange-300 dark:bg-orange-900 dark:text-orange-200 dark:border-orange-700";case"Medium":return"bg-yellow-100 text-yellow-800 border-yellow-300 dark:bg-yellow-900 dark:text-yellow-200 dark:border-yellow-700";default:return"bg-gray-100 text-gray-800 border-gray-300 dark:bg-gray-800 dark:text-gray-200 dark:border-gray-600"}};return t.jsxDEV("div",{className:"space-y-6",children:[t.jsxDEV(Jr,{title:"Failure Conditions",icon:qr,children:t.jsxDEV("div",{className:"space-y-2",children:e.failureConditions.map((n,s)=>t.jsxDEV(Z,{className:`border-2 ${r(n.severity)}`,children:t.jsxDEV(te,{className:"pt-4",children:[t.jsxDEV("div",{className:"flex items-start justify-between mb-2",children:[t.jsxDEV(se,{className:r(n.severity),children:n.severity},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:1028,columnNumber:19},this),t.jsxDEV("span",{className:"text-sm text-muted-foreground",children:["Response: ",n.responseTime]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:1031,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:1027,columnNumber:17},this),t.jsxDEV("p",{className:"text-sm",children:n.trigger},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:1035,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:1026,columnNumber:15},this)},s,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:1025,columnNumber:13},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:1023,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:1022,columnNumber:7},this),t.jsxDEV(Jr,{title:"Rollback Procedures",icon:tA,children:t.jsxDEV("div",{className:"space-y-3",children:e.rollbackProcedures.map((n,s)=>t.jsxDEV(Z,{children:[t.jsxDEV(de,{children:t.jsxDEV(pe,{className:"text-base flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[t.jsxDEV("span",{className:"break-words flex-1 min-w-0",children:n.name},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:1048,columnNumber:19},this),t.jsxDEV(se,{variant:"outline",className:"w-fit",children:["$",n.estimatedCost.toLocaleString()]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:1049,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:1047,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:1046,columnNumber:15},this),t.jsxDEV(te,{className:"space-y-3",children:[t.jsxDEV(_a,{label:"Trigger",value:n.trigger},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:1053,columnNumber:17},this),t.jsxDEV(_a,{label:"Timeline",value:n.timeline},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:1054,columnNumber:17},this),t.jsxDEV("div",{children:[t.jsxDEV("span",{className:"text-sm font-medium",children:"Actions:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:1056,columnNumber:19},this),t.jsxDEV(ks,{items:n.actions},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:1057,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:1055,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:1052,columnNumber:15},this)]},s,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:1045,columnNumber:13},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:1043,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:1042,columnNumber:7},this),e.pivotOptions&&e.pivotOptions.length>0&&t.jsxDEV(Jr,{title:"Pivot Options",icon:cn,children:t.jsxDEV("div",{className:"space-y-3",children:e.pivotOptions.map((n,s)=>t.jsxDEV(Z,{children:[t.jsxDEV(de,{children:t.jsxDEV(pe,{className:"text-base",children:n.name},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:1071,columnNumber:19},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:1070,columnNumber:17},this),t.jsxDEV(te,{className:"space-y-2",children:[t.jsxDEV("p",{className:"text-sm break-words",children:n.description},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:1074,columnNumber:19},this),t.jsxDEV("div",{children:[t.jsxDEV("span",{className:"text-sm font-medium",children:"Conditions:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:1076,columnNumber:21},this),t.jsxDEV(ks,{items:n.conditions},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:1077,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:1075,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:1073,columnNumber:17},this)]},s,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:1069,columnNumber:15},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:1067,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:1066,columnNumber:9},this),e.lessonsLearned&&e.lessonsLearned.length>0&&t.jsxDEV(Jr,{title:"Lessons Learned Framework",icon:Pg,children:t.jsxDEV(ks,{items:e.lessonsLearned},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:1088,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:1087,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/EPMFormatters.tsx",lineNumber:1021,columnNumber:5},this)}function Cde(e,r){return v.useReducer((n,s)=>r[n][s]??n,e)}var PP="ScrollArea",[sO]=As(PP),[Rde,ra]=sO(PP),iO=v.forwardRef((e,r)=>{const{__scopeScrollArea:n,type:s="hover",dir:a,scrollHideDelay:l=600,...c}=e,[u,d]=v.useState(null),[h,g]=v.useState(null),[p,N]=v.useState(null),[b,D]=v.useState(null),[E,j]=v.useState(null),[P,w]=v.useState(0),[k,V]=v.useState(0),[S,R]=v.useState(!1),[M,T]=v.useState(!1),A=Nr(r,L=>d(L)),F=jh(a);return U.jsx(Rde,{scope:n,type:s,dir:F,scrollHideDelay:l,scrollArea:u,viewport:h,onViewportChange:g,content:p,onContentChange:N,scrollbarX:b,onScrollbarXChange:D,scrollbarXEnabled:S,onScrollbarXEnabledChange:R,scrollbarY:E,onScrollbarYChange:j,scrollbarYEnabled:M,onScrollbarYEnabledChange:T,onCornerWidthChange:w,onCornerHeightChange:V,children:U.jsx(At.div,{dir:F,...c,ref:A,style:{position:"relative","--radix-scroll-area-corner-width":P+"px","--radix-scroll-area-corner-height":k+"px",...e.style}})})});iO.displayName=PP;var aO="ScrollAreaViewport",oO=v.forwardRef((e,r)=>{const{__scopeScrollArea:n,children:s,nonce:a,...l}=e,c=ra(aO,n),u=v.useRef(null),d=Nr(r,u,c.onViewportChange);return U.jsxs(U.Fragment,{children:[U.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),U.jsx(At.div,{"data-radix-scroll-area-viewport":"",...l,ref:d,style:{overflowX:c.scrollbarXEnabled?"scroll":"hidden",overflowY:c.scrollbarYEnabled?"scroll":"hidden",...e.style},children:U.jsx("div",{ref:c.onContentChange,style:{minWidth:"100%",display:"table"},children:s})})]})});oO.displayName=aO;var Do="ScrollAreaScrollbar",SP=v.forwardRef((e,r)=>{const{forceMount:n,...s}=e,a=ra(Do,e.__scopeScrollArea),{onScrollbarXEnabledChange:l,onScrollbarYEnabledChange:c}=a,u=e.orientation==="horizontal";return v.useEffect(()=>(u?l(!0):c(!0),()=>{u?l(!1):c(!1)}),[u,l,c]),a.type==="hover"?U.jsx(Mde,{...s,ref:r,forceMount:n}):a.type==="scroll"?U.jsx(Tde,{...s,ref:r,forceMount:n}):a.type==="auto"?U.jsx(lO,{...s,ref:r,forceMount:n}):a.type==="always"?U.jsx(CP,{...s,ref:r}):null});SP.displayName=Do;var Mde=v.forwardRef((e,r)=>{const{forceMount:n,...s}=e,a=ra(Do,e.__scopeScrollArea),[l,c]=v.useState(!1);return v.useEffect(()=>{const u=a.scrollArea;let d=0;if(u){const h=()=>{window.clearTimeout(d),c(!0)},g=()=>{d=window.setTimeout(()=>c(!1),a.scrollHideDelay)};return u.addEventListener("pointerenter",h),u.addEventListener("pointerleave",g),()=>{window.clearTimeout(d),u.removeEventListener("pointerenter",h),u.removeEventListener("pointerleave",g)}}},[a.scrollArea,a.scrollHideDelay]),U.jsx(mi,{present:n||l,children:U.jsx(lO,{"data-state":l?"visible":"hidden",...s,ref:r})})}),Tde=v.forwardRef((e,r)=>{const{forceMount:n,...s}=e,a=ra(Do,e.__scopeScrollArea),l=e.orientation==="horizontal",c=G0(()=>d("SCROLL_END"),100),[u,d]=Cde("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return v.useEffect(()=>{if(u==="idle"){const h=window.setTimeout(()=>d("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(h)}},[u,a.scrollHideDelay,d]),v.useEffect(()=>{const h=a.viewport,g=l?"scrollLeft":"scrollTop";if(h){let p=h[g];const N=()=>{const b=h[g];p!==b&&(d("SCROLL"),c()),p=b};return h.addEventListener("scroll",N),()=>h.removeEventListener("scroll",N)}},[a.viewport,l,d,c]),U.jsx(mi,{present:n||u!=="hidden",children:U.jsx(CP,{"data-state":u==="hidden"?"hidden":"visible",...s,ref:r,onPointerEnter:Et(e.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:Et(e.onPointerLeave,()=>d("POINTER_LEAVE"))})})}),lO=v.forwardRef((e,r)=>{const n=ra(Do,e.__scopeScrollArea),{forceMount:s,...a}=e,[l,c]=v.useState(!1),u=e.orientation==="horizontal",d=G0(()=>{if(n.viewport){const h=n.viewport.offsetWidth<n.viewport.scrollWidth,g=n.viewport.offsetHeight<n.viewport.scrollHeight;c(u?h:g)}},10);return oh(n.viewport,d),oh(n.content,d),U.jsx(mi,{present:s||l,children:U.jsx(CP,{"data-state":l?"visible":"hidden",...a,ref:r})})}),CP=v.forwardRef((e,r)=>{const{orientation:n="vertical",...s}=e,a=ra(Do,e.__scopeScrollArea),l=v.useRef(null),c=v.useRef(0),[u,d]=v.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),h=hO(u.viewport,u.content),g={...s,sizes:u,onSizesChange:d,hasThumb:h>0&&h<1,onThumbChange:N=>l.current=N,onThumbPointerUp:()=>c.current=0,onThumbPointerDown:N=>c.current=N};function p(N,b){return Lde(N,c.current,u,b)}return n==="horizontal"?U.jsx(Ade,{...g,ref:r,onThumbPositionChange:()=>{if(a.viewport&&l.current){const N=a.viewport.scrollLeft,b=yT(N,u,a.dir);l.current.style.transform=`translate3d(${b}px, 0, 0)`}},onWheelScroll:N=>{a.viewport&&(a.viewport.scrollLeft=N)},onDragScroll:N=>{a.viewport&&(a.viewport.scrollLeft=p(N,a.dir))}}):n==="vertical"?U.jsx(_de,{...g,ref:r,onThumbPositionChange:()=>{if(a.viewport&&l.current){const N=a.viewport.scrollTop,b=yT(N,u);l.current.style.transform=`translate3d(0, ${b}px, 0)`}},onWheelScroll:N=>{a.viewport&&(a.viewport.scrollTop=N)},onDragScroll:N=>{a.viewport&&(a.viewport.scrollTop=p(N))}}):null}),Ade=v.forwardRef((e,r)=>{const{sizes:n,onSizesChange:s,...a}=e,l=ra(Do,e.__scopeScrollArea),[c,u]=v.useState(),d=v.useRef(null),h=Nr(r,d,l.onScrollbarXChange);return v.useEffect(()=>{d.current&&u(getComputedStyle(d.current))},[d]),U.jsx(uO,{"data-orientation":"horizontal",...a,ref:h,sizes:n,style:{bottom:0,left:l.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:l.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":U0(n)+"px",...e.style},onThumbPointerDown:g=>e.onThumbPointerDown(g.x),onDragScroll:g=>e.onDragScroll(g.x),onWheelScroll:(g,p)=>{if(l.viewport){const N=l.viewport.scrollLeft+g.deltaX;e.onWheelScroll(N),pO(N,p)&&g.preventDefault()}},onResize:()=>{d.current&&l.viewport&&c&&s({content:l.viewport.scrollWidth,viewport:l.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:Fv(c.paddingLeft),paddingEnd:Fv(c.paddingRight)}})}})}),_de=v.forwardRef((e,r)=>{const{sizes:n,onSizesChange:s,...a}=e,l=ra(Do,e.__scopeScrollArea),[c,u]=v.useState(),d=v.useRef(null),h=Nr(r,d,l.onScrollbarYChange);return v.useEffect(()=>{d.current&&u(getComputedStyle(d.current))},[d]),U.jsx(uO,{"data-orientation":"vertical",...a,ref:h,sizes:n,style:{top:0,right:l.dir==="ltr"?0:void 0,left:l.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":U0(n)+"px",...e.style},onThumbPointerDown:g=>e.onThumbPointerDown(g.y),onDragScroll:g=>e.onDragScroll(g.y),onWheelScroll:(g,p)=>{if(l.viewport){const N=l.viewport.scrollTop+g.deltaY;e.onWheelScroll(N),pO(N,p)&&g.preventDefault()}},onResize:()=>{d.current&&l.viewport&&c&&s({content:l.viewport.scrollHeight,viewport:l.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:Fv(c.paddingTop),paddingEnd:Fv(c.paddingBottom)}})}})}),[Fde,cO]=sO(Do),uO=v.forwardRef((e,r)=>{const{__scopeScrollArea:n,sizes:s,hasThumb:a,onThumbChange:l,onThumbPointerUp:c,onThumbPointerDown:u,onThumbPositionChange:d,onDragScroll:h,onWheelScroll:g,onResize:p,...N}=e,b=ra(Do,n),[D,E]=v.useState(null),j=Nr(r,A=>E(A)),P=v.useRef(null),w=v.useRef(""),k=b.viewport,V=s.content-s.viewport,S=Cn(g),R=Cn(d),M=G0(p,10);function T(A){if(P.current){const F=A.clientX-P.current.left,L=A.clientY-P.current.top;h({x:F,y:L})}}return v.useEffect(()=>{const A=F=>{const L=F.target;(D==null?void 0:D.contains(L))&&S(F,V)};return document.addEventListener("wheel",A,{passive:!1}),()=>document.removeEventListener("wheel",A,{passive:!1})},[k,D,V,S]),v.useEffect(R,[s,R]),oh(D,M),oh(b.content,M),U.jsx(Fde,{scope:n,scrollbar:D,hasThumb:a,onThumbChange:Cn(l),onThumbPointerUp:Cn(c),onThumbPositionChange:R,onThumbPointerDown:Cn(u),children:U.jsx(At.div,{...N,ref:j,style:{position:"absolute",...N.style},onPointerDown:Et(e.onPointerDown,A=>{A.button===0&&(A.target.setPointerCapture(A.pointerId),P.current=D.getBoundingClientRect(),w.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",b.viewport&&(b.viewport.style.scrollBehavior="auto"),T(A))}),onPointerMove:Et(e.onPointerMove,T),onPointerUp:Et(e.onPointerUp,A=>{const F=A.target;F.hasPointerCapture(A.pointerId)&&F.releasePointerCapture(A.pointerId),document.body.style.webkitUserSelect=w.current,b.viewport&&(b.viewport.style.scrollBehavior=""),P.current=null})})})}),_v="ScrollAreaThumb",mO=v.forwardRef((e,r)=>{const{forceMount:n,...s}=e,a=cO(_v,e.__scopeScrollArea);return U.jsx(mi,{present:n||a.hasThumb,children:U.jsx(Ide,{ref:r,...s})})}),Ide=v.forwardRef((e,r)=>{const{__scopeScrollArea:n,style:s,...a}=e,l=ra(_v,n),c=cO(_v,n),{onThumbPositionChange:u}=c,d=Nr(r,p=>c.onThumbChange(p)),h=v.useRef(void 0),g=G0(()=>{h.current&&(h.current(),h.current=void 0)},100);return v.useEffect(()=>{const p=l.viewport;if(p){const N=()=>{if(g(),!h.current){const b=$de(p,u);h.current=b,u()}};return u(),p.addEventListener("scroll",N),()=>p.removeEventListener("scroll",N)}},[l.viewport,g,u]),U.jsx(At.div,{"data-state":c.hasThumb?"visible":"hidden",...a,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...s},onPointerDownCapture:Et(e.onPointerDownCapture,p=>{const b=p.target.getBoundingClientRect(),D=p.clientX-b.left,E=p.clientY-b.top;c.onThumbPointerDown({x:D,y:E})}),onPointerUp:Et(e.onPointerUp,c.onThumbPointerUp)})});mO.displayName=_v;var RP="ScrollAreaCorner",dO=v.forwardRef((e,r)=>{const n=ra(RP,e.__scopeScrollArea),s=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&s?U.jsx(Ode,{...e,ref:r}):null});dO.displayName=RP;var Ode=v.forwardRef((e,r)=>{const{__scopeScrollArea:n,...s}=e,a=ra(RP,n),[l,c]=v.useState(0),[u,d]=v.useState(0),h=!!(l&&u);return oh(a.scrollbarX,()=>{var p;const g=((p=a.scrollbarX)==null?void 0:p.offsetHeight)||0;a.onCornerHeightChange(g),d(g)}),oh(a.scrollbarY,()=>{var p;const g=((p=a.scrollbarY)==null?void 0:p.offsetWidth)||0;a.onCornerWidthChange(g),c(g)}),h?U.jsx(At.div,{...s,ref:r,style:{width:l,height:u,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Fv(e){return e?parseInt(e,10):0}function hO(e,r){const n=e/r;return isNaN(n)?0:n}function U0(e){const r=hO(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=(e.scrollbar.size-n)*r;return Math.max(s,18)}function Lde(e,r,n,s="ltr"){const a=U0(n),l=a/2,c=r||l,u=a-c,d=n.scrollbar.paddingStart+c,h=n.scrollbar.size-n.scrollbar.paddingEnd-u,g=n.content-n.viewport,p=s==="ltr"?[0,g]:[g*-1,0];return fO([d,h],p)(e)}function yT(e,r,n="ltr"){const s=U0(r),a=r.scrollbar.paddingStart+r.scrollbar.paddingEnd,l=r.scrollbar.size-a,c=r.content-r.viewport,u=l-s,d=n==="ltr"?[0,c]:[c*-1,0],h=$D(e,d);return fO([0,c],[0,u])(h)}function fO(e,r){return n=>{if(e[0]===e[1]||r[0]===r[1])return r[0];const s=(r[1]-r[0])/(e[1]-e[0]);return r[0]+s*(n-e[0])}}function pO(e,r){return e>0&&e<r}var $de=(e,r=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},s=0;return function a(){const l={left:e.scrollLeft,top:e.scrollTop},c=n.left!==l.left,u=n.top!==l.top;(c||u)&&r(),n=l,s=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(s)};function G0(e,r){const n=Cn(e),s=v.useRef(0);return v.useEffect(()=>()=>window.clearTimeout(s.current),[]),v.useCallback(()=>{window.clearTimeout(s.current),s.current=window.setTimeout(n,r)},[n,r])}function oh(e,r){const n=Cn(r);cs(()=>{let s=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(s),s=window.requestAnimationFrame(n)});return a.observe(e),()=>{window.cancelAnimationFrame(s),a.unobserve(e)}}},[e,n])}var gO=iO,Bde=oO,zde=dO;const H0=v.forwardRef(({className:e,children:r,...n},s)=>t.jsxDEV(gO,{ref:s,className:Ke("relative overflow-hidden",e),...n,children:[t.jsxDEV(Bde,{className:"h-full w-full rounded-[inherit]",children:r},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/scroll-area.tsx",lineNumber:15,columnNumber:5},void 0),t.jsxDEV(NO,{},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/scroll-area.tsx",lineNumber:18,columnNumber:5},void 0),t.jsxDEV(zde,{},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/scroll-area.tsx",lineNumber:19,columnNumber:5},void 0)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/ui/scroll-area.tsx",lineNumber:10,columnNumber:3},void 0));H0.displayName=gO.displayName;const NO=v.forwardRef(({className:e,orientation:r="vertical",...n},s)=>t.jsxDEV(SP,{ref:s,orientation:r,className:Ke("flex touch-none select-none transition-colors",r==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",r==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:t.jsxDEV(mO,{className:"relative flex-1 rounded-full bg-border"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/scroll-area.tsx",lineNumber:41,columnNumber:5},void 0)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/scroll-area.tsx",lineNumber:28,columnNumber:3},void 0));NO.displayName=SP.displayName;function Wde(e,r,n){const s=new Set(r.criticalPath||[]),a=e.map(h=>{var g;return{id:h.id,name:h.name,type:"workstream",startMonth:h.startMonth,endMonth:h.endMonth,duration:h.endMonth-h.startMonth+1,dependencies:h.dependencies||[],isCriticalPath:s.has(h.id)||s.has(h.name),confidence:h.confidence,owner:h.owner,description:h.description,assignedResourceIds:h.assignedResourceIds||[],assignedResourceNames:h.assignedResourceNames||[],deliverables:((g=h.deliverables)==null?void 0:g.map(p=>{let N=p.dueMonth;return(N<h.startMonth||N>h.endMonth)&&(console.warn(`[Gantt] Deliverable "${p.name}" (${p.id}) has dueMonth ${N} outside workstream "${h.name}" timeline (M${h.startMonth}-M${h.endMonth}). Clamping to M${Math.max(h.startMonth,Math.min(N,h.endMonth))}.`),N=Math.max(h.startMonth,Math.min(N,h.endMonth))),{id:p.id,name:p.name,dueMonth:N,effort:p.effort,description:p.description}}))||[]}}),l=r.phases.map(h=>({phase:h.phase,name:h.name,startMonth:h.startMonth,endMonth:h.endMonth,color:Gde(h.phase)})),c=n.gates.map(h=>({gate:h.gate,name:h.name,month:h.month,color:Hde(h.gate)})),u=[];a.forEach(h=>{h.dependencies.forEach(g=>{var p;u.push({fromId:g,toId:h.id,type:"finish-to-start",isCritical:h.isCriticalPath&&((p=a.find(N=>N.id===g))==null?void 0:p.isCriticalPath)||!1})})});const d=Math.max(r.totalMonths,...a.map(h=>h.endMonth),...c.map(h=>h.month));return{tasks:a,phases:l,stageGates:c,dependencies:u,totalMonths:r.totalMonths,criticalPath:r.criticalPath||[],maxMonth:d}}function Ude(e,r,n){return e.map((s,a)=>{const l=r.get(s.fromId),c=r.get(s.toId);if(!l||!c)return null;const u=l.x+l.width,d=l.y+l.height/2,h=c.x,g=c.y+c.height/2,p=(u+h)/2,N=`
      M ${u} ${d}
      L ${p} ${d}
      L ${p} ${g}
      L ${h-8} ${g}
      M ${h-8} ${g-4}
      L ${h} ${g}
      L ${h-8} ${g+4}
    `;return{id:`dep-${a}`,path:N,isCritical:s.isCritical,fromTask:s.fromId,toTask:s.toId}}).filter(Boolean)}function Gde(e){const r=["rgba(59, 130, 246, 0.1)","rgba(16, 185, 129, 0.1)","rgba(245, 158, 11, 0.1)","rgba(139, 92, 246, 0.1)","rgba(236, 72, 153, 0.1)"];return r[(e-1)%r.length]}function Hde(e){const r=["#3b82f6","#10b981","#f59e0b","#8b5cf6","#ec4899"];return r[(e-1)%r.length]}function Jde(e,r,n=1200){const h=n-350-100,g=Math.max(60,Math.floor(h/r)),p=210+e*70;return{width:450+r*g,height:p,leftMargin:350,topMargin:150,rightMargin:100,bottomMargin:60,monthWidth:g,taskHeight:50,taskPadding:20}}function Kde(e,r){const n=[],s=new Map;r.forEach(c=>{s.set(c.toId,(s.get(c.toId)||0)+1)}),s.forEach((c,u)=>{if(c>3){const d=e.find(h=>h.id===u);n.push({type:"bottleneck",severity:c>5?"high":"medium",description:`"${d==null?void 0:d.name}" has ${c} dependencies, creating a potential bottleneck`,affectedTasks:[u],recommendation:"Consider parallelizing some predecessor tasks or breaking this task into smaller components"})}});const a=e.filter(c=>c.isCriticalPath),l=new Map;return a.forEach(c=>{if(c.owner){const u=l.get(c.owner)||[];u.push(c),l.set(c.owner,u)}}),l.forEach((c,u)=>{for(let d=0;d<c.length;d++)for(let h=d+1;h<c.length;h++){const g=c[d],p=c[h];if(g.startMonth<=p.endMonth&&p.startMonth<=g.endMonth){if(g.assignedResourceIds&&g.assignedResourceIds.length>1||p.assignedResourceIds&&p.assignedResourceIds.length>1||u.toLowerCase().includes("team"))continue;n.push({type:"overlap",severity:"high",description:`${u} is assigned to overlapping critical tasks: "${g.name}" (Month ${g.startMonth}-${g.endMonth}) and "${p.name}" (Month ${p.startMonth}-${p.endMonth})`,affectedTasks:[g.id,p.id],recommendation:"Assign additional resources or adjust task timelines to prevent resource conflicts"})}}}),a.forEach(c=>{c.confidence<.7&&n.push({type:"critical-delay",severity:"high",description:`Critical task "${c.name}" has low confidence (${Math.round(c.confidence*100)}%)`,affectedTasks:[c.id],recommendation:"Conduct detailed planning session to increase confidence or add contingency buffer"})}),n.sort((c,u)=>{const d={high:0,medium:1,low:2};return d[c.severity]-d[u.severity]})}function qde({tasks:e,phases:r,stageGates:n,dependencies:s,totalMonths:a,maxMonth:l,criticalPath:c,containerWidth:u=1200}){const[d,h]=v.useState(null),[g,p]=v.useState(null),[N,b]=v.useState(!0),[D,E]=v.useState(!0),[j,P]=v.useState(!0),[w,k]=v.useState(1),[V,S]=v.useState(0),[R,M]=v.useState(0),[T,A]=v.useState(!1),[F,L]=v.useState({x:0,y:0}),$=v.useRef(null),W=()=>{k(ne=>Math.min(ne+.25,3))},O=()=>{k(ne=>Math.max(ne-.25,.5))},Y=()=>{k(1),S(0),M(0)},H=ne=>{A(!0),L({x:ne.clientX-V,y:ne.clientY-R})},q=ne=>{T&&(S(ne.clientX-F.x),M(ne.clientY-F.y))},z=()=>{A(!1)},G=()=>{A(!1)},ee=v.useMemo(()=>Jde(e.length,l,u),[e.length,l,u]),K=ee.taskHeight+ee.taskPadding,be=ee.taskHeight,_e=ee.taskPadding/2,oe=v.useMemo(()=>{const ne=e.map((le,Ue)=>({id:le.id,x:ee.leftMargin+le.startMonth*ee.monthWidth,y:ee.topMargin+Ue*K+_e,width:le.duration*ee.monthWidth,height:be}));return new Map(ne.map(le=>[le.id,le]))},[e,ee,K,_e,be]),fe=v.useMemo(()=>Ude(s,oe,ee.taskHeight),[s,oe,ee.taskHeight]),Ae=v.useMemo(()=>Kde(e,s),[e,s]),ge=ne=>e.find(le=>le.id===ne),Pe=()=>{const ne=[];for(let le=0;le<=l;le++){const Ue=ee.leftMargin+le*ee.monthWidth;ne.push(t.jsxDEV("g",{children:[t.jsxDEV("line",{x1:Ue,y1:ee.topMargin,x2:Ue,y2:ee.height-ee.bottomMargin,stroke:"#e5e7eb",strokeWidth:"1",strokeDasharray:"4 4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:151,columnNumber:11},this),t.jsxDEV("text",{x:Ue+ee.monthWidth/2,y:ee.topMargin-8,textAnchor:"middle",className:"fill-gray-600 font-semibold",style:{fontSize:"11px"},children:["M",le]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:161,columnNumber:11},this)]},`month-${le}`,!0,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:149,columnNumber:9},this))}return ne},ze=()=>e.map((ne,le)=>t.jsxDEV("rect",{x:0,y:ee.topMargin+le*K,width:ee.leftMargin,height:K,fill:"#f9fafb",stroke:"#e5e7eb",strokeWidth:"0.5"},`row-${ne.id}`,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:179,columnNumber:7},this)),We=()=>D?r.map((ne,le)=>{const Ue=(ne.endMonth-ne.startMonth+1)*ee.monthWidth,bt=ee.leftMargin+ne.startMonth*ee.monthWidth;let ht=ne.name;const Mt=Math.floor(Ue/8);ht.length>Mt&&(ht=ht.substring(0,Mt-3)+"...");const Kt=Ue<80?`P${ne.phase}`:`Phase ${ne.phase}`,re=Ue>120;return t.jsxDEV("g",{children:[t.jsxDEV("rect",{x:bt,y:ee.topMargin,width:Ue,height:ee.height-ee.topMargin-ee.bottomMargin,fill:ne.color,opacity:"0.3"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:216,columnNumber:11},this),t.jsxDEV("text",{x:bt+Ue/2,y:ee.topMargin-100,textAnchor:"middle",className:"text-xs fill-gray-700 font-semibold",style:{fontSize:"11px"},children:Kt},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:226,columnNumber:11},this),re&&t.jsxDEV("text",{x:bt+Ue/2,y:ee.topMargin-85,textAnchor:"middle",className:"text-xs fill-gray-600",style:{fontSize:"10px"},children:ht},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:238,columnNumber:13},this),le<r.length-1&&t.jsxDEV("line",{x1:bt+Ue,y1:ee.topMargin-110,x2:bt+Ue,y2:ee.topMargin,stroke:"#94a3b8",strokeWidth:"2",strokeDasharray:"3 3",opacity:"0.4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:251,columnNumber:13},this)]},`phase-${ne.phase}`,!0,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:214,columnNumber:9},this)}):null,Re=()=>j?n.map(ne=>{const le=ee.leftMargin+ne.month*ee.monthWidth,Ue=12;let bt=ne.name;return bt.length>Ue&&(bt=bt.substring(0,Ue-2)+".."),t.jsxDEV("g",{children:[t.jsxDEV("line",{x1:le,y1:ee.topMargin,x2:le,y2:ee.height-ee.bottomMargin,stroke:ne.color,strokeWidth:"3",opacity:"0.6"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:284,columnNumber:11},this),t.jsxDEV("circle",{cx:le,cy:ee.topMargin-70,r:"16",fill:ne.color,stroke:"white",strokeWidth:"2"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:294,columnNumber:11},this),t.jsxDEV("text",{x:le,y:ee.topMargin-65,textAnchor:"middle",className:"fill-white font-bold",style:{fontSize:"13px"},children:ne.gate},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:303,columnNumber:11},this),t.jsxDEV("text",{x:le,y:ee.topMargin-48,textAnchor:"middle",className:"fill-gray-700 font-medium",style:{fontSize:"10px"},children:["Gate ",ne.gate]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:313,columnNumber:11},this),t.jsxDEV("text",{x:le,y:ee.topMargin-36,textAnchor:"middle",className:"fill-gray-600",style:{fontSize:"9px"},children:bt},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:322,columnNumber:11},this)]},`gate-${ne.gate}`,!0,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:282,columnNumber:9},this)}):null,Ee=(ne,le)=>{var ue;const Ue=d===ne.id,bt=g===ne.id,ht=ne.isCriticalPath,Mt=ht?"#ef4444":ne.confidence>.8?"#10b981":ne.confidence>.6?"#f59e0b":"#ef4444",Kt=Ue||bt?1:.85,re=45,ye=ne.name.length>re?ne.name.substring(0,re-3)+"...":ne.name;return t.jsxDEV("g",{children:[t.jsxDEV("text",{x:ee.leftMargin-20,y:le.y+le.height/2+5,textAnchor:"end",className:`font-medium ${ht?"fill-red-600":"fill-gray-700"}`,style:{fontSize:"12px",fontFamily:"system-ui, -apple-system, sans-serif"},children:ye},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:363,columnNumber:9},this),t.jsxDEV("rect",{x:le.x,y:le.y,width:le.width,height:le.height,fill:Mt,opacity:Kt,rx:"4",stroke:bt?"#1e40af":"none",strokeWidth:bt?3:0,onMouseEnter:()=>h(ne.id),onMouseLeave:()=>h(null),onClick:()=>p(g===ne.id?null:ne.id),className:"cursor-pointer transition-all"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:374,columnNumber:9},this),t.jsxDEV("text",{x:le.x+le.width/2,y:le.y+le.height/2+4,textAnchor:"middle",className:"text-xs fill-white font-semibold pointer-events-none",children:[Math.round(ne.confidence*100),"%"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:391,columnNumber:9},this),ne.owner&&t.jsxDEV("text",{x:le.x+le.width+5,y:le.y+le.height/2+4,className:"text-xs fill-gray-500",children:ne.owner},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:402,columnNumber:11},this),ht&&t.jsxDEV("circle",{cx:le.x-8,cy:le.y+le.height/2,r:"4",fill:"#ef4444",className:"pointer-events-none"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:413,columnNumber:11},this),(ue=ne.deliverables)==null?void 0:ue.map((we,Ve)=>{const ke=ee.leftMargin+we.dueMonth*ee.monthWidth;return t.jsxDEV("g",{children:t.jsxDEV("path",{d:`M ${ke} ${le.y+5} 
                    L ${ke+6} ${le.y+le.height/2} 
                    L ${ke} ${le.y+le.height-5} 
                    L ${ke-6} ${le.y+le.height/2} Z`,fill:"#3b82f6",stroke:"white",strokeWidth:"1",className:"cursor-pointer",onMouseEnter:()=>h(`${ne.id}-del-${Ve}`),onMouseLeave:()=>h(null)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:427,columnNumber:15},this)},`${ne.id}-deliverable-${Ve}`,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:426,columnNumber:13},this)})]},ne.id,!0,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:361,columnNumber:7},this)},ie=()=>N?fe.map(ne=>t.jsxDEV("path",{d:ne.path,stroke:ne.isCritical?"#ef4444":"#94a3b8",strokeWidth:ne.isCritical?2.5:1.5,fill:"none",opacity:"0.6",className:"pointer-events-none"},ne.id,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:451,columnNumber:7},this)):null,ve=()=>{if(!d&&!g)return null;const ne=g||d,le=ge(ne||""),Ue=oe.get(ne||"");if(!le||!Ue)return null;const bt=Ue.x+Ue.width+15,ht=Ue.y;return t.jsxDEV("foreignObject",{x:bt,y:ht,width:280,height:120,children:t.jsxDEV(Z,{className:"shadow-lg border-2 border-blue-500 bg-white dark:bg-gray-900",children:t.jsxDEV(te,{className:"p-3 text-xs space-y-1 bg-white dark:bg-gray-900",children:[t.jsxDEV("div",{className:"font-bold text-sm",children:le.name},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:487,columnNumber:13},this),t.jsxDEV("div",{className:"text-muted-foreground",children:le.description},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:488,columnNumber:13},this),t.jsxDEV("div",{className:"grid grid-cols-2 gap-2 pt-2",children:[t.jsxDEV("div",{children:[t.jsxDEV("span",{className:"font-medium",children:"Duration:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:491,columnNumber:17},this)," ",le.duration," months"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:490,columnNumber:15},this),t.jsxDEV("div",{children:[t.jsxDEV("span",{className:"font-medium",children:"Confidence:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:494,columnNumber:17},this)," ",Math.round(le.confidence*100),"%"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:493,columnNumber:15},this),le.owner&&t.jsxDEV("div",{className:"col-span-2",children:[t.jsxDEV("span",{className:"font-medium",children:"Owner:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:498,columnNumber:19},this)," ",le.owner]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:497,columnNumber:17},this),t.jsxDEV("div",{className:"col-span-2",children:[t.jsxDEV("span",{className:"font-medium",children:"Dependencies:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:502,columnNumber:17},this)," ",le.dependencies.length]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:501,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:489,columnNumber:13},this),le.deliverables&&le.deliverables.length>0&&t.jsxDEV("div",{className:"pt-2 border-t",children:[t.jsxDEV("span",{className:"font-medium",children:"Deliverables:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:507,columnNumber:17},this)," ",le.deliverables.length]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:506,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:486,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:485,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:479,columnNumber:7},this)};return t.jsxDEV("div",{className:"space-y-4",children:[t.jsxDEV("div",{className:"flex items-center gap-4 flex-wrap",children:[t.jsxDEV("div",{className:"flex items-center gap-2 border-r pr-4",children:[t.jsxDEV(me,{size:"sm",variant:"outline",onClick:O,"data-testid":"button-zoom-out",title:"Zoom Out",children:t.jsxDEV(KX,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:529,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:522,columnNumber:11},this),t.jsxDEV("span",{className:"text-sm font-medium min-w-[60px] text-center",children:[Math.round(w*100),"%"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:531,columnNumber:11},this),t.jsxDEV(me,{size:"sm",variant:"outline",onClick:W,"data-testid":"button-zoom-in",title:"Zoom In",children:t.jsxDEV(JX,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:541,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:534,columnNumber:11},this),t.jsxDEV(me,{size:"sm",variant:"outline",onClick:Y,"data-testid":"button-reset-zoom",title:"Reset Zoom & Pan",children:t.jsxDEV(rA,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:550,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:543,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:521,columnNumber:9},this),t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV("input",{type:"checkbox",id:"show-deps",checked:N,onChange:ne=>b(ne.target.checked),className:"rounded"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:555,columnNumber:11},this),t.jsxDEV("label",{htmlFor:"show-deps",className:"text-sm",children:"Show Dependencies"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:562,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:554,columnNumber:9},this),t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV("input",{type:"checkbox",id:"show-phases",checked:D,onChange:ne=>E(ne.target.checked),className:"rounded"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:565,columnNumber:11},this),t.jsxDEV("label",{htmlFor:"show-phases",className:"text-sm",children:"Show Phases"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:572,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:564,columnNumber:9},this),t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV("input",{type:"checkbox",id:"show-gates",checked:j,onChange:ne=>P(ne.target.checked),className:"rounded"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:575,columnNumber:11},this),t.jsxDEV("label",{htmlFor:"show-gates",className:"text-sm",children:"Show Stage Gates"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:582,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:574,columnNumber:9},this),t.jsxDEV("div",{className:"ml-auto flex items-center gap-4",children:[t.jsxDEV("div",{className:"flex items-center gap-1",children:[t.jsxDEV("div",{className:"w-4 h-4 bg-red-500 rounded"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:588,columnNumber:13},this),t.jsxDEV("span",{className:"text-xs",children:"Critical Path"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:589,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:587,columnNumber:11},this),t.jsxDEV("div",{className:"flex items-center gap-1",children:[t.jsxDEV("div",{className:"w-4 h-4 bg-green-500 rounded"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:592,columnNumber:13},this),t.jsxDEV("span",{className:"text-xs",children:"High Confidence"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:593,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:591,columnNumber:11},this),t.jsxDEV("div",{className:"flex items-center gap-1",children:[t.jsxDEV("div",{className:"w-4 h-4 bg-amber-500 rounded"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:596,columnNumber:13},this),t.jsxDEV("span",{className:"text-xs",children:"Medium Confidence"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:597,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:595,columnNumber:11},this),t.jsxDEV("div",{className:"flex items-center gap-1",children:[t.jsxDEV("svg",{width:"12",height:"12",children:t.jsxDEV("path",{d:"M 6 2 L 10 6 L 6 10 L 2 6 Z",fill:"#3b82f6"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:601,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:600,columnNumber:13},this),t.jsxDEV("span",{className:"text-xs",children:"Deliverable"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:603,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:599,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:586,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:519,columnNumber:7},this),Ae.length>0&&t.jsxDEV(it,{variant:Ae[0].severity==="high"?"destructive":"default",children:[t.jsxDEV(qr,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:611,columnNumber:11},this),t.jsxDEV(at,{children:[t.jsxDEV("div",{className:"font-semibold mb-2",children:[Ae.length," Schedule Issue",Ae.length>1?"s":""," Detected"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:613,columnNumber:13},this),t.jsxDEV("ul",{className:"space-y-1 text-sm",children:Ae.slice(0,3).map((ne,le)=>t.jsxDEV("li",{className:"flex items-start gap-2",children:[t.jsxDEV(se,{variant:ne.severity==="high"?"destructive":"secondary",className:"mt-0.5",children:ne.severity},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:619,columnNumber:19},this),t.jsxDEV("span",{children:ne.description},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:622,columnNumber:19},this)]},le,!0,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:618,columnNumber:17},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:616,columnNumber:13},this),Ae.length>3&&t.jsxDEV("div",{className:"text-xs text-muted-foreground mt-2",children:["+ ",Ae.length-3," more issues"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:627,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:612,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:610,columnNumber:9},this),t.jsxDEV(Z,{children:t.jsxDEV(te,{className:"p-4",children:t.jsxDEV(H0,{className:"w-full","data-testid":"gantt-scroll-area",children:t.jsxDEV("div",{className:"border rounded",children:t.jsxDEV("svg",{ref:$,id:"epm-gantt-chart",width:ee.width,height:ee.height,className:T?"cursor-grabbing":"cursor-grab",onMouseDown:H,onMouseMove:q,onMouseUp:z,onMouseLeave:G,"data-testid":"gantt-chart-svg",children:[t.jsxDEV("rect",{x:"0",y:"0",width:ee.width,height:ee.height,fill:"white"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:653,columnNumber:15},this),t.jsxDEV("g",{transform:`translate(${V}, ${R}) scale(${w})`,children:[We(),ze(),Pe(),Re(),ie(),e.map(ne=>{const le=oe.get(ne.id);return le?Ee(ne,le):null}),ve(),t.jsxDEV("g",{transform:`translate(${ee.leftMargin}, ${ee.height-25})`,children:t.jsxDEV("text",{className:"text-xs fill-gray-600",children:["Total Duration: ",a," months | Critical Path Tasks: ",c.length," | Total Tasks: ",e.length]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:689,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:688,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:662,columnNumber:15},this)," "]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:640,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:639,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:638,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:637,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:636,columnNumber:7},this),t.jsxDEV("div",{className:"grid grid-cols-4 gap-4",children:[t.jsxDEV(Z,{children:t.jsxDEV(te,{className:"pt-6",children:t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(qs,{className:"h-5 w-5 text-blue-500"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:707,columnNumber:15},this),t.jsxDEV("div",{children:[t.jsxDEV("div",{className:"text-2xl font-bold",children:a},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:709,columnNumber:17},this),t.jsxDEV("div",{className:"text-xs text-muted-foreground",children:"Months Total"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:710,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:708,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:706,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:705,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:704,columnNumber:9},this),t.jsxDEV(Z,{children:t.jsxDEV(te,{className:"pt-6",children:t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(cn,{className:"h-5 w-5 text-red-500"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:719,columnNumber:15},this),t.jsxDEV("div",{children:[t.jsxDEV("div",{className:"text-2xl font-bold",children:c.length},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:721,columnNumber:17},this),t.jsxDEV("div",{className:"text-xs text-muted-foreground",children:"Critical Tasks"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:722,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:720,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:718,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:717,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:716,columnNumber:9},this),t.jsxDEV(Z,{children:t.jsxDEV(te,{className:"pt-6",children:t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(Y7,{className:"h-5 w-5 text-purple-500"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:731,columnNumber:15},this),t.jsxDEV("div",{children:[t.jsxDEV("div",{className:"text-2xl font-bold",children:n.length},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:733,columnNumber:17},this),t.jsxDEV("div",{className:"text-xs text-muted-foreground",children:"Stage Gates"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:734,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:732,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:730,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:729,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:728,columnNumber:9},this),t.jsxDEV(Z,{children:t.jsxDEV(te,{className:"pt-6",children:t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(On,{className:"h-5 w-5 text-green-500"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:743,columnNumber:15},this),t.jsxDEV("div",{children:[t.jsxDEV("div",{className:"text-2xl font-bold",children:s.length},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:745,columnNumber:17},this),t.jsxDEV("div",{className:"text-xs text-muted-foreground",children:"Dependencies"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:746,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:744,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:742,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:741,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:740,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:703,columnNumber:7},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChart.tsx",lineNumber:517,columnNumber:5},this)}function Yde({workstreams:e,timeline:r,stageGates:n}){const s=v.useMemo(()=>{try{return!e||!Array.isArray(e)||e.length===0?(console.warn("No workstreams data available for Gantt chart"),null):!r||!r.phases||!Array.isArray(r.phases)?(console.warn("No timeline phases data available for Gantt chart"),null):!n||!n.gates||!Array.isArray(n.gates)?(console.warn("No stage gates data available for Gantt chart"),null):Wde(e,r,n)}catch(u){return console.error("Error transforming data to Gantt format:",u),null}},[e,r,n]),a=async()=>{console.log("[Export] Starting Gantt chart export...");try{const u=document.getElementById("epm-gantt-chart");if(!u){console.error("[Export] Gantt chart SVG not found"),alert("Unable to export: Gantt chart not found");return}console.log("[Export] Found SVG element");let d=parseInt(u.getAttribute("width")||"0"),h=parseInt(u.getAttribute("height")||"0");if(!d||!h||d<100||h<100){const w=u.getBoundingClientRect();d=Math.max(d,Math.round(w.width))||1200,h=Math.max(h,Math.round(w.height))||600,console.log(`[Export] Using fallback dimensions: ${d}x${h}`)}const g=new Map;l(u,g);const p=u.cloneNode(!0);c(u,g),p.setAttribute("width",String(d)),p.setAttribute("height",String(h)),p.setAttribute("xmlns","http://www.w3.org/2000/svg"),p.removeAttribute("class"),console.log("[Export] Creating canvas...");const N=2,b=document.createElement("canvas");b.width=d*N,b.height=h*N;const D=b.getContext("2d");if(!D){alert("Unable to export: Canvas context unavailable");return}D.scale(N,N),D.fillStyle="white",D.fillRect(0,0,d,h);const E=new XMLSerializer().serializeToString(p);let j;try{j=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(E)))}`}catch(w){console.error("[Export] Base64 encoding failed, using blob fallback:",w);const k=new Blob([E],{type:"image/svg+xml;charset=utf-8"});j=URL.createObjectURL(k)}console.log("[Export] Loading SVG as image...");const P=new Image;P.onload=()=>{console.log("[Export] Image loaded, drawing to canvas..."),D.drawImage(P,0,0,d,h),b.toBlob(w=>{if(!w){console.error("[Export] Failed to create blob"),alert("Unable to export: Failed to generate image");return}console.log("[Export] Blob created, triggering download...");const k=URL.createObjectURL(w),V=document.createElement("a");V.href=k,V.download=`epm-gantt-chart-${new Date().toISOString().split("T")[0]}.png`,V.style.display="none",document.body.appendChild(V),V.click(),setTimeout(()=>{document.body.removeChild(V),URL.revokeObjectURL(k),console.log("[Export] Download complete")},100)},"image/png",1)},P.onerror=w=>{console.error("[Export] Image loading failed:",w),alert("Unable to export: Failed to load chart image")},P.src=j}catch(u){console.error("[Export] Failed to export Gantt chart:",u),alert("Export failed. Please try again.")}};function l(u,d){d.set(u,u.getAttribute("style")||"");const h=window.getComputedStyle(u),g=["fill","stroke","stroke-width","stroke-dasharray","opacity","font-family","font-size","font-weight","text-anchor"];let p=u.getAttribute("style")||"";for(const b of g){const D=h.getPropertyValue(b);D&&D!=="none"&&D!==""&&D!=="rgb(0, 0, 0)"&&(p.includes(b+":")||(p+=`${b}: ${D}; `))}const N=u.classList;N.contains("fill-gray-600")?p+="fill: #4b5563; ":N.contains("fill-gray-700")?p+="fill: #374151; ":N.contains("fill-gray-500")&&(p+="fill: #6b7280; "),p&&u.setAttribute("style",p);for(const b of Array.from(u.children))l(b,d)}function c(u,d){const h=d.get(u);h!==void 0&&(h?u.setAttribute("style",h):u.removeAttribute("style"));for(const g of Array.from(u.children))c(g,d)}return s?s.tasks.length===0?t.jsxDEV(it,{children:[t.jsxDEV(bo,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChartView.tsx",lineNumber:247,columnNumber:9},this),t.jsxDEV(er,{children:"No Workstreams Defined"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChartView.tsx",lineNumber:248,columnNumber:9},this),t.jsxDEV(at,{children:"This program doesn't have any workstreams yet. The Gantt chart will appear once workstreams are added to the program."},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChartView.tsx",lineNumber:249,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChartView.tsx",lineNumber:246,columnNumber:7},this):t.jsxDEV("div",{className:"space-y-6",children:[t.jsxDEV(Z,{children:t.jsxDEV(de,{children:t.jsxDEV("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:justify-between",children:[t.jsxDEV("div",{children:[t.jsxDEV(pe,{children:"Program Timeline - Gantt Chart"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChartView.tsx",lineNumber:264,columnNumber:15},this),t.jsxDEV(He,{children:"Visual timeline showing workstreams, dependencies, critical path, and milestones"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChartView.tsx",lineNumber:265,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChartView.tsx",lineNumber:263,columnNumber:13},this),t.jsxDEV(me,{variant:"outline",onClick:a,size:"sm",className:"w-full sm:w-auto",children:[t.jsxDEV(yh,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChartView.tsx",lineNumber:270,columnNumber:15},this),t.jsxDEV("span",{className:"sm:inline",children:"Export Image"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChartView.tsx",lineNumber:271,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChartView.tsx",lineNumber:269,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChartView.tsx",lineNumber:262,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChartView.tsx",lineNumber:261,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChartView.tsx",lineNumber:260,columnNumber:7},this),t.jsxDEV(it,{children:[t.jsxDEV(bo,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChartView.tsx",lineNumber:279,columnNumber:9},this),t.jsxDEV(er,{children:"How to Use This Chart"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChartView.tsx",lineNumber:280,columnNumber:9},this),t.jsxDEV(at,{children:t.jsxDEV("ul",{className:"list-disc list-inside space-y-1 text-sm mt-2",children:[t.jsxDEV("li",{children:[t.jsxDEV("strong",{children:"Hover"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChartView.tsx",lineNumber:283,columnNumber:17},this)," over tasks to see details"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChartView.tsx",lineNumber:283,columnNumber:13},this),t.jsxDEV("li",{children:[t.jsxDEV("strong",{children:"Click"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChartView.tsx",lineNumber:284,columnNumber:17},this)," tasks to pin the tooltip"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChartView.tsx",lineNumber:284,columnNumber:13},this),t.jsxDEV("li",{children:[t.jsxDEV("strong",{children:"Red bars"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChartView.tsx",lineNumber:285,columnNumber:17},this)," indicate critical path tasks"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChartView.tsx",lineNumber:285,columnNumber:13},this),t.jsxDEV("li",{children:[t.jsxDEV("strong",{children:"Diamond markers"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChartView.tsx",lineNumber:286,columnNumber:17},this)," show deliverable milestones"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChartView.tsx",lineNumber:286,columnNumber:13},this),t.jsxDEV("li",{children:[t.jsxDEV("strong",{children:"Arrows"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChartView.tsx",lineNumber:287,columnNumber:17},this)," display task dependencies"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChartView.tsx",lineNumber:287,columnNumber:13},this),t.jsxDEV("li",{children:[t.jsxDEV("strong",{children:"Vertical lines"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChartView.tsx",lineNumber:288,columnNumber:17},this)," mark stage gates"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChartView.tsx",lineNumber:288,columnNumber:13},this),t.jsxDEV("li",{className:"text-orange-600 dark:text-orange-400",children:[t.jsxDEV("strong",{children:"Mobile:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChartView.tsx",lineNumber:289,columnNumber:66},this)," Swipe left/right to scroll timeline"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChartView.tsx",lineNumber:289,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChartView.tsx",lineNumber:282,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChartView.tsx",lineNumber:281,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChartView.tsx",lineNumber:278,columnNumber:7},this),t.jsxDEV("div",{className:"overflow-x-auto -mx-4 sm:mx-0 touch-pan-x",children:t.jsxDEV("div",{className:"min-w-[1200px] px-4 sm:px-0",children:t.jsxDEV(qde,{tasks:s.tasks,phases:s.phases,stageGates:s.stageGates,dependencies:s.dependencies,totalMonths:s.totalMonths,maxMonth:s.maxMonth,criticalPath:s.criticalPath,containerWidth:1200},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChartView.tsx",lineNumber:297,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChartView.tsx",lineNumber:296,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChartView.tsx",lineNumber:295,columnNumber:7},this),s.criticalPath.length>0&&t.jsxDEV(Z,{children:[t.jsxDEV(de,{children:[t.jsxDEV(pe,{className:"text-lg",children:"Critical Path Analysis"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChartView.tsx",lineNumber:314,columnNumber:13},this),t.jsxDEV(He,{children:"These tasks directly impact the program completion date"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChartView.tsx",lineNumber:315,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChartView.tsx",lineNumber:313,columnNumber:11},this),t.jsxDEV(te,{children:t.jsxDEV("div",{className:"space-y-2",children:s.tasks.filter(u=>u.isCriticalPath).map(u=>t.jsxDEV("div",{className:"flex items-center justify-between p-3 bg-red-50 dark:bg-red-950/20 border border-red-200 dark:border-red-800 rounded",children:[t.jsxDEV("div",{className:"flex-1",children:[t.jsxDEV("div",{className:"font-semibold text-red-900 dark:text-red-100",children:u.name},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChartView.tsx",lineNumber:326,columnNumber:23},this),t.jsxDEV("div",{className:"text-sm text-red-700 dark:text-red-300",children:["Months ",u.startMonth,"-",u.endMonth," (",u.duration," months)",u.owner&&`  ${u.owner}`]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChartView.tsx",lineNumber:327,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChartView.tsx",lineNumber:325,columnNumber:21},this),t.jsxDEV("div",{className:"text-right",children:[t.jsxDEV("div",{className:"text-sm font-semibold text-red-900 dark:text-red-100",children:[Math.round(u.confidence*100),"% confidence"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChartView.tsx",lineNumber:333,columnNumber:23},this),u.dependencies.length>0&&t.jsxDEV("div",{className:"text-xs text-red-700 dark:text-red-300",children:[u.dependencies.length," dependencies"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChartView.tsx",lineNumber:337,columnNumber:25},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChartView.tsx",lineNumber:332,columnNumber:21},this)]},u.id,!0,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChartView.tsx",lineNumber:324,columnNumber:19},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChartView.tsx",lineNumber:320,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChartView.tsx",lineNumber:319,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChartView.tsx",lineNumber:312,columnNumber:9},this),s.dependencies.length>0&&t.jsxDEV(Z,{children:[t.jsxDEV(de,{children:[t.jsxDEV(pe,{className:"text-lg",children:"Dependency Network"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChartView.tsx",lineNumber:353,columnNumber:13},this),t.jsxDEV(He,{children:"Task relationships and sequencing"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChartView.tsx",lineNumber:354,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChartView.tsx",lineNumber:352,columnNumber:11},this),t.jsxDEV(te,{children:t.jsxDEV("div",{className:"overflow-x-auto",children:t.jsxDEV("table",{className:"w-full text-sm",children:[t.jsxDEV("thead",{children:t.jsxDEV("tr",{className:"border-b",children:[t.jsxDEV("th",{className:"text-left p-2",children:"Predecessor"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChartView.tsx",lineNumber:363,columnNumber:21},this),t.jsxDEV("th",{className:"text-left p-2",children:"Successor"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChartView.tsx",lineNumber:364,columnNumber:21},this),t.jsxDEV("th",{className:"text-left p-2",children:"Type"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChartView.tsx",lineNumber:365,columnNumber:21},this),t.jsxDEV("th",{className:"text-left p-2",children:"Critical"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChartView.tsx",lineNumber:366,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChartView.tsx",lineNumber:362,columnNumber:19},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChartView.tsx",lineNumber:361,columnNumber:17},this),t.jsxDEV("tbody",{children:s.dependencies.map((u,d)=>{const h=s.tasks.find(p=>p.id===u.fromId),g=s.tasks.find(p=>p.id===u.toId);return t.jsxDEV("tr",{className:"border-b",children:[t.jsxDEV("td",{className:"p-2",children:(h==null?void 0:h.name)||u.fromId},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChartView.tsx",lineNumber:375,columnNumber:25},this),t.jsxDEV("td",{className:"p-2",children:(g==null?void 0:g.name)||u.toId},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChartView.tsx",lineNumber:376,columnNumber:25},this),t.jsxDEV("td",{className:"p-2",children:t.jsxDEV("span",{className:"text-xs bg-gray-100 dark:bg-gray-800 text-gray-800 dark:text-gray-200 px-2 py-1 rounded",children:u.type},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChartView.tsx",lineNumber:378,columnNumber:27},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChartView.tsx",lineNumber:377,columnNumber:25},this),t.jsxDEV("td",{className:"p-2",children:u.isCritical?t.jsxDEV("span",{className:"text-xs bg-red-100 text-red-800 px-2 py-1 rounded font-semibold",children:"Yes"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChartView.tsx",lineNumber:384,columnNumber:29},this):t.jsxDEV("span",{className:"text-xs text-gray-500",children:"No"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChartView.tsx",lineNumber:388,columnNumber:29},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChartView.tsx",lineNumber:382,columnNumber:25},this)]},d,!0,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChartView.tsx",lineNumber:374,columnNumber:23},this)})},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChartView.tsx",lineNumber:369,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChartView.tsx",lineNumber:360,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChartView.tsx",lineNumber:359,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChartView.tsx",lineNumber:358,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChartView.tsx",lineNumber:351,columnNumber:9},this),t.jsxDEV(Z,{children:[t.jsxDEV(de,{children:[t.jsxDEV(pe,{className:"text-lg",children:"Key Milestones"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChartView.tsx",lineNumber:404,columnNumber:11},this),t.jsxDEV(He,{children:"Important deliverables across all workstreams"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChartView.tsx",lineNumber:405,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChartView.tsx",lineNumber:403,columnNumber:9},this),t.jsxDEV(te,{children:t.jsxDEV("div",{className:"space-y-4",children:s.tasks.filter(u=>u.deliverables&&u.deliverables.length>0).map(u=>{var d;return t.jsxDEV("div",{children:[t.jsxDEV("div",{className:"font-semibold text-sm mb-2 text-foreground",children:u.name},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChartView.tsx",lineNumber:415,columnNumber:19},this),t.jsxDEV("div",{className:"space-y-1 ml-4",children:(d=u.deliverables)==null?void 0:d.map(h=>t.jsxDEV("div",{className:"flex items-center justify-between p-2 bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-800 rounded text-sm",children:[t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV("svg",{width:"12",height:"12",children:t.jsxDEV("path",{d:"M 6 2 L 10 6 L 6 10 L 2 6 Z",fill:"currentColor",className:"text-blue-600 dark:text-blue-400"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChartView.tsx",lineNumber:421,columnNumber:29},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChartView.tsx",lineNumber:420,columnNumber:27},this),t.jsxDEV("span",{className:"text-foreground",children:h.name},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChartView.tsx",lineNumber:423,columnNumber:27},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChartView.tsx",lineNumber:419,columnNumber:25},this),t.jsxDEV("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[t.jsxDEV("span",{children:["Month ",h.dueMonth]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChartView.tsx",lineNumber:426,columnNumber:27},this),t.jsxDEV("span",{children:h.effort},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChartView.tsx",lineNumber:427,columnNumber:27},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChartView.tsx",lineNumber:425,columnNumber:25},this)]},h.id,!0,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChartView.tsx",lineNumber:418,columnNumber:23},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChartView.tsx",lineNumber:416,columnNumber:19},this)]},u.id,!0,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChartView.tsx",lineNumber:414,columnNumber:17},this)})},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChartView.tsx",lineNumber:410,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChartView.tsx",lineNumber:409,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChartView.tsx",lineNumber:402,columnNumber:7},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChartView.tsx",lineNumber:258,columnNumber:5},this):t.jsxDEV(it,{variant:"destructive",children:[t.jsxDEV(er,{children:"Unable to Generate Gantt Chart"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChartView.tsx",lineNumber:235,columnNumber:9},this),t.jsxDEV(at,{children:"The program data could not be transformed into Gantt chart format. Please ensure workstreams, timeline, and stage gates are properly defined."},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChartView.tsx",lineNumber:236,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/GanttChartView.tsx",lineNumber:234,columnNumber:7},this)}const lh={all:["task-assignments"],byProgram:e=>["task-assignments","program",e],byTask:e=>["task-assignments","task",e],workload:e=>["task-assignments","workload",e]};function Xde(e){return yt({queryKey:lh.byProgram(e),queryFn:async()=>{const r=await fetch(`/api/task-assignments/program/${e}`);if(!r.ok)throw new Error("Failed to fetch assignments");return(await r.json()).assignments},enabled:!!e})}function Qde(e){return yt({queryKey:lh.workload(e),queryFn:async()=>{const r=await fetch(`/api/task-assignments/program/${e}/workload`);if(!r.ok)throw new Error("Failed to fetch workload");return(await r.json()).workload},enabled:!!e})}function Zde(){return Qr({mutationFn:async({id:e,programId:r,data:n})=>await Zt("PATCH",`/api/task-assignments/${e}`,n),onSuccess:(e,r)=>{vr.invalidateQueries({queryKey:lh.byProgram(r.programId)}),vr.invalidateQueries({queryKey:lh.workload(r.programId)})}})}function ehe(){return Qr({mutationFn:async({id:e,programId:r})=>await Zt("DELETE",`/api/task-assignments/${e}`,{}),onSuccess:(e,r)=>{vr.invalidateQueries({queryKey:lh.byProgram(r.programId)}),vr.invalidateQueries({queryKey:lh.workload(r.programId)})}})}function the({programId:e,workstreams:r,resourcePlan:n,readonly:s=!1}){const{toast:a}=ur(),{data:l,isLoading:c}=Xde(e),u=Zde(),d=ehe(),[h,g]=v.useState(null),p=[...((n==null?void 0:n.internalTeam)||[]).map((w,k)=>({id:w.id||`internal-${k}`,name:w.role||w.name||`Resource ${k+1}`,type:"internal"})),...((n==null?void 0:n.externalResources)||[]).map((w,k)=>({id:w.id||`external-${k}`,name:w.type||w.description||`External Resource ${k+1}`,type:"external"}))],N=w=>{var V;const k=r.find(S=>S.id===w);if(k)return k.name;for(const S of r){const R=(V=S.deliverables)==null?void 0:V.find(M=>M.id===w||M.name===w);if(R)return R.name||R.description||w}return w},b=w=>{const k=p.find(V=>V.id===w);return(k==null?void 0:k.name)||w},D=r.map(w=>{const k=(l||[]).filter(V=>{var R;return w.id===V.taskId?!0:!!((R=w.deliverables)==null?void 0:R.find(M=>M.id===V.taskId||M.name===V.taskId))});return{workstream:w,assignments:k}}),E=async(w,k)=>{try{await u.mutateAsync({id:w.id,programId:e,data:{status:k}}),a({title:"Status Updated",description:`Assignment status changed to ${k.replace("_"," ")}`})}catch{a({title:"Update Failed",description:"Failed to update assignment status",variant:"destructive"})}},j=async w=>{try{await d.mutateAsync({id:w.id,programId:e}),a({title:"Assignment Deleted",description:"Task assignment has been removed"})}catch{a({title:"Delete Failed",description:"Failed to delete assignment",variant:"destructive"})}},P=w=>{const k={assigned:{variant:"outline",icon:Dt},in_progress:{variant:"secondary",icon:On},completed:{variant:"default",icon:tr}},V=k[w]||k.assigned,S=V.icon;return t.jsxDEV(se,{variant:V.variant,className:"gap-1",children:[t.jsxDEV(S,{className:"h-3 w-3"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/AssignmentsPanel.tsx",lineNumber:166,columnNumber:9},this),w.replace("_"," ")]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/AssignmentsPanel.tsx",lineNumber:165,columnNumber:7},this)};return c?t.jsxDEV(Z,{children:[t.jsxDEV(de,{children:t.jsxDEV(pe,{className:"flex items-center gap-2",children:[t.jsxDEV(On,{className:"h-5 w-5"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/AssignmentsPanel.tsx",lineNumber:177,columnNumber:13},this),"Task Assignments"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/AssignmentsPanel.tsx",lineNumber:176,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/AssignmentsPanel.tsx",lineNumber:175,columnNumber:9},this),t.jsxDEV(te,{children:t.jsxDEV("div",{className:"space-y-3",children:[1,2,3].map(w=>t.jsxDEV(Jt,{className:"h-12 w-full"},w,!1,{fileName:"/home/runner/workspace/client/src/components/epm/AssignmentsPanel.tsx",lineNumber:184,columnNumber:15},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/AssignmentsPanel.tsx",lineNumber:182,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/AssignmentsPanel.tsx",lineNumber:181,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/AssignmentsPanel.tsx",lineNumber:174,columnNumber:7},this):!l||l.length===0?t.jsxDEV(Z,{children:[t.jsxDEV(de,{children:[t.jsxDEV(pe,{className:"flex items-center gap-2",children:[t.jsxDEV(On,{className:"h-5 w-5"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/AssignmentsPanel.tsx",lineNumber:197,columnNumber:13},this),"Task Assignments"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/AssignmentsPanel.tsx",lineNumber:196,columnNumber:11},this),t.jsxDEV(He,{children:"No task assignments found"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/AssignmentsPanel.tsx",lineNumber:200,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/AssignmentsPanel.tsx",lineNumber:195,columnNumber:9},this),t.jsxDEV(te,{children:t.jsxDEV(it,{children:[t.jsxDEV(Dt,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/AssignmentsPanel.tsx",lineNumber:206,columnNumber:13},this),t.jsxDEV(at,{children:"This program doesn't have any task assignments yet. Assignments are automatically generated when creating EPM programs with resource plans."},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/AssignmentsPanel.tsx",lineNumber:207,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/AssignmentsPanel.tsx",lineNumber:205,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/AssignmentsPanel.tsx",lineNumber:204,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/AssignmentsPanel.tsx",lineNumber:194,columnNumber:7},this):t.jsxDEV(Z,{children:[t.jsxDEV(de,{children:[t.jsxDEV(pe,{className:"flex items-center gap-2",children:[t.jsxDEV(On,{className:"h-5 w-5"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/AssignmentsPanel.tsx",lineNumber:221,columnNumber:11},this),"Task Assignments"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/AssignmentsPanel.tsx",lineNumber:220,columnNumber:9},this),t.jsxDEV(He,{children:["Resource allocations across ",r.length," workstreams (",l.length," assignments)"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/AssignmentsPanel.tsx",lineNumber:224,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/AssignmentsPanel.tsx",lineNumber:219,columnNumber:7},this),t.jsxDEV(te,{className:"space-y-4",children:D.map(({workstream:w,assignments:k})=>t.jsxDEV("div",{className:"border rounded-lg",children:[t.jsxDEV("button",{onClick:()=>g(h===w.name?null:w.name),className:"w-full px-4 py-3 flex items-center justify-between hover:bg-muted/50 transition-colors","data-testid":`button-toggle-workstream-${w.name}`,children:[t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV("h3",{className:"font-semibold",children:w.name},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/AssignmentsPanel.tsx",lineNumber:239,columnNumber:17},this),t.jsxDEV(se,{variant:"secondary",children:[k.length," assignments"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/AssignmentsPanel.tsx",lineNumber:240,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/AssignmentsPanel.tsx",lineNumber:238,columnNumber:15},this),t.jsxDEV("span",{className:"text-sm text-muted-foreground",children:h===w.name?"":""},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/AssignmentsPanel.tsx",lineNumber:242,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/AssignmentsPanel.tsx",lineNumber:231,columnNumber:13},this),h===w.name&&t.jsxDEV("div",{className:"border-t",children:t.jsxDEV(DP,{children:[t.jsxDEV(jP,{children:t.jsxDEV(Rd,{children:[t.jsxDEV(ao,{children:"Task"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/AssignmentsPanel.tsx",lineNumber:252,columnNumber:23},this),t.jsxDEV(ao,{children:"Resource"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/AssignmentsPanel.tsx",lineNumber:253,columnNumber:23},this),t.jsxDEV(ao,{children:"Type"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/AssignmentsPanel.tsx",lineNumber:254,columnNumber:23},this),t.jsxDEV(ao,{children:"Hours"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/AssignmentsPanel.tsx",lineNumber:255,columnNumber:23},this),t.jsxDEV(ao,{children:"Status"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/AssignmentsPanel.tsx",lineNumber:256,columnNumber:23},this),!s&&t.jsxDEV(ao,{className:"w-[100px]",children:"Actions"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/AssignmentsPanel.tsx",lineNumber:257,columnNumber:37},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/AssignmentsPanel.tsx",lineNumber:251,columnNumber:21},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/AssignmentsPanel.tsx",lineNumber:250,columnNumber:19},this),t.jsxDEV(VP,{children:k.length===0?t.jsxDEV(Rd,{children:t.jsxDEV(wa,{colSpan:s?5:6,className:"text-center text-muted-foreground",children:"No assignments in this workstream"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/AssignmentsPanel.tsx",lineNumber:263,columnNumber:25},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/AssignmentsPanel.tsx",lineNumber:262,columnNumber:23},this):k.map(V=>t.jsxDEV(Rd,{"data-testid":`row-assignment-${V.id}`,children:[t.jsxDEV(wa,{className:"font-medium",children:N(V.taskId)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/AssignmentsPanel.tsx",lineNumber:270,columnNumber:27},this),t.jsxDEV(wa,{children:b(V.resourceId)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/AssignmentsPanel.tsx",lineNumber:273,columnNumber:27},this),t.jsxDEV(wa,{children:t.jsxDEV(se,{variant:"outline",children:V.resourceType},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/AssignmentsPanel.tsx",lineNumber:275,columnNumber:29},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/AssignmentsPanel.tsx",lineNumber:274,columnNumber:27},this),t.jsxDEV(wa,{children:t.jsxDEV("div",{className:"space-y-1",children:[t.jsxDEV("div",{className:"text-sm",children:["Est: ",V.estimatedHours||0,"h"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/AssignmentsPanel.tsx",lineNumber:281,columnNumber:31},this),V.actualHours!==void 0&&V.actualHours>0&&t.jsxDEV("div",{className:"text-sm text-muted-foreground",children:["Actual: ",V.actualHours,"h"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/AssignmentsPanel.tsx",lineNumber:285,columnNumber:33},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/AssignmentsPanel.tsx",lineNumber:280,columnNumber:29},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/AssignmentsPanel.tsx",lineNumber:279,columnNumber:27},this),t.jsxDEV(wa,{children:s?P(V.status):t.jsxDEV(Pa,{value:V.status,onValueChange:S=>E(V,S),disabled:u.isPending,children:[t.jsxDEV(Qi,{className:"w-[140px]","data-testid":`select-status-${V.id}`,children:t.jsxDEV(Sa,{},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/AssignmentsPanel.tsx",lineNumber:304,columnNumber:35},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/AssignmentsPanel.tsx",lineNumber:300,columnNumber:33},this),t.jsxDEV(Zi,{children:[t.jsxDEV(as,{value:"assigned",children:"Assigned"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/AssignmentsPanel.tsx",lineNumber:307,columnNumber:35},this),t.jsxDEV(as,{value:"in_progress",children:"In Progress"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/AssignmentsPanel.tsx",lineNumber:308,columnNumber:35},this),t.jsxDEV(as,{value:"completed",children:"Completed"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/AssignmentsPanel.tsx",lineNumber:309,columnNumber:35},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/AssignmentsPanel.tsx",lineNumber:306,columnNumber:33},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/AssignmentsPanel.tsx",lineNumber:295,columnNumber:31},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/AssignmentsPanel.tsx",lineNumber:291,columnNumber:27},this),!s&&t.jsxDEV(wa,{children:t.jsxDEV(me,{variant:"ghost",size:"sm",onClick:()=>j(V),disabled:d.isPending,"data-testid":`button-delete-${V.id}`,children:t.jsxDEV(vo,{className:"h-4 w-4 text-destructive"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/AssignmentsPanel.tsx",lineNumber:323,columnNumber:33},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/AssignmentsPanel.tsx",lineNumber:316,columnNumber:31},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/AssignmentsPanel.tsx",lineNumber:315,columnNumber:29},this)]},V.id,!0,{fileName:"/home/runner/workspace/client/src/components/epm/AssignmentsPanel.tsx",lineNumber:269,columnNumber:25},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/AssignmentsPanel.tsx",lineNumber:260,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/AssignmentsPanel.tsx",lineNumber:249,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/AssignmentsPanel.tsx",lineNumber:248,columnNumber:15},this)]},w.id||w.name,!0,{fileName:"/home/runner/workspace/client/src/components/epm/AssignmentsPanel.tsx",lineNumber:230,columnNumber:11},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/AssignmentsPanel.tsx",lineNumber:228,columnNumber:7},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/AssignmentsPanel.tsx",lineNumber:218,columnNumber:5},this)}function rhe({programId:e}){const{data:r,isLoading:n}=Qde(e);if(n)return t.jsxDEV(Z,{children:[t.jsxDEV(de,{children:t.jsxDEV(pe,{className:"flex items-center gap-2",children:[t.jsxDEV(jd,{className:"h-5 w-5"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/ResourceWorkloadView.tsx",lineNumber:26,columnNumber:13},this),"Resource Workload"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/ResourceWorkloadView.tsx",lineNumber:25,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/ResourceWorkloadView.tsx",lineNumber:24,columnNumber:9},this),t.jsxDEV(te,{children:t.jsxDEV("div",{className:"space-y-3",children:[1,2,3].map(d=>t.jsxDEV(Jt,{className:"h-16 w-full"},d,!1,{fileName:"/home/runner/workspace/client/src/components/epm/ResourceWorkloadView.tsx",lineNumber:33,columnNumber:15},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/ResourceWorkloadView.tsx",lineNumber:31,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/ResourceWorkloadView.tsx",lineNumber:30,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/ResourceWorkloadView.tsx",lineNumber:23,columnNumber:7},this);if(!r||r.length===0)return t.jsxDEV(Z,{children:[t.jsxDEV(de,{children:[t.jsxDEV(pe,{className:"flex items-center gap-2",children:[t.jsxDEV(jd,{className:"h-5 w-5"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/ResourceWorkloadView.tsx",lineNumber:46,columnNumber:13},this),"Resource Workload"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/ResourceWorkloadView.tsx",lineNumber:45,columnNumber:11},this),t.jsxDEV(He,{children:"No workload data available"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/ResourceWorkloadView.tsx",lineNumber:49,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/ResourceWorkloadView.tsx",lineNumber:44,columnNumber:9},this),t.jsxDEV(te,{children:t.jsxDEV(it,{children:[t.jsxDEV(Dt,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/ResourceWorkloadView.tsx",lineNumber:55,columnNumber:13},this),t.jsxDEV(at,{children:"No resource workload data available. Ensure task assignments have been created."},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/ResourceWorkloadView.tsx",lineNumber:56,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/ResourceWorkloadView.tsx",lineNumber:54,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/ResourceWorkloadView.tsx",lineNumber:53,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/ResourceWorkloadView.tsx",lineNumber:43,columnNumber:7},this);const s=r.reduce((d,h)=>d+h.totalAssignedHours,0),a=r.reduce((d,h)=>d+h.utilizationPercentage,0)/r.length,l=r.filter(d=>d.utilizationPercentage>100).length,c=d=>d>100?"text-red-600 dark:text-red-400":d>80?"text-yellow-600 dark:text-yellow-400":"text-green-600 dark:text-green-400",u=d=>d>100?t.jsxDEV(se,{variant:"destructive",children:["Overloaded (",Math.round(d),"%)"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/ResourceWorkloadView.tsx",lineNumber:80,columnNumber:14},this):d>80?t.jsxDEV(se,{variant:"secondary",children:["High (",Math.round(d),"%)"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/ResourceWorkloadView.tsx",lineNumber:83,columnNumber:14},this):d>50?t.jsxDEV(se,{variant:"outline",children:["Moderate (",Math.round(d),"%)"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/ResourceWorkloadView.tsx",lineNumber:86,columnNumber:14},this):t.jsxDEV(se,{variant:"outline",children:["Low (",Math.round(d),"%)"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/ResourceWorkloadView.tsx",lineNumber:88,columnNumber:12},this);return t.jsxDEV(Z,{children:[t.jsxDEV(de,{children:[t.jsxDEV(pe,{className:"flex items-center gap-2",children:[t.jsxDEV(jd,{className:"h-5 w-5"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/ResourceWorkloadView.tsx",lineNumber:95,columnNumber:11},this),"Resource Workload"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/ResourceWorkloadView.tsx",lineNumber:94,columnNumber:9},this),t.jsxDEV(He,{children:["Utilization across ",r.length," resources"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/ResourceWorkloadView.tsx",lineNumber:98,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/ResourceWorkloadView.tsx",lineNumber:93,columnNumber:7},this),t.jsxDEV(te,{className:"space-y-6",children:[t.jsxDEV("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[t.jsxDEV("div",{className:"bg-muted/50 p-4 rounded-lg",children:[t.jsxDEV("div",{className:"text-sm text-muted-foreground",children:"Total Hours"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/ResourceWorkloadView.tsx",lineNumber:106,columnNumber:13},this),t.jsxDEV("div",{className:"text-2xl font-bold","data-testid":"text-total-hours",children:[s.toFixed(0),"h"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/ResourceWorkloadView.tsx",lineNumber:107,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/ResourceWorkloadView.tsx",lineNumber:105,columnNumber:11},this),t.jsxDEV("div",{className:"bg-muted/50 p-4 rounded-lg",children:[t.jsxDEV("div",{className:"text-sm text-muted-foreground",children:"Avg Utilization"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/ResourceWorkloadView.tsx",lineNumber:112,columnNumber:13},this),t.jsxDEV("div",{className:`text-2xl font-bold ${c(a)}`,"data-testid":"text-avg-utilization",children:[Math.round(a),"%"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/ResourceWorkloadView.tsx",lineNumber:113,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/ResourceWorkloadView.tsx",lineNumber:111,columnNumber:11},this),t.jsxDEV("div",{className:"bg-muted/50 p-4 rounded-lg",children:[t.jsxDEV("div",{className:"text-sm text-muted-foreground",children:"Overloaded"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/ResourceWorkloadView.tsx",lineNumber:118,columnNumber:13},this),t.jsxDEV("div",{className:"text-2xl font-bold text-red-600 dark:text-red-400","data-testid":"text-overloaded-count",children:l},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/ResourceWorkloadView.tsx",lineNumber:119,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/ResourceWorkloadView.tsx",lineNumber:117,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/ResourceWorkloadView.tsx",lineNumber:104,columnNumber:9},this),l>0&&t.jsxDEV(it,{variant:"destructive",children:[t.jsxDEV(Dt,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/ResourceWorkloadView.tsx",lineNumber:128,columnNumber:13},this),t.jsxDEV(at,{children:[l," resource",l>1?"s are":" is"," over-allocated. Consider redistributing tasks or adding more resources."]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/ResourceWorkloadView.tsx",lineNumber:129,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/ResourceWorkloadView.tsx",lineNumber:127,columnNumber:11},this),t.jsxDEV("div",{className:"space-y-4",children:[t.jsxDEV("h3",{className:"font-semibold text-sm text-muted-foreground",children:"Resources"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/ResourceWorkloadView.tsx",lineNumber:138,columnNumber:11},this),r.map(d=>t.jsxDEV("div",{className:"border rounded-lg p-4 space-y-3","data-testid":`card-resource-${d.resourceId}`,children:[t.jsxDEV("div",{className:"flex items-start justify-between gap-2",children:[t.jsxDEV("div",{className:"space-y-1",children:[t.jsxDEV("h4",{className:"font-semibold",children:d.resourceName},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/ResourceWorkloadView.tsx",lineNumber:147,columnNumber:19},this),t.jsxDEV("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[t.jsxDEV(se,{variant:"outline",className:"text-xs",children:d.resourceType},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/ResourceWorkloadView.tsx",lineNumber:149,columnNumber:21},this),t.jsxDEV("span",{children:[d.assignmentCount," assignments"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/ResourceWorkloadView.tsx",lineNumber:152,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/ResourceWorkloadView.tsx",lineNumber:148,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/ResourceWorkloadView.tsx",lineNumber:146,columnNumber:17},this),u(d.utilizationPercentage)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/ResourceWorkloadView.tsx",lineNumber:145,columnNumber:15},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV("div",{className:"flex justify-between text-sm",children:[t.jsxDEV("span",{className:"text-muted-foreground",children:"Workload"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/ResourceWorkloadView.tsx",lineNumber:161,columnNumber:19},this),t.jsxDEV("span",{className:"font-medium",children:[d.totalAssignedHours.toFixed(0),"h assigned",d.totalActualHours>0&&t.jsxDEV("span",{className:"text-muted-foreground ml-2",children:["/ ",d.totalActualHours.toFixed(0),"h actual"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/ResourceWorkloadView.tsx",lineNumber:165,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/ResourceWorkloadView.tsx",lineNumber:162,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/ResourceWorkloadView.tsx",lineNumber:160,columnNumber:17},this),t.jsxDEV(Ln,{value:Math.min(d.utilizationPercentage,100),className:"h-2","data-testid":`progress-${d.resourceId}`},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/ResourceWorkloadView.tsx",lineNumber:171,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/ResourceWorkloadView.tsx",lineNumber:159,columnNumber:15},this),d.assignments&&d.assignments.length>0&&t.jsxDEV("details",{className:"text-sm",children:[t.jsxDEV("summary",{className:"cursor-pointer text-muted-foreground hover:text-foreground",children:["View ",d.assignments.length," assignments"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/ResourceWorkloadView.tsx",lineNumber:181,columnNumber:19},this),t.jsxDEV("div",{className:"mt-2 space-y-1 pl-4",children:d.assignments.map((h,g)=>t.jsxDEV("div",{className:"flex justify-between py-1 border-l-2 pl-2","data-testid":`assignment-detail-${d.resourceId}-${g}`,children:[t.jsxDEV("span",{className:"text-muted-foreground",children:h.taskName},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/ResourceWorkloadView.tsx",lineNumber:191,columnNumber:25},this),t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV("span",{className:"font-mono",children:[h.estimatedHours,"h"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/ResourceWorkloadView.tsx",lineNumber:193,columnNumber:27},this),t.jsxDEV(se,{variant:"outline",className:"text-xs",children:h.status},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/ResourceWorkloadView.tsx",lineNumber:194,columnNumber:27},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/ResourceWorkloadView.tsx",lineNumber:192,columnNumber:25},this)]},g,!0,{fileName:"/home/runner/workspace/client/src/components/epm/ResourceWorkloadView.tsx",lineNumber:186,columnNumber:23},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/ResourceWorkloadView.tsx",lineNumber:184,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/ResourceWorkloadView.tsx",lineNumber:180,columnNumber:17},this)]},d.resourceId,!0,{fileName:"/home/runner/workspace/client/src/components/epm/ResourceWorkloadView.tsx",lineNumber:140,columnNumber:13},this))]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/ResourceWorkloadView.tsx",lineNumber:137,columnNumber:9},this),t.jsxDEV("div",{className:"flex items-center gap-2 text-sm text-muted-foreground border-t pt-4",children:[t.jsxDEV(cn,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/ResourceWorkloadView.tsx",lineNumber:209,columnNumber:11},this),t.jsxDEV("span",{children:"Utilization assumes 40-hour work weeks. Adjust assignments as needed for balanced workload."},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/epm/ResourceWorkloadView.tsx",lineNumber:210,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/ResourceWorkloadView.tsx",lineNumber:208,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/ResourceWorkloadView.tsx",lineNumber:102,columnNumber:7},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/epm/ResourceWorkloadView.tsx",lineNumber:92,columnNumber:5},this)}function nhe({confidence:e}){const r=Math.round(e*100),n=r>80?"default":r>60?"secondary":"destructive",s=r>80?"text-green-600":r>60?"text-yellow-600":"text-red-600";return t.jsxDEV(se,{variant:n,className:s,children:[r,"% confidence"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/EPMProgramView.tsx",lineNumber:87,columnNumber:5},this)}function she(){const[,e]=Xn("/strategy-workspace/epm/:id");or();const{toast:r}=ur(),n=e==null?void 0:e.id,{knowledgeGraph:s}=Kg(),[a,l]=v.useState(null),[c,u]=v.useState(""),{data:d,isLoading:h,error:g}=yt({queryKey:["/api/strategy-workspace/epm",n],enabled:!!n}),{data:p}=yt({queryKey:["/api/strategy-workspace/epm",n,"session"],queryFn:async()=>{const A=await fetch(`/api/strategy-workspace/epm/${n}/session`,{credentials:"include"});return A.ok?A.json():{sessionId:null}},enabled:s&&!!n}),{data:N,isLoading:b,error:D}=W0((p==null?void 0:p.sessionId)||null,{enabled:s&&!!(p!=null&&p.sessionId)}),{data:E,isLoading:j,error:P}=yt({queryKey:["/api/strategic-consultant/bmc-knowledge",n],queryFn:async()=>{const A=await fetch(`/api/strategic-consultant/bmc-knowledge/${n}`,{credentials:"include"});if(!A.ok)throw new Error("Failed to fetch BMC knowledge data");return A.json()},enabled:!!n}),w=Qr({mutationFn:async()=>(await Zt("POST",`/api/strategy-workspace/epm/${n}/finalize`,{})).json(),onSuccess:()=>{vr.invalidateQueries({queryKey:["/api/strategy-workspace/epm",n]}),r({title:"EPM Program Finalized",description:"Your program is now ready for execution"})},onError:A=>{r({title:"Failed to finalize",description:A.message||"Please review low-confidence components",variant:"destructive"})}}),k=(A,F)=>{l(A),u(JSON.stringify(F,null,2))},V=async A=>{try{const F=JSON.parse(c);await Zt("PATCH",`/api/strategy-workspace/epm/${n}`,{component:A,value:F}),vr.invalidateQueries({queryKey:["/api/strategy-workspace/epm",n]}),l(null),r({title:"Component updated",description:`${A} has been saved`})}catch(F){r({title:"Failed to save",description:F.message||"Invalid JSON format",variant:"destructive"})}};if(!n)return t.jsxDEV("div",{className:"min-h-screen bg-background flex items-center justify-center p-8",children:t.jsxDEV(it,{variant:"destructive",className:"max-w-md",children:[t.jsxDEV(Dt,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/EPMProgramView.tsx",lineNumber:202,columnNumber:11},this),t.jsxDEV(er,{children:"Invalid Program"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/EPMProgramView.tsx",lineNumber:203,columnNumber:11},this),t.jsxDEV(at,{children:"No program ID provided"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/EPMProgramView.tsx",lineNumber:204,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/EPMProgramView.tsx",lineNumber:201,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/EPMProgramView.tsx",lineNumber:200,columnNumber:7},this);if(h)return t.jsxDEV("div",{className:"min-h-screen bg-background flex items-center justify-center",children:t.jsxDEV("div",{className:"text-center space-y-4",children:[t.jsxDEV(lt,{className:"h-8 w-8 animate-spin mx-auto text-primary"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/EPMProgramView.tsx",lineNumber:214,columnNumber:11},this),t.jsxDEV("p",{className:"text-muted-foreground",children:"Loading EPM program..."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/EPMProgramView.tsx",lineNumber:215,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/EPMProgramView.tsx",lineNumber:213,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/EPMProgramView.tsx",lineNumber:212,columnNumber:7},this);if(g||!(d!=null&&d.program))return t.jsxDEV("div",{className:"min-h-screen bg-background flex items-center justify-center p-8",children:t.jsxDEV(it,{variant:"destructive",className:"max-w-md",children:[t.jsxDEV(Dt,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/EPMProgramView.tsx",lineNumber:225,columnNumber:11},this),t.jsxDEV(er,{children:"Program Not Found"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/EPMProgramView.tsx",lineNumber:226,columnNumber:11},this),t.jsxDEV(at,{children:g instanceof Error?g.message:"EPM program not found"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/EPMProgramView.tsx",lineNumber:227,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/EPMProgramView.tsx",lineNumber:224,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/EPMProgramView.tsx",lineNumber:223,columnNumber:7},this);const S=d.program,R=parseFloat(S.overallConfidence),M=(A,F)=>{const $={executiveSummary:gde,workstreams:Nde,timeline:xde,resourcePlan:bde,financialPlan:vde,benefitsRealization:yde,riskRegister:wde,stageGates:kde,kpis:Ede,stakeholderMap:Dde,governance:jde,qaPlan:Vde,procurement:Pde,exitStrategy:Sde}[A];return $?t.jsxDEV($,{data:F},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/EPMProgramView.tsx",lineNumber:267,columnNumber:12},this):t.jsxDEV("pre",{className:"text-sm bg-muted p-4 rounded overflow-auto max-h-96",children:JSON.stringify(F,null,2)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/EPMProgramView.tsx",lineNumber:261,columnNumber:9},this)},T=({title:A,component:F,data:L,confidence:$})=>{var Y,H;const W=a===F,O=(H=(Y=S.editTracking)==null?void 0:Y[F])==null?void 0:H.modified;return t.jsxDEV(Z,{className:O?"border-blue-500":"",children:[t.jsxDEV(de,{children:t.jsxDEV("div",{className:"flex items-start justify-between",children:[t.jsxDEV("div",{className:"flex-1",children:t.jsxDEV(pe,{className:"text-lg flex items-center gap-2",children:[A,O&&t.jsxDEV(se,{variant:"outline",className:"text-blue-600",children:"User Modified"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/EPMProgramView.tsx",lineNumber:282,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/EPMProgramView.tsx",lineNumber:279,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/EPMProgramView.tsx",lineNumber:278,columnNumber:13},this),t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(nhe,{confidence:$},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/EPMProgramView.tsx",lineNumber:289,columnNumber:15},this),S.status==="draft"&&t.jsxDEV(me,{variant:"ghost",size:"sm",onClick:()=>W?V(F):k(F,L),"data-testid":`button-edit-${F}`,children:W?t.jsxDEV(sA,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/EPMProgramView.tsx",lineNumber:297,columnNumber:32},this):t.jsxDEV(WX,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/EPMProgramView.tsx",lineNumber:297,columnNumber:63},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/EPMProgramView.tsx",lineNumber:291,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/EPMProgramView.tsx",lineNumber:288,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/EPMProgramView.tsx",lineNumber:277,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/EPMProgramView.tsx",lineNumber:276,columnNumber:9},this),t.jsxDEV(te,{children:W?t.jsxDEV(In,{value:c,onChange:q=>u(q.target.value),rows:10,className:"font-mono text-sm","data-testid":`textarea-edit-${F}`},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/EPMProgramView.tsx",lineNumber:305,columnNumber:13},this):M(F,L)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/EPMProgramView.tsx",lineNumber:303,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/EPMProgramView.tsx",lineNumber:275,columnNumber:7},this)};return t.jsxDEV(st,{title:"EPM Program",subtitle:`Generated from ${S.frameworkType.toUpperCase()} analysis`,children:t.jsxDEV("div",{className:"max-w-6xl mx-auto space-y-6",children:[t.jsxDEV(Z,{children:t.jsxDEV(de,{children:t.jsxDEV("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4 sm:justify-between",children:[t.jsxDEV("div",{children:[t.jsxDEV(pe,{children:"Program Overview"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/EPMProgramView.tsx",lineNumber:331,columnNumber:17},this),t.jsxDEV(He,{children:["Status: ",t.jsxDEV(se,{children:S.status},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/EPMProgramView.tsx",lineNumber:333,columnNumber:27},this),S.finalizedAt&&`  Finalized on ${new Date(S.finalizedAt).toLocaleDateString()}`]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/EPMProgramView.tsx",lineNumber:332,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/EPMProgramView.tsx",lineNumber:330,columnNumber:15},this),t.jsxDEV("div",{className:"text-right",children:[t.jsxDEV("div",{className:"text-3xl font-bold","data-testid":"text-overall-confidence",children:[Math.round(R*100),"%"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/EPMProgramView.tsx",lineNumber:338,columnNumber:17},this),t.jsxDEV("div",{className:"text-sm text-muted-foreground",children:"Overall Confidence"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/EPMProgramView.tsx",lineNumber:341,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/EPMProgramView.tsx",lineNumber:337,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/EPMProgramView.tsx",lineNumber:329,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/EPMProgramView.tsx",lineNumber:328,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/EPMProgramView.tsx",lineNumber:327,columnNumber:9},this),R<.8&&t.jsxDEV(it,{variant:"destructive",children:[t.jsxDEV(Dt,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/EPMProgramView.tsx",lineNumber:350,columnNumber:13},this),t.jsxDEV(er,{children:"Low Confidence Detected"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/EPMProgramView.tsx",lineNumber:351,columnNumber:13},this),t.jsxDEV(at,{children:["This program has lower than recommended confidence (",Math.round(R*100),"%). Review and edit components marked with yellow or red badges before finalizing."]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/EPMProgramView.tsx",lineNumber:352,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/EPMProgramView.tsx",lineNumber:349,columnNumber:11},this),t.jsxDEV(pde,{programId:n,data:E,loading:j,error:P},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/EPMProgramView.tsx",lineNumber:360,columnNumber:9},this),s&&(p==null?void 0:p.sessionId)&&t.jsxDEV(nO,{title:"Before You Launch",insights:N?{similarStrategies:N.similarStrategies||[],incentives:N.incentives||[],evidence:N.evidence||[]}:void 0,loading:b,error:D,hasConsent:N==null?void 0:N.hasConsent,dataClassification:N==null?void 0:N.dataClassification},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/EPMProgramView.tsx",lineNumber:369,columnNumber:11},this),t.jsxDEV(bl,{defaultValue:"summary",className:"space-y-4",children:[t.jsxDEV("div",{className:"overflow-x-auto -mx-4 sm:mx-0",children:t.jsxDEV(Eo,{className:"inline-flex sm:grid sm:grid-cols-8 w-full min-w-max sm:min-w-0 px-4 sm:px-0",children:[t.jsxDEV(Pr,{value:"summary",className:"flex-shrink-0 px-3 sm:px-4 text-sm",children:"Summary"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/EPMProgramView.tsx",lineNumber:387,columnNumber:15},this),t.jsxDEV(Pr,{value:"timeline",className:"flex-shrink-0 px-3 sm:px-4 text-sm",children:"Timeline"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/EPMProgramView.tsx",lineNumber:388,columnNumber:15},this),t.jsxDEV(Pr,{value:"planning",className:"flex-shrink-0 px-3 sm:px-4 text-sm",children:"Planning"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/EPMProgramView.tsx",lineNumber:389,columnNumber:15},this),t.jsxDEV(Pr,{value:"resources",className:"flex-shrink-0 px-3 sm:px-4 text-sm",children:"Resources"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/EPMProgramView.tsx",lineNumber:390,columnNumber:15},this),t.jsxDEV(Pr,{value:"benefits",className:"flex-shrink-0 px-3 sm:px-4 text-sm",children:"Benefits"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/EPMProgramView.tsx",lineNumber:391,columnNumber:15},this),t.jsxDEV(Pr,{value:"risks",className:"flex-shrink-0 px-3 sm:px-4 text-sm",children:"Risks"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/EPMProgramView.tsx",lineNumber:392,columnNumber:15},this),t.jsxDEV(Pr,{value:"governance",className:"flex-shrink-0 px-3 sm:px-4 text-sm",children:"Gov"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/EPMProgramView.tsx",lineNumber:393,columnNumber:15},this),t.jsxDEV(Pr,{value:"other",className:"flex-shrink-0 px-3 sm:px-4 text-sm",children:"Other"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/EPMProgramView.tsx",lineNumber:394,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/EPMProgramView.tsx",lineNumber:386,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/EPMProgramView.tsx",lineNumber:385,columnNumber:11},this),t.jsxDEV(Sr,{value:"summary",className:"space-y-4",children:t.jsxDEV(T,{title:"Executive Summary",component:"executiveSummary",data:S.executiveSummary,confidence:S.componentConfidence.executiveSummary||.75},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/EPMProgramView.tsx",lineNumber:399,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/EPMProgramView.tsx",lineNumber:398,columnNumber:11},this),t.jsxDEV(Sr,{value:"timeline",className:"space-y-4",children:t.jsxDEV(Yde,{workstreams:S.workstreams,timeline:S.timeline,stageGates:S.stageGates},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/EPMProgramView.tsx",lineNumber:409,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/EPMProgramView.tsx",lineNumber:408,columnNumber:11},this),t.jsxDEV(Sr,{value:"planning",className:"space-y-4",children:[t.jsxDEV(T,{title:"Workstreams",component:"workstreams",data:S.workstreams,confidence:S.componentConfidence.workstreams||.75},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/EPMProgramView.tsx",lineNumber:417,columnNumber:13},this),t.jsxDEV(T,{title:"Timeline",component:"timeline",data:S.timeline,confidence:S.componentConfidence.timeline||.75},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/EPMProgramView.tsx",lineNumber:423,columnNumber:13},this),t.jsxDEV(T,{title:"Stage Gates",component:"stageGates",data:S.stageGates,confidence:S.componentConfidence.stageGates||.75},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/EPMProgramView.tsx",lineNumber:429,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/EPMProgramView.tsx",lineNumber:416,columnNumber:11},this),t.jsxDEV(Sr,{value:"resources",className:"space-y-4",children:[t.jsxDEV(T,{title:"Resource Plan",component:"resourcePlan",data:S.resourcePlan,confidence:S.componentConfidence.resourcePlan||.75},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/EPMProgramView.tsx",lineNumber:438,columnNumber:13},this),t.jsxDEV(T,{title:"Financial Plan",component:"financialPlan",data:S.financialPlan,confidence:S.componentConfidence.financialPlan||.75},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/EPMProgramView.tsx",lineNumber:444,columnNumber:13},this),t.jsxDEV(the,{programId:S.id,workstreams:S.workstreams,resourcePlan:S.resourcePlan,readonly:S.status==="finalized"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/EPMProgramView.tsx",lineNumber:452,columnNumber:13},this),t.jsxDEV(rhe,{programId:S.id},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/EPMProgramView.tsx",lineNumber:460,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/EPMProgramView.tsx",lineNumber:437,columnNumber:11},this),t.jsxDEV(Sr,{value:"benefits",className:"space-y-4",children:[t.jsxDEV(T,{title:"Benefits Realization",component:"benefitsRealization",data:S.benefitsRealization,confidence:S.componentConfidence.benefitsRealization||.75},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/EPMProgramView.tsx",lineNumber:464,columnNumber:13},this),t.jsxDEV(T,{title:"KPIs",component:"kpis",data:S.kpis,confidence:S.componentConfidence.kpis||.75},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/EPMProgramView.tsx",lineNumber:470,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/EPMProgramView.tsx",lineNumber:463,columnNumber:11},this),t.jsxDEV(Sr,{value:"risks",className:"space-y-4",children:t.jsxDEV(T,{title:"Risk Register",component:"riskRegister",data:S.riskRegister,confidence:S.componentConfidence.riskRegister||.75},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/EPMProgramView.tsx",lineNumber:479,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/EPMProgramView.tsx",lineNumber:478,columnNumber:11},this),t.jsxDEV(Sr,{value:"governance",className:"space-y-4",children:[t.jsxDEV(T,{title:"Stakeholder Map",component:"stakeholderMap",data:S.stakeholderMap,confidence:S.componentConfidence.stakeholderMap||.75},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/EPMProgramView.tsx",lineNumber:488,columnNumber:13},this),t.jsxDEV(T,{title:"Governance",component:"governance",data:S.governance,confidence:S.componentConfidence.governance||.75},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/EPMProgramView.tsx",lineNumber:494,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/EPMProgramView.tsx",lineNumber:487,columnNumber:11},this),t.jsxDEV(Sr,{value:"other",className:"space-y-4",children:[t.jsxDEV(T,{title:"QA Plan",component:"qaPlan",data:S.qaPlan,confidence:S.componentConfidence.qaPlan||.75},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/EPMProgramView.tsx",lineNumber:503,columnNumber:13},this),t.jsxDEV(T,{title:"Procurement",component:"procurement",data:S.procurement,confidence:S.componentConfidence.procurement||.75},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/EPMProgramView.tsx",lineNumber:509,columnNumber:13},this),t.jsxDEV(T,{title:"Exit Strategy",component:"exitStrategy",data:S.exitStrategy,confidence:S.componentConfidence.exitStrategy||.75},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/EPMProgramView.tsx",lineNumber:515,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/EPMProgramView.tsx",lineNumber:502,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/EPMProgramView.tsx",lineNumber:384,columnNumber:9},this),S.status==="draft"&&t.jsxDEV(Z,{children:t.jsxDEV(te,{className:"pt-6",children:t.jsxDEV("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4 sm:justify-between",children:[t.jsxDEV("div",{className:"flex-1",children:[t.jsxDEV("h3",{className:"font-semibold",children:"Ready to Finalize?"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/EPMProgramView.tsx",lineNumber:530,columnNumber:19},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Review all components above and finalize when ready"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/EPMProgramView.tsx",lineNumber:531,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/EPMProgramView.tsx",lineNumber:529,columnNumber:17},this),t.jsxDEV(me,{onClick:()=>w.mutate(),disabled:w.isPending||R<.6,"data-testid":"button-finalize",className:"w-full sm:w-auto whitespace-nowrap",children:w.isPending?t.jsxDEV(t.Fragment,{children:[t.jsxDEV(lt,{className:"mr-2 h-4 w-4 animate-spin flex-shrink-0"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/EPMProgramView.tsx",lineNumber:543,columnNumber:23},this),"Finalizing..."]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/EPMProgramView.tsx",lineNumber:542,columnNumber:21},this):t.jsxDEV(t.Fragment,{children:[t.jsxDEV(tr,{className:"mr-2 h-4 w-4 flex-shrink-0"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/EPMProgramView.tsx",lineNumber:548,columnNumber:23},this),"Finalize EPM Program"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/EPMProgramView.tsx",lineNumber:547,columnNumber:21},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/EPMProgramView.tsx",lineNumber:535,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/EPMProgramView.tsx",lineNumber:528,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/EPMProgramView.tsx",lineNumber:527,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/EPMProgramView.tsx",lineNumber:526,columnNumber:11},this),S.status==="finalized"&&t.jsxDEV(it,{children:[t.jsxDEV(tr,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/EPMProgramView.tsx",lineNumber:560,columnNumber:13},this),t.jsxDEV(er,{children:"Program Finalized"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/EPMProgramView.tsx",lineNumber:561,columnNumber:13},this),t.jsxDEV(at,{children:"This EPM program is complete and ready for execution. No further edits can be made."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/EPMProgramView.tsx",lineNumber:562,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/EPMProgramView.tsx",lineNumber:559,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/EPMProgramView.tsx",lineNumber:325,columnNumber:7},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/EPMProgramView.tsx",lineNumber:321,columnNumber:5},this)}function ihe(){const[e,r]=v.useState(""),{toast:n}=ur(),[s,a]=v.useState(new Set),[l,c]=v.useState(!1),{data:u,isLoading:d}=yt({queryKey:["/api/strategy-workspace/epm"]}),h=(u==null?void 0:u.programs)||[],g=h.filter(S=>S.title.toLowerCase().includes(e.toLowerCase())||S.frameworkType.toLowerCase().includes(e.toLowerCase())),p=g.filter(S=>S.status==="draft"),N=g.filter(S=>S.status==="finalized"),b=()=>{s.size===g.length?a(new Set):a(new Set(g.map(S=>S.id)))},D=S=>{const R=new Set(s);R.has(S)?R.delete(S):R.add(S),a(R)},E=async()=>{if(s.size!==0){c(!0);try{await Zt("POST","/api/strategy-workspace/epm/batch-delete",{ids:Array.from(s)}),n({title:"Programs deleted",description:`${s.size} program(s) deleted successfully`}),a(new Set),await vr.invalidateQueries({queryKey:["/api/strategy-workspace/epm"]}),await vr.invalidateQueries({queryKey:["/api/dashboard-summary"]})}catch(S){console.error("Error batch deleting:",S),n({title:"Failed to delete",description:S instanceof Error?S.message:"Could not delete programs",variant:"destructive"})}finally{c(!1)}}},j=async()=>{if(s.size!==0){c(!0);try{await Zt("POST","/api/strategy-workspace/epm/batch-archive",{ids:Array.from(s),archive:!0}),n({title:"Programs archived",description:`${s.size} program(s) archived successfully`}),a(new Set),await vr.invalidateQueries({queryKey:["/api/strategy-workspace/epm"]}),await vr.invalidateQueries({queryKey:["/api/dashboard-summary"]})}catch(S){console.error("Error batch archiving:",S),n({title:"Failed to archive",description:S instanceof Error?S.message:"Could not archive programs",variant:"destructive"})}finally{c(!1)}}},P=async()=>{if(s.size!==0){c(!0);try{const S=await Zt("POST","/api/strategy-workspace/epm/batch-export",{ids:Array.from(s)}),R=JSON.stringify(S.data,null,2),M=new Blob([R],{type:"application/json"}),T=URL.createObjectURL(M),A=document.createElement("a");A.href=T,A.download=`epm-programs-export-${new Date().toISOString().split("T")[0]}.json`,A.click(),URL.revokeObjectURL(T),n({title:"Export successful",description:`${s.size} program(s) exported successfully`})}catch(S){console.error("Error batch exporting:",S),n({title:"Failed to export",description:S instanceof Error?S.message:"Could not export programs",variant:"destructive"})}finally{c(!1)}}},w=S=>S==="finalized"?t.jsxDEV(se,{className:"bg-green-500",children:[t.jsxDEV(tr,{className:"w-3 h-3 mr-1"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/ProgramsListPage.tsx",lineNumber:181,columnNumber:46},this)," Finalized"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/ProgramsListPage.tsx",lineNumber:181,columnNumber:14},this):t.jsxDEV(se,{variant:"outline",children:[t.jsxDEV(PR,{className:"w-3 h-3 mr-1"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/ProgramsListPage.tsx",lineNumber:183,columnNumber:37},this)," Draft"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/ProgramsListPage.tsx",lineNumber:183,columnNumber:12},this),k=S=>{const R=Math.round(S*100),M=R>=80?"bg-green-500":R>=60?"bg-yellow-500":"bg-orange-500";return t.jsxDEV(se,{className:M,children:[t.jsxDEV(cn,{className:"w-3 h-3 mr-1"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/ProgramsListPage.tsx",lineNumber:189,columnNumber:37},this)," ",R,"%"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/ProgramsListPage.tsx",lineNumber:189,columnNumber:12},this)},V=S=>t.jsxDEV(Es,{className:"w-5 h-5 text-primary"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/ProgramsListPage.tsx",lineNumber:194,columnNumber:12},this);return t.jsxDEV(st,{title:"EPM Programs",subtitle:"All your generated EPM programs from strategic analysis",children:t.jsxDEV("div",{className:"p-4 sm:p-8 max-w-7xl mx-auto space-y-4 sm:space-y-6",children:[t.jsxDEV("div",{className:"flex items-center gap-4",children:t.jsxDEV("div",{className:"relative flex-1",children:[t.jsxDEV(Gu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/ProgramsListPage.tsx",lineNumber:207,columnNumber:13},this),t.jsxDEV(Ci,{placeholder:"Search programs by title or framework...",value:e,onChange:S=>r(S.target.value),className:"pl-10","data-testid":"input-search-programs"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/ProgramsListPage.tsx",lineNumber:208,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/ProgramsListPage.tsx",lineNumber:206,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/ProgramsListPage.tsx",lineNumber:205,columnNumber:9},this),!d&&g.length>0&&t.jsxDEV("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4 p-3 sm:p-4 bg-muted/50 rounded-lg",children:[t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(Aa,{checked:g.length>0&&s.size===g.length,onCheckedChange:b,"data-testid":"checkbox-select-all"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/ProgramsListPage.tsx",lineNumber:222,columnNumber:15},this),t.jsxDEV("span",{className:"text-sm font-medium",children:s.size>0?`${s.size} selected`:"Select all"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/ProgramsListPage.tsx",lineNumber:227,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/ProgramsListPage.tsx",lineNumber:221,columnNumber:13},this),s.size>0&&t.jsxDEV("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 sm:ml-auto w-full sm:w-auto",children:[t.jsxDEV(me,{size:"sm",variant:"outline",onClick:P,disabled:l,"data-testid":"button-batch-export",className:"w-full sm:w-auto",children:[t.jsxDEV(yh,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/ProgramsListPage.tsx",lineNumber:242,columnNumber:19},this),"Export (",s.size,")"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/ProgramsListPage.tsx",lineNumber:234,columnNumber:17},this),t.jsxDEV(me,{size:"sm",variant:"outline",onClick:j,disabled:l,"data-testid":"button-batch-archive",className:"w-full sm:w-auto",children:[t.jsxDEV(mo,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/ProgramsListPage.tsx",lineNumber:253,columnNumber:19},this),"Archive (",s.size,")"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/ProgramsListPage.tsx",lineNumber:245,columnNumber:17},this),t.jsxDEV(me,{size:"sm",variant:"destructive",onClick:E,disabled:l,"data-testid":"button-batch-delete",className:"w-full sm:w-auto",children:[t.jsxDEV(vo,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/ProgramsListPage.tsx",lineNumber:264,columnNumber:19},this),"Delete (",s.size,")"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/ProgramsListPage.tsx",lineNumber:256,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/ProgramsListPage.tsx",lineNumber:233,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/ProgramsListPage.tsx",lineNumber:220,columnNumber:11},this),d&&t.jsxDEV("div",{className:"space-y-4",children:[1,2,3].map(S=>t.jsxDEV(Z,{children:t.jsxDEV(de,{children:[t.jsxDEV(Jt,{className:"h-6 w-3/4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/ProgramsListPage.tsx",lineNumber:278,columnNumber:19},this),t.jsxDEV(Jt,{className:"h-4 w-1/2"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/ProgramsListPage.tsx",lineNumber:279,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/ProgramsListPage.tsx",lineNumber:277,columnNumber:17},this)},S,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/ProgramsListPage.tsx",lineNumber:276,columnNumber:15},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/ProgramsListPage.tsx",lineNumber:274,columnNumber:11},this),!d&&h.length===0&&t.jsxDEV(Z,{children:t.jsxDEV(te,{className:"py-16 text-center",children:[t.jsxDEV(Es,{className:"w-16 h-16 mx-auto text-muted-foreground mb-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/ProgramsListPage.tsx",lineNumber:290,columnNumber:15},this),t.jsxDEV("h3",{className:"text-xl font-semibold mb-2",children:"No EPM Programs Yet"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/ProgramsListPage.tsx",lineNumber:291,columnNumber:15},this),t.jsxDEV("p",{className:"text-muted-foreground mb-6",children:"Complete a strategic analysis journey to generate your first EPM program"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/ProgramsListPage.tsx",lineNumber:292,columnNumber:15},this),t.jsxDEV(me,{asChild:!0,"data-testid":"button-start-journey",children:t.jsxDEV(os,{href:"/strategic-consultant",children:["Start Strategic Analysis ",t.jsxDEV(ar,{className:"ml-2 h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/ProgramsListPage.tsx",lineNumber:297,columnNumber:44},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/ProgramsListPage.tsx",lineNumber:296,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/ProgramsListPage.tsx",lineNumber:295,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/ProgramsListPage.tsx",lineNumber:289,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/ProgramsListPage.tsx",lineNumber:288,columnNumber:11},this),!d&&h.length>0&&g.length===0&&t.jsxDEV(Z,{children:t.jsxDEV(te,{className:"py-16 text-center",children:[t.jsxDEV(Gu,{className:"w-16 h-16 mx-auto text-muted-foreground mb-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/ProgramsListPage.tsx",lineNumber:308,columnNumber:15},this),t.jsxDEV("h3",{className:"text-xl font-semibold mb-2",children:"No programs found"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/ProgramsListPage.tsx",lineNumber:309,columnNumber:15},this),t.jsxDEV("p",{className:"text-muted-foreground",children:"Try a different search term"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/ProgramsListPage.tsx",lineNumber:310,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/ProgramsListPage.tsx",lineNumber:307,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/ProgramsListPage.tsx",lineNumber:306,columnNumber:11},this),!d&&p.length>0&&t.jsxDEV("div",{className:"space-y-4",children:[t.jsxDEV("h2",{className:"text-xl font-semibold flex items-center gap-2",children:[t.jsxDEV(PR,{className:"w-5 h-5"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/ProgramsListPage.tsx",lineNumber:321,columnNumber:15},this),"Draft Programs (",p.length,")"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/ProgramsListPage.tsx",lineNumber:320,columnNumber:13},this),p.map(S=>t.jsxDEV(Z,{className:"hover:shadow-md transition-shadow",children:[t.jsxDEV(de,{children:t.jsxDEV("div",{className:"flex flex-col sm:flex-row items-start gap-3",children:t.jsxDEV("div",{className:"flex items-start gap-3 w-full",children:[t.jsxDEV(Aa,{checked:s.has(S.id),onCheckedChange:()=>D(S.id),"data-testid":`checkbox-${S.id}`,className:"mt-1 flex-shrink-0"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/ProgramsListPage.tsx",lineNumber:329,columnNumber:23},this),V(S.frameworkType),t.jsxDEV("div",{className:"flex-1 min-w-0",children:[t.jsxDEV(pe,{className:"text-lg sm:text-xl mb-2 pr-2",children:S.title},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/ProgramsListPage.tsx",lineNumber:337,columnNumber:25},this),t.jsxDEV(He,{className:"mb-3",children:S.frameworkType},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/ProgramsListPage.tsx",lineNumber:338,columnNumber:25},this),t.jsxDEV("div",{className:"flex flex-wrap gap-2",children:[w(S.status),k(S.overallConfidence)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/ProgramsListPage.tsx",lineNumber:339,columnNumber:25},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/ProgramsListPage.tsx",lineNumber:336,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/ProgramsListPage.tsx",lineNumber:328,columnNumber:21},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/ProgramsListPage.tsx",lineNumber:327,columnNumber:19},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/ProgramsListPage.tsx",lineNumber:326,columnNumber:17},this),t.jsxDEV(te,{className:"space-y-3",children:[t.jsxDEV("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[t.jsxDEV("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-6 text-sm text-muted-foreground",children:[t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(ys,{className:"w-4 h-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/ProgramsListPage.tsx",lineNumber:351,columnNumber:25},this),"Created ",bc(new Date(S.createdAt),"MMM d, yyyy")]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/ProgramsListPage.tsx",lineNumber:350,columnNumber:23},this),t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(ys,{className:"w-4 h-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/ProgramsListPage.tsx",lineNumber:355,columnNumber:25},this),"Updated ",bc(new Date(S.updatedAt),"MMM d, yyyy")]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/ProgramsListPage.tsx",lineNumber:354,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/ProgramsListPage.tsx",lineNumber:349,columnNumber:21},this),t.jsxDEV(me,{asChild:!0,"data-testid":`button-view-program-${S.id}`,className:"w-full sm:w-auto",children:t.jsxDEV(os,{href:`/strategy-workspace/epm/${S.id}`,children:["View Program ",t.jsxDEV(ar,{className:"ml-2 h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/ProgramsListPage.tsx",lineNumber:361,columnNumber:38},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/ProgramsListPage.tsx",lineNumber:360,columnNumber:23},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/ProgramsListPage.tsx",lineNumber:359,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/ProgramsListPage.tsx",lineNumber:348,columnNumber:19},this),t.jsxDEV("div",{className:"pt-2 border-t",children:t.jsxDEV(Nj,{programId:S.id,variant:"ghost",size:"sm",className:"w-full"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/ProgramsListPage.tsx",lineNumber:366,columnNumber:21},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/ProgramsListPage.tsx",lineNumber:365,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/ProgramsListPage.tsx",lineNumber:347,columnNumber:17},this)]},S.id,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/ProgramsListPage.tsx",lineNumber:325,columnNumber:15},this))]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/ProgramsListPage.tsx",lineNumber:319,columnNumber:11},this),!d&&N.length>0&&t.jsxDEV("div",{className:"space-y-4",children:[t.jsxDEV("h2",{className:"text-xl font-semibold flex items-center gap-2",children:[t.jsxDEV(tr,{className:"w-5 h-5"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/ProgramsListPage.tsx",lineNumber:383,columnNumber:15},this),"Finalized Programs (",N.length,")"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/ProgramsListPage.tsx",lineNumber:382,columnNumber:13},this),N.map(S=>t.jsxDEV(Z,{className:"hover:shadow-md transition-shadow border-green-500/20",children:[t.jsxDEV(de,{children:t.jsxDEV("div",{className:"flex flex-col sm:flex-row items-start gap-3",children:t.jsxDEV("div",{className:"flex items-start gap-3 w-full",children:[t.jsxDEV(Aa,{checked:s.has(S.id),onCheckedChange:()=>D(S.id),"data-testid":`checkbox-${S.id}`,className:"mt-1 flex-shrink-0"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/ProgramsListPage.tsx",lineNumber:391,columnNumber:23},this),V(S.frameworkType),t.jsxDEV("div",{className:"flex-1 min-w-0",children:[t.jsxDEV(pe,{className:"text-lg sm:text-xl mb-2 pr-2",children:S.title},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/ProgramsListPage.tsx",lineNumber:399,columnNumber:25},this),t.jsxDEV(He,{className:"mb-3",children:S.frameworkType},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/ProgramsListPage.tsx",lineNumber:400,columnNumber:25},this),t.jsxDEV("div",{className:"flex flex-wrap gap-2",children:[w(S.status),k(S.overallConfidence)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/ProgramsListPage.tsx",lineNumber:401,columnNumber:25},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/ProgramsListPage.tsx",lineNumber:398,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/ProgramsListPage.tsx",lineNumber:390,columnNumber:21},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/ProgramsListPage.tsx",lineNumber:389,columnNumber:19},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/ProgramsListPage.tsx",lineNumber:388,columnNumber:17},this),t.jsxDEV(te,{className:"space-y-3",children:[t.jsxDEV("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[t.jsxDEV("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-6 text-sm text-muted-foreground",children:[t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(ys,{className:"w-4 h-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/ProgramsListPage.tsx",lineNumber:413,columnNumber:25},this),"Created ",bc(new Date(S.createdAt),"MMM d, yyyy")]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/ProgramsListPage.tsx",lineNumber:412,columnNumber:23},this),S.finalizedAt&&t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(tr,{className:"w-4 h-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/ProgramsListPage.tsx",lineNumber:418,columnNumber:27},this),"Finalized ",bc(new Date(S.finalizedAt),"MMM d, yyyy")]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/ProgramsListPage.tsx",lineNumber:417,columnNumber:25},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/ProgramsListPage.tsx",lineNumber:411,columnNumber:21},this),t.jsxDEV(me,{asChild:!0,"data-testid":`button-view-program-${S.id}`,className:"w-full sm:w-auto",children:t.jsxDEV(os,{href:`/strategy-workspace/epm/${S.id}`,children:["View Program ",t.jsxDEV(ar,{className:"ml-2 h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/ProgramsListPage.tsx",lineNumber:425,columnNumber:38},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/ProgramsListPage.tsx",lineNumber:424,columnNumber:23},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/ProgramsListPage.tsx",lineNumber:423,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/ProgramsListPage.tsx",lineNumber:410,columnNumber:19},this),t.jsxDEV("div",{className:"pt-2 border-t",children:t.jsxDEV(Nj,{programId:S.id,variant:"ghost",size:"sm",className:"w-full"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/ProgramsListPage.tsx",lineNumber:430,columnNumber:21},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/ProgramsListPage.tsx",lineNumber:429,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/ProgramsListPage.tsx",lineNumber:409,columnNumber:17},this)]},S.id,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/ProgramsListPage.tsx",lineNumber:387,columnNumber:15},this))]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/ProgramsListPage.tsx",lineNumber:381,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/ProgramsListPage.tsx",lineNumber:202,columnNumber:7},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategy-workspace/ProgramsListPage.tsx",lineNumber:198,columnNumber:5},this)}function ahe({onClose:e,onSave:r}){const{user:n}=xl(),[s,a]=v.useState(1),[l,c]=v.useState(""),[u,d]=v.useState(""),[h,g]=v.useState(""),[p,N]=v.useState([]),[b,D]=v.useState(null),{data:E,isLoading:j}=yt({queryKey:["frameworks"],queryFn:async()=>{const R=await fetch("/api/journey-builder/frameworks");if(!R.ok)throw new Error("Failed to fetch frameworks");return(await R.json()).frameworks}}),P=E||[],w=Qr({mutationFn:async()=>{const R=p.map(T=>{const A=P.find(F=>F.frameworkKey===T);return{frameworkKey:T,name:(A==null?void 0:A.name)||T}}),M=await fetch("/api/journey-builder/analyze",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({steps:R,userGoal:h})});if(!M.ok)throw new Error("Failed to analyze journey");return M.json()},onSuccess:R=>{D(R.analysis),a(3)}}),k=Qr({mutationFn:async()=>{const R=p.map((T,A)=>{const F=P.find(L=>L.frameworkKey===T);return{id:T,frameworkKey:T,name:(F==null?void 0:F.name)||T,description:F==null?void 0:F.description,required:!0,skippable:!1,order:A+1,estimatedDuration:(F==null?void 0:F.estimatedDuration)||5,dependsOn:A>0?[p[A-1]]:[]}}),M=await fetch("/api/journey-builder/journeys",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:l,description:u,steps:R,tags:["custom"]})});if(!M.ok)throw new Error("Failed to save journey");return M.json()},onSuccess:()=>{r()}}),V=R=>{N(M=>M.includes(R)?M.filter(T=>T!==R):[...M,R])},S=R=>{switch((R==null?void 0:R.toLowerCase())||""){case"foundation":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case"problem analysis":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"business model":return"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200";case"competition":return"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200";case"external environment":return"bg-teal-100 text-teal-800 dark:bg-teal-900 dark:text-teal-200";case"strategic position":return"bg-pink-100 text-pink-800 dark:bg-pink-900 dark:text-pink-200";case"decision making":return"bg-indigo-100 text-indigo-800 dark:bg-indigo-900 dark:text-indigo-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-200"}};return t.jsxDEV(Lg,{open:!0,onOpenChange:e,children:t.jsxDEV(Ph,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[t.jsxDEV(Sh,{children:[t.jsxDEV(Ch,{className:"text-2xl",children:"Create Custom Journey"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyBuilderWizard.tsx",lineNumber:136,columnNumber:11},this),t.jsxDEV(Rh,{children:"Build your own strategic journey by selecting frameworks"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyBuilderWizard.tsx",lineNumber:137,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyBuilderWizard.tsx",lineNumber:135,columnNumber:9},this),t.jsxDEV("div",{className:"flex items-center justify-center gap-2 mb-6",children:[t.jsxDEV("div",{className:`flex items-center justify-center w-8 h-8 rounded-full ${s>=1?"bg-indigo-600 text-white":"bg-gray-200"}`,children:s>1?t.jsxDEV(Xi,{className:"w-5 h-5"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyBuilderWizard.tsx",lineNumber:145,columnNumber:25},this):"1"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyBuilderWizard.tsx",lineNumber:144,columnNumber:11},this),t.jsxDEV("div",{className:`h-1 w-12 ${s>=2?"bg-indigo-600":"bg-gray-200"}`},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyBuilderWizard.tsx",lineNumber:147,columnNumber:11},this),t.jsxDEV("div",{className:`flex items-center justify-center w-8 h-8 rounded-full ${s>=2?"bg-indigo-600 text-white":"bg-gray-200"}`,children:s>2?t.jsxDEV(Xi,{className:"w-5 h-5"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyBuilderWizard.tsx",lineNumber:149,columnNumber:25},this):"2"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyBuilderWizard.tsx",lineNumber:148,columnNumber:11},this),t.jsxDEV("div",{className:`h-1 w-12 ${s>=3?"bg-indigo-600":"bg-gray-200"}`},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyBuilderWizard.tsx",lineNumber:151,columnNumber:11},this),t.jsxDEV("div",{className:`flex items-center justify-center w-8 h-8 rounded-full ${s>=3?"bg-indigo-600 text-white":"bg-gray-200"}`,children:s>3?t.jsxDEV(Xi,{className:"w-5 h-5"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyBuilderWizard.tsx",lineNumber:153,columnNumber:25},this):"3"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyBuilderWizard.tsx",lineNumber:152,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyBuilderWizard.tsx",lineNumber:143,columnNumber:9},this),s===1&&t.jsxDEV("div",{className:"space-y-6 py-4",children:[t.jsxDEV("div",{children:[t.jsxDEV("label",{className:"block text-sm font-medium mb-2",children:["Journey Name ",t.jsxDEV("span",{className:"text-red-500",children:"*"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyBuilderWizard.tsx",lineNumber:162,columnNumber:30},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyBuilderWizard.tsx",lineNumber:161,columnNumber:15},this),t.jsxDEV(Ci,{value:l,onChange:R=>c(R.target.value),placeholder:"e.g., Market Entry with Competitive Analysis",className:"w-full","data-testid":"input-journey-name"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyBuilderWizard.tsx",lineNumber:164,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyBuilderWizard.tsx",lineNumber:160,columnNumber:13},this),t.jsxDEV("div",{children:[t.jsxDEV("label",{className:"block text-sm font-medium mb-2",children:"Description (optional)"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyBuilderWizard.tsx",lineNumber:174,columnNumber:15},this),t.jsxDEV(In,{value:u,onChange:R=>d(R.target.value),placeholder:"What is this journey for?",rows:3,className:"w-full","data-testid":"input-journey-description"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyBuilderWizard.tsx",lineNumber:177,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyBuilderWizard.tsx",lineNumber:173,columnNumber:13},this),t.jsxDEV("div",{children:[t.jsxDEV("label",{className:"block text-sm font-medium mb-2",children:"What do you want to achieve? (optional)"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyBuilderWizard.tsx",lineNumber:188,columnNumber:15},this),t.jsxDEV(In,{value:h,onChange:R=>g(R.target.value),placeholder:"e.g., I want to enter a new market and understand the competitive landscape",rows:3,className:"w-full","data-testid":"input-user-goal"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyBuilderWizard.tsx",lineNumber:191,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyBuilderWizard.tsx",lineNumber:187,columnNumber:13},this),t.jsxDEV("div",{className:"flex justify-end",children:t.jsxDEV(me,{onClick:()=>a(2),disabled:!l.trim(),className:"gap-2","data-testid":"button-next-step1",children:["Next: Select Frameworks",t.jsxDEV(ar,{className:"w-4 h-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyBuilderWizard.tsx",lineNumber:209,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyBuilderWizard.tsx",lineNumber:202,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyBuilderWizard.tsx",lineNumber:201,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyBuilderWizard.tsx",lineNumber:159,columnNumber:11},this),s===2&&t.jsxDEV("div",{className:"space-y-6 py-4",children:[t.jsxDEV("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 flex gap-3",children:[t.jsxDEV(yn,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyBuilderWizard.tsx",lineNumber:219,columnNumber:15},this),t.jsxDEV("div",{className:"text-sm text-blue-900",children:[t.jsxDEV("p",{className:"font-medium mb-1",children:"Tip: Start with Strategic Understanding"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyBuilderWizard.tsx",lineNumber:221,columnNumber:17},this),t.jsxDEV("p",{children:"Most journeys begin with building strategic context before diving into specific frameworks."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyBuilderWizard.tsx",lineNumber:222,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyBuilderWizard.tsx",lineNumber:220,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyBuilderWizard.tsx",lineNumber:218,columnNumber:13},this),j?t.jsxDEV("div",{className:"text-center py-8",children:[t.jsxDEV(lt,{className:"w-8 h-8 animate-spin mx-auto mb-2 text-indigo-600"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyBuilderWizard.tsx",lineNumber:228,columnNumber:17},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Loading frameworks..."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyBuilderWizard.tsx",lineNumber:229,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyBuilderWizard.tsx",lineNumber:227,columnNumber:15},this):t.jsxDEV("div",{className:"space-y-3",children:P.map(R=>t.jsxDEV(Z,{className:`p-4 cursor-pointer transition-all ${p.includes(R.frameworkKey)?"border-2 border-purple-600 bg-purple-50":"hover:border-gray-400"}`,onClick:()=>V(R.frameworkKey),"data-testid":`card-framework-${R.frameworkKey}`,children:t.jsxDEV("div",{className:"flex items-start gap-3",children:[t.jsxDEV(Aa,{checked:p.includes(R.frameworkKey),onCheckedChange:()=>V(R.frameworkKey),onClick:M=>M.stopPropagation()},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyBuilderWizard.tsx",lineNumber:245,columnNumber:23},this),t.jsxDEV("div",{className:"flex-1",children:[t.jsxDEV("div",{className:"flex items-center gap-2 mb-1",children:[t.jsxDEV("h3",{className:"font-semibold",children:R.name},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyBuilderWizard.tsx",lineNumber:252,columnNumber:27},this),t.jsxDEV(se,{variant:"secondary",className:`text-xs ${S(R.category)}`,children:R.category},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyBuilderWizard.tsx",lineNumber:253,columnNumber:27},this),t.jsxDEV(se,{variant:"outline",className:"text-xs",children:["~",R.estimatedDuration," min"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyBuilderWizard.tsx",lineNumber:256,columnNumber:27},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyBuilderWizard.tsx",lineNumber:251,columnNumber:25},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:R.description},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyBuilderWizard.tsx",lineNumber:260,columnNumber:25},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyBuilderWizard.tsx",lineNumber:250,columnNumber:23},this),p.includes(R.frameworkKey)&&t.jsxDEV("div",{className:"flex items-center justify-center w-6 h-6 bg-purple-600 text-white rounded-full text-xs font-medium",children:p.indexOf(R.frameworkKey)+1},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyBuilderWizard.tsx",lineNumber:265,columnNumber:25},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyBuilderWizard.tsx",lineNumber:244,columnNumber:21},this)},R.id,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyBuilderWizard.tsx",lineNumber:234,columnNumber:19},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyBuilderWizard.tsx",lineNumber:232,columnNumber:15},this),t.jsxDEV("div",{className:"flex justify-between",children:[t.jsxDEV(me,{variant:"outline",onClick:()=>a(1),"data-testid":"button-back-step2",children:"Back"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyBuilderWizard.tsx",lineNumber:276,columnNumber:15},this),t.jsxDEV(me,{onClick:()=>w.mutate(),disabled:p.length===0||w.isPending,className:"gap-2","data-testid":"button-analyze",children:w.isPending?t.jsxDEV(t.Fragment,{children:[t.jsxDEV(lt,{className:"w-4 h-4 animate-spin"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyBuilderWizard.tsx",lineNumber:287,columnNumber:21},this),"Analyzing..."]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyBuilderWizard.tsx",lineNumber:286,columnNumber:19},this):t.jsxDEV(t.Fragment,{children:["Get AI Recommendation",t.jsxDEV(ar,{className:"w-4 h-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyBuilderWizard.tsx",lineNumber:293,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyBuilderWizard.tsx",lineNumber:291,columnNumber:19},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyBuilderWizard.tsx",lineNumber:279,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyBuilderWizard.tsx",lineNumber:275,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyBuilderWizard.tsx",lineNumber:217,columnNumber:11},this),s===3&&b&&t.jsxDEV("div",{className:"space-y-6 py-4",children:[t.jsxDEV("div",{className:`border rounded-lg p-4 ${b.validation.hasRequiredInfo?"bg-green-50 border-green-200":"bg-yellow-50 border-yellow-200"}`,children:[t.jsxDEV("h3",{className:"font-semibold mb-2 flex items-center gap-2",children:b.validation.hasRequiredInfo?t.jsxDEV(t.Fragment,{children:[t.jsxDEV(Xi,{className:"w-5 h-5 text-green-600"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyBuilderWizard.tsx",lineNumber:313,columnNumber:21},this),t.jsxDEV("span",{className:"text-green-900",children:"Ready to Produce Complete EPM"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyBuilderWizard.tsx",lineNumber:314,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyBuilderWizard.tsx",lineNumber:312,columnNumber:19},this):t.jsxDEV(t.Fragment,{children:[t.jsxDEV(Dt,{className:"w-5 h-5 text-yellow-600"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyBuilderWizard.tsx",lineNumber:318,columnNumber:21},this),t.jsxDEV("span",{className:"text-yellow-900",children:"Missing Critical Information"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyBuilderWizard.tsx",lineNumber:319,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyBuilderWizard.tsx",lineNumber:317,columnNumber:19},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyBuilderWizard.tsx",lineNumber:310,columnNumber:15},this),b.validation.warnings.length>0&&t.jsxDEV("div",{className:"space-y-1 mt-2",children:b.validation.warnings.map((R,M)=>t.jsxDEV("p",{className:"text-sm text-yellow-800",children:R},M,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyBuilderWizard.tsx",lineNumber:326,columnNumber:21},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyBuilderWizard.tsx",lineNumber:324,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyBuilderWizard.tsx",lineNumber:305,columnNumber:13},this),t.jsxDEV("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[t.jsxDEV("h3",{className:"font-semibold text-blue-900 mb-2 flex items-center gap-2",children:[t.jsxDEV(wh,{className:"w-5 h-5"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyBuilderWizard.tsx",lineNumber:335,columnNumber:17},this),"Knowledge Graph Entities"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyBuilderWizard.tsx",lineNumber:334,columnNumber:15},this),t.jsxDEV("p",{className:"text-sm text-blue-800 mb-3",children:"Your journey will collect these knowledge graph entities:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyBuilderWizard.tsx",lineNumber:338,columnNumber:15},this),t.jsxDEV("div",{className:"flex flex-wrap gap-2",children:b.validation.informationCollected.map((R,M)=>t.jsxDEV(se,{variant:"secondary",className:"bg-blue-100 text-blue-800",children:R},M,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyBuilderWizard.tsx",lineNumber:343,columnNumber:19},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyBuilderWizard.tsx",lineNumber:341,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyBuilderWizard.tsx",lineNumber:333,columnNumber:13},this),t.jsxDEV("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[t.jsxDEV("h3",{className:"font-semibold text-green-900 mb-2",children:"AI Analysis"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyBuilderWizard.tsx",lineNumber:352,columnNumber:15},this),t.jsxDEV("p",{className:"text-sm text-green-800 mb-4",children:b.recommendation},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyBuilderWizard.tsx",lineNumber:355,columnNumber:15},this),t.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[t.jsxDEV("div",{children:[t.jsxDEV("h4",{className:"font-medium text-sm text-green-900 mb-2",children:" Suitable For:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyBuilderWizard.tsx",lineNumber:360,columnNumber:19},this),t.jsxDEV("ul",{className:"text-sm text-green-800 space-y-1",children:b.suitableFor.map((R,M)=>t.jsxDEV("li",{children:[" ",R]},M,!0,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyBuilderWizard.tsx",lineNumber:365,columnNumber:23},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyBuilderWizard.tsx",lineNumber:363,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyBuilderWizard.tsx",lineNumber:359,columnNumber:17},this),t.jsxDEV("div",{children:[t.jsxDEV("h4",{className:"font-medium text-sm text-green-900 mb-2",children:" Strengths:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyBuilderWizard.tsx",lineNumber:370,columnNumber:19},this),t.jsxDEV("ul",{className:"text-sm text-green-800 space-y-1",children:b.strengths.map((R,M)=>t.jsxDEV("li",{children:[" ",R]},M,!0,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyBuilderWizard.tsx",lineNumber:375,columnNumber:23},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyBuilderWizard.tsx",lineNumber:373,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyBuilderWizard.tsx",lineNumber:369,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyBuilderWizard.tsx",lineNumber:358,columnNumber:15},this),b.validation.recommendations.length>0&&t.jsxDEV("div",{className:"mt-4 pt-4 border-t border-green-200",children:[t.jsxDEV("h4",{className:"font-medium text-sm text-green-900 mb-2",children:" Additional Recommendations:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyBuilderWizard.tsx",lineNumber:382,columnNumber:19},this),t.jsxDEV("ul",{className:"text-sm text-green-800 space-y-1",children:b.validation.recommendations.map((R,M)=>t.jsxDEV("li",{children:[" ",R]},M,!0,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyBuilderWizard.tsx",lineNumber:387,columnNumber:23},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyBuilderWizard.tsx",lineNumber:385,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyBuilderWizard.tsx",lineNumber:381,columnNumber:17},this),t.jsxDEV("div",{className:"mt-4 pt-4 border-t border-green-200",children:t.jsxDEV("p",{className:"text-sm text-green-800",children:[t.jsxDEV("strong",{children:"Estimated Duration:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyBuilderWizard.tsx",lineNumber:394,columnNumber:19},this)," ~",b.estimatedDuration," minutes"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyBuilderWizard.tsx",lineNumber:393,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyBuilderWizard.tsx",lineNumber:392,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyBuilderWizard.tsx",lineNumber:351,columnNumber:13},this),b.potentialGaps&&b.potentialGaps.length>0&&t.jsxDEV("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[t.jsxDEV("h3",{className:"font-semibold text-orange-900 mb-2",children:" Potential Gaps:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyBuilderWizard.tsx",lineNumber:402,columnNumber:17},this),t.jsxDEV("ul",{className:"text-sm text-orange-800 space-y-1",children:b.potentialGaps.map((R,M)=>t.jsxDEV("li",{children:[" ",R]},M,!0,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyBuilderWizard.tsx",lineNumber:407,columnNumber:21},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyBuilderWizard.tsx",lineNumber:405,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyBuilderWizard.tsx",lineNumber:401,columnNumber:15},this),t.jsxDEV("div",{className:"flex justify-between",children:[t.jsxDEV(me,{variant:"outline",onClick:()=>a(2),"data-testid":"button-back-step3",children:"Back to Edit"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyBuilderWizard.tsx",lineNumber:414,columnNumber:15},this),t.jsxDEV(me,{onClick:()=>k.mutate(),disabled:k.isPending,className:"gap-2 bg-purple-600 hover:bg-purple-700","data-testid":"button-save-journey",children:k.isPending?t.jsxDEV(t.Fragment,{children:[t.jsxDEV(lt,{className:"w-4 h-4 animate-spin"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyBuilderWizard.tsx",lineNumber:425,columnNumber:21},this),"Saving..."]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyBuilderWizard.tsx",lineNumber:424,columnNumber:19},this):t.jsxDEV(t.Fragment,{children:["Save Custom Journey",t.jsxDEV(Xi,{className:"w-4 h-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyBuilderWizard.tsx",lineNumber:431,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyBuilderWizard.tsx",lineNumber:429,columnNumber:19},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyBuilderWizard.tsx",lineNumber:417,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyBuilderWizard.tsx",lineNumber:413,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyBuilderWizard.tsx",lineNumber:303,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyBuilderWizard.tsx",lineNumber:134,columnNumber:7},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyBuilderWizard.tsx",lineNumber:133,columnNumber:5},this)}function ohe(){const{user:e}=xl(),[,r]=or(),[n,s]=v.useState(!1),[a,l]=v.useState(!1),[c,u]=v.useState(null),{toast:d}=ur(),h=Yv(),p=new URLSearchParams(window.location.search).get("discoveryId"),{data:N,isLoading:b,refetch:D}=yt({queryKey:["journey-registry"],queryFn:async()=>{const z=await fetch("/api/strategic-consultant/journey-registry");if(!z.ok)throw new Error("Failed to fetch journeys");return(await z.json()).journeys}}),{data:E,isLoading:j,refetch:P}=yt({queryKey:["custom-journey-configs"],queryFn:async()=>{const z=await fetch("/api/custom-journey-builder/configs");if(!z.ok)throw new Error("Failed to fetch custom journeys");return(await z.json()).configs}}),{data:w,isLoading:k,refetch:V}=yt({queryKey:["my-journey-templates"],queryFn:async()=>{const z=await fetch("/api/journey-builder/my-templates");if(!z.ok)throw new Error("Failed to fetch my templates");return(await z.json()).templates}}),S=Qr({mutationFn:async z=>{const G=await Zt("DELETE",`/api/custom-journey-builder/configs/${z}`);if(!G.ok)throw new Error("Failed to delete journey");return G.json()},onSuccess:()=>{h.invalidateQueries({queryKey:["custom-journey-configs"]}),d({title:"Journey deleted",description:"Your custom journey has been removed."}),l(!1),u(null)},onError:()=>{d({title:"Delete failed",description:"Could not delete the journey. Please try again.",variant:"destructive"})}}),R=N||[],M=E||[],T=w||[],A=R.filter(z=>z.available),F=R.filter(z=>!z.available),L=z=>{const G=new URLSearchParams;p&&G.set("discoveryId",p),G.set("journeyType",z);const ee=G.toString();r(`/strategic-consultant${ee?"?"+ee:""}`)},$=z=>{const G=new URLSearchParams;p&&G.set("discoveryId",p),G.set("templateId",z);const ee=G.toString();r(`/strategic-consultant${ee?"?"+ee:""}`)},W=z=>{r(`/journey-builder/${z}/run`)},O=z=>{r(`/journey-builder/${z}`)},Y=z=>{u(z),l(!0)},H=z=>z.map(G=>G.moduleId.replace(/-/g," ").replace(/analyzer|generator/gi,"").trim()),q=z=>z?z<60?`${z} min`:`${Math.round(z/60)} hr`:"Varies";return b||j||k?t.jsxDEV(st,{title:"Strategic Journeys",subtitle:"Choose a pre-defined journey or create your own custom path",children:t.jsxDEV("div",{className:"flex items-center justify-center h-64",children:t.jsxDEV("div",{className:"text-center",children:[t.jsxDEV("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto mb-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:171,columnNumber:13},this),t.jsxDEV("p",{className:"text-muted-foreground",children:"Loading journeys..."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:172,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:170,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:169,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:165,columnNumber:7},this):t.jsxDEV(st,{title:"Strategic Journeys",subtitle:"Choose a pre-defined journey or create your own custom path",children:t.jsxDEV("div",{className:"container mx-auto p-6 max-w-7xl","data-testid":"journey-hub",children:[t.jsxDEV("div",{className:"mb-6",children:t.jsxDEV("div",{className:"flex items-start justify-between gap-3 mb-4",children:[t.jsxDEV("div",{className:"flex-1 min-w-0",children:[t.jsxDEV("h1",{className:"text-2xl md:text-3xl font-bold mb-2",children:"Strategic Journeys"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:189,columnNumber:13},this),t.jsxDEV("p",{className:"text-sm md:text-base text-muted-foreground",children:"Choose a pre-defined journey or create your own custom path"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:190,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:188,columnNumber:11},this),t.jsxDEV("div",{className:"flex gap-2 shrink-0",children:[t.jsxDEV(me,{onClick:()=>r("/journey-builder"),size:"default",variant:"outline",className:"gap-2 border-purple-500 text-purple-600 hover:bg-purple-50 text-sm md:text-base px-3 md:px-4","data-testid":"button-visual-builder",children:[t.jsxDEV(Sg,{className:"w-4 h-4 md:w-5 md:h-5"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:202,columnNumber:15},this),t.jsxDEV("span",{className:"hidden sm:inline",children:"Visual Builder"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:203,columnNumber:15},this),t.jsxDEV("span",{className:"sm:hidden",children:"Canvas"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:204,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:195,columnNumber:13},this),t.jsxDEV(me,{onClick:()=>s(!0),size:"default",className:"gap-2 bg-purple-600 hover:bg-purple-700 text-sm md:text-base px-3 md:px-4","data-testid":"button-create-custom-journey",children:[t.jsxDEV(Kd,{className:"w-4 h-4 md:w-5 md:h-5"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:212,columnNumber:15},this),t.jsxDEV("span",{className:"hidden sm:inline",children:"Create Custom Journey"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:213,columnNumber:15},this),t.jsxDEV("span",{className:"sm:hidden",children:"Create"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:214,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:206,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:194,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:187,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:186,columnNumber:7},this),M.length>0&&t.jsxDEV("section",{className:"mb-12",children:[t.jsxDEV("h2",{className:"text-xl md:text-2xl font-semibold mb-4 flex items-center gap-2",children:[t.jsxDEV(xE,{className:"w-6 h-6 text-purple-500"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:224,columnNumber:13},this),"My Custom Journeys"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:223,columnNumber:11},this),t.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:M.map(z=>t.jsxDEV(Z,{className:"hover:shadow-lg transition-shadow border-2 hover:border-purple-500","data-testid":`card-custom-journey-${z.id}`,children:[t.jsxDEV(de,{children:[t.jsxDEV("div",{className:"flex items-start justify-between mb-2",children:[t.jsxDEV(pe,{className:"text-xl",children:z.name},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:236,columnNumber:21},this),t.jsxDEV(se,{variant:z.status==="published"?"default":"outline",className:z.status==="published"?"bg-purple-600 hover:bg-purple-700":"border-purple-300 text-purple-700 bg-purple-50",children:z.status==="draft"?"Draft":z.status==="published"?"Published":"Archived"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:237,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:235,columnNumber:19},this),t.jsxDEV(He,{className:"mt-2 min-h-[3rem]",children:z.description||"No description provided"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:244,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:234,columnNumber:17},this),t.jsxDEV(te,{children:[t.jsxDEV("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mb-4",children:[t.jsxDEV("div",{className:"flex items-center gap-1",children:[t.jsxDEV(qs,{className:"w-4 h-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:251,columnNumber:23},this),q(z.estimatedDurationMinutes)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:250,columnNumber:21},this),t.jsxDEV("div",{className:"flex items-center gap-1",children:[t.jsxDEV(xE,{className:"w-4 h-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:255,columnNumber:23},this),z.nodes.length," modules"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:254,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:249,columnNumber:19},this),t.jsxDEV("div",{className:"mb-4 min-h-[4rem]",children:[t.jsxDEV("p",{className:"text-xs font-medium text-muted-foreground mb-2",children:"Modules:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:260,columnNumber:21},this),t.jsxDEV("div",{className:"flex flex-wrap gap-1",children:[H(z.nodes).slice(0,4).map((G,ee)=>t.jsxDEV(se,{variant:"outline",className:"text-xs capitalize",children:G},ee,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:263,columnNumber:25},this)),z.nodes.length>4&&t.jsxDEV(se,{variant:"outline",className:"text-xs",children:["+",z.nodes.length-4," more"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:268,columnNumber:25},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:261,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:259,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:248,columnNumber:17},this),t.jsxDEV(e6,{className:"flex gap-2 pt-0",children:[t.jsxDEV(me,{onClick:()=>W(z.id),className:"flex-1 gap-1",size:"sm",disabled:z.nodes.length===0,"data-testid":`button-run-custom-${z.id}`,children:[t.jsxDEV(av,{className:"w-4 h-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:283,columnNumber:21},this),"Run"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:276,columnNumber:19},this),t.jsxDEV(me,{onClick:()=>O(z.id),variant:"outline",size:"sm",className:"gap-1","data-testid":`button-edit-custom-${z.id}`,children:[t.jsxDEV($X,{className:"w-4 h-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:293,columnNumber:21},this),"Edit"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:286,columnNumber:19},this),t.jsxDEV(me,{onClick:()=>Y(z),variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-700 hover:bg-red-50","data-testid":`button-delete-custom-${z.id}`,children:t.jsxDEV(vo,{className:"w-4 h-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:303,columnNumber:21},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:296,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:275,columnNumber:17},this)]},z.id,!0,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:229,columnNumber:15},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:227,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:222,columnNumber:9},this),T.length>0&&t.jsxDEV("section",{className:"mb-12",children:[t.jsxDEV("h2",{className:"text-xl md:text-2xl font-semibold mb-4 flex items-center gap-2",children:[t.jsxDEV(Ma,{className:"w-6 h-6 text-indigo-500"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:316,columnNumber:13},this),"My Custom Journeys"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:315,columnNumber:11},this),t.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:T.map(z=>t.jsxDEV(Z,{className:"hover:shadow-lg transition-shadow border-2 hover:border-indigo-500","data-testid":`card-template-${z.id}`,children:[t.jsxDEV(de,{children:[t.jsxDEV("div",{className:"flex items-start justify-between mb-2",children:[t.jsxDEV(pe,{className:"text-xl",children:z.name},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:328,columnNumber:21},this),t.jsxDEV(se,{className:"bg-indigo-600 hover:bg-indigo-700",children:"Custom"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:329,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:327,columnNumber:19},this),t.jsxDEV(He,{className:"mt-2 min-h-[3rem]",children:z.description||"Custom journey created by you"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:333,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:326,columnNumber:17},this),t.jsxDEV(te,{children:[t.jsxDEV("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mb-4",children:[t.jsxDEV("div",{className:"flex items-center gap-1",children:[t.jsxDEV(qs,{className:"w-4 h-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:340,columnNumber:23},this),q(z.estimatedDuration)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:339,columnNumber:21},this),t.jsxDEV("div",{className:"flex items-center gap-1",children:[t.jsxDEV(xE,{className:"w-4 h-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:344,columnNumber:23},this),z.steps.length," steps"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:343,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:338,columnNumber:19},this),t.jsxDEV("div",{className:"mb-4 min-h-[4rem]",children:[t.jsxDEV("p",{className:"text-xs font-medium text-muted-foreground mb-2",children:"Frameworks:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:349,columnNumber:21},this),t.jsxDEV("div",{className:"flex flex-wrap gap-1",children:[z.steps.slice(0,4).map((G,ee)=>t.jsxDEV(se,{variant:"outline",className:"text-xs capitalize",children:G.name||G.frameworkKey.replace(/_/g," ")},ee,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:352,columnNumber:25},this)),z.steps.length>4&&t.jsxDEV(se,{variant:"outline",className:"text-xs",children:["+",z.steps.length-4," more"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:357,columnNumber:25},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:350,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:348,columnNumber:19},this),t.jsxDEV(me,{onClick:()=>$(z.id),className:"w-full gap-2",disabled:z.steps.length===0,"data-testid":`button-start-template-${z.id}`,children:[t.jsxDEV(av,{className:"w-4 h-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:369,columnNumber:21},this),"Start Journey"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:363,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:337,columnNumber:17},this)]},z.id,!0,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:321,columnNumber:15},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:319,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:314,columnNumber:9},this),t.jsxDEV("section",{className:"mb-12",children:[t.jsxDEV("h2",{className:"text-xl md:text-2xl font-semibold mb-4 flex items-center gap-2",children:[t.jsxDEV(ng,{className:"w-6 h-6 text-yellow-500"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:382,columnNumber:11},this),"Available Journeys"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:381,columnNumber:9},this),t.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:A.map(z=>t.jsxDEV(Z,{className:"hover:shadow-lg transition-shadow border-2 hover:border-primary","data-testid":`card-journey-${z.type}`,children:[t.jsxDEV(de,{children:[t.jsxDEV("div",{className:"flex items-start justify-between mb-2",children:[t.jsxDEV(pe,{className:"text-xl",children:z.name},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:394,columnNumber:19},this),t.jsxDEV(se,{variant:"default",className:"bg-green-600 hover:bg-green-700",children:"Available"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:395,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:393,columnNumber:17},this),t.jsxDEV(He,{className:"mt-2 min-h-[3rem]",children:z.description},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:399,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:392,columnNumber:15},this),t.jsxDEV(te,{children:[t.jsxDEV("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mb-4",children:t.jsxDEV("div",{className:"flex items-center gap-1",children:[t.jsxDEV(qs,{className:"w-4 h-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:406,columnNumber:21},this),z.estimatedDuration]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:405,columnNumber:19},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:404,columnNumber:17},this),t.jsxDEV("div",{className:"mb-4 min-h-[4rem]",children:[t.jsxDEV("p",{className:"text-xs font-medium text-muted-foreground mb-2",children:"Frameworks:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:411,columnNumber:19},this),t.jsxDEV("div",{className:"flex flex-wrap gap-1",children:z.frameworks.map((G,ee)=>t.jsxDEV("div",{className:"flex items-center gap-1",children:[t.jsxDEV(se,{variant:"outline",className:"text-xs capitalize",children:G.replace(/_/g," ")},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:415,columnNumber:25},this),ee<z.frameworks.length-1&&t.jsxDEV(ar,{className:"w-3 h-3 text-muted-foreground"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:419,columnNumber:27},this)]},G,!0,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:414,columnNumber:23},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:412,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:410,columnNumber:17},this),t.jsxDEV(me,{onClick:()=>L(z.type),className:"w-full gap-2","data-testid":`button-start-${z.type}`,children:["Start Journey",t.jsxDEV(ar,{className:"w-4 h-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:431,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:425,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:403,columnNumber:15},this)]},z.type,!0,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:387,columnNumber:13},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:385,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:380,columnNumber:7},this),F.length>0&&t.jsxDEV("section",{className:"mb-12",children:[t.jsxDEV("h2",{className:"text-xl md:text-2xl font-semibold mb-4 flex items-center gap-2",children:[t.jsxDEV(Ma,{className:"w-6 h-6 text-purple-500"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:443,columnNumber:13},this),"Coming Soon"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:442,columnNumber:11},this),t.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:F.map(z=>t.jsxDEV(Z,{className:"opacity-60 border-2 border-dashed","data-testid":`card-journey-${z.type}`,children:[t.jsxDEV(de,{children:[t.jsxDEV("div",{className:"flex items-start justify-between mb-2",children:[t.jsxDEV(pe,{className:"text-xl",children:z.name},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:455,columnNumber:21},this),t.jsxDEV(se,{variant:"outline",className:"border-purple-300 text-purple-700 bg-purple-50",children:"Coming Soon"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:456,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:454,columnNumber:19},this),t.jsxDEV(He,{className:"mt-2 min-h-[3rem]",children:z.description},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:460,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:453,columnNumber:17},this),t.jsxDEV(te,{children:[t.jsxDEV("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mb-4",children:t.jsxDEV("div",{className:"flex items-center gap-1",children:[t.jsxDEV(qs,{className:"w-4 h-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:467,columnNumber:23},this),z.estimatedDuration]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:466,columnNumber:21},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:465,columnNumber:19},this),t.jsxDEV("div",{className:"mb-4 min-h-[4rem]",children:[t.jsxDEV("p",{className:"text-xs font-medium text-muted-foreground mb-2",children:"Frameworks:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:472,columnNumber:21},this),t.jsxDEV("div",{className:"flex flex-wrap gap-1",children:z.frameworks.map((G,ee)=>t.jsxDEV("div",{className:"flex items-center gap-1",children:[t.jsxDEV(se,{variant:"outline",className:"text-xs capitalize",children:G.replace(/_/g," ")},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:476,columnNumber:27},this),ee<z.frameworks.length-1&&t.jsxDEV(ar,{className:"w-3 h-3 text-muted-foreground"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:480,columnNumber:29},this)]},G,!0,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:475,columnNumber:25},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:473,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:471,columnNumber:19},this),t.jsxDEV(me,{disabled:!0,className:"w-full gap-2","data-testid":`button-start-${z.type}`,children:"Coming Soon"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:486,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:464,columnNumber:17},this)]},z.type,!0,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:448,columnNumber:15},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:446,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:441,columnNumber:9},this),!b&&R.length===0&&t.jsxDEV("div",{className:"text-center py-12",children:[t.jsxDEV("div",{className:"text-muted-foreground mb-4",children:"No journeys available. Something went wrong loading the journeys."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:503,columnNumber:11},this),t.jsxDEV(me,{onClick:()=>D(),children:"Retry"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:506,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:502,columnNumber:9},this),n&&t.jsxDEV(ahe,{onClose:()=>s(!1),onSave:()=>{s(!1),D(),P(),V()}},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:512,columnNumber:11},this),t.jsxDEV(HV,{open:a,onOpenChange:l,children:t.jsxDEV(P0,{"data-testid":"dialog-delete-journey",children:[t.jsxDEV(S0,{children:[t.jsxDEV(R0,{className:"flex items-center gap-2",children:[t.jsxDEV(Dt,{className:"w-5 h-5 text-red-500"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:528,columnNumber:17},this),"Delete Custom Journey?"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:527,columnNumber:15},this),t.jsxDEV(M0,{children:['Are you sure you want to delete "',c==null?void 0:c.name,'"? This action cannot be undone.']},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:531,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:526,columnNumber:13},this),t.jsxDEV(C0,{children:[t.jsxDEV(T0,{"data-testid":"button-cancel-delete",children:"Cancel"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:536,columnNumber:15},this),t.jsxDEV(JV,{onClick:()=>c&&S.mutate(c.id),className:"bg-red-600 hover:bg-red-700","data-testid":"button-confirm-delete",children:S.isPending?"Deleting...":"Delete"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:537,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:535,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:525,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:524,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:184,columnNumber:7},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journeys/JourneyHub.tsx",lineNumber:180,columnNumber:5},this)}function lhe({understandingId:e}){var l,c;const{knowledgeGraph:r}=Kg(),{data:n}=W0(e,{enabled:r&&!!e});if(!r||!e||!n)return null;const s=((l=n.similarStrategies)==null?void 0:l.length)||0,a=((c=n.incentives)==null?void 0:c.length)||0;return s===0&&a===0?null:t.jsxDEV("div",{className:"flex items-center gap-2 flex-wrap",children:[t.jsxDEV(Yj,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:68,columnNumber:7},this),s>0&&t.jsxDEV(se,{variant:"secondary",className:"text-xs","data-testid":"badge-insights-similar",children:[s," similar"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:70,columnNumber:9},this),a>0&&t.jsxDEV(se,{variant:"secondary",className:"text-xs","data-testid":"badge-insights-incentives",children:[a," incentive",a>1?"s":""]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:75,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:67,columnNumber:5},this)}function che({strategy:e,selectionMode:r,isSelected:n,onToggleSelect:s,onNavigate:a}){const l=e.title||e.initiativeDescription||"Untitled Strategy",c=e.strategyMetadata||{},u=c.confidence||0,d=c.frameworkInsightsCount||(c.completedFrameworks||[]).length,h=c.availableReferences||0,g={initializing:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",in_progress:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",completed:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",failed:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"}[e.latestJourneyStatus||""]||"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200",p=N=>{r?(N.preventDefault(),s(e.id)):a(e.id)};return t.jsxDEV("div",{onClick:p,className:"relative",children:t.jsxDEV(Z,{className:`hover:shadow-lg transition-shadow cursor-pointer max-w-full ${n?"ring-2 ring-primary":""}`,"data-testid":`card-strategy-${e.id}`,children:[r&&t.jsxDEV("div",{className:"absolute top-3 left-3 z-10",children:t.jsxDEV(Aa,{checked:n,onCheckedChange:()=>s(e.id),"data-testid":`checkbox-strategy-${e.id}`,onClick:N=>N.stopPropagation()},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:115,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:114,columnNumber:11},this),t.jsxDEV(de,{className:"pb-2",children:t.jsxDEV("div",{className:"flex items-start justify-between gap-3",children:[t.jsxDEV("div",{className:`flex-1 min-w-0 ${r?"pl-8":""}`,children:[t.jsxDEV(pe,{className:"text-lg sm:text-xl mb-2 break-words","data-testid":`text-strategy-title-${e.id}`,children:l},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:126,columnNumber:15},this),e.latestJourneyStatus&&t.jsxDEV(se,{className:`${g} text-xs mb-2`,"data-testid":`badge-status-${e.id}`,children:e.latestJourneyStatus.replace(/_/g," ")},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:130,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:125,columnNumber:13},this),t.jsxDEV(rg,{className:"h-6 w-6 sm:h-8 sm:w-8 text-muted-foreground flex-shrink-0"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:135,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:124,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:123,columnNumber:9},this),t.jsxDEV(te,{className:"space-y-3",children:[t.jsxDEV("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-muted-foreground text-xs",children:"Journeys"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:142,columnNumber:15},this),t.jsxDEV("p",{className:"font-semibold","data-testid":`text-journey-count-${e.id}`,children:e.journeyCount},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:143,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:141,columnNumber:13},this),t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-muted-foreground text-xs",children:"Frameworks"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:148,columnNumber:15},this),t.jsxDEV("p",{className:"font-semibold","data-testid":`text-framework-count-${e.id}`,children:d},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:149,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:147,columnNumber:13},this),t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-muted-foreground text-xs",children:"References"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:154,columnNumber:15},this),t.jsxDEV("p",{className:"font-semibold","data-testid":`text-reference-count-${e.id}`,children:h},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:155,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:153,columnNumber:13},this),t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-muted-foreground text-xs",children:"Confidence"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:160,columnNumber:15},this),t.jsxDEV("p",{className:"font-semibold","data-testid":`text-confidence-${e.id}`,children:u>0?`${(u*100).toFixed(0)}%`:"N/A"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:161,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:159,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:140,columnNumber:11},this),t.jsxDEV("div",{className:"flex items-center justify-between gap-2 pt-2 border-t text-xs text-muted-foreground flex-wrap",children:[t.jsxDEV("div",{className:"flex items-center gap-2",children:e.initiativeType&&t.jsxDEV(se,{variant:"outline",className:"capitalize text-xs","data-testid":`badge-initiative-type-${e.id}`,children:e.initiativeType.replace(/_/g," ")},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:171,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:169,columnNumber:13},this),t.jsxDEV("div",{className:"flex items-center gap-1",children:[t.jsxDEV(ys,{className:"h-3 w-3"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:177,columnNumber:15},this),t.jsxDEV("span",{"data-testid":`text-last-updated-${e.id}`,children:Si(new Date(e.latestJourneyUpdated||e.updatedAt),{addSuffix:!0})},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:178,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:176,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:168,columnNumber:11},this),t.jsxDEV(lhe,{understandingId:e.id},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:185,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:138,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:112,columnNumber:7},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:111,columnNumber:5},this)}function uhe(){return t.jsxDEV("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[1,2,3,4,5,6].map(e=>t.jsxDEV(Z,{children:[t.jsxDEV(de,{children:[t.jsxDEV(Jt,{className:"h-6 w-3/4 mb-2"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:198,columnNumber:13},this),t.jsxDEV(Jt,{className:"h-4 w-1/2"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:199,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:197,columnNumber:11},this),t.jsxDEV(te,{children:t.jsxDEV("div",{className:"space-y-3",children:[t.jsxDEV(Jt,{className:"h-4 w-full"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:203,columnNumber:15},this),t.jsxDEV(Jt,{className:"h-4 w-full"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:204,columnNumber:15},this),t.jsxDEV(Jt,{className:"h-4 w-2/3"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:205,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:202,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:201,columnNumber:11},this)]},e,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:196,columnNumber:9},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:194,columnNumber:5},this)}function mhe(){const[e,r]=v.useState(!1),[n,s]=v.useState(!1),[a,l]=v.useState([]),[c,u]=v.useState(!1),[,d]=or(),{toast:h}=ur(),{data:g,isLoading:p,error:N}=yt({queryKey:["/api/strategies"]}),b=Qr({mutationFn:async V=>Zt("POST","/api/repository/batch-delete",{ids:V}),onSuccess:()=>{vr.invalidateQueries({queryKey:["/api/strategies"]}),vr.invalidateQueries({queryKey:["/api/repository/statements"]}),vr.invalidateQueries({queryKey:["/api/dashboard-summary"]}),h({title:"Strategies deleted",description:`Successfully deleted ${a.length} ${a.length===1?"strategy":"strategies"} and all related artifacts.`}),l([]),s(!1)},onError:V=>{h({title:"Deletion failed",description:V.message||"Failed to delete strategies. Please try again.",variant:"destructive"})}}),D=V=>{l(S=>S.includes(V)?S.filter(R=>R!==V):[...S,V])},E=()=>{g&&l(g.map(V=>V.id))},j=()=>{l([])},P=()=>{u(!0)},w=()=>{b.mutate(a),u(!1)},k=V=>{d(`/strategies/${V}`)};return t.jsxDEV(st,{showTopBar:!0,title:"Strategies Hub",subtitle:"Your unified strategic initiatives",sidebarOpen:e,onSidebarToggle:()=>r(!e),children:[t.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-accent/5 px-6 pt-2 pb-6 space-y-3","data-testid":"page-strategies-list",children:[n&&t.jsxDEV("div",{className:"max-w-6xl mx-auto mb-4",children:t.jsxDEV("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:gap-4",children:[t.jsxDEV("div",{className:"flex items-center gap-2 flex-wrap",children:[t.jsxDEV(se,{variant:"secondary",className:"text-sm","data-testid":"badge-selected-count",children:[a.length," selected"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:292,columnNumber:17},this),t.jsxDEV(me,{variant:"outline",size:"sm",onClick:E,disabled:!g||a.length===g.length,"data-testid":"button-select-all",children:[t.jsxDEV(SR,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:302,columnNumber:19},this),"Select All"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:295,columnNumber:17},this),t.jsxDEV(me,{variant:"outline",size:"sm",onClick:j,disabled:a.length===0,"data-testid":"button-clear-selection",children:[t.jsxDEV(Ri,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:312,columnNumber:19},this),"Clear"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:305,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:291,columnNumber:15},this),t.jsxDEV("div",{className:"flex items-center gap-2 sm:ml-auto",children:[t.jsxDEV(me,{variant:"destructive",size:"sm",onClick:P,disabled:a.length===0||b.isPending,"data-testid":"button-batch-delete",children:[t.jsxDEV(vo,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:324,columnNumber:19},this),"Delete (",a.length,")"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:317,columnNumber:17},this),t.jsxDEV(me,{variant:"ghost",size:"sm",onClick:()=>{s(!1),l([])},"data-testid":"button-cancel-selection",children:"Cancel"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:327,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:316,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:290,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:289,columnNumber:11},this),g&&g.length>0&&t.jsxDEV("div",{className:"max-w-6xl mx-auto grid gap-2 grid-cols-3 md:gap-4 mb-4",children:[t.jsxDEV(os,{href:"/strategies",children:t.jsxDEV(Z,{className:"shadow-lg border-primary/20 hover:shadow-xl hover:border-primary/40 transition-all cursor-pointer group",children:t.jsxDEV(te,{className:"p-3 md:p-5",children:t.jsxDEV("div",{className:"flex flex-col md:flex-row items-center md:gap-3 text-center md:text-left",children:[t.jsxDEV("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-xl bg-gradient-to-br from-indigo-500 to-indigo-600 flex items-center justify-center flex-shrink-0 shadow-md group-hover:scale-110 transition-transform mb-2 md:mb-0",children:t.jsxDEV(rg,{className:"h-5 w-5 md:h-6 md:w-6 text-white"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:351,columnNumber:23},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:350,columnNumber:21},this),t.jsxDEV("div",{className:"flex-1",children:[t.jsxDEV("p",{className:"text-[10px] md:text-xs font-medium text-muted-foreground leading-tight",children:[t.jsxDEV("span",{className:"md:hidden",children:["Total",t.jsxDEV("br",{},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:355,columnNumber:58},this),"Strategies"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:355,columnNumber:25},this),t.jsxDEV("span",{className:"hidden md:inline",children:"Total Strategies"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:356,columnNumber:25},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:354,columnNumber:23},this),t.jsxDEV("p",{className:"text-xl md:text-2xl font-bold text-foreground","data-testid":"stat-total-strategies",children:g.length},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:358,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:353,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:349,columnNumber:19},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:348,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:347,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:346,columnNumber:13},this),t.jsxDEV(Z,{className:"shadow-lg border-primary/20 hover:shadow-xl hover:border-primary/40 transition-all cursor-pointer group",children:t.jsxDEV(te,{className:"p-3 md:p-5",children:t.jsxDEV("div",{className:"flex flex-col md:flex-row items-center md:gap-3 text-center md:text-left",children:[t.jsxDEV("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-xl bg-gradient-to-br from-yellow-500 to-yellow-600 flex items-center justify-center flex-shrink-0 shadow-md group-hover:scale-110 transition-transform mb-2 md:mb-0",children:t.jsxDEV(cn,{className:"h-5 w-5 md:h-6 md:w-6 text-white"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:371,columnNumber:21},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:370,columnNumber:19},this),t.jsxDEV("div",{className:"flex-1",children:[t.jsxDEV("p",{className:"text-[10px] md:text-xs font-medium text-muted-foreground leading-tight",children:[t.jsxDEV("span",{className:"md:hidden",children:["Active",t.jsxDEV("br",{},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:375,columnNumber:57},this),"Journeys"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:375,columnNumber:23},this),t.jsxDEV("span",{className:"hidden md:inline",children:"Active Journeys"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:376,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:374,columnNumber:21},this),t.jsxDEV("p",{className:"text-xl md:text-2xl font-bold text-foreground","data-testid":"stat-active-journeys",children:g.filter(V=>V.latestJourneyStatus==="in_progress").length},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:378,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:373,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:369,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:368,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:367,columnNumber:13},this),t.jsxDEV(Z,{className:"shadow-lg border-primary/20 hover:shadow-xl hover:border-primary/40 transition-all cursor-pointer group",children:t.jsxDEV(te,{className:"p-3 md:p-5",children:t.jsxDEV("div",{className:"flex flex-col md:flex-row items-center md:gap-3 text-center md:text-left",children:[t.jsxDEV("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-xl bg-gradient-to-br from-purple-500 to-purple-600 flex items-center justify-center flex-shrink-0 shadow-md group-hover:scale-110 transition-transform mb-2 md:mb-0",children:t.jsxDEV(mo,{className:"h-5 w-5 md:h-6 md:w-6 text-white"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:390,columnNumber:21},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:389,columnNumber:19},this),t.jsxDEV("div",{className:"flex-1",children:[t.jsxDEV("p",{className:"text-[10px] md:text-xs font-medium text-muted-foreground leading-tight",children:[t.jsxDEV("span",{className:"md:hidden",children:["Total",t.jsxDEV("br",{},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:394,columnNumber:56},this),"Journeys"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:394,columnNumber:23},this),t.jsxDEV("span",{className:"hidden md:inline",children:"Total Journeys"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:395,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:393,columnNumber:21},this),t.jsxDEV("p",{className:"text-xl md:text-2xl font-bold text-foreground","data-testid":"stat-total-journeys",children:g.reduce((V,S)=>V+Number(S.journeyCount),0)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:397,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:392,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:388,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:387,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:386,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:345,columnNumber:11},this),g&&g.length>0&&!n&&t.jsxDEV("div",{className:"max-w-6xl mx-auto mb-4",children:t.jsxDEV("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[t.jsxDEV("h2",{className:"text-xl font-semibold",children:"Your Strategies"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:411,columnNumber:15},this),t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(me,{onClick:()=>d("/strategic-consultant/input"),className:"bg-gradient-to-r from-primary to-primary/80 flex-1 sm:flex-none",size:"sm","data-testid":"button-new-strategy",children:[t.jsxDEV(Kd,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:419,columnNumber:19},this),"Create New"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:413,columnNumber:17},this),t.jsxDEV(me,{variant:"outline",size:"sm",onClick:()=>s(!0),"data-testid":"button-enable-selection",className:"flex-1 sm:flex-none",children:[t.jsxDEV(SR,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:429,columnNumber:19},this),"Manage"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:422,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:412,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:410,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:409,columnNumber:11},this),t.jsxDEV("div",{className:"max-w-6xl mx-auto",children:p?t.jsxDEV(uhe,{},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:440,columnNumber:13},this):N?t.jsxDEV(Z,{className:"p-8 text-center",children:[t.jsxDEV(cn,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:443,columnNumber:15},this),t.jsxDEV("h3",{className:"text-lg font-semibold mb-2",children:"Failed to load strategies"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:444,columnNumber:15},this),t.jsxDEV("p",{className:"text-muted-foreground",children:"Please try again later."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:445,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:442,columnNumber:13},this):!g||g.length===0?t.jsxDEV(Z,{className:"p-8 text-center",children:[t.jsxDEV(mo,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:449,columnNumber:15},this),t.jsxDEV("h3",{className:"text-lg font-semibold mb-2",children:"No strategies yet"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:450,columnNumber:15},this),t.jsxDEV("p",{className:"text-muted-foreground mb-4",children:"Start your first strategic analysis to see it here"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:451,columnNumber:15},this),t.jsxDEV(os,{href:"/strategic-consultant/input",children:t.jsxDEV(me,{"data-testid":"button-get-started",children:[t.jsxDEV(Kd,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:456,columnNumber:19},this),"Get Started"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:455,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:454,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:448,columnNumber:13},this):t.jsxDEV("div",{className:"grid gap-4 grid-cols-1 md:grid-cols-2 lg:grid-cols-3",children:g.map(V=>t.jsxDEV(che,{strategy:V,selectionMode:n,isSelected:a.includes(V.id),onToggleSelect:D,onNavigate:k},V.id,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:464,columnNumber:17},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:462,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:438,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:286,columnNumber:7},this),t.jsxDEV(HV,{open:c,onOpenChange:u,children:t.jsxDEV(P0,{"data-testid":"dialog-confirm-delete",children:[t.jsxDEV(S0,{children:[t.jsxDEV(R0,{children:["Delete ",a.length," ",a.length===1?"Strategy":"Strategies","?"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:482,columnNumber:13},this),t.jsxDEV(M0,{children:["This will permanently delete the selected ",a.length===1?"strategy":"strategies"," and all related artifacts including:",t.jsxDEV("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[t.jsxDEV("li",{children:"Strategy versions and analyses"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:486,columnNumber:17},this),t.jsxDEV("li",{children:["EPM programs generated from ",a.length===1?"this strategy":"these strategies"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:487,columnNumber:17},this),t.jsxDEV("li",{children:"Journey sessions and research data"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:488,columnNumber:17},this),t.jsxDEV("li",{children:"All associated references and insights"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:489,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:485,columnNumber:15},this),t.jsxDEV("p",{className:"mt-2 font-semibold",children:"This action cannot be undone."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:491,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:483,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:481,columnNumber:11},this),t.jsxDEV(C0,{children:[t.jsxDEV(T0,{"data-testid":"button-cancel-delete",children:"Cancel"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:495,columnNumber:13},this),t.jsxDEV(JV,{onClick:w,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90","data-testid":"button-confirm-delete",children:"Delete"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:496,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:494,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:480,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:479,columnNumber:7},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategiesListPage.tsx",lineNumber:279,columnNumber:5},this)}function dhe({open:e,onOpenChange:r,understandingId:n,strategyTitle:s,contextMetrics:a}){const[,l]=or(),[c,u]=v.useState(null),[d,h]=v.useState(null),[g,p]=v.useState([]),[N,b]=v.useState("journey"),[D,E]=v.useState(!1),{toast:j}=ur(),{journeyRegistryV2:P}=Kg(),w=K=>{if(typeof K=="string")return K;if(typeof K=="object"&&K!==null){if("question"in K&&"answer"in K)return`${K.question}: ${K.answer}`;if("answer"in K)return String(K.answer);if("question"in K)return String(K.question)}return String(K||"")};v.useEffect(()=>{if(e){const K=document.querySelector("[data-modal-scroll]");K&&(K.scrollTop=0)}},[e]);const{data:k,isLoading:V}=yt({queryKey:["/api/strategic-consultant/journey-registry"],enabled:e}),{data:S,isLoading:R}=yt({queryKey:["/api/journey-builder/templates"],enabled:e}),{data:M,isLoading:T}=yt({queryKey:["/api/journey-builder/frameworks"],enabled:e}),A=[...((k==null?void 0:k.journeys)||[]).map(K=>({type:K.type,name:K.name,description:K.description,frameworks:K.frameworks,estimatedDuration:K.estimatedDuration,available:K.available,isCustom:!1})),...((S==null?void 0:S.templates)||[]).map(K=>({type:K.id,name:`Custom: ${K.name}`,description:K.description||"User-created journey template",frameworks:(K.steps||[]).map(be=>be.frameworkKey),estimatedDuration:K.estimatedDuration?`${K.estimatedDuration} minutes`:"Variable",available:K.isPublished!==!1,isCustom:!0,templateId:K.id}))],F=((M==null?void 0:M.frameworks)||[]).map(K=>({id:K.frameworkKey||K.id,frameworkKey:K.frameworkKey,name:K.name,description:K.description||"",available:K.isActive!==!1})),{data:L,isLoading:$}=yt({queryKey:["/api/strategic-consultant/journeys/summary",n,c],queryFn:async()=>(await Zt("POST","/api/strategic-consultant/journeys/summary",{understandingId:n,journeyType:c})).json(),enabled:e&&!!c&&d==="prebuilt"&&P}),W=L==null?void 0:L.summary,O=V||R||T,Y=K=>{b(K),K==="journey"?p([]):K==="framework"&&(u(null),h(null))},H=(K,be)=>{u(K),h(be?"custom":"prebuilt")},q=K=>{p(be=>be.includes(K)?be.filter(_e=>_e!==K):[...be,K])},z=Qr({mutationFn:async()=>{const K={understandingId:n};if(N==="journey"&&c&&d==="prebuilt")K.journeyType=c;else throw new Error("Interactive wizard currently only supports prebuilt journeys");return(await Zt("POST","/api/strategic-consultant/journeys/execute",K)).json()},onSuccess:K=>{l(K.navigationUrl)},onError:K=>{j({title:"Failed to Start Journey",description:K.message||"An error occurred.",variant:"destructive"})}}),G=Qr({mutationFn:async()=>(await Zt("POST","/api/strategic-consultant/journeys/run-now",{understandingId:n,journeyType:c})).json(),onSuccess:K=>{K.journeySessionId&&localStorage.setItem(`current-journey-session-${n}`,K.journeySessionId),K.sessionId&&c&&(localStorage.setItem(`journey-type-${K.sessionId}`,c),console.log(`[JourneyLauncher] Stored journey type ${c} for sessionId ${K.sessionId}`)),K.versionNumber&&(localStorage.setItem(`journey-version-${K.journeySessionId}`,String(K.versionNumber)),K.sessionId&&localStorage.setItem(`journey-version-${K.sessionId}`,String(K.versionNumber)),console.log(`[JourneyLauncher] Stored version ${K.versionNumber} for both sessionId formats`)),K.navigationUrl?l(K.navigationUrl):window.location.reload()},onError:K=>{j({title:"Failed to Start Journey",description:K.message||"An error occurred while starting the journey.",variant:"destructive"})}}),ee=z.isPending||G.isPending;return t.jsxDEV(Lg,{open:e,onOpenChange:ee?void 0:r,children:t.jsxDEV(Ph,{className:"max-w-[95vw] sm:max-w-[90vw] lg:max-w-4xl max-h-[90vh] sm:max-h-[85vh] flex flex-col p-0 bg-background",children:[ee&&t.jsxDEV("div",{className:"absolute inset-0 bg-background z-50 flex items-center justify-center",children:t.jsxDEV("div",{className:"text-center space-y-4",children:[t.jsxDEV(lt,{className:"h-12 w-12 animate-spin text-primary mx-auto"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/JourneyLauncherModal.tsx",lineNumber:273,columnNumber:15},this),t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-lg font-semibold",children:"Starting your journey..."},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/JourneyLauncherModal.tsx",lineNumber:275,columnNumber:17},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground mt-1",children:"Please wait while we prepare your analysis"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/JourneyLauncherModal.tsx",lineNumber:276,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/JourneyLauncherModal.tsx",lineNumber:274,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/JourneyLauncherModal.tsx",lineNumber:272,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/JourneyLauncherModal.tsx",lineNumber:271,columnNumber:11},this),t.jsxDEV("div",{className:"px-4 sm:px-6 pt-4 sm:pt-6",children:t.jsxDEV(Sh,{children:[t.jsxDEV(Ch,{className:"flex items-center gap-2 text-base sm:text-lg",children:[t.jsxDEV(rg,{className:"h-4 w-4 sm:h-5 sm:w-5"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/JourneyLauncherModal.tsx",lineNumber:285,columnNumber:15},this),"Run Additional Analysis"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/JourneyLauncherModal.tsx",lineNumber:284,columnNumber:13},this),t.jsxDEV(Rh,{className:"text-sm",children:["Continue analyzing ",t.jsxDEV("span",{className:"font-semibold",children:s},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/JourneyLauncherModal.tsx",lineNumber:289,columnNumber:34},this)," with full journeys or individual frameworks"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/JourneyLauncherModal.tsx",lineNumber:288,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/JourneyLauncherModal.tsx",lineNumber:283,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/JourneyLauncherModal.tsx",lineNumber:282,columnNumber:9},this),t.jsxDEV("div",{className:"flex-1 overflow-y-auto px-4 sm:px-6 space-y-4","data-modal-scroll":!0,children:[t.jsxDEV(Z,{children:[t.jsxDEV(de,{className:"pb-3",children:t.jsxDEV(pe,{className:"text-sm font-medium",children:"Available Context"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/JourneyLauncherModal.tsx",lineNumber:298,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/JourneyLauncherModal.tsx",lineNumber:297,columnNumber:13},this),t.jsxDEV(te,{children:t.jsxDEV("div",{className:"flex flex-wrap gap-3 sm:gap-4 text-sm",children:[t.jsxDEV("div",{children:[t.jsxDEV("span",{className:"text-muted-foreground",children:"References:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/JourneyLauncherModal.tsx",lineNumber:303,columnNumber:19},this)," ",t.jsxDEV("span",{className:"font-semibold",children:a.referenceCount},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/JourneyLauncherModal.tsx",lineNumber:304,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/JourneyLauncherModal.tsx",lineNumber:302,columnNumber:17},this),t.jsxDEV("div",{children:[t.jsxDEV("span",{className:"text-muted-foreground",children:"Entities:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/JourneyLauncherModal.tsx",lineNumber:307,columnNumber:19},this)," ",t.jsxDEV("span",{className:"font-semibold",children:a.entityCount},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/JourneyLauncherModal.tsx",lineNumber:308,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/JourneyLauncherModal.tsx",lineNumber:306,columnNumber:17},this),t.jsxDEV("div",{children:[t.jsxDEV("span",{className:"text-muted-foreground",children:"Completed:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/JourneyLauncherModal.tsx",lineNumber:311,columnNumber:19},this)," ",t.jsxDEV("span",{className:"font-semibold",children:[a.completedFrameworks.length," frameworks"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/JourneyLauncherModal.tsx",lineNumber:312,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/JourneyLauncherModal.tsx",lineNumber:310,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/JourneyLauncherModal.tsx",lineNumber:301,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/JourneyLauncherModal.tsx",lineNumber:300,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/JourneyLauncherModal.tsx",lineNumber:296,columnNumber:11},this),t.jsxDEV(bl,{value:N,onValueChange:Y,className:"w-full",children:[t.jsxDEV(Eo,{className:"grid w-full grid-cols-2",children:[t.jsxDEV(Pr,{value:"journey","data-testid":"tab-full-journey",children:"Full Journey"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/JourneyLauncherModal.tsx",lineNumber:321,columnNumber:15},this),t.jsxDEV(Pr,{value:"framework","data-testid":"tab-single-framework",children:"Single Framework"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/JourneyLauncherModal.tsx",lineNumber:322,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/JourneyLauncherModal.tsx",lineNumber:320,columnNumber:13},this),t.jsxDEV(Sr,{value:"journey",className:"space-y-4",children:[t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Select a comprehensive analysis journey that runs multiple frameworks in sequence"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/JourneyLauncherModal.tsx",lineNumber:327,columnNumber:15},this),O?t.jsxDEV("div",{className:"flex items-center justify-center py-8",children:[t.jsxDEV(lt,{className:"h-6 w-6 animate-spin text-muted-foreground"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/JourneyLauncherModal.tsx",lineNumber:333,columnNumber:19},this),t.jsxDEV("span",{className:"ml-2 text-sm text-muted-foreground",children:"Loading available journeys..."},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/JourneyLauncherModal.tsx",lineNumber:334,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/JourneyLauncherModal.tsx",lineNumber:332,columnNumber:17},this):A.length===0?t.jsxDEV(it,{children:[t.jsxDEV(Dt,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/JourneyLauncherModal.tsx",lineNumber:338,columnNumber:19},this),t.jsxDEV(at,{children:"No journeys available at this time."},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/JourneyLauncherModal.tsx",lineNumber:339,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/JourneyLauncherModal.tsx",lineNumber:337,columnNumber:17},this):t.jsxDEV("div",{className:"grid gap-3",children:A.map(K=>t.jsxDEV(Z,{className:`cursor-pointer transition-all ${c===K.type?"ring-2 ring-primary":"hover:shadow-md"} ${K.available?"":"opacity-40 cursor-not-allowed pointer-events-none"}`,onClick:()=>K.available&&H(K.type,K.isCustom||!1),"data-testid":`card-journey-${K.type}`,children:[t.jsxDEV(de,{className:"pb-3",children:t.jsxDEV("div",{className:"flex items-start justify-between",children:[t.jsxDEV("div",{className:"flex-1",children:[t.jsxDEV(pe,{className:"text-base",children:K.name},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/JourneyLauncherModal.tsx",lineNumber:357,columnNumber:27},this),t.jsxDEV(He,{className:"mt-1 text-xs",children:K.description},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/JourneyLauncherModal.tsx",lineNumber:358,columnNumber:27},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/JourneyLauncherModal.tsx",lineNumber:356,columnNumber:25},this),c===K.type&&t.jsxDEV(tr,{className:"h-5 w-5 text-primary flex-shrink-0"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/JourneyLauncherModal.tsx",lineNumber:363,columnNumber:27},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/JourneyLauncherModal.tsx",lineNumber:355,columnNumber:23},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/JourneyLauncherModal.tsx",lineNumber:354,columnNumber:21},this),t.jsxDEV(te,{className:"pt-0",children:t.jsxDEV("div",{className:"flex items-center gap-2 flex-wrap",children:[K.frameworks.map(be=>t.jsxDEV(se,{variant:"outline",className:"text-xs capitalize",children:be.replace(/_/g," ")},be,!1,{fileName:"/home/runner/workspace/client/src/components/JourneyLauncherModal.tsx",lineNumber:370,columnNumber:27},this)),!K.available&&t.jsxDEV(se,{variant:"outline",className:"text-xs bg-purple-100 dark:bg-purple-900/30 border-purple-300 dark:border-purple-700 text-purple-700 dark:text-purple-300",children:"Coming Soon"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/JourneyLauncherModal.tsx",lineNumber:375,columnNumber:27},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/JourneyLauncherModal.tsx",lineNumber:368,columnNumber:23},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/JourneyLauncherModal.tsx",lineNumber:367,columnNumber:21},this)]},K.type,!0,{fileName:"/home/runner/workspace/client/src/components/JourneyLauncherModal.tsx",lineNumber:344,columnNumber:19},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/JourneyLauncherModal.tsx",lineNumber:342,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/JourneyLauncherModal.tsx",lineNumber:326,columnNumber:13},this),t.jsxDEV(Sr,{value:"framework",className:"space-y-4",children:[t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Select one or more individual frameworks to analyze specific aspects of your strategy"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/JourneyLauncherModal.tsx",lineNumber:390,columnNumber:15},this),O?t.jsxDEV("div",{className:"flex items-center justify-center py-8",children:[t.jsxDEV(lt,{className:"h-6 w-6 animate-spin text-muted-foreground"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/JourneyLauncherModal.tsx",lineNumber:396,columnNumber:19},this),t.jsxDEV("span",{className:"ml-2 text-sm text-muted-foreground",children:"Loading available frameworks..."},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/JourneyLauncherModal.tsx",lineNumber:397,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/JourneyLauncherModal.tsx",lineNumber:395,columnNumber:17},this):F.length===0?t.jsxDEV(it,{children:[t.jsxDEV(Dt,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/JourneyLauncherModal.tsx",lineNumber:401,columnNumber:19},this),t.jsxDEV(at,{children:"No frameworks available at this time."},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/JourneyLauncherModal.tsx",lineNumber:402,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/JourneyLauncherModal.tsx",lineNumber:400,columnNumber:17},this):t.jsxDEV("div",{className:"grid gap-3",children:F.map(K=>t.jsxDEV(Z,{className:`${K.available?"hover:shadow-sm":"opacity-50"} transition-shadow`,children:t.jsxDEV(de,{className:"pb-3",children:t.jsxDEV("div",{className:"flex items-start gap-3",children:[t.jsxDEV(Aa,{id:`framework-${K.id}`,checked:g.includes(K.id),onCheckedChange:()=>K.available&&q(K.id),disabled:!K.available,"data-testid":`checkbox-framework-${K.id}`},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/JourneyLauncherModal.tsx",lineNumber:415,columnNumber:25},this),t.jsxDEV("div",{className:"flex-1",children:[t.jsxDEV(br,{htmlFor:`framework-${K.id}`,className:"text-base font-semibold cursor-pointer",children:[K.name,!K.available&&t.jsxDEV(se,{variant:"outline",className:"ml-2 text-xs",children:"Coming Soon"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/JourneyLauncherModal.tsx",lineNumber:429,columnNumber:31},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/JourneyLauncherModal.tsx",lineNumber:423,columnNumber:27},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground mt-1",children:K.description},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/JourneyLauncherModal.tsx",lineNumber:434,columnNumber:27},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/JourneyLauncherModal.tsx",lineNumber:422,columnNumber:25},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/JourneyLauncherModal.tsx",lineNumber:414,columnNumber:23},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/JourneyLauncherModal.tsx",lineNumber:413,columnNumber:21},this)},K.id,!1,{fileName:"/home/runner/workspace/client/src/components/JourneyLauncherModal.tsx",lineNumber:407,columnNumber:19},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/JourneyLauncherModal.tsx",lineNumber:405,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/JourneyLauncherModal.tsx",lineNumber:389,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/JourneyLauncherModal.tsx",lineNumber:319,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/JourneyLauncherModal.tsx",lineNumber:294,columnNumber:9},this),c&&!O&&t.jsxDEV("div",{className:"border-t bg-background px-4 sm:px-6 py-4",children:[N==="journey"&&d==="prebuilt"&&W&&t.jsxDEV("div",{className:"mb-4",children:t.jsxDEV(_h,{open:D,onOpenChange:E,children:t.jsxDEV(Z,{className:"border-primary/20 bg-primary/5","data-testid":"card-journey-summary",children:[t.jsxDEV(de,{className:"pb-2",children:[t.jsxDEV(Fh,{className:"flex items-center justify-between w-full hover:opacity-80",children:[t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(yn,{className:"h-4 w-4 text-primary"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/JourneyLauncherModal.tsx",lineNumber:461,columnNumber:27},this),t.jsxDEV(pe,{className:"text-sm font-semibold",children:["Previous Analysis (Version ",W.versionNumber,")"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/JourneyLauncherModal.tsx",lineNumber:462,columnNumber:27},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/JourneyLauncherModal.tsx",lineNumber:460,columnNumber:25},this),D?t.jsxDEV(Gj,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/JourneyLauncherModal.tsx",lineNumber:467,columnNumber:27},this):t.jsxDEV(wo,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/JourneyLauncherModal.tsx",lineNumber:469,columnNumber:27},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/JourneyLauncherModal.tsx",lineNumber:459,columnNumber:23},this),W.completedAt&&t.jsxDEV("p",{className:"text-xs text-muted-foreground flex items-center gap-1 mt-1",children:[t.jsxDEV(qs,{className:"h-3 w-3"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/JourneyLauncherModal.tsx",lineNumber:474,columnNumber:27},this),"Completed: ",new Date(W.completedAt).toLocaleDateString()]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/JourneyLauncherModal.tsx",lineNumber:473,columnNumber:25},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/JourneyLauncherModal.tsx",lineNumber:458,columnNumber:21},this),t.jsxDEV(Ih,{children:t.jsxDEV(te,{className:"pt-2 space-y-3",children:[W.keyInsights&&W.keyInsights.length>0&&t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-xs font-semibold text-muted-foreground mb-2",children:"Key Insights:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/JourneyLauncherModal.tsx",lineNumber:483,columnNumber:29},this),t.jsxDEV("ul",{className:"space-y-1 text-xs text-foreground",children:W.keyInsights.map((K,be)=>t.jsxDEV("li",{className:"flex items-start gap-1.5",children:[t.jsxDEV("span",{className:"text-primary mt-0.5",children:""},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/JourneyLauncherModal.tsx",lineNumber:489,columnNumber:35},this),t.jsxDEV("span",{children:w(K)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/JourneyLauncherModal.tsx",lineNumber:490,columnNumber:35},this)]},be,!0,{fileName:"/home/runner/workspace/client/src/components/JourneyLauncherModal.tsx",lineNumber:488,columnNumber:33},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/JourneyLauncherModal.tsx",lineNumber:486,columnNumber:29},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/JourneyLauncherModal.tsx",lineNumber:482,columnNumber:27},this),W.strategicImplications&&W.strategicImplications.length>0&&t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-xs font-semibold text-muted-foreground mb-2",children:"Strategic Implications:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/JourneyLauncherModal.tsx",lineNumber:498,columnNumber:29},this),t.jsxDEV("ul",{className:"space-y-1 text-xs text-foreground",children:W.strategicImplications.map((K,be)=>t.jsxDEV("li",{className:"flex items-start gap-1.5",children:[t.jsxDEV("span",{className:"text-primary mt-0.5",children:""},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/JourneyLauncherModal.tsx",lineNumber:504,columnNumber:35},this),t.jsxDEV("span",{children:w(K)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/JourneyLauncherModal.tsx",lineNumber:505,columnNumber:35},this)]},be,!0,{fileName:"/home/runner/workspace/client/src/components/JourneyLauncherModal.tsx",lineNumber:503,columnNumber:33},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/JourneyLauncherModal.tsx",lineNumber:501,columnNumber:29},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/JourneyLauncherModal.tsx",lineNumber:497,columnNumber:27},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/JourneyLauncherModal.tsx",lineNumber:480,columnNumber:23},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/JourneyLauncherModal.tsx",lineNumber:479,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/JourneyLauncherModal.tsx",lineNumber:457,columnNumber:19},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/JourneyLauncherModal.tsx",lineNumber:456,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/JourneyLauncherModal.tsx",lineNumber:455,columnNumber:15},this),N==="journey"&&d==="prebuilt"&&$&&t.jsxDEV("div",{className:"mb-4",children:t.jsxDEV(it,{children:[t.jsxDEV(lt,{className:"h-4 w-4 animate-spin"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/JourneyLauncherModal.tsx",lineNumber:522,columnNumber:19},this),t.jsxDEV(at,{children:"Loading previous analysis..."},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/JourneyLauncherModal.tsx",lineNumber:523,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/JourneyLauncherModal.tsx",lineNumber:521,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/JourneyLauncherModal.tsx",lineNumber:520,columnNumber:15},this),t.jsxDEV("div",{className:"flex flex-col sm:flex-row justify-end gap-2 sm:gap-3",children:[t.jsxDEV(me,{variant:"outline",onClick:()=>r(!1),"data-testid":"button-cancel",className:"w-full sm:w-auto",children:"Cancel"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/JourneyLauncherModal.tsx",lineNumber:529,columnNumber:15},this),N==="journey"&&d==="prebuilt"&&t.jsxDEV(me,{onClick:()=>G.mutate(),disabled:G.isPending,"data-testid":"button-run-now",size:"lg",className:"w-full sm:w-auto",children:[G.isPending?t.jsxDEV(lt,{className:"h-4 w-4 mr-2 animate-spin"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/JourneyLauncherModal.tsx",lineNumber:548,columnNumber:21},this):t.jsxDEV(av,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/JourneyLauncherModal.tsx",lineNumber:550,columnNumber:21},this),G.isPending?"Running...":"Run Now"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/JourneyLauncherModal.tsx",lineNumber:540,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/JourneyLauncherModal.tsx",lineNumber:528,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/JourneyLauncherModal.tsx",lineNumber:451,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/JourneyLauncherModal.tsx",lineNumber:268,columnNumber:7},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/JourneyLauncherModal.tsx",lineNumber:267,columnNumber:5},this)}function hhe(e){var r;return e?"understanding"in e&&((r=e.understanding)!=null&&r.id)?e.understanding.id:"id"in e&&e.id?e.id:null:null}function fhe({strategy:e,onNavigateToTab:r}){const n=new Set;e.sessions.forEach(u=>{u.completedFrameworks.forEach(d=>n.add(d))});const s=n.size,l=(e.understanding.strategyMetadata||{}).confidence||0,c=e.understanding.id;return t.jsxDEV("div",{className:"space-y-6",children:[t.jsxDEV(Z,{children:[t.jsxDEV(de,{children:[t.jsxDEV(pe,{children:"Strategic Understanding"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:95,columnNumber:11},this),t.jsxDEV(He,{children:"Core initiative details and classification"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:96,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:94,columnNumber:9},this),t.jsxDEV(te,{className:"space-y-4",children:[t.jsxDEV("div",{children:[t.jsxDEV("h4",{className:"font-semibold mb-2",children:"Title"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:100,columnNumber:13},this),t.jsxDEV("p",{"data-testid":"text-strategy-title",children:e.understanding.title||e.understanding.initiativeDescription||"Untitled Strategy"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:101,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:99,columnNumber:11},this),e.understanding.initiativeType&&t.jsxDEV("div",{children:[t.jsxDEV("h4",{className:"font-semibold mb-2",children:"Initiative Type"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:108,columnNumber:15},this),t.jsxDEV(se,{variant:"outline",className:"capitalize","data-testid":"badge-initiative-type",children:e.understanding.initiativeType.replace(/_/g," ")},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:109,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:107,columnNumber:13},this),e.understanding.initiativeDescription&&t.jsxDEV("div",{children:[t.jsxDEV("h4",{className:"font-semibold mb-2",children:"Original Input"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:117,columnNumber:15},this),t.jsxDEV(Bg,{type:"single",collapsible:!0,className:"w-full",children:t.jsxDEV(Mh,{value:"original-input",className:"border-0",children:[t.jsxDEV(Th,{className:"text-sm hover:no-underline py-2 px-0",children:t.jsxDEV("p",{className:"text-muted-foreground text-left line-clamp-2 break-words","data-testid":"text-initiative-preview",children:e.understanding.initiativeDescription},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:121,columnNumber:21},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:120,columnNumber:19},this),t.jsxDEV(Ah,{children:t.jsxDEV("p",{className:"text-muted-foreground whitespace-pre-wrap pt-2","data-testid":"text-initiative-description",children:e.understanding.initiativeDescription},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:126,columnNumber:21},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:125,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:119,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:118,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:116,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:98,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:93,columnNumber:7},this),t.jsxDEV("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-4",children:[t.jsxDEV(Z,{className:"cursor-pointer hover:bg-accent/50 transition-colors",onClick:()=>r("journeys"),"data-testid":"card-stat-journeys",children:t.jsxDEV(de,{className:"pb-3",children:[t.jsxDEV(He,{children:"Journeys"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:140,columnNumber:13},this),t.jsxDEV(pe,{className:"text-2xl","data-testid":"stat-journeys",children:e.sessions.length},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:141,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:139,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:138,columnNumber:9},this),t.jsxDEV(Z,{className:"cursor-pointer hover:bg-accent/50 transition-colors",onClick:()=>r("journeys"),"data-testid":"card-stat-frameworks",children:t.jsxDEV(de,{className:"pb-3",children:[t.jsxDEV(He,{children:"Frameworks"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:148,columnNumber:13},this),t.jsxDEV(pe,{className:"text-2xl","data-testid":"stat-frameworks",children:s},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:149,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:147,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:146,columnNumber:9},this),t.jsxDEV(Z,{className:"cursor-pointer hover:bg-accent/50 transition-colors",onClick:()=>r("research"),"data-testid":"card-stat-references",children:t.jsxDEV(de,{className:"pb-3",children:[t.jsxDEV(He,{children:"References"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:156,columnNumber:13},this),t.jsxDEV(pe,{className:"text-2xl","data-testid":"stat-references",children:e.referenceCount},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:157,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:155,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:154,columnNumber:9},this),t.jsxDEV(Z,{className:"cursor-pointer hover:bg-accent/50 transition-colors",onClick:()=>r("programs"),"data-testid":"card-stat-programs",children:t.jsxDEV(de,{className:"pb-3",children:[t.jsxDEV(He,{children:"EPM Programs"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:164,columnNumber:13},this),t.jsxDEV(pe,{className:"text-2xl","data-testid":"stat-programs",children:e.programs.length},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:165,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:163,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:162,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:137,columnNumber:7},this),l>0&&t.jsxDEV(Z,{children:[t.jsxDEV(de,{children:[t.jsxDEV(pe,{children:"Readiness Assessment"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:175,columnNumber:13},this),t.jsxDEV(He,{children:"Strategic context confidence level"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:176,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:174,columnNumber:11},this),t.jsxDEV(te,{children:t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("span",{className:"text-sm font-medium",children:"Overall Confidence"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:181,columnNumber:17},this),t.jsxDEV("span",{className:"text-sm font-medium","data-testid":"text-confidence",children:[(l*100).toFixed(0),"%"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:182,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:180,columnNumber:15},this),t.jsxDEV("div",{className:"w-full bg-muted rounded-full h-2",children:t.jsxDEV("div",{className:"bg-primary h-2 rounded-full transition-all",style:{width:`${l*100}%`}},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:187,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:186,columnNumber:15},this),l>=.6&&t.jsxDEV("p",{className:"text-xs text-green-600 dark:text-green-400 mt-2",children:" Ready for background execution"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:193,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:179,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:178,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:173,columnNumber:9},this),c&&t.jsxDEV(xO,{understandingId:c},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:203,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:92,columnNumber:5},this)}function xO({understandingId:e}){const{knowledgeGraph:r}=Kg(),{data:n,isLoading:s,error:a}=W0(e,{enabled:r});return r?t.jsxDEV(Bg,{type:"single",collapsible:!0,className:"w-full","data-testid":`accordion-insights-${e}`,children:t.jsxDEV(Mh,{value:"knowledge-insights",className:"border-0",children:[t.jsxDEV(Th,{className:"text-sm hover:no-underline py-2 px-0",children:"Knowledge Graph Insights"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:226,columnNumber:9},this),t.jsxDEV(Ah,{children:t.jsxDEV("div",{className:"pt-2",children:t.jsxDEV(nO,{title:"",insights:n?{similarStrategies:n.similarStrategies||[],incentives:n.incentives||[],evidence:n.evidence||[]}:void 0,loading:s,error:a,hasConsent:n==null?void 0:n.hasConsent,dataClassification:n==null?void 0:n.dataClassification},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:231,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:230,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:229,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:225,columnNumber:7},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:224,columnNumber:5},this):null}function phe({sessions:e}){const r={initializing:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",in_progress:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",completed:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",failed:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"};return t.jsxDEV("div",{className:"space-y-4",children:e.length===0?t.jsxDEV(Z,{className:"p-8 text-center",children:[t.jsxDEV(ys,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:262,columnNumber:11},this),t.jsxDEV("h3",{className:"text-lg font-semibold mb-2",children:"No journeys yet"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:263,columnNumber:11},this),t.jsxDEV("p",{className:"text-muted-foreground",children:"Start a strategic journey to see it here"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:264,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:261,columnNumber:9},this):e.map(n=>t.jsxDEV(Z,{"data-testid":`card-journey-${n.id}`,children:[t.jsxDEV(de,{children:t.jsxDEV("div",{className:"flex items-start justify-between",children:[t.jsxDEV("div",{className:"flex-1",children:[t.jsxDEV("div",{className:"flex items-center gap-2 mb-2",children:[t.jsxDEV(pe,{className:"text-lg","data-testid":`text-journey-version-${n.id}`,children:["Version ",n.versionNumber]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:273,columnNumber:21},this),t.jsxDEV(se,{className:r[n.status]||r.initializing,"data-testid":`badge-journey-status-${n.id}`,children:n.status.replace(/_/g," ")},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:276,columnNumber:21},this),n.background&&t.jsxDEV(se,{variant:"outline","data-testid":`badge-background-${n.id}`,children:"Background"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:283,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:272,columnNumber:19},this),t.jsxDEV(He,{className:"capitalize",children:[n.journeyType.replace(/_/g," ")," Journey"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:288,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:271,columnNumber:17},this),t.jsxDEV(os,{href:`/strategic-consultant/journey-results/${n.id}`,children:t.jsxDEV(me,{variant:"ghost",size:"sm","data-testid":`button-view-journey-${n.id}`,children:t.jsxDEV(Vi,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:294,columnNumber:21},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:293,columnNumber:19},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:292,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:270,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:269,columnNumber:13},this),t.jsxDEV(te,{children:t.jsxDEV("div",{className:"space-y-3",children:[t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-sm text-muted-foreground mb-2",children:"Completed Frameworks"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:302,columnNumber:19},this),t.jsxDEV("div",{className:"flex flex-wrap gap-2",children:n.completedFrameworks.length===0?t.jsxDEV("span",{className:"text-sm text-muted-foreground",children:"None yet"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:305,columnNumber:23},this):n.completedFrameworks.map((s,a)=>t.jsxDEV(os,{href:`/strategic-consultant/framework-insight/${n.id}?framework=${s}`,children:t.jsxDEV(se,{variant:"secondary",className:"capitalize cursor-pointer hover:bg-secondary/80 transition-colors","data-testid":`badge-framework-${a}`,children:s.replace(/_/g," ")},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:312,columnNumber:27},this)},a,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:308,columnNumber:25},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:303,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:301,columnNumber:17},this),t.jsxDEV("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[t.jsxDEV("span",{"data-testid":`text-created-${n.id}`,children:["Started ",Si(new Date(n.createdAt),{addSuffix:!0})]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:325,columnNumber:19},this),n.completedAt&&t.jsxDEV("span",{"data-testid":`text-completed-${n.id}`,children:["Completed ",bc(new Date(n.completedAt),"MMM dd, yyyy")]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:329,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:324,columnNumber:17},this),t.jsxDEV(xO,{sessionId:n.id},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:336,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:300,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:299,columnNumber:13},this)]},n.id,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:268,columnNumber:11},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:259,columnNumber:5},this)}function ghe({strategyId:e}){const{data:r,isLoading:n}=yt({queryKey:["/api/strategies",e,"references"]}),s=a=>a?a>=.7?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":a>=.4?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200";return n?t.jsxDEV("div",{className:"space-y-4",children:[1,2,3].map(a=>t.jsxDEV(Z,{children:[t.jsxDEV(de,{children:[t.jsxDEV(Jt,{className:"h-5 w-3/4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:364,columnNumber:15},this),t.jsxDEV(Jt,{className:"h-4 w-1/2"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:365,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:363,columnNumber:13},this),t.jsxDEV(te,{children:t.jsxDEV(Jt,{className:"h-4 w-full"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:368,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:367,columnNumber:13},this)]},a,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:362,columnNumber:11},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:360,columnNumber:7},this):t.jsxDEV("div",{className:"space-y-4",children:!r||r.length===0?t.jsxDEV(Z,{className:"p-8 text-center",children:[t.jsxDEV(H7,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:380,columnNumber:11},this),t.jsxDEV("h3",{className:"text-lg font-semibold mb-2",children:"No research references"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:381,columnNumber:11},this),t.jsxDEV("p",{className:"text-muted-foreground",children:"Research sources will appear here as you complete frameworks"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:382,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:379,columnNumber:9},this):r.map(a=>t.jsxDEV(Z,{"data-testid":`card-reference-${a.id}`,children:[t.jsxDEV(de,{children:t.jsxDEV("div",{className:"flex items-start justify-between gap-4",children:[t.jsxDEV("div",{className:"flex-1 min-w-0",children:[t.jsxDEV(pe,{className:"text-base mb-2 break-all line-clamp-2","data-testid":`text-reference-title-${a.id}`,children:a.title},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:390,columnNumber:19},this),t.jsxDEV(He,{className:"flex items-center gap-2 flex-wrap",children:[t.jsxDEV(se,{variant:"outline",className:"capitalize","data-testid":`badge-source-type-${a.id}`,children:a.sourceType},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:394,columnNumber:21},this),a.confidence!==null&&t.jsxDEV(se,{className:s(a.confidence),"data-testid":`badge-confidence-${a.id}`,children:[(a.confidence*100).toFixed(0),"% confidence"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:398,columnNumber:23},this),t.jsxDEV(se,{variant:"secondary","data-testid":`badge-origin-${a.id}`,children:a.origin.replace(/_/g," ")},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:402,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:393,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:389,columnNumber:17},this),a.url&&t.jsxDEV("a",{href:a.url,target:"_blank",rel:"noopener noreferrer",className:"shrink-0","data-testid":`link-reference-${a.id}`,children:t.jsxDEV(me,{variant:"ghost",size:"sm",children:t.jsxDEV(Vi,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:410,columnNumber:23},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:409,columnNumber:21},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:408,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:388,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:387,columnNumber:13},this),t.jsxDEV(te,{className:"space-y-3",children:[a.description&&t.jsxDEV("p",{className:"text-sm text-muted-foreground","data-testid":`text-description-${a.id}`,children:a.description},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:418,columnNumber:17},this),a.topics&&a.topics.length>0&&t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-sm font-medium mb-2",children:"Topics"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:425,columnNumber:19},this),t.jsxDEV("div",{className:"flex flex-wrap gap-2",children:a.topics.map((l,c)=>t.jsxDEV(se,{variant:"outline","data-testid":`badge-topic-${c}`,children:l},c,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:428,columnNumber:23},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:426,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:424,columnNumber:17},this),a.usedInComponents&&a.usedInComponents.length>0&&t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-sm font-medium mb-2",children:"Used In"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:438,columnNumber:19},this),t.jsxDEV("div",{className:"flex flex-wrap gap-2",children:a.usedInComponents.map((l,c)=>t.jsxDEV(se,{variant:"secondary",className:"font-mono text-xs","data-testid":`badge-component-${c}`,children:l},c,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:441,columnNumber:23},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:439,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:437,columnNumber:17},this),a.extractedQuotes&&a.extractedQuotes.length>0&&t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-sm font-medium mb-2",children:"Extracted Quotes"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:451,columnNumber:19},this),t.jsxDEV("div",{className:"space-y-2",children:a.extractedQuotes.slice(0,3).map((l,c)=>t.jsxDEV("blockquote",{className:"pl-4 border-l-2 border-muted text-sm italic","data-testid":`quote-${c}`,children:l.snippet},c,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:454,columnNumber:23},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:452,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:450,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:416,columnNumber:13},this)]},a.id,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:386,columnNumber:11},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:377,columnNumber:5},this)}function Nhe({programs:e}){return t.jsxDEV("div",{className:"space-y-4",children:e.length===0?t.jsxDEV(Z,{className:"p-8 text-center",children:[t.jsxDEV(Es,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:474,columnNumber:11},this),t.jsxDEV("h3",{className:"text-lg font-semibold mb-2",children:"No EPM programs yet"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:475,columnNumber:11},this),t.jsxDEV("p",{className:"text-muted-foreground",children:"Complete a strategic journey to generate EPM programs"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:476,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:473,columnNumber:9},this):e.map(r=>t.jsxDEV(Z,{"data-testid":`card-program-${r.id}`,children:t.jsxDEV(de,{children:t.jsxDEV("div",{className:"flex items-start justify-between",children:[t.jsxDEV("div",{className:"flex-1",children:[t.jsxDEV("div",{className:"flex items-center gap-2 mb-2",children:[t.jsxDEV(pe,{className:"text-lg capitalize","data-testid":`text-program-framework-${r.id}`,children:[r.frameworkType.replace(/_/g," ")," Program"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:485,columnNumber:21},this),t.jsxDEV(se,{variant:"outline",className:"capitalize","data-testid":`badge-program-status-${r.id}`,children:r.status},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:488,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:484,columnNumber:19},this),t.jsxDEV(He,{children:["Created ",Si(new Date(r.createdAt),{addSuffix:!0})]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:492,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:483,columnNumber:17},this),t.jsxDEV(os,{href:`/strategy-workspace/epm/${r.id}`,children:t.jsxDEV(me,{variant:"default",size:"sm","data-testid":`button-view-program-${r.id}`,children:"View Program"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:497,columnNumber:19},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:496,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:482,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:481,columnNumber:13},this)},r.id,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:480,columnNumber:11},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:471,columnNumber:5},this)}function xhe(){const[,e]=Xn("/strategies/:id"),r=e==null?void 0:e.id,[n,s]=v.useState("overview"),[a,l]=v.useState(!1),[c,u]=v.useState(!1),{knowledgeGraph:d}=Kg(),{data:h,isLoading:g,error:p}=yt({queryKey:["/api/strategies",r],enabled:!!r}),N=hhe(h),{data:b}=W0(N,{enabled:d&&!!N}),D=(h==null?void 0:h.understanding.title)||(h==null?void 0:h.understanding.initiativeDescription)||"Strategy Details";return g?t.jsxDEV(st,{showTopBar:!0,title:"Strategy Details",subtitle:"Loading...",sidebarOpen:c,onSidebarToggle:()=>u(!c),children:[t.jsxDEV(Jt,{className:"h-10 w-48 mb-8"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:540,columnNumber:9},this),t.jsxDEV(Jt,{className:"h-96 w-full"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:541,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:533,columnNumber:7},this):p||!h?t.jsxDEV(st,{showTopBar:!0,title:"Strategy Not Found",subtitle:"Error loading strategy",sidebarOpen:c,onSidebarToggle:()=>u(!c),children:t.jsxDEV(Z,{className:"p-8 text-center",children:[t.jsxDEV(cn,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:556,columnNumber:11},this),t.jsxDEV("h3",{className:"text-lg font-semibold mb-2",children:"Strategy not found"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:557,columnNumber:11},this),t.jsxDEV("p",{className:"text-muted-foreground mb-4",children:"The strategy you're looking for doesn't exist or you don't have access to it."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:558,columnNumber:11},this),t.jsxDEV(os,{href:"/strategies",children:t.jsxDEV(me,{children:[t.jsxDEV(jn,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:561,columnNumber:15},this),"Back to Strategies"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:560,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:559,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:555,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:548,columnNumber:7},this):t.jsxDEV(st,{showTopBar:!0,title:D,subtitle:"Strategic Initiative",sidebarOpen:c,onSidebarToggle:()=>u(!c),children:t.jsxDEV("div",{className:"container mx-auto max-w-7xl","data-testid":"page-strategy-detail",children:[t.jsxDEV("div",{className:"mb-6",children:[t.jsxDEV(os,{href:"/strategies",children:t.jsxDEV(me,{variant:"ghost",size:"sm",className:"mb-4","data-testid":"button-back",children:[t.jsxDEV(jn,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:583,columnNumber:15},this),"Back to Strategies"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:582,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:581,columnNumber:11},this),t.jsxDEV("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-start lg:justify-between",children:[t.jsxDEV("div",{className:"flex items-start gap-3 sm:gap-4",children:[t.jsxDEV("div",{className:"p-2 sm:p-3 bg-primary/10 rounded-lg flex-shrink-0",children:t.jsxDEV(rg,{className:"h-6 w-6 sm:h-8 sm:w-8 text-primary"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:590,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:589,columnNumber:15},this),t.jsxDEV("div",{className:"flex-1 min-w-0",children:[t.jsxDEV("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-bold tracking-tight mb-2 break-words","data-testid":"heading-strategy-title",children:D},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:593,columnNumber:17},this),t.jsxDEV("div",{className:"flex items-center gap-2 flex-wrap",children:[h.understanding.initiativeType&&t.jsxDEV(se,{variant:"outline",className:"capitalize",children:h.understanding.initiativeType.replace(/_/g," ")},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:598,columnNumber:21},this),d&&b&&t.jsxDEV(se,{variant:b.hasConsent?"default":"secondary",className:"text-xs","data-testid":"badge-insights-consent",children:[t.jsxDEV(Yj,{className:"h-3 w-3 mr-1"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:608,columnNumber:23},this),b.hasConsent?"Insights Enabled":"No Insights"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:603,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:596,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:592,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:588,columnNumber:13},this),t.jsxDEV(me,{onClick:()=>l(!0),className:"w-full lg:w-auto flex-shrink-0","data-testid":"button-run-analysis",children:[t.jsxDEV(rg,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:616,columnNumber:15},this),"Run Additional Analysis"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:615,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:587,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:580,columnNumber:9},this),t.jsxDEV(V0,{className:"my-6"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:622,columnNumber:9},this),t.jsxDEV(bl,{value:n,onValueChange:s,className:"space-y-6",children:[t.jsxDEV(Eo,{className:"grid w-full grid-cols-2 lg:grid-cols-4","data-testid":"tabs-strategy-detail",children:[t.jsxDEV(Pr,{value:"overview","data-testid":"tab-overview",children:"Overview"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:627,columnNumber:13},this),t.jsxDEV(Pr,{value:"journeys","data-testid":"tab-journeys",children:[t.jsxDEV("span",{className:"hidden sm:inline",children:"Journeys"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:629,columnNumber:15},this),t.jsxDEV("span",{className:"sm:hidden",children:"Journey"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:630,columnNumber:15},this)," (",h.sessions.length,")"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:628,columnNumber:13},this),t.jsxDEV(Pr,{value:"research","data-testid":"tab-research",children:["Research (",h.referenceCount,")"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:632,columnNumber:13},this),t.jsxDEV(Pr,{value:"programs","data-testid":"tab-programs",children:[t.jsxDEV("span",{className:"hidden sm:inline",children:"EPM Programs"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:636,columnNumber:15},this),t.jsxDEV("span",{className:"sm:hidden",children:"Programs"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:637,columnNumber:15},this)," (",h.programs.length,")"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:635,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:626,columnNumber:11},this),t.jsxDEV(Sr,{value:"overview",children:t.jsxDEV(fhe,{strategy:h,onNavigateToTab:s},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:642,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:641,columnNumber:11},this),t.jsxDEV(Sr,{value:"journeys",children:t.jsxDEV(phe,{sessions:h.sessions},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:646,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:645,columnNumber:11},this),t.jsxDEV(Sr,{value:"research",children:t.jsxDEV(ghe,{strategyId:r},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:650,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:649,columnNumber:11},this),t.jsxDEV(Sr,{value:"programs",children:t.jsxDEV(Nhe,{programs:h.programs},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:654,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:653,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:625,columnNumber:9},this),t.jsxDEV(dhe,{open:a,onOpenChange:l,understandingId:r,strategyTitle:D,contextMetrics:{entityCount:0,referenceCount:h.referenceCount,completedFrameworks:h.sessions.flatMap(E=>E.completedFrameworks)}},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:659,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:578,columnNumber:7},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/StrategyDetailPage.tsx",lineNumber:571,columnNumber:5},this)}function J0(){const{user:e,isLoading:r}=xl(),[,n]=or();return v.useEffect(()=>{!r&&(!e||e.role!=="Admin")&&n("/")},[e,r,n]),{isAdmin:(e==null?void 0:e.role)==="Admin",isLoading:r}}const bhe=["digital_transformation","market_entry","business_model_innovation","competitive_strategy","crisis_recovery","growth_strategy"];function vhe({open:e,onOpenChange:r}){const{toast:n}=ur(),[s,a]=v.useState(""),[l,c]=v.useState(""),[u,d]=v.useState(""),[h,g]=v.useState(!0),p=Qr({mutationFn:async()=>{let b;try{b=JSON.parse(u||"[]")}catch{throw new Error("Invalid JSON in steps field")}return Zt("POST","/api/admin/golden-records",{journeyType:s,notes:l,steps:b,metadata:{capturedAt:new Date().toISOString()},promoteAsCurrent:h})},onSuccess:()=>{vr.invalidateQueries({queryKey:["/api/admin/golden-records"]}),n({title:"Golden record captured",description:"The golden record has been saved successfully"}),a(""),c(""),d(""),g(!0),r(!1)},onError:b=>{n({title:"Capture failed",description:b.message||"Unable to capture golden record",variant:"destructive"})}}),N=b=>{if(b.preventDefault(),!s){n({title:"Validation error",description:"Please select a journey type",variant:"destructive"});return}if(!u.trim()){n({title:"Validation error",description:"Steps JSON is required",variant:"destructive"});return}let D;try{if(D=JSON.parse(u),!Array.isArray(D))throw new Error("Steps must be a JSON array");if(D.length===0)throw new Error("Steps array cannot be empty")}catch(E){n({title:"Invalid steps JSON",description:E.message||"Please provide a valid JSON array with at least one step",variant:"destructive"});return}p.mutate()};return t.jsxDEV(Lg,{open:e,onOpenChange:r,children:t.jsxDEV(Ph,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[t.jsxDEV(Sh,{children:[t.jsxDEV(Ch,{children:"Capture Golden Record"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/admin/CaptureGoldenRecordModal.tsx",lineNumber:121,columnNumber:11},this),t.jsxDEV(Rh,{children:"Manually capture a golden path snapshot for a strategic journey. For automation, use the CLI capture tool."},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/admin/CaptureGoldenRecordModal.tsx",lineNumber:122,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/admin/CaptureGoldenRecordModal.tsx",lineNumber:120,columnNumber:9},this),t.jsxDEV("form",{onSubmit:N,className:"space-y-4",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(br,{htmlFor:"journeyType",children:"Journey Type *"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/admin/CaptureGoldenRecordModal.tsx",lineNumber:129,columnNumber:13},this),t.jsxDEV(Pa,{value:s,onValueChange:a,children:[t.jsxDEV(Qi,{id:"journeyType","data-testid":"select-journey-type",children:t.jsxDEV(Sa,{placeholder:"Select journey type"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/admin/CaptureGoldenRecordModal.tsx",lineNumber:132,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/admin/CaptureGoldenRecordModal.tsx",lineNumber:131,columnNumber:15},this),t.jsxDEV(Zi,{children:bhe.map(b=>t.jsxDEV(as,{value:b,children:b.replace(/_/g," ").replace(/\b\w/g,D=>D.toUpperCase())},b,!1,{fileName:"/home/runner/workspace/client/src/components/admin/CaptureGoldenRecordModal.tsx",lineNumber:136,columnNumber:19},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/admin/CaptureGoldenRecordModal.tsx",lineNumber:134,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/admin/CaptureGoldenRecordModal.tsx",lineNumber:130,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/admin/CaptureGoldenRecordModal.tsx",lineNumber:128,columnNumber:11},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(br,{htmlFor:"notes",children:"Notes"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/admin/CaptureGoldenRecordModal.tsx",lineNumber:145,columnNumber:13},this),t.jsxDEV(In,{id:"notes","data-testid":"input-notes",value:l,onChange:b=>c(b.target.value),placeholder:"Describe this golden record version (e.g., 'Initial BMI baseline', 'Updated with new research flow')",rows:3},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/admin/CaptureGoldenRecordModal.tsx",lineNumber:146,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/admin/CaptureGoldenRecordModal.tsx",lineNumber:144,columnNumber:11},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(br,{htmlFor:"steps",children:"Steps (JSON Array) *"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/admin/CaptureGoldenRecordModal.tsx",lineNumber:157,columnNumber:13},this),t.jsxDEV(In,{id:"steps","data-testid":"input-steps-json",value:u,onChange:b=>d(b.target.value),placeholder:'[{"stepNumber": 1, "stepName": "Input", "expectedUrl": "/strategic-consultant/input", ...}]',rows:10,className:"font-mono text-xs"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/admin/CaptureGoldenRecordModal.tsx",lineNumber:158,columnNumber:13},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Each step should include: stepNumber, stepName, expectedUrl, and optionally requestPayload, responsePayload, dbSnapshot, observations, screenshotPath"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/admin/CaptureGoldenRecordModal.tsx",lineNumber:167,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/admin/CaptureGoldenRecordModal.tsx",lineNumber:156,columnNumber:11},this),t.jsxDEV("div",{className:"flex items-center space-x-2",children:[t.jsxDEV("input",{type:"checkbox",id:"promoteAsCurrent","data-testid":"checkbox-promote",checked:h,onChange:b=>g(b.target.checked),className:"rounded border-gray-300"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/admin/CaptureGoldenRecordModal.tsx",lineNumber:173,columnNumber:13},this),t.jsxDEV(br,{htmlFor:"promoteAsCurrent",className:"font-normal",children:"Promote as current golden record"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/admin/CaptureGoldenRecordModal.tsx",lineNumber:181,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/admin/CaptureGoldenRecordModal.tsx",lineNumber:172,columnNumber:11},this),t.jsxDEV(T_,{children:[t.jsxDEV(me,{type:"button",variant:"outline",onClick:()=>r(!1),"data-testid":"button-cancel",children:"Cancel"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/admin/CaptureGoldenRecordModal.tsx",lineNumber:187,columnNumber:13},this),t.jsxDEV(me,{type:"submit",disabled:p.isPending,"data-testid":"button-submit-capture",children:p.isPending?"Capturing...":"Capture Golden Record"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/admin/CaptureGoldenRecordModal.tsx",lineNumber:195,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/admin/CaptureGoldenRecordModal.tsx",lineNumber:186,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/admin/CaptureGoldenRecordModal.tsx",lineNumber:127,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/admin/CaptureGoldenRecordModal.tsx",lineNumber:119,columnNumber:7},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/admin/CaptureGoldenRecordModal.tsx",lineNumber:118,columnNumber:5},this)}function yhe(){const{isAdmin:e,isLoading:r}=J0(),[n,s]=v.useState(!1),{data:a,isLoading:l}=yt({queryKey:["/api/admin/golden-records"],enabled:e});if(r||!e)return t.jsxDEV("div",{className:"flex items-center justify-center min-h-screen",children:t.jsxDEV("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordsListPage.tsx",lineNumber:34,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordsListPage.tsx",lineNumber:33,columnNumber:7},this);const c=a==null?void 0:a.reduce((d,h)=>(d[h.journeyType]||(d[h.journeyType]={journeyType:h.journeyType,currentVersion:null,totalVersions:0,lastUpdated:null}),d[h.journeyType].totalVersions++,h.isCurrent&&(d[h.journeyType].currentVersion=h),(!d[h.journeyType].lastUpdated||h.createdAt>d[h.journeyType].lastUpdated)&&(d[h.journeyType].lastUpdated=h.createdAt),d),{}),u=c?Object.values(c):[];return t.jsxDEV("div",{className:"container mx-auto py-8 px-4 max-w-7xl",children:[t.jsxDEV("div",{className:"flex items-center justify-between mb-8",children:[t.jsxDEV("div",{children:[t.jsxDEV("h1",{className:"text-3xl font-bold flex items-center gap-2","data-testid":"heading-golden-records",children:[t.jsxDEV(a0,{className:"h-8 w-8 text-yellow-600"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordsListPage.tsx",lineNumber:66,columnNumber:13},this),"Golden Records"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordsListPage.tsx",lineNumber:65,columnNumber:11},this),t.jsxDEV("p",{className:"text-muted-foreground mt-2",children:'Versioned snapshots of the "golden path" for each strategic journey type'},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordsListPage.tsx",lineNumber:69,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordsListPage.tsx",lineNumber:64,columnNumber:9},this),t.jsxDEV(me,{onClick:()=>s(!0),"data-testid":"button-capture-new",children:"Capture Golden Record"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordsListPage.tsx",lineNumber:73,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordsListPage.tsx",lineNumber:63,columnNumber:7},this),l?t.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3].map(d=>t.jsxDEV(Z,{className:"animate-pulse",children:[t.jsxDEV(de,{children:[t.jsxDEV("div",{className:"h-6 bg-gray-200 rounded w-3/4 mb-2"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordsListPage.tsx",lineNumber:83,columnNumber:17},this),t.jsxDEV("div",{className:"h-4 bg-gray-200 rounded w-1/2"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordsListPage.tsx",lineNumber:84,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordsListPage.tsx",lineNumber:82,columnNumber:15},this),t.jsxDEV(te,{children:[t.jsxDEV("div",{className:"h-4 bg-gray-200 rounded w-full mb-2"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordsListPage.tsx",lineNumber:87,columnNumber:17},this),t.jsxDEV("div",{className:"h-4 bg-gray-200 rounded w-2/3"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordsListPage.tsx",lineNumber:88,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordsListPage.tsx",lineNumber:86,columnNumber:15},this)]},d,!0,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordsListPage.tsx",lineNumber:81,columnNumber:13},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordsListPage.tsx",lineNumber:79,columnNumber:9},this):u.length===0?t.jsxDEV(Z,{children:t.jsxDEV(te,{className:"py-12 text-center",children:t.jsxDEV("p",{className:"text-muted-foreground",children:"No golden records yet. Capture your first journey!"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordsListPage.tsx",lineNumber:96,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordsListPage.tsx",lineNumber:95,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordsListPage.tsx",lineNumber:94,columnNumber:9},this):t.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(d=>{var h;return t.jsxDEV(os,{href:`/admin/golden-records/${d.journeyType}`,"data-testid":`card-journey-${d.journeyType}`,children:t.jsxDEV(Z,{className:"hover:shadow-lg transition-shadow cursor-pointer h-full",children:[t.jsxDEV(de,{children:[t.jsxDEV(pe,{className:"flex items-center justify-between",children:[t.jsxDEV("span",{className:"capitalize",children:d.journeyType.replace(/_/g," ")},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordsListPage.tsx",lineNumber:110,columnNumber:21},this),d.currentVersion&&t.jsxDEV(se,{variant:"default","data-testid":`badge-current-${d.journeyType}`,children:["v",d.currentVersion.version]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordsListPage.tsx",lineNumber:112,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordsListPage.tsx",lineNumber:109,columnNumber:19},this),t.jsxDEV(He,{className:"flex items-center gap-1",children:[t.jsxDEV(Q7,{className:"h-3 w-3"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordsListPage.tsx",lineNumber:118,columnNumber:21},this),d.totalVersions," version",d.totalVersions!==1?"s":""]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordsListPage.tsx",lineNumber:117,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordsListPage.tsx",lineNumber:108,columnNumber:17},this),t.jsxDEV(te,{children:[t.jsxDEV("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[t.jsxDEV(qs,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordsListPage.tsx",lineNumber:124,columnNumber:21},this),"Updated ",d.lastUpdated?Si(new Date(d.lastUpdated),{addSuffix:!0}):"never"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordsListPage.tsx",lineNumber:123,columnNumber:19},this),((h=d.currentVersion)==null?void 0:h.notes)&&t.jsxDEV("p",{className:"mt-3 text-sm line-clamp-2 text-muted-foreground",children:d.currentVersion.notes},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordsListPage.tsx",lineNumber:128,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordsListPage.tsx",lineNumber:122,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordsListPage.tsx",lineNumber:107,columnNumber:15},this)},d.journeyType,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordsListPage.tsx",lineNumber:102,columnNumber:13},this)})},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordsListPage.tsx",lineNumber:100,columnNumber:9},this),t.jsxDEV(vhe,{open:n,onOpenChange:s},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordsListPage.tsx",lineNumber:139,columnNumber:7},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordsListPage.tsx",lineNumber:62,columnNumber:5},this)}function whe(){const{journeyType:e}=Oa(),{isAdmin:r,isLoading:n}=J0(),[,s]=or(),{toast:a}=ur(),{data:l,isLoading:c}=yt({queryKey:["/api/admin/golden-records",{journeyType:e,includeHistory:!0}],enabled:r&&!!e}),u=Qr({mutationFn:async h=>Zt("POST",`/api/admin/golden-records/${e}/${h}/promote`),onSuccess:()=>{vr.invalidateQueries({queryKey:["/api/admin/golden-records"]}),a({title:"Version promoted",description:"This version is now the current golden record"})},onError:()=>{a({title:"Promotion failed",description:"Unable to promote this version",variant:"destructive"})}});if(n||!r)return t.jsxDEV("div",{className:"flex items-center justify-center min-h-screen",children:t.jsxDEV("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordTimelinePage.tsx",lineNumber:58,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordTimelinePage.tsx",lineNumber:57,columnNumber:7},this);const d=(l==null?void 0:l.sort((h,g)=>g.version-h.version))||[];return t.jsxDEV("div",{className:"container mx-auto py-8 px-4 max-w-4xl",children:[t.jsxDEV(me,{variant:"ghost",onClick:()=>s("/admin/golden-records"),className:"mb-6","data-testid":"button-back",children:[t.jsxDEV(jn,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordTimelinePage.tsx",lineNumber:73,columnNumber:9},this),"Back to Golden Records"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordTimelinePage.tsx",lineNumber:67,columnNumber:7},this),t.jsxDEV("div",{className:"mb-8",children:[t.jsxDEV("h1",{className:"text-3xl font-bold capitalize mb-2","data-testid":"heading-journey-type",children:e==null?void 0:e.replace(/_/g," ")},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordTimelinePage.tsx",lineNumber:78,columnNumber:9},this),t.jsxDEV("p",{className:"text-muted-foreground",children:"Version history and timeline"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordTimelinePage.tsx",lineNumber:81,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordTimelinePage.tsx",lineNumber:77,columnNumber:7},this),c?t.jsxDEV("div",{className:"space-y-4",children:[1,2,3].map(h=>t.jsxDEV(Z,{className:"animate-pulse",children:t.jsxDEV(de,{children:[t.jsxDEV("div",{className:"h-6 bg-gray-200 rounded w-1/4 mb-2"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordTimelinePage.tsx",lineNumber:91,columnNumber:17},this),t.jsxDEV("div",{className:"h-4 bg-gray-200 rounded w-3/4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordTimelinePage.tsx",lineNumber:92,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordTimelinePage.tsx",lineNumber:90,columnNumber:15},this)},h,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordTimelinePage.tsx",lineNumber:89,columnNumber:13},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordTimelinePage.tsx",lineNumber:87,columnNumber:9},this):d.length===0?t.jsxDEV(Z,{children:t.jsxDEV(te,{className:"py-12 text-center",children:t.jsxDEV("p",{className:"text-muted-foreground",children:"No versions found for this journey type"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordTimelinePage.tsx",lineNumber:100,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordTimelinePage.tsx",lineNumber:99,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordTimelinePage.tsx",lineNumber:98,columnNumber:9},this):t.jsxDEV("div",{className:"space-y-4",children:d.map(h=>{var g;return t.jsxDEV(Z,{className:h.isCurrent?"border-yellow-500 border-2":"","data-testid":`card-version-${h.version}`,children:[t.jsxDEV(de,{children:t.jsxDEV("div",{className:"flex items-start justify-between",children:[t.jsxDEV("div",{className:"flex-1",children:[t.jsxDEV(pe,{className:"flex items-center gap-2",children:[t.jsxDEV("span",{children:["Version ",h.version]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordTimelinePage.tsx",lineNumber:115,columnNumber:23},this),h.isCurrent&&t.jsxDEV(se,{variant:"default",className:"flex items-center gap-1","data-testid":"badge-current",children:[t.jsxDEV(ng,{className:"h-3 w-3"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordTimelinePage.tsx",lineNumber:118,columnNumber:27},this),"Current"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordTimelinePage.tsx",lineNumber:117,columnNumber:25},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordTimelinePage.tsx",lineNumber:114,columnNumber:21},this),t.jsxDEV(He,{className:"mt-1",children:["Created ",Si(new Date(h.createdAt),{addSuffix:!0})]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordTimelinePage.tsx",lineNumber:123,columnNumber:21},this),h.notes&&t.jsxDEV("p",{className:"mt-2 text-sm",children:h.notes},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordTimelinePage.tsx",lineNumber:127,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordTimelinePage.tsx",lineNumber:113,columnNumber:19},this),t.jsxDEV("div",{className:"flex gap-2 ml-4",children:[t.jsxDEV(me,{variant:"outline",size:"sm",onClick:()=>s(`/admin/golden-records/${e}/${h.version}`),"data-testid":`button-view-${h.version}`,children:[t.jsxDEV(tr,{className:"h-4 w-4 mr-1"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordTimelinePage.tsx",lineNumber:137,columnNumber:23},this),"View"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordTimelinePage.tsx",lineNumber:131,columnNumber:21},this),!h.isCurrent&&t.jsxDEV(me,{variant:"outline",size:"sm",onClick:()=>u.mutate(h.version),disabled:u.isPending,"data-testid":`button-promote-${h.version}`,children:[t.jsxDEV(ng,{className:"h-4 w-4 mr-1"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordTimelinePage.tsx",lineNumber:148,columnNumber:25},this),"Promote"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordTimelinePage.tsx",lineNumber:141,columnNumber:23},this),t.jsxDEV(me,{variant:"outline",size:"sm",onClick:()=>a({title:"Clone Feature",description:"Clone functionality will be available via CLI automation in a future update."}),"data-testid":`button-clone-${h.version}`,children:[t.jsxDEV(DX,{className:"h-4 w-4 mr-1"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordTimelinePage.tsx",lineNumber:161,columnNumber:23},this),"Clone"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordTimelinePage.tsx",lineNumber:152,columnNumber:21},this),t.jsxDEV(me,{variant:"outline",size:"sm",onClick:()=>a({title:"Export Feature",description:"Export functionality will be available via CLI automation in a future update."}),"data-testid":`button-download-${h.version}`,children:[t.jsxDEV(yh,{className:"h-4 w-4 mr-1"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordTimelinePage.tsx",lineNumber:173,columnNumber:23},this),"Export"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordTimelinePage.tsx",lineNumber:164,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordTimelinePage.tsx",lineNumber:130,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordTimelinePage.tsx",lineNumber:112,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordTimelinePage.tsx",lineNumber:111,columnNumber:15},this),t.jsxDEV(te,{children:t.jsxDEV("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[t.jsxDEV("span",{children:[((g=h.steps)==null?void 0:g.length)||0," steps captured"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordTimelinePage.tsx",lineNumber:181,columnNumber:19},this),t.jsxDEV("span",{children:""},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordTimelinePage.tsx",lineNumber:182,columnNumber:19},this),t.jsxDEV("span",{children:["Created by ",h.createdBy]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordTimelinePage.tsx",lineNumber:183,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordTimelinePage.tsx",lineNumber:180,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordTimelinePage.tsx",lineNumber:179,columnNumber:15},this)]},h.id,!0,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordTimelinePage.tsx",lineNumber:106,columnNumber:13},this)})},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordTimelinePage.tsx",lineNumber:104,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordTimelinePage.tsx",lineNumber:66,columnNumber:5},this)}function khe(){var h,g;const{journeyType:e,version:r}=Oa(),{isAdmin:n,isLoading:s}=J0(),[,a]=or(),{toast:l}=ur(),{data:c,isLoading:u}=yt({queryKey:["/api/admin/golden-records",e,r],enabled:n&&!!e&&!!r}),d=Qr({mutationFn:async()=>Zt("POST",`/api/admin/golden-records/${e}/${r}/promote`),onSuccess:()=>{vr.invalidateQueries({queryKey:["/api/admin/golden-records"]}),l({title:"Version promoted",description:"This version is now the current golden record"})},onError:()=>{l({title:"Promotion failed",description:"Unable to promote this version",variant:"destructive"})}});return s||!n?t.jsxDEV("div",{className:"flex items-center justify-center min-h-screen",children:t.jsxDEV("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordDetailPage.tsx",lineNumber:70,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordDetailPage.tsx",lineNumber:69,columnNumber:7},this):t.jsxDEV("div",{className:"container mx-auto py-8 px-4 max-w-7xl",children:[t.jsxDEV(me,{variant:"ghost",onClick:()=>a(`/admin/golden-records/${e}`),className:"mb-6","data-testid":"button-back",children:[t.jsxDEV(jn,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordDetailPage.tsx",lineNumber:83,columnNumber:9},this),"Back to Timeline"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordDetailPage.tsx",lineNumber:77,columnNumber:7},this),u?t.jsxDEV(Z,{className:"animate-pulse",children:t.jsxDEV(de,{children:[t.jsxDEV("div",{className:"h-8 bg-gray-200 rounded w-1/3 mb-2"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordDetailPage.tsx",lineNumber:90,columnNumber:13},this),t.jsxDEV("div",{className:"h-4 bg-gray-200 rounded w-1/2"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordDetailPage.tsx",lineNumber:91,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordDetailPage.tsx",lineNumber:89,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordDetailPage.tsx",lineNumber:88,columnNumber:9},this):c?t.jsxDEV("div",{className:"space-y-6",children:[t.jsxDEV("div",{className:"flex items-start justify-between",children:[t.jsxDEV("div",{children:[t.jsxDEV("div",{className:"flex items-center gap-3 mb-2",children:[t.jsxDEV("h1",{className:"text-3xl font-bold capitalize","data-testid":"heading-detail",children:[c.journeyType.replace(/_/g," ")," v",c.version]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordDetailPage.tsx",lineNumber:105,columnNumber:17},this),c.isCurrent&&t.jsxDEV(se,{variant:"default","data-testid":"badge-current",children:"Current"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordDetailPage.tsx",lineNumber:109,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordDetailPage.tsx",lineNumber:104,columnNumber:15},this),t.jsxDEV("p",{className:"text-muted-foreground",children:["Created ",bc(new Date(c.createdAt),"PPpp")," by ",c.createdBy]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordDetailPage.tsx",lineNumber:112,columnNumber:15},this),c.notes&&t.jsxDEV("p",{className:"mt-2 text-sm",children:c.notes},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordDetailPage.tsx",lineNumber:116,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordDetailPage.tsx",lineNumber:103,columnNumber:13},this),t.jsxDEV("div",{className:"flex gap-2",children:[!c.isCurrent&&t.jsxDEV(me,{variant:"default",onClick:()=>d.mutate(),disabled:d.isPending,"data-testid":"button-promote",children:[t.jsxDEV(ng,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordDetailPage.tsx",lineNumber:127,columnNumber:19},this),d.isPending?"Promoting...":"Promote to Current"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordDetailPage.tsx",lineNumber:121,columnNumber:17},this),t.jsxDEV(me,{variant:"outline",onClick:()=>a(`/admin/golden-records/${e}/${r}/compare`),"data-testid":"button-compare",children:"Compare Versions"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordDetailPage.tsx",lineNumber:131,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordDetailPage.tsx",lineNumber:119,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordDetailPage.tsx",lineNumber:102,columnNumber:11},this),t.jsxDEV("div",{className:"space-y-4",children:[t.jsxDEV("h2",{className:"text-xl font-semibold",children:["Journey Steps (",((h=c.steps)==null?void 0:h.length)||0,")"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordDetailPage.tsx",lineNumber:142,columnNumber:13},this),(g=c.steps)==null?void 0:g.map((p,N)=>t.jsxDEV(Z,{"data-testid":`step-card-${p.stepNumber}`,children:[t.jsxDEV(de,{children:t.jsxDEV(pe,{className:"flex items-center gap-2",children:[t.jsxDEV(se,{variant:"outline",children:p.stepNumber},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordDetailPage.tsx",lineNumber:147,columnNumber:21},this),p.stepName]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordDetailPage.tsx",lineNumber:146,columnNumber:19},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordDetailPage.tsx",lineNumber:145,columnNumber:17},this),t.jsxDEV(te,{children:t.jsxDEV(bl,{defaultValue:"overview",className:"w-full",children:[t.jsxDEV(Eo,{className:"grid w-full grid-cols-4",children:[t.jsxDEV(Pr,{value:"overview","data-testid":`tab-overview-${p.stepNumber}`,children:[t.jsxDEV(s0,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordDetailPage.tsx",lineNumber:155,columnNumber:25},this),"Overview"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordDetailPage.tsx",lineNumber:154,columnNumber:23},this),t.jsxDEV(Pr,{value:"payloads","data-testid":`tab-payloads-${p.stepNumber}`,children:[t.jsxDEV(EX,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordDetailPage.tsx",lineNumber:159,columnNumber:25},this),"Payloads"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordDetailPage.tsx",lineNumber:158,columnNumber:23},this),t.jsxDEV(Pr,{value:"database","data-testid":`tab-database-${p.stepNumber}`,children:[t.jsxDEV(n0,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordDetailPage.tsx",lineNumber:163,columnNumber:25},this),"Database"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordDetailPage.tsx",lineNumber:162,columnNumber:23},this),t.jsxDEV(Pr,{value:"screenshot","data-testid":`tab-screenshot-${p.stepNumber}`,children:[t.jsxDEV(VR,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordDetailPage.tsx",lineNumber:167,columnNumber:25},this),"Screenshot"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordDetailPage.tsx",lineNumber:166,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordDetailPage.tsx",lineNumber:153,columnNumber:21},this),t.jsxDEV(Sr,{value:"overview",className:"space-y-4",children:[t.jsxDEV("div",{children:[t.jsxDEV("h4",{className:"font-semibold mb-2",children:"Expected URL"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordDetailPage.tsx",lineNumber:174,columnNumber:25},this),t.jsxDEV("code",{className:"bg-muted px-3 py-2 rounded block text-sm","data-testid":`url-${p.stepNumber}`,children:p.expectedUrl},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordDetailPage.tsx",lineNumber:175,columnNumber:25},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordDetailPage.tsx",lineNumber:173,columnNumber:23},this),p.observations&&t.jsxDEV("div",{children:[t.jsxDEV("h4",{className:"font-semibold mb-2",children:"Observations"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordDetailPage.tsx",lineNumber:181,columnNumber:27},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap","data-testid":`observations-${p.stepNumber}`,children:p.observations},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordDetailPage.tsx",lineNumber:182,columnNumber:27},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordDetailPage.tsx",lineNumber:180,columnNumber:25},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordDetailPage.tsx",lineNumber:172,columnNumber:21},this),t.jsxDEV(Sr,{value:"payloads",className:"space-y-4",children:[p.requestPayload&&t.jsxDEV("div",{children:[t.jsxDEV("h4",{className:"font-semibold mb-2",children:"Request Payload (Sanitized)"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordDetailPage.tsx",lineNumber:192,columnNumber:27},this),t.jsxDEV("pre",{className:"bg-muted p-4 rounded text-xs overflow-x-auto","data-testid":`request-${p.stepNumber}`,children:JSON.stringify(p.requestPayload,null,2)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordDetailPage.tsx",lineNumber:193,columnNumber:27},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordDetailPage.tsx",lineNumber:191,columnNumber:25},this),p.responsePayload&&t.jsxDEV("div",{children:[t.jsxDEV("h4",{className:"font-semibold mb-2",children:"Response Payload (Sanitized)"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordDetailPage.tsx",lineNumber:200,columnNumber:27},this),t.jsxDEV("pre",{className:"bg-muted p-4 rounded text-xs overflow-x-auto max-h-96","data-testid":`response-${p.stepNumber}`,children:JSON.stringify(p.responsePayload,null,2)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordDetailPage.tsx",lineNumber:201,columnNumber:27},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordDetailPage.tsx",lineNumber:199,columnNumber:25},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordDetailPage.tsx",lineNumber:189,columnNumber:21},this),t.jsxDEV(Sr,{value:"database",className:"space-y-4",children:p.dbSnapshot?t.jsxDEV("div",{children:[t.jsxDEV("h4",{className:"font-semibold mb-2",children:"Database Snapshot (Encrypted & Sanitized)"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordDetailPage.tsx",lineNumber:211,columnNumber:27},this),t.jsxDEV("pre",{className:"bg-muted p-4 rounded text-xs overflow-x-auto max-h-96","data-testid":`db-snapshot-${p.stepNumber}`,children:JSON.stringify(p.dbSnapshot,null,2)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordDetailPage.tsx",lineNumber:212,columnNumber:27},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordDetailPage.tsx",lineNumber:210,columnNumber:25},this):t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"No database snapshot captured for this step"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordDetailPage.tsx",lineNumber:217,columnNumber:25},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordDetailPage.tsx",lineNumber:208,columnNumber:21},this),t.jsxDEV(Sr,{value:"screenshot",className:"space-y-4",children:p.screenshotPath?t.jsxDEV("div",{children:[t.jsxDEV("img",{src:`/${p.screenshotPath}`,alt:`Screenshot for ${p.stepName}`,className:"rounded border max-w-full","data-testid":`screenshot-${p.stepNumber}`},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordDetailPage.tsx",lineNumber:224,columnNumber:27},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground mt-2",children:p.screenshotPath},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordDetailPage.tsx",lineNumber:230,columnNumber:27},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordDetailPage.tsx",lineNumber:223,columnNumber:25},this):t.jsxDEV("div",{className:"border-2 border-dashed rounded-lg p-8 text-center",children:[t.jsxDEV(VR,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordDetailPage.tsx",lineNumber:234,columnNumber:27},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground mb-4",children:"Screenshot not captured"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordDetailPage.tsx",lineNumber:235,columnNumber:27},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Screenshots are automatically captured during golden record creation using headless browser automation."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordDetailPage.tsx",lineNumber:236,columnNumber:27},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordDetailPage.tsx",lineNumber:233,columnNumber:25},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordDetailPage.tsx",lineNumber:221,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordDetailPage.tsx",lineNumber:152,columnNumber:19},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordDetailPage.tsx",lineNumber:151,columnNumber:17},this)]},N,!0,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordDetailPage.tsx",lineNumber:144,columnNumber:15},this))]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordDetailPage.tsx",lineNumber:141,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordDetailPage.tsx",lineNumber:101,columnNumber:9},this):t.jsxDEV(Z,{children:t.jsxDEV(te,{className:"py-12 text-center",children:t.jsxDEV("p",{className:"text-muted-foreground",children:"Golden record not found"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordDetailPage.tsx",lineNumber:97,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordDetailPage.tsx",lineNumber:96,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordDetailPage.tsx",lineNumber:95,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordDetailPage.tsx",lineNumber:76,columnNumber:5},this)}function Ehe(){const{journeyType:e,version:r}=Oa(),{isAdmin:n,isLoading:s}=J0(),[,a]=or(),[l,c]=v.useState(""),{data:u}=yt({queryKey:["/api/admin/golden-records",{journeyType:e,includeHistory:!0}],enabled:n&&!!e}),d=Qr({mutationFn:async b=>(await Zt("POST",`/api/admin/golden-records/${e}/${r}/compare`,{compareToVersion:parseInt(b,10)})).json()}),h=d.data,g=(u==null?void 0:u.filter(b=>b.version.toString()!==r))||[];if(s||!n)return t.jsxDEV("div",{className:"flex items-center justify-center min-h-screen",children:t.jsxDEV("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordComparePage.tsx",lineNumber:74,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordComparePage.tsx",lineNumber:73,columnNumber:7},this);const p=()=>{l&&d.mutate(l)},N=b=>{switch(b){case"added":return"bg-green-50 border-green-200";case"removed":return"bg-red-50 border-red-200";case"modified":return"bg-yellow-50 border-yellow-200";default:return""}};return t.jsxDEV("div",{className:"container mx-auto py-8 px-4 max-w-7xl",children:[t.jsxDEV(me,{variant:"ghost",onClick:()=>a(`/admin/golden-records/${e}/${r}`),className:"mb-6","data-testid":"button-back",children:[t.jsxDEV(jn,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordComparePage.tsx",lineNumber:102,columnNumber:9},this),"Back to Detail"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordComparePage.tsx",lineNumber:96,columnNumber:7},this),t.jsxDEV("div",{className:"mb-8",children:[t.jsxDEV("h1",{className:"text-3xl font-bold mb-4","data-testid":"heading-compare",children:"Compare Versions"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordComparePage.tsx",lineNumber:107,columnNumber:9},this),t.jsxDEV(Z,{children:[t.jsxDEV(de,{children:t.jsxDEV(pe,{children:"Select Versions to Compare"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordComparePage.tsx",lineNumber:113,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordComparePage.tsx",lineNumber:112,columnNumber:11},this),t.jsxDEV(te,{children:t.jsxDEV("div",{className:"flex items-center gap-4",children:[t.jsxDEV("div",{className:"flex-1",children:[t.jsxDEV("label",{className:"text-sm font-medium mb-2 block",children:"Base Version"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordComparePage.tsx",lineNumber:118,columnNumber:17},this),t.jsxDEV("div",{className:"bg-muted px-4 py-2 rounded",children:t.jsxDEV("span",{className:"font-mono",children:["v",r]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordComparePage.tsx",lineNumber:120,columnNumber:19},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordComparePage.tsx",lineNumber:119,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordComparePage.tsx",lineNumber:117,columnNumber:15},this),t.jsxDEV(bX,{className:"h-6 w-6 text-muted-foreground mt-6"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordComparePage.tsx",lineNumber:123,columnNumber:15},this),t.jsxDEV("div",{className:"flex-1",children:[t.jsxDEV("label",{className:"text-sm font-medium mb-2 block",children:"Compare To"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordComparePage.tsx",lineNumber:125,columnNumber:17},this),t.jsxDEV(Pa,{value:l,onValueChange:c,children:[t.jsxDEV(Qi,{"data-testid":"select-compare-version",children:t.jsxDEV(Sa,{placeholder:"Select version"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordComparePage.tsx",lineNumber:128,columnNumber:21},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordComparePage.tsx",lineNumber:127,columnNumber:19},this),t.jsxDEV(Zi,{children:g.map(b=>t.jsxDEV(as,{value:b.version.toString(),children:["v",b.version," ",b.isCurrent&&"(Current)"]},b.version,!0,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordComparePage.tsx",lineNumber:132,columnNumber:23},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordComparePage.tsx",lineNumber:130,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordComparePage.tsx",lineNumber:126,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordComparePage.tsx",lineNumber:124,columnNumber:15},this),t.jsxDEV(me,{onClick:p,disabled:!l||d.isPending,className:"mt-6","data-testid":"button-run-compare",children:"Compare"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordComparePage.tsx",lineNumber:139,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordComparePage.tsx",lineNumber:116,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordComparePage.tsx",lineNumber:115,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordComparePage.tsx",lineNumber:111,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordComparePage.tsx",lineNumber:106,columnNumber:7},this),d.isPending&&t.jsxDEV(Z,{className:"animate-pulse",children:t.jsxDEV(te,{className:"py-12 text-center",children:t.jsxDEV("p",{className:"text-muted-foreground",children:"Comparing versions..."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordComparePage.tsx",lineNumber:155,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordComparePage.tsx",lineNumber:154,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordComparePage.tsx",lineNumber:153,columnNumber:9},this),h&&t.jsxDEV("div",{className:"space-y-6",children:[t.jsxDEV(Z,{children:[t.jsxDEV(de,{children:t.jsxDEV(pe,{children:"Comparison Summary"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordComparePage.tsx",lineNumber:164,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordComparePage.tsx",lineNumber:163,columnNumber:13},this),t.jsxDEV(te,{children:t.jsxDEV("div",{className:"grid grid-cols-5 gap-4 text-center",children:[t.jsxDEV("div",{children:[t.jsxDEV("div",{className:"text-2xl font-bold",children:h.summary.totalSteps},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordComparePage.tsx",lineNumber:169,columnNumber:19},this),t.jsxDEV("div",{className:"text-sm text-muted-foreground",children:"Total Steps"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordComparePage.tsx",lineNumber:170,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordComparePage.tsx",lineNumber:168,columnNumber:17},this),t.jsxDEV("div",{children:[t.jsxDEV("div",{className:"text-2xl font-bold text-green-600",children:h.summary.added},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordComparePage.tsx",lineNumber:173,columnNumber:19},this),t.jsxDEV("div",{className:"text-sm text-muted-foreground",children:"Added"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordComparePage.tsx",lineNumber:174,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordComparePage.tsx",lineNumber:172,columnNumber:17},this),t.jsxDEV("div",{children:[t.jsxDEV("div",{className:"text-2xl font-bold text-red-600",children:h.summary.removed},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordComparePage.tsx",lineNumber:177,columnNumber:19},this),t.jsxDEV("div",{className:"text-sm text-muted-foreground",children:"Removed"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordComparePage.tsx",lineNumber:178,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordComparePage.tsx",lineNumber:176,columnNumber:17},this),t.jsxDEV("div",{children:[t.jsxDEV("div",{className:"text-2xl font-bold text-yellow-600",children:h.summary.modified},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordComparePage.tsx",lineNumber:181,columnNumber:19},this),t.jsxDEV("div",{className:"text-sm text-muted-foreground",children:"Modified"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordComparePage.tsx",lineNumber:182,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordComparePage.tsx",lineNumber:180,columnNumber:17},this),t.jsxDEV("div",{children:[t.jsxDEV("div",{className:"text-2xl font-bold text-gray-600",children:h.summary.unchanged},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordComparePage.tsx",lineNumber:185,columnNumber:19},this),t.jsxDEV("div",{className:"text-sm text-muted-foreground",children:"Unchanged"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordComparePage.tsx",lineNumber:186,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordComparePage.tsx",lineNumber:184,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordComparePage.tsx",lineNumber:167,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordComparePage.tsx",lineNumber:166,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordComparePage.tsx",lineNumber:162,columnNumber:11},this),t.jsxDEV("div",{className:"space-y-4",children:[t.jsxDEV("h2",{className:"text-xl font-semibold",children:"Step-by-Step Comparison"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordComparePage.tsx",lineNumber:193,columnNumber:13},this),h.stepDiffs.map((b,D)=>{var E,j;return t.jsxDEV(Z,{className:N(b.changeType),"data-testid":`diff-step-${b.stepNumber}`,children:[t.jsxDEV(de,{children:t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV(pe,{className:"flex items-center gap-2",children:[t.jsxDEV(se,{variant:"outline",children:["Step ",b.stepNumber]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordComparePage.tsx",lineNumber:203,columnNumber:23},this),((E=b.v1Step)==null?void 0:E.stepName)||((j=b.v2Step)==null?void 0:j.stepName)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordComparePage.tsx",lineNumber:202,columnNumber:21},this),t.jsxDEV(se,{variant:b.changeType==="unchanged"?"secondary":"default","data-testid":`badge-change-${b.stepNumber}`,children:b.changeType},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordComparePage.tsx",lineNumber:206,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordComparePage.tsx",lineNumber:201,columnNumber:19},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordComparePage.tsx",lineNumber:200,columnNumber:17},this),b.changeType!=="unchanged"&&t.jsxDEV(te,{children:[t.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxDEV("div",{children:[t.jsxDEV("h4",{className:"font-semibold mb-2",children:["v",r]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordComparePage.tsx",lineNumber:218,columnNumber:25},this),b.v1Step?t.jsxDEV("pre",{className:"bg-white dark:bg-gray-100 text-gray-900 p-3 rounded text-xs overflow-x-auto max-h-48",children:JSON.stringify(b.v1Step,null,2)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordComparePage.tsx",lineNumber:220,columnNumber:27},this):t.jsxDEV("p",{className:"text-sm text-muted-foreground italic",children:"Step not present"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordComparePage.tsx",lineNumber:224,columnNumber:27},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordComparePage.tsx",lineNumber:217,columnNumber:23},this),t.jsxDEV("div",{children:[t.jsxDEV("h4",{className:"font-semibold mb-2",children:["v",l]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordComparePage.tsx",lineNumber:228,columnNumber:25},this),b.v2Step?t.jsxDEV("pre",{className:"bg-white dark:bg-gray-100 text-gray-900 p-3 rounded text-xs overflow-x-auto max-h-48",children:JSON.stringify(b.v2Step,null,2)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordComparePage.tsx",lineNumber:230,columnNumber:27},this):t.jsxDEV("p",{className:"text-sm text-muted-foreground italic",children:"Step not present"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordComparePage.tsx",lineNumber:234,columnNumber:27},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordComparePage.tsx",lineNumber:227,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordComparePage.tsx",lineNumber:216,columnNumber:21},this),b.differences&&b.differences.length>0&&t.jsxDEV("div",{className:"mt-4",children:[t.jsxDEV("h4",{className:"font-semibold mb-2",children:"Field Differences"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordComparePage.tsx",lineNumber:240,columnNumber:25},this),t.jsxDEV("div",{className:"space-y-2",children:b.differences.map((P,w)=>t.jsxDEV("div",{className:"text-sm border-l-2 border-yellow-500 pl-3","data-testid":`field-diff-${b.stepNumber}-${w}`,children:[t.jsxDEV("span",{className:"font-medium",children:[P.field,":"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordComparePage.tsx",lineNumber:244,columnNumber:31},this),t.jsxDEV("div",{className:"grid grid-cols-2 gap-2 mt-1",children:[t.jsxDEV("div",{className:"bg-red-50 dark:bg-red-900/20 p-2 rounded",children:[t.jsxDEV("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Old: "},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordComparePage.tsx",lineNumber:247,columnNumber:35},this),t.jsxDEV("code",{className:"text-xs text-gray-900 dark:text-gray-100",children:JSON.stringify(P.v1Value)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordComparePage.tsx",lineNumber:248,columnNumber:35},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordComparePage.tsx",lineNumber:246,columnNumber:33},this),t.jsxDEV("div",{className:"bg-green-50 dark:bg-green-900/20 p-2 rounded",children:[t.jsxDEV("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:"New: "},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordComparePage.tsx",lineNumber:251,columnNumber:35},this),t.jsxDEV("code",{className:"text-xs text-gray-900 dark:text-gray-100",children:JSON.stringify(P.v2Value)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordComparePage.tsx",lineNumber:252,columnNumber:35},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordComparePage.tsx",lineNumber:250,columnNumber:33},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordComparePage.tsx",lineNumber:245,columnNumber:31},this)]},w,!0,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordComparePage.tsx",lineNumber:243,columnNumber:29},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordComparePage.tsx",lineNumber:241,columnNumber:25},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordComparePage.tsx",lineNumber:239,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordComparePage.tsx",lineNumber:215,columnNumber:19},this)]},D,!0,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordComparePage.tsx",lineNumber:195,columnNumber:15},this)})]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordComparePage.tsx",lineNumber:192,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordComparePage.tsx",lineNumber:161,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/admin/GoldenRecordComparePage.tsx",lineNumber:95,columnNumber:5},this)}function $n(e){if(typeof e=="string"||typeof e=="number")return""+e;let r="";if(Array.isArray(e))for(let n=0,s;n<e.length;n++)(s=$n(e[n]))!==""&&(r+=(r&&" ")+s);else for(let n in e)e[n]&&(r+=(r&&" ")+n);return r}var Dhe={value:()=>{}};function K0(){for(var e=0,r=arguments.length,n={},s;e<r;++e){if(!(s=arguments[e]+"")||s in n||/[\s.]/.test(s))throw new Error("illegal type: "+s);n[s]=[]}return new Xb(n)}function Xb(e){this._=e}function jhe(e,r){return e.trim().split(/^|\s+/).map(function(n){var s="",a=n.indexOf(".");if(a>=0&&(s=n.slice(a+1),n=n.slice(0,a)),n&&!r.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:s}})}Xb.prototype=K0.prototype={constructor:Xb,on:function(e,r){var n=this._,s=jhe(e+"",n),a,l=-1,c=s.length;if(arguments.length<2){for(;++l<c;)if((a=(e=s[l]).type)&&(a=Vhe(n[a],e.name)))return a;return}if(r!=null&&typeof r!="function")throw new Error("invalid callback: "+r);for(;++l<c;)if(a=(e=s[l]).type)n[a]=wT(n[a],e.name,r);else if(r==null)for(a in n)n[a]=wT(n[a],e.name,null);return this},copy:function(){var e={},r=this._;for(var n in r)e[n]=r[n].slice();return new Xb(e)},call:function(e,r){if((a=arguments.length-2)>0)for(var n=new Array(a),s=0,a,l;s<a;++s)n[s]=arguments[s+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(l=this._[e],s=0,a=l.length;s<a;++s)l[s].value.apply(r,n)},apply:function(e,r,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var s=this._[e],a=0,l=s.length;a<l;++a)s[a].value.apply(r,n)}};function Vhe(e,r){for(var n=0,s=e.length,a;n<s;++n)if((a=e[n]).name===r)return a.value}function wT(e,r,n){for(var s=0,a=e.length;s<a;++s)if(e[s].name===r){e[s]=Dhe,e=e.slice(0,s).concat(e.slice(s+1));break}return n!=null&&e.push({name:r,value:n}),e}var xj="http://www.w3.org/1999/xhtml";const kT={svg:"http://www.w3.org/2000/svg",xhtml:xj,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function q0(e){var r=e+="",n=r.indexOf(":");return n>=0&&(r=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),kT.hasOwnProperty(r)?{space:kT[r],local:e}:e}function Phe(e){return function(){var r=this.ownerDocument,n=this.namespaceURI;return n===xj&&r.documentElement.namespaceURI===xj?r.createElement(e):r.createElementNS(n,e)}}function She(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function bO(e){var r=q0(e);return(r.local?She:Phe)(r)}function Che(){}function MP(e){return e==null?Che:function(){return this.querySelector(e)}}function Rhe(e){typeof e!="function"&&(e=MP(e));for(var r=this._groups,n=r.length,s=new Array(n),a=0;a<n;++a)for(var l=r[a],c=l.length,u=s[a]=new Array(c),d,h,g=0;g<c;++g)(d=l[g])&&(h=e.call(d,d.__data__,g,l))&&("__data__"in d&&(h.__data__=d.__data__),u[g]=h);return new Ai(s,this._parents)}function Mhe(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function The(){return[]}function vO(e){return e==null?The:function(){return this.querySelectorAll(e)}}function Ahe(e){return function(){return Mhe(e.apply(this,arguments))}}function _he(e){typeof e=="function"?e=Ahe(e):e=vO(e);for(var r=this._groups,n=r.length,s=[],a=[],l=0;l<n;++l)for(var c=r[l],u=c.length,d,h=0;h<u;++h)(d=c[h])&&(s.push(e.call(d,d.__data__,h,c)),a.push(d));return new Ai(s,a)}function yO(e){return function(){return this.matches(e)}}function wO(e){return function(r){return r.matches(e)}}var Fhe=Array.prototype.find;function Ihe(e){return function(){return Fhe.call(this.children,e)}}function Ohe(){return this.firstElementChild}function Lhe(e){return this.select(e==null?Ohe:Ihe(typeof e=="function"?e:wO(e)))}var $he=Array.prototype.filter;function Bhe(){return Array.from(this.children)}function zhe(e){return function(){return $he.call(this.children,e)}}function Whe(e){return this.selectAll(e==null?Bhe:zhe(typeof e=="function"?e:wO(e)))}function Uhe(e){typeof e!="function"&&(e=yO(e));for(var r=this._groups,n=r.length,s=new Array(n),a=0;a<n;++a)for(var l=r[a],c=l.length,u=s[a]=[],d,h=0;h<c;++h)(d=l[h])&&e.call(d,d.__data__,h,l)&&u.push(d);return new Ai(s,this._parents)}function kO(e){return new Array(e.length)}function Ghe(){return new Ai(this._enter||this._groups.map(kO),this._parents)}function Iv(e,r){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=r}Iv.prototype={constructor:Iv,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,r){return this._parent.insertBefore(e,r)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Hhe(e){return function(){return e}}function Jhe(e,r,n,s,a,l){for(var c=0,u,d=r.length,h=l.length;c<h;++c)(u=r[c])?(u.__data__=l[c],s[c]=u):n[c]=new Iv(e,l[c]);for(;c<d;++c)(u=r[c])&&(a[c]=u)}function Khe(e,r,n,s,a,l,c){var u,d,h=new Map,g=r.length,p=l.length,N=new Array(g),b;for(u=0;u<g;++u)(d=r[u])&&(N[u]=b=c.call(d,d.__data__,u,r)+"",h.has(b)?a[u]=d:h.set(b,d));for(u=0;u<p;++u)b=c.call(e,l[u],u,l)+"",(d=h.get(b))?(s[u]=d,d.__data__=l[u],h.delete(b)):n[u]=new Iv(e,l[u]);for(u=0;u<g;++u)(d=r[u])&&h.get(N[u])===d&&(a[u]=d)}function qhe(e){return e.__data__}function Yhe(e,r){if(!arguments.length)return Array.from(this,qhe);var n=r?Khe:Jhe,s=this._parents,a=this._groups;typeof e!="function"&&(e=Hhe(e));for(var l=a.length,c=new Array(l),u=new Array(l),d=new Array(l),h=0;h<l;++h){var g=s[h],p=a[h],N=p.length,b=Xhe(e.call(g,g&&g.__data__,h,s)),D=b.length,E=u[h]=new Array(D),j=c[h]=new Array(D),P=d[h]=new Array(N);n(g,p,E,j,P,b,r);for(var w=0,k=0,V,S;w<D;++w)if(V=E[w]){for(w>=k&&(k=w+1);!(S=j[k])&&++k<D;);V._next=S||null}}return c=new Ai(c,s),c._enter=u,c._exit=d,c}function Xhe(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Qhe(){return new Ai(this._exit||this._groups.map(kO),this._parents)}function Zhe(e,r,n){var s=this.enter(),a=this,l=this.exit();return typeof e=="function"?(s=e(s),s&&(s=s.selection())):s=s.append(e+""),r!=null&&(a=r(a),a&&(a=a.selection())),n==null?l.remove():n(l),s&&a?s.merge(a).order():a}function efe(e){for(var r=e.selection?e.selection():e,n=this._groups,s=r._groups,a=n.length,l=s.length,c=Math.min(a,l),u=new Array(a),d=0;d<c;++d)for(var h=n[d],g=s[d],p=h.length,N=u[d]=new Array(p),b,D=0;D<p;++D)(b=h[D]||g[D])&&(N[D]=b);for(;d<a;++d)u[d]=n[d];return new Ai(u,this._parents)}function tfe(){for(var e=this._groups,r=-1,n=e.length;++r<n;)for(var s=e[r],a=s.length-1,l=s[a],c;--a>=0;)(c=s[a])&&(l&&c.compareDocumentPosition(l)^4&&l.parentNode.insertBefore(c,l),l=c);return this}function rfe(e){e||(e=nfe);function r(p,N){return p&&N?e(p.__data__,N.__data__):!p-!N}for(var n=this._groups,s=n.length,a=new Array(s),l=0;l<s;++l){for(var c=n[l],u=c.length,d=a[l]=new Array(u),h,g=0;g<u;++g)(h=c[g])&&(d[g]=h);d.sort(r)}return new Ai(a,this._parents).order()}function nfe(e,r){return e<r?-1:e>r?1:e>=r?0:NaN}function sfe(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function ife(){return Array.from(this)}function afe(){for(var e=this._groups,r=0,n=e.length;r<n;++r)for(var s=e[r],a=0,l=s.length;a<l;++a){var c=s[a];if(c)return c}return null}function ofe(){let e=0;for(const r of this)++e;return e}function lfe(){return!this.node()}function cfe(e){for(var r=this._groups,n=0,s=r.length;n<s;++n)for(var a=r[n],l=0,c=a.length,u;l<c;++l)(u=a[l])&&e.call(u,u.__data__,l,a);return this}function ufe(e){return function(){this.removeAttribute(e)}}function mfe(e){return function(){this.removeAttributeNS(e.space,e.local)}}function dfe(e,r){return function(){this.setAttribute(e,r)}}function hfe(e,r){return function(){this.setAttributeNS(e.space,e.local,r)}}function ffe(e,r){return function(){var n=r.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function pfe(e,r){return function(){var n=r.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function gfe(e,r){var n=q0(e);if(arguments.length<2){var s=this.node();return n.local?s.getAttributeNS(n.space,n.local):s.getAttribute(n)}return this.each((r==null?n.local?mfe:ufe:typeof r=="function"?n.local?pfe:ffe:n.local?hfe:dfe)(n,r))}function EO(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Nfe(e){return function(){this.style.removeProperty(e)}}function xfe(e,r,n){return function(){this.style.setProperty(e,r,n)}}function bfe(e,r,n){return function(){var s=r.apply(this,arguments);s==null?this.style.removeProperty(e):this.style.setProperty(e,s,n)}}function vfe(e,r,n){return arguments.length>1?this.each((r==null?Nfe:typeof r=="function"?bfe:xfe)(e,r,n??"")):ch(this.node(),e)}function ch(e,r){return e.style.getPropertyValue(r)||EO(e).getComputedStyle(e,null).getPropertyValue(r)}function yfe(e){return function(){delete this[e]}}function wfe(e,r){return function(){this[e]=r}}function kfe(e,r){return function(){var n=r.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Efe(e,r){return arguments.length>1?this.each((r==null?yfe:typeof r=="function"?kfe:wfe)(e,r)):this.node()[e]}function DO(e){return e.trim().split(/^|\s+/)}function TP(e){return e.classList||new jO(e)}function jO(e){this._node=e,this._names=DO(e.getAttribute("class")||"")}jO.prototype={add:function(e){var r=this._names.indexOf(e);r<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var r=this._names.indexOf(e);r>=0&&(this._names.splice(r,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function VO(e,r){for(var n=TP(e),s=-1,a=r.length;++s<a;)n.add(r[s])}function PO(e,r){for(var n=TP(e),s=-1,a=r.length;++s<a;)n.remove(r[s])}function Dfe(e){return function(){VO(this,e)}}function jfe(e){return function(){PO(this,e)}}function Vfe(e,r){return function(){(r.apply(this,arguments)?VO:PO)(this,e)}}function Pfe(e,r){var n=DO(e+"");if(arguments.length<2){for(var s=TP(this.node()),a=-1,l=n.length;++a<l;)if(!s.contains(n[a]))return!1;return!0}return this.each((typeof r=="function"?Vfe:r?Dfe:jfe)(n,r))}function Sfe(){this.textContent=""}function Cfe(e){return function(){this.textContent=e}}function Rfe(e){return function(){var r=e.apply(this,arguments);this.textContent=r??""}}function Mfe(e){return arguments.length?this.each(e==null?Sfe:(typeof e=="function"?Rfe:Cfe)(e)):this.node().textContent}function Tfe(){this.innerHTML=""}function Afe(e){return function(){this.innerHTML=e}}function _fe(e){return function(){var r=e.apply(this,arguments);this.innerHTML=r??""}}function Ffe(e){return arguments.length?this.each(e==null?Tfe:(typeof e=="function"?_fe:Afe)(e)):this.node().innerHTML}function Ife(){this.nextSibling&&this.parentNode.appendChild(this)}function Ofe(){return this.each(Ife)}function Lfe(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function $fe(){return this.each(Lfe)}function Bfe(e){var r=typeof e=="function"?e:bO(e);return this.select(function(){return this.appendChild(r.apply(this,arguments))})}function zfe(){return null}function Wfe(e,r){var n=typeof e=="function"?e:bO(e),s=r==null?zfe:typeof r=="function"?r:MP(r);return this.select(function(){return this.insertBefore(n.apply(this,arguments),s.apply(this,arguments)||null)})}function Ufe(){var e=this.parentNode;e&&e.removeChild(this)}function Gfe(){return this.each(Ufe)}function Hfe(){var e=this.cloneNode(!1),r=this.parentNode;return r?r.insertBefore(e,this.nextSibling):e}function Jfe(){var e=this.cloneNode(!0),r=this.parentNode;return r?r.insertBefore(e,this.nextSibling):e}function Kfe(e){return this.select(e?Jfe:Hfe)}function qfe(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Yfe(e){return function(r){e.call(this,r,this.__data__)}}function Xfe(e){return e.trim().split(/^|\s+/).map(function(r){var n="",s=r.indexOf(".");return s>=0&&(n=r.slice(s+1),r=r.slice(0,s)),{type:r,name:n}})}function Qfe(e){return function(){var r=this.__on;if(r){for(var n=0,s=-1,a=r.length,l;n<a;++n)l=r[n],(!e.type||l.type===e.type)&&l.name===e.name?this.removeEventListener(l.type,l.listener,l.options):r[++s]=l;++s?r.length=s:delete this.__on}}}function Zfe(e,r,n){return function(){var s=this.__on,a,l=Yfe(r);if(s){for(var c=0,u=s.length;c<u;++c)if((a=s[c]).type===e.type&&a.name===e.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=l,a.options=n),a.value=r;return}}this.addEventListener(e.type,l,n),a={type:e.type,name:e.name,value:r,listener:l,options:n},s?s.push(a):this.__on=[a]}}function epe(e,r,n){var s=Xfe(e+""),a,l=s.length,c;if(arguments.length<2){var u=this.node().__on;if(u){for(var d=0,h=u.length,g;d<h;++d)for(a=0,g=u[d];a<l;++a)if((c=s[a]).type===g.type&&c.name===g.name)return g.value}return}for(u=r?Zfe:Qfe,a=0;a<l;++a)this.each(u(s[a],r,n));return this}function SO(e,r,n){var s=EO(e),a=s.CustomEvent;typeof a=="function"?a=new a(r,n):(a=s.document.createEvent("Event"),n?(a.initEvent(r,n.bubbles,n.cancelable),a.detail=n.detail):a.initEvent(r,!1,!1)),e.dispatchEvent(a)}function tpe(e,r){return function(){return SO(this,e,r)}}function rpe(e,r){return function(){return SO(this,e,r.apply(this,arguments))}}function npe(e,r){return this.each((typeof r=="function"?rpe:tpe)(e,r))}function*spe(){for(var e=this._groups,r=0,n=e.length;r<n;++r)for(var s=e[r],a=0,l=s.length,c;a<l;++a)(c=s[a])&&(yield c)}var CO=[null];function Ai(e,r){this._groups=e,this._parents=r}function qg(){return new Ai([[document.documentElement]],CO)}function ipe(){return this}Ai.prototype=qg.prototype={constructor:Ai,select:Rhe,selectAll:_he,selectChild:Lhe,selectChildren:Whe,filter:Uhe,data:Yhe,enter:Ghe,exit:Qhe,join:Zhe,merge:efe,selection:ipe,order:tfe,sort:rfe,call:sfe,nodes:ife,node:afe,size:ofe,empty:lfe,each:cfe,attr:gfe,style:vfe,property:Efe,classed:Pfe,text:Mfe,html:Ffe,raise:Ofe,lower:$fe,append:Bfe,insert:Wfe,remove:Gfe,clone:Kfe,datum:qfe,on:epe,dispatch:npe,[Symbol.iterator]:spe};function ji(e){return typeof e=="string"?new Ai([[document.querySelector(e)]],[document.documentElement]):new Ai([[e]],CO)}function ape(e){let r;for(;r=e.sourceEvent;)e=r;return e}function ka(e,r){if(e=ape(e),r===void 0&&(r=e.currentTarget),r){var n=r.ownerSVGElement||r;if(n.createSVGPoint){var s=n.createSVGPoint();return s.x=e.clientX,s.y=e.clientY,s=s.matrixTransform(r.getScreenCTM().inverse()),[s.x,s.y]}if(r.getBoundingClientRect){var a=r.getBoundingClientRect();return[e.clientX-a.left-r.clientLeft,e.clientY-a.top-r.clientTop]}}return[e.pageX,e.pageY]}const ope={passive:!1},hg={capture:!0,passive:!1};function eD(e){e.stopImmediatePropagation()}function Md(e){e.preventDefault(),e.stopImmediatePropagation()}function RO(e){var r=e.document.documentElement,n=ji(e).on("dragstart.drag",Md,hg);"onselectstart"in r?n.on("selectstart.drag",Md,hg):(r.__noselect=r.style.MozUserSelect,r.style.MozUserSelect="none")}function MO(e,r){var n=e.document.documentElement,s=ji(e).on("dragstart.drag",null);r&&(s.on("click.drag",Md,hg),setTimeout(function(){s.on("click.drag",null)},0)),"onselectstart"in n?s.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Sb=e=>()=>e;function bj(e,{sourceEvent:r,subject:n,target:s,identifier:a,active:l,x:c,y:u,dx:d,dy:h,dispatch:g}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:r,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:s,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:l,enumerable:!0,configurable:!0},x:{value:c,enumerable:!0,configurable:!0},y:{value:u,enumerable:!0,configurable:!0},dx:{value:d,enumerable:!0,configurable:!0},dy:{value:h,enumerable:!0,configurable:!0},_:{value:g}})}bj.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function lpe(e){return!e.ctrlKey&&!e.button}function cpe(){return this.parentNode}function upe(e,r){return r??{x:e.x,y:e.y}}function mpe(){return navigator.maxTouchPoints||"ontouchstart"in this}function TO(){var e=lpe,r=cpe,n=upe,s=mpe,a={},l=K0("start","drag","end"),c=0,u,d,h,g,p=0;function N(V){V.on("mousedown.drag",b).filter(s).on("touchstart.drag",j).on("touchmove.drag",P,ope).on("touchend.drag touchcancel.drag",w).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function b(V,S){if(!(g||!e.call(this,V,S))){var R=k(this,r.call(this,V,S),V,S,"mouse");R&&(ji(V.view).on("mousemove.drag",D,hg).on("mouseup.drag",E,hg),RO(V.view),eD(V),h=!1,u=V.clientX,d=V.clientY,R("start",V))}}function D(V){if(Md(V),!h){var S=V.clientX-u,R=V.clientY-d;h=S*S+R*R>p}a.mouse("drag",V)}function E(V){ji(V.view).on("mousemove.drag mouseup.drag",null),MO(V.view,h),Md(V),a.mouse("end",V)}function j(V,S){if(e.call(this,V,S)){var R=V.changedTouches,M=r.call(this,V,S),T=R.length,A,F;for(A=0;A<T;++A)(F=k(this,M,V,S,R[A].identifier,R[A]))&&(eD(V),F("start",V,R[A]))}}function P(V){var S=V.changedTouches,R=S.length,M,T;for(M=0;M<R;++M)(T=a[S[M].identifier])&&(Md(V),T("drag",V,S[M]))}function w(V){var S=V.changedTouches,R=S.length,M,T;for(g&&clearTimeout(g),g=setTimeout(function(){g=null},500),M=0;M<R;++M)(T=a[S[M].identifier])&&(eD(V),T("end",V,S[M]))}function k(V,S,R,M,T,A){var F=l.copy(),L=ka(A||R,S),$,W,O;if((O=n.call(V,new bj("beforestart",{sourceEvent:R,target:N,identifier:T,active:c,x:L[0],y:L[1],dx:0,dy:0,dispatch:F}),M))!=null)return $=O.x-L[0]||0,W=O.y-L[1]||0,function Y(H,q,z){var G=L,ee;switch(H){case"start":a[T]=Y,ee=c++;break;case"end":delete a[T],--c;case"drag":L=ka(z||q,S),ee=c;break}F.call(H,V,new bj(H,{sourceEvent:q,subject:O,target:N,identifier:T,active:ee,x:L[0]+$,y:L[1]+W,dx:L[0]-G[0],dy:L[1]-G[1],dispatch:F}),M)}}return N.filter=function(V){return arguments.length?(e=typeof V=="function"?V:Sb(!!V),N):e},N.container=function(V){return arguments.length?(r=typeof V=="function"?V:Sb(V),N):r},N.subject=function(V){return arguments.length?(n=typeof V=="function"?V:Sb(V),N):n},N.touchable=function(V){return arguments.length?(s=typeof V=="function"?V:Sb(!!V),N):s},N.on=function(){var V=l.on.apply(l,arguments);return V===l?N:V},N.clickDistance=function(V){return arguments.length?(p=(V=+V)*V,N):Math.sqrt(p)},N}function AP(e,r,n){e.prototype=r.prototype=n,n.constructor=e}function AO(e,r){var n=Object.create(e.prototype);for(var s in r)n[s]=r[s];return n}function Yg(){}var fg=.7,Ov=1/fg,Td="\\s*([+-]?\\d+)\\s*",pg="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",xo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",dpe=/^#([0-9a-f]{3,8})$/,hpe=new RegExp(`^rgb\\(${Td},${Td},${Td}\\)$`),fpe=new RegExp(`^rgb\\(${xo},${xo},${xo}\\)$`),ppe=new RegExp(`^rgba\\(${Td},${Td},${Td},${pg}\\)$`),gpe=new RegExp(`^rgba\\(${xo},${xo},${xo},${pg}\\)$`),Npe=new RegExp(`^hsl\\(${pg},${xo},${xo}\\)$`),xpe=new RegExp(`^hsla\\(${pg},${xo},${xo},${pg}\\)$`),ET={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};AP(Yg,Yu,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:DT,formatHex:DT,formatHex8:bpe,formatHsl:vpe,formatRgb:jT,toString:jT});function DT(){return this.rgb().formatHex()}function bpe(){return this.rgb().formatHex8()}function vpe(){return _O(this).formatHsl()}function jT(){return this.rgb().formatRgb()}function Yu(e){var r,n;return e=(e+"").trim().toLowerCase(),(r=dpe.exec(e))?(n=r[1].length,r=parseInt(r[1],16),n===6?VT(r):n===3?new ui(r>>8&15|r>>4&240,r>>4&15|r&240,(r&15)<<4|r&15,1):n===8?Cb(r>>24&255,r>>16&255,r>>8&255,(r&255)/255):n===4?Cb(r>>12&15|r>>8&240,r>>8&15|r>>4&240,r>>4&15|r&240,((r&15)<<4|r&15)/255):null):(r=hpe.exec(e))?new ui(r[1],r[2],r[3],1):(r=fpe.exec(e))?new ui(r[1]*255/100,r[2]*255/100,r[3]*255/100,1):(r=ppe.exec(e))?Cb(r[1],r[2],r[3],r[4]):(r=gpe.exec(e))?Cb(r[1]*255/100,r[2]*255/100,r[3]*255/100,r[4]):(r=Npe.exec(e))?CT(r[1],r[2]/100,r[3]/100,1):(r=xpe.exec(e))?CT(r[1],r[2]/100,r[3]/100,r[4]):ET.hasOwnProperty(e)?VT(ET[e]):e==="transparent"?new ui(NaN,NaN,NaN,0):null}function VT(e){return new ui(e>>16&255,e>>8&255,e&255,1)}function Cb(e,r,n,s){return s<=0&&(e=r=n=NaN),new ui(e,r,n,s)}function ype(e){return e instanceof Yg||(e=Yu(e)),e?(e=e.rgb(),new ui(e.r,e.g,e.b,e.opacity)):new ui}function vj(e,r,n,s){return arguments.length===1?ype(e):new ui(e,r,n,s??1)}function ui(e,r,n,s){this.r=+e,this.g=+r,this.b=+n,this.opacity=+s}AP(ui,vj,AO(Yg,{brighter(e){return e=e==null?Ov:Math.pow(Ov,e),new ui(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?fg:Math.pow(fg,e),new ui(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ui(Lu(this.r),Lu(this.g),Lu(this.b),Lv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:PT,formatHex:PT,formatHex8:wpe,formatRgb:ST,toString:ST}));function PT(){return`#${Cu(this.r)}${Cu(this.g)}${Cu(this.b)}`}function wpe(){return`#${Cu(this.r)}${Cu(this.g)}${Cu(this.b)}${Cu((isNaN(this.opacity)?1:this.opacity)*255)}`}function ST(){const e=Lv(this.opacity);return`${e===1?"rgb(":"rgba("}${Lu(this.r)}, ${Lu(this.g)}, ${Lu(this.b)}${e===1?")":`, ${e})`}`}function Lv(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Lu(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Cu(e){return e=Lu(e),(e<16?"0":"")+e.toString(16)}function CT(e,r,n,s){return s<=0?e=r=n=NaN:n<=0||n>=1?e=r=NaN:r<=0&&(e=NaN),new Va(e,r,n,s)}function _O(e){if(e instanceof Va)return new Va(e.h,e.s,e.l,e.opacity);if(e instanceof Yg||(e=Yu(e)),!e)return new Va;if(e instanceof Va)return e;e=e.rgb();var r=e.r/255,n=e.g/255,s=e.b/255,a=Math.min(r,n,s),l=Math.max(r,n,s),c=NaN,u=l-a,d=(l+a)/2;return u?(r===l?c=(n-s)/u+(n<s)*6:n===l?c=(s-r)/u+2:c=(r-n)/u+4,u/=d<.5?l+a:2-l-a,c*=60):u=d>0&&d<1?0:c,new Va(c,u,d,e.opacity)}function kpe(e,r,n,s){return arguments.length===1?_O(e):new Va(e,r,n,s??1)}function Va(e,r,n,s){this.h=+e,this.s=+r,this.l=+n,this.opacity=+s}AP(Va,kpe,AO(Yg,{brighter(e){return e=e==null?Ov:Math.pow(Ov,e),new Va(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?fg:Math.pow(fg,e),new Va(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,r=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,s=n+(n<.5?n:1-n)*r,a=2*n-s;return new ui(tD(e>=240?e-240:e+120,a,s),tD(e,a,s),tD(e<120?e+240:e-120,a,s),this.opacity)},clamp(){return new Va(RT(this.h),Rb(this.s),Rb(this.l),Lv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Lv(this.opacity);return`${e===1?"hsl(":"hsla("}${RT(this.h)}, ${Rb(this.s)*100}%, ${Rb(this.l)*100}%${e===1?")":`, ${e})`}`}}));function RT(e){return e=(e||0)%360,e<0?e+360:e}function Rb(e){return Math.max(0,Math.min(1,e||0))}function tD(e,r,n){return(e<60?r+(n-r)*e/60:e<180?n:e<240?r+(n-r)*(240-e)/60:r)*255}const _P=e=>()=>e;function Epe(e,r){return function(n){return e+n*r}}function Dpe(e,r,n){return e=Math.pow(e,n),r=Math.pow(r,n)-e,n=1/n,function(s){return Math.pow(e+s*r,n)}}function jpe(e){return(e=+e)==1?FO:function(r,n){return n-r?Dpe(r,n,e):_P(isNaN(r)?n:r)}}function FO(e,r){var n=r-e;return n?Epe(e,n):_P(isNaN(e)?r:e)}const $v=function e(r){var n=jpe(r);function s(a,l){var c=n((a=vj(a)).r,(l=vj(l)).r),u=n(a.g,l.g),d=n(a.b,l.b),h=FO(a.opacity,l.opacity);return function(g){return a.r=c(g),a.g=u(g),a.b=d(g),a.opacity=h(g),a+""}}return s.gamma=e,s}(1);function Vpe(e,r){r||(r=[]);var n=e?Math.min(r.length,e.length):0,s=r.slice(),a;return function(l){for(a=0;a<n;++a)s[a]=e[a]*(1-l)+r[a]*l;return s}}function Ppe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Spe(e,r){var n=r?r.length:0,s=e?Math.min(n,e.length):0,a=new Array(s),l=new Array(n),c;for(c=0;c<s;++c)a[c]=Zp(e[c],r[c]);for(;c<n;++c)l[c]=r[c];return function(u){for(c=0;c<s;++c)l[c]=a[c](u);return l}}function Cpe(e,r){var n=new Date;return e=+e,r=+r,function(s){return n.setTime(e*(1-s)+r*s),n}}function oo(e,r){return e=+e,r=+r,function(n){return e*(1-n)+r*n}}function Rpe(e,r){var n={},s={},a;(e===null||typeof e!="object")&&(e={}),(r===null||typeof r!="object")&&(r={});for(a in r)a in e?n[a]=Zp(e[a],r[a]):s[a]=r[a];return function(l){for(a in n)s[a]=n[a](l);return s}}var yj=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,rD=new RegExp(yj.source,"g");function Mpe(e){return function(){return e}}function Tpe(e){return function(r){return e(r)+""}}function IO(e,r){var n=yj.lastIndex=rD.lastIndex=0,s,a,l,c=-1,u=[],d=[];for(e=e+"",r=r+"";(s=yj.exec(e))&&(a=rD.exec(r));)(l=a.index)>n&&(l=r.slice(n,l),u[c]?u[c]+=l:u[++c]=l),(s=s[0])===(a=a[0])?u[c]?u[c]+=a:u[++c]=a:(u[++c]=null,d.push({i:c,x:oo(s,a)})),n=rD.lastIndex;return n<r.length&&(l=r.slice(n),u[c]?u[c]+=l:u[++c]=l),u.length<2?d[0]?Tpe(d[0].x):Mpe(r):(r=d.length,function(h){for(var g=0,p;g<r;++g)u[(p=d[g]).i]=p.x(h);return u.join("")})}function Zp(e,r){var n=typeof r,s;return r==null||n==="boolean"?_P(r):(n==="number"?oo:n==="string"?(s=Yu(r))?(r=s,$v):IO:r instanceof Yu?$v:r instanceof Date?Cpe:Ppe(r)?Vpe:Array.isArray(r)?Spe:typeof r.valueOf!="function"&&typeof r.toString!="function"||isNaN(r)?Rpe:oo)(e,r)}var MT=180/Math.PI,wj={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function OO(e,r,n,s,a,l){var c,u,d;return(c=Math.sqrt(e*e+r*r))&&(e/=c,r/=c),(d=e*n+r*s)&&(n-=e*d,s-=r*d),(u=Math.sqrt(n*n+s*s))&&(n/=u,s/=u,d/=u),e*s<r*n&&(e=-e,r=-r,d=-d,c=-c),{translateX:a,translateY:l,rotate:Math.atan2(r,e)*MT,skewX:Math.atan(d)*MT,scaleX:c,scaleY:u}}var Mb;function Ape(e){const r=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return r.isIdentity?wj:OO(r.a,r.b,r.c,r.d,r.e,r.f)}function _pe(e){return e==null||(Mb||(Mb=document.createElementNS("http://www.w3.org/2000/svg","g")),Mb.setAttribute("transform",e),!(e=Mb.transform.baseVal.consolidate()))?wj:(e=e.matrix,OO(e.a,e.b,e.c,e.d,e.e,e.f))}function LO(e,r,n,s){function a(h){return h.length?h.pop()+" ":""}function l(h,g,p,N,b,D){if(h!==p||g!==N){var E=b.push("translate(",null,r,null,n);D.push({i:E-4,x:oo(h,p)},{i:E-2,x:oo(g,N)})}else(p||N)&&b.push("translate("+p+r+N+n)}function c(h,g,p,N){h!==g?(h-g>180?g+=360:g-h>180&&(h+=360),N.push({i:p.push(a(p)+"rotate(",null,s)-2,x:oo(h,g)})):g&&p.push(a(p)+"rotate("+g+s)}function u(h,g,p,N){h!==g?N.push({i:p.push(a(p)+"skewX(",null,s)-2,x:oo(h,g)}):g&&p.push(a(p)+"skewX("+g+s)}function d(h,g,p,N,b,D){if(h!==p||g!==N){var E=b.push(a(b)+"scale(",null,",",null,")");D.push({i:E-4,x:oo(h,p)},{i:E-2,x:oo(g,N)})}else(p!==1||N!==1)&&b.push(a(b)+"scale("+p+","+N+")")}return function(h,g){var p=[],N=[];return h=e(h),g=e(g),l(h.translateX,h.translateY,g.translateX,g.translateY,p,N),c(h.rotate,g.rotate,p,N),u(h.skewX,g.skewX,p,N),d(h.scaleX,h.scaleY,g.scaleX,g.scaleY,p,N),h=g=null,function(b){for(var D=-1,E=N.length,j;++D<E;)p[(j=N[D]).i]=j.x(b);return p.join("")}}}var Fpe=LO(Ape,"px, ","px)","deg)"),Ipe=LO(_pe,", ",")",")"),Ope=1e-12;function TT(e){return((e=Math.exp(e))+1/e)/2}function Lpe(e){return((e=Math.exp(e))-1/e)/2}function $pe(e){return((e=Math.exp(2*e))-1)/(e+1)}const Qb=function e(r,n,s){function a(l,c){var u=l[0],d=l[1],h=l[2],g=c[0],p=c[1],N=c[2],b=g-u,D=p-d,E=b*b+D*D,j,P;if(E<Ope)P=Math.log(N/h)/r,j=function(M){return[u+M*b,d+M*D,h*Math.exp(r*M*P)]};else{var w=Math.sqrt(E),k=(N*N-h*h+s*E)/(2*h*n*w),V=(N*N-h*h-s*E)/(2*N*n*w),S=Math.log(Math.sqrt(k*k+1)-k),R=Math.log(Math.sqrt(V*V+1)-V);P=(R-S)/r,j=function(M){var T=M*P,A=TT(S),F=h/(n*w)*(A*$pe(r*T+S)-Lpe(S));return[u+F*b,d+F*D,h*A/TT(r*T+S)]}}return j.duration=P*1e3*r/Math.SQRT2,j}return a.rho=function(l){var c=Math.max(.001,+l),u=c*c,d=u*u;return e(c,u,d)},a}(Math.SQRT2,2,4);var uh=0,Up=0,Ip=0,$O=1e3,Bv,Gp,zv=0,Xu=0,Y0=0,gg=typeof performance=="object"&&performance.now?performance:Date,BO=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function FP(){return Xu||(BO(Bpe),Xu=gg.now()+Y0)}function Bpe(){Xu=0}function Wv(){this._call=this._time=this._next=null}Wv.prototype=zO.prototype={constructor:Wv,restart:function(e,r,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?FP():+n)+(r==null?0:+r),!this._next&&Gp!==this&&(Gp?Gp._next=this:Bv=this,Gp=this),this._call=e,this._time=n,kj()},stop:function(){this._call&&(this._call=null,this._time=1/0,kj())}};function zO(e,r,n){var s=new Wv;return s.restart(e,r,n),s}function zpe(){FP(),++uh;for(var e=Bv,r;e;)(r=Xu-e._time)>=0&&e._call.call(void 0,r),e=e._next;--uh}function AT(){Xu=(zv=gg.now())+Y0,uh=Up=0;try{zpe()}finally{uh=0,Upe(),Xu=0}}function Wpe(){var e=gg.now(),r=e-zv;r>$O&&(Y0-=r,zv=e)}function Upe(){for(var e,r=Bv,n,s=1/0;r;)r._call?(s>r._time&&(s=r._time),e=r,r=r._next):(n=r._next,r._next=null,r=e?e._next=n:Bv=n);Gp=e,kj(s)}function kj(e){if(!uh){Up&&(Up=clearTimeout(Up));var r=e-Xu;r>24?(e<1/0&&(Up=setTimeout(AT,e-gg.now()-Y0)),Ip&&(Ip=clearInterval(Ip))):(Ip||(zv=gg.now(),Ip=setInterval(Wpe,$O)),uh=1,BO(AT))}}function _T(e,r,n){var s=new Wv;return r=r==null?0:+r,s.restart(a=>{s.stop(),e(a+r)},r,n),s}var Gpe=K0("start","end","cancel","interrupt"),Hpe=[],WO=0,FT=1,Ej=2,Zb=3,IT=4,Dj=5,ev=6;function X0(e,r,n,s,a,l){var c=e.__transition;if(!c)e.__transition={};else if(n in c)return;Jpe(e,n,{name:r,index:s,group:a,on:Gpe,tween:Hpe,time:l.time,delay:l.delay,duration:l.duration,ease:l.ease,timer:null,state:WO})}function IP(e,r){var n=$a(e,r);if(n.state>WO)throw new Error("too late; already scheduled");return n}function jo(e,r){var n=$a(e,r);if(n.state>Zb)throw new Error("too late; already running");return n}function $a(e,r){var n=e.__transition;if(!n||!(n=n[r]))throw new Error("transition not found");return n}function Jpe(e,r,n){var s=e.__transition,a;s[r]=n,n.timer=zO(l,0,n.time);function l(h){n.state=FT,n.timer.restart(c,n.delay,n.time),n.delay<=h&&c(h-n.delay)}function c(h){var g,p,N,b;if(n.state!==FT)return d();for(g in s)if(b=s[g],b.name===n.name){if(b.state===Zb)return _T(c);b.state===IT?(b.state=ev,b.timer.stop(),b.on.call("interrupt",e,e.__data__,b.index,b.group),delete s[g]):+g<r&&(b.state=ev,b.timer.stop(),b.on.call("cancel",e,e.__data__,b.index,b.group),delete s[g])}if(_T(function(){n.state===Zb&&(n.state=IT,n.timer.restart(u,n.delay,n.time),u(h))}),n.state=Ej,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Ej){for(n.state=Zb,a=new Array(N=n.tween.length),g=0,p=-1;g<N;++g)(b=n.tween[g].value.call(e,e.__data__,n.index,n.group))&&(a[++p]=b);a.length=p+1}}function u(h){for(var g=h<n.duration?n.ease.call(null,h/n.duration):(n.timer.restart(d),n.state=Dj,1),p=-1,N=a.length;++p<N;)a[p].call(e,g);n.state===Dj&&(n.on.call("end",e,e.__data__,n.index,n.group),d())}function d(){n.state=ev,n.timer.stop(),delete s[r];for(var h in s)return;delete e.__transition}}function tv(e,r){var n=e.__transition,s,a,l=!0,c;if(n){r=r==null?null:r+"";for(c in n){if((s=n[c]).name!==r){l=!1;continue}a=s.state>Ej&&s.state<Dj,s.state=ev,s.timer.stop(),s.on.call(a?"interrupt":"cancel",e,e.__data__,s.index,s.group),delete n[c]}l&&delete e.__transition}}function Kpe(e){return this.each(function(){tv(this,e)})}function qpe(e,r){var n,s;return function(){var a=jo(this,e),l=a.tween;if(l!==n){s=n=l;for(var c=0,u=s.length;c<u;++c)if(s[c].name===r){s=s.slice(),s.splice(c,1);break}}a.tween=s}}function Ype(e,r,n){var s,a;if(typeof n!="function")throw new Error;return function(){var l=jo(this,e),c=l.tween;if(c!==s){a=(s=c).slice();for(var u={name:r,value:n},d=0,h=a.length;d<h;++d)if(a[d].name===r){a[d]=u;break}d===h&&a.push(u)}l.tween=a}}function Xpe(e,r){var n=this._id;if(e+="",arguments.length<2){for(var s=$a(this.node(),n).tween,a=0,l=s.length,c;a<l;++a)if((c=s[a]).name===e)return c.value;return null}return this.each((r==null?qpe:Ype)(n,e,r))}function OP(e,r,n){var s=e._id;return e.each(function(){var a=jo(this,s);(a.value||(a.value={}))[r]=n.apply(this,arguments)}),function(a){return $a(a,s).value[r]}}function UO(e,r){var n;return(typeof r=="number"?oo:r instanceof Yu?$v:(n=Yu(r))?(r=n,$v):IO)(e,r)}function Qpe(e){return function(){this.removeAttribute(e)}}function Zpe(e){return function(){this.removeAttributeNS(e.space,e.local)}}function ege(e,r,n){var s,a=n+"",l;return function(){var c=this.getAttribute(e);return c===a?null:c===s?l:l=r(s=c,n)}}function tge(e,r,n){var s,a=n+"",l;return function(){var c=this.getAttributeNS(e.space,e.local);return c===a?null:c===s?l:l=r(s=c,n)}}function rge(e,r,n){var s,a,l;return function(){var c,u=n(this),d;return u==null?void this.removeAttribute(e):(c=this.getAttribute(e),d=u+"",c===d?null:c===s&&d===a?l:(a=d,l=r(s=c,u)))}}function nge(e,r,n){var s,a,l;return function(){var c,u=n(this),d;return u==null?void this.removeAttributeNS(e.space,e.local):(c=this.getAttributeNS(e.space,e.local),d=u+"",c===d?null:c===s&&d===a?l:(a=d,l=r(s=c,u)))}}function sge(e,r){var n=q0(e),s=n==="transform"?Ipe:UO;return this.attrTween(e,typeof r=="function"?(n.local?nge:rge)(n,s,OP(this,"attr."+e,r)):r==null?(n.local?Zpe:Qpe)(n):(n.local?tge:ege)(n,s,r))}function ige(e,r){return function(n){this.setAttribute(e,r.call(this,n))}}function age(e,r){return function(n){this.setAttributeNS(e.space,e.local,r.call(this,n))}}function oge(e,r){var n,s;function a(){var l=r.apply(this,arguments);return l!==s&&(n=(s=l)&&age(e,l)),n}return a._value=r,a}function lge(e,r){var n,s;function a(){var l=r.apply(this,arguments);return l!==s&&(n=(s=l)&&ige(e,l)),n}return a._value=r,a}function cge(e,r){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(r==null)return this.tween(n,null);if(typeof r!="function")throw new Error;var s=q0(e);return this.tween(n,(s.local?oge:lge)(s,r))}function uge(e,r){return function(){IP(this,e).delay=+r.apply(this,arguments)}}function mge(e,r){return r=+r,function(){IP(this,e).delay=r}}function dge(e){var r=this._id;return arguments.length?this.each((typeof e=="function"?uge:mge)(r,e)):$a(this.node(),r).delay}function hge(e,r){return function(){jo(this,e).duration=+r.apply(this,arguments)}}function fge(e,r){return r=+r,function(){jo(this,e).duration=r}}function pge(e){var r=this._id;return arguments.length?this.each((typeof e=="function"?hge:fge)(r,e)):$a(this.node(),r).duration}function gge(e,r){if(typeof r!="function")throw new Error;return function(){jo(this,e).ease=r}}function Nge(e){var r=this._id;return arguments.length?this.each(gge(r,e)):$a(this.node(),r).ease}function xge(e,r){return function(){var n=r.apply(this,arguments);if(typeof n!="function")throw new Error;jo(this,e).ease=n}}function bge(e){if(typeof e!="function")throw new Error;return this.each(xge(this._id,e))}function vge(e){typeof e!="function"&&(e=yO(e));for(var r=this._groups,n=r.length,s=new Array(n),a=0;a<n;++a)for(var l=r[a],c=l.length,u=s[a]=[],d,h=0;h<c;++h)(d=l[h])&&e.call(d,d.__data__,h,l)&&u.push(d);return new Nl(s,this._parents,this._name,this._id)}function yge(e){if(e._id!==this._id)throw new Error;for(var r=this._groups,n=e._groups,s=r.length,a=n.length,l=Math.min(s,a),c=new Array(s),u=0;u<l;++u)for(var d=r[u],h=n[u],g=d.length,p=c[u]=new Array(g),N,b=0;b<g;++b)(N=d[b]||h[b])&&(p[b]=N);for(;u<s;++u)c[u]=r[u];return new Nl(c,this._parents,this._name,this._id)}function wge(e){return(e+"").trim().split(/^|\s+/).every(function(r){var n=r.indexOf(".");return n>=0&&(r=r.slice(0,n)),!r||r==="start"})}function kge(e,r,n){var s,a,l=wge(r)?IP:jo;return function(){var c=l(this,e),u=c.on;u!==s&&(a=(s=u).copy()).on(r,n),c.on=a}}function Ege(e,r){var n=this._id;return arguments.length<2?$a(this.node(),n).on.on(e):this.each(kge(n,e,r))}function Dge(e){return function(){var r=this.parentNode;for(var n in this.__transition)if(+n!==e)return;r&&r.removeChild(this)}}function jge(){return this.on("end.remove",Dge(this._id))}function Vge(e){var r=this._name,n=this._id;typeof e!="function"&&(e=MP(e));for(var s=this._groups,a=s.length,l=new Array(a),c=0;c<a;++c)for(var u=s[c],d=u.length,h=l[c]=new Array(d),g,p,N=0;N<d;++N)(g=u[N])&&(p=e.call(g,g.__data__,N,u))&&("__data__"in g&&(p.__data__=g.__data__),h[N]=p,X0(h[N],r,n,N,h,$a(g,n)));return new Nl(l,this._parents,r,n)}function Pge(e){var r=this._name,n=this._id;typeof e!="function"&&(e=vO(e));for(var s=this._groups,a=s.length,l=[],c=[],u=0;u<a;++u)for(var d=s[u],h=d.length,g,p=0;p<h;++p)if(g=d[p]){for(var N=e.call(g,g.__data__,p,d),b,D=$a(g,n),E=0,j=N.length;E<j;++E)(b=N[E])&&X0(b,r,n,E,N,D);l.push(N),c.push(g)}return new Nl(l,c,r,n)}var Sge=qg.prototype.constructor;function Cge(){return new Sge(this._groups,this._parents)}function Rge(e,r){var n,s,a;return function(){var l=ch(this,e),c=(this.style.removeProperty(e),ch(this,e));return l===c?null:l===n&&c===s?a:a=r(n=l,s=c)}}function GO(e){return function(){this.style.removeProperty(e)}}function Mge(e,r,n){var s,a=n+"",l;return function(){var c=ch(this,e);return c===a?null:c===s?l:l=r(s=c,n)}}function Tge(e,r,n){var s,a,l;return function(){var c=ch(this,e),u=n(this),d=u+"";return u==null&&(d=u=(this.style.removeProperty(e),ch(this,e))),c===d?null:c===s&&d===a?l:(a=d,l=r(s=c,u))}}function Age(e,r){var n,s,a,l="style."+r,c="end."+l,u;return function(){var d=jo(this,e),h=d.on,g=d.value[l]==null?u||(u=GO(r)):void 0;(h!==n||a!==g)&&(s=(n=h).copy()).on(c,a=g),d.on=s}}function _ge(e,r,n){var s=(e+="")=="transform"?Fpe:UO;return r==null?this.styleTween(e,Rge(e,s)).on("end.style."+e,GO(e)):typeof r=="function"?this.styleTween(e,Tge(e,s,OP(this,"style."+e,r))).each(Age(this._id,e)):this.styleTween(e,Mge(e,s,r),n).on("end.style."+e,null)}function Fge(e,r,n){return function(s){this.style.setProperty(e,r.call(this,s),n)}}function Ige(e,r,n){var s,a;function l(){var c=r.apply(this,arguments);return c!==a&&(s=(a=c)&&Fge(e,c,n)),s}return l._value=r,l}function Oge(e,r,n){var s="style."+(e+="");if(arguments.length<2)return(s=this.tween(s))&&s._value;if(r==null)return this.tween(s,null);if(typeof r!="function")throw new Error;return this.tween(s,Ige(e,r,n??""))}function Lge(e){return function(){this.textContent=e}}function $ge(e){return function(){var r=e(this);this.textContent=r??""}}function Bge(e){return this.tween("text",typeof e=="function"?$ge(OP(this,"text",e)):Lge(e==null?"":e+""))}function zge(e){return function(r){this.textContent=e.call(this,r)}}function Wge(e){var r,n;function s(){var a=e.apply(this,arguments);return a!==n&&(r=(n=a)&&zge(a)),r}return s._value=e,s}function Uge(e){var r="text";if(arguments.length<1)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,Wge(e))}function Gge(){for(var e=this._name,r=this._id,n=HO(),s=this._groups,a=s.length,l=0;l<a;++l)for(var c=s[l],u=c.length,d,h=0;h<u;++h)if(d=c[h]){var g=$a(d,r);X0(d,e,n,h,c,{time:g.time+g.delay+g.duration,delay:0,duration:g.duration,ease:g.ease})}return new Nl(s,this._parents,e,n)}function Hge(){var e,r,n=this,s=n._id,a=n.size();return new Promise(function(l,c){var u={value:c},d={value:function(){--a===0&&l()}};n.each(function(){var h=jo(this,s),g=h.on;g!==e&&(r=(e=g).copy(),r._.cancel.push(u),r._.interrupt.push(u),r._.end.push(d)),h.on=r}),a===0&&l()})}var Jge=0;function Nl(e,r,n,s){this._groups=e,this._parents=r,this._name=n,this._id=s}function HO(){return++Jge}var rl=qg.prototype;Nl.prototype={constructor:Nl,select:Vge,selectAll:Pge,selectChild:rl.selectChild,selectChildren:rl.selectChildren,filter:vge,merge:yge,selection:Cge,transition:Gge,call:rl.call,nodes:rl.nodes,node:rl.node,size:rl.size,empty:rl.empty,each:rl.each,on:Ege,attr:sge,attrTween:cge,style:_ge,styleTween:Oge,text:Bge,textTween:Uge,remove:jge,tween:Xpe,delay:dge,duration:pge,ease:Nge,easeVarying:bge,end:Hge,[Symbol.iterator]:rl[Symbol.iterator]};function Kge(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var qge={time:null,delay:0,duration:250,ease:Kge};function Yge(e,r){for(var n;!(n=e.__transition)||!(n=n[r]);)if(!(e=e.parentNode))throw new Error(`transition ${r} not found`);return n}function Xge(e){var r,n;e instanceof Nl?(r=e._id,e=e._name):(r=HO(),(n=qge).time=FP(),e=e==null?null:e+"");for(var s=this._groups,a=s.length,l=0;l<a;++l)for(var c=s[l],u=c.length,d,h=0;h<u;++h)(d=c[h])&&X0(d,e,r,h,c,n||Yge(d,r));return new Nl(s,this._parents,e,r)}qg.prototype.interrupt=Kpe;qg.prototype.transition=Xge;const Tb=e=>()=>e;function Qge(e,{sourceEvent:r,target:n,transform:s,dispatch:a}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:r,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:s,enumerable:!0,configurable:!0},_:{value:a}})}function al(e,r,n){this.k=e,this.x=r,this.y=n}al.prototype={constructor:al,scale:function(e){return e===1?this:new al(this.k*e,this.x,this.y)},translate:function(e,r){return e===0&r===0?this:new al(this.k,this.x+this.k*e,this.y+this.k*r)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Q0=new al(1,0,0);JO.prototype=al.prototype;function JO(e){for(;!e.__zoom;)if(!(e=e.parentNode))return Q0;return e.__zoom}function nD(e){e.stopImmediatePropagation()}function Op(e){e.preventDefault(),e.stopImmediatePropagation()}function Zge(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function eNe(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function OT(){return this.__zoom||Q0}function tNe(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function rNe(){return navigator.maxTouchPoints||"ontouchstart"in this}function nNe(e,r,n){var s=e.invertX(r[0][0])-n[0][0],a=e.invertX(r[1][0])-n[1][0],l=e.invertY(r[0][1])-n[0][1],c=e.invertY(r[1][1])-n[1][1];return e.translate(a>s?(s+a)/2:Math.min(0,s)||Math.max(0,a),c>l?(l+c)/2:Math.min(0,l)||Math.max(0,c))}function KO(){var e=Zge,r=eNe,n=nNe,s=tNe,a=rNe,l=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],u=250,d=Qb,h=K0("start","zoom","end"),g,p,N,b=500,D=150,E=0,j=10;function P(O){O.property("__zoom",OT).on("wheel.zoom",T,{passive:!1}).on("mousedown.zoom",A).on("dblclick.zoom",F).filter(a).on("touchstart.zoom",L).on("touchmove.zoom",$).on("touchend.zoom touchcancel.zoom",W).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}P.transform=function(O,Y,H,q){var z=O.selection?O.selection():O;z.property("__zoom",OT),O!==z?S(O,Y,H,q):z.interrupt().each(function(){R(this,arguments).event(q).start().zoom(null,typeof Y=="function"?Y.apply(this,arguments):Y).end()})},P.scaleBy=function(O,Y,H,q){P.scaleTo(O,function(){var z=this.__zoom.k,G=typeof Y=="function"?Y.apply(this,arguments):Y;return z*G},H,q)},P.scaleTo=function(O,Y,H,q){P.transform(O,function(){var z=r.apply(this,arguments),G=this.__zoom,ee=H==null?V(z):typeof H=="function"?H.apply(this,arguments):H,K=G.invert(ee),be=typeof Y=="function"?Y.apply(this,arguments):Y;return n(k(w(G,be),ee,K),z,c)},H,q)},P.translateBy=function(O,Y,H,q){P.transform(O,function(){return n(this.__zoom.translate(typeof Y=="function"?Y.apply(this,arguments):Y,typeof H=="function"?H.apply(this,arguments):H),r.apply(this,arguments),c)},null,q)},P.translateTo=function(O,Y,H,q,z){P.transform(O,function(){var G=r.apply(this,arguments),ee=this.__zoom,K=q==null?V(G):typeof q=="function"?q.apply(this,arguments):q;return n(Q0.translate(K[0],K[1]).scale(ee.k).translate(typeof Y=="function"?-Y.apply(this,arguments):-Y,typeof H=="function"?-H.apply(this,arguments):-H),G,c)},q,z)};function w(O,Y){return Y=Math.max(l[0],Math.min(l[1],Y)),Y===O.k?O:new al(Y,O.x,O.y)}function k(O,Y,H){var q=Y[0]-H[0]*O.k,z=Y[1]-H[1]*O.k;return q===O.x&&z===O.y?O:new al(O.k,q,z)}function V(O){return[(+O[0][0]+ +O[1][0])/2,(+O[0][1]+ +O[1][1])/2]}function S(O,Y,H,q){O.on("start.zoom",function(){R(this,arguments).event(q).start()}).on("interrupt.zoom end.zoom",function(){R(this,arguments).event(q).end()}).tween("zoom",function(){var z=this,G=arguments,ee=R(z,G).event(q),K=r.apply(z,G),be=H==null?V(K):typeof H=="function"?H.apply(z,G):H,_e=Math.max(K[1][0]-K[0][0],K[1][1]-K[0][1]),oe=z.__zoom,fe=typeof Y=="function"?Y.apply(z,G):Y,Ae=d(oe.invert(be).concat(_e/oe.k),fe.invert(be).concat(_e/fe.k));return function(ge){if(ge===1)ge=fe;else{var Pe=Ae(ge),ze=_e/Pe[2];ge=new al(ze,be[0]-Pe[0]*ze,be[1]-Pe[1]*ze)}ee.zoom(null,ge)}})}function R(O,Y,H){return!H&&O.__zooming||new M(O,Y)}function M(O,Y){this.that=O,this.args=Y,this.active=0,this.sourceEvent=null,this.extent=r.apply(O,Y),this.taps=0}M.prototype={event:function(O){return O&&(this.sourceEvent=O),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(O,Y){return this.mouse&&O!=="mouse"&&(this.mouse[1]=Y.invert(this.mouse[0])),this.touch0&&O!=="touch"&&(this.touch0[1]=Y.invert(this.touch0[0])),this.touch1&&O!=="touch"&&(this.touch1[1]=Y.invert(this.touch1[0])),this.that.__zoom=Y,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(O){var Y=ji(this.that).datum();h.call(O,this.that,new Qge(O,{sourceEvent:this.sourceEvent,target:P,transform:this.that.__zoom,dispatch:h}),Y)}};function T(O,...Y){if(!e.apply(this,arguments))return;var H=R(this,Y).event(O),q=this.__zoom,z=Math.max(l[0],Math.min(l[1],q.k*Math.pow(2,s.apply(this,arguments)))),G=ka(O);if(H.wheel)(H.mouse[0][0]!==G[0]||H.mouse[0][1]!==G[1])&&(H.mouse[1]=q.invert(H.mouse[0]=G)),clearTimeout(H.wheel);else{if(q.k===z)return;H.mouse=[G,q.invert(G)],tv(this),H.start()}Op(O),H.wheel=setTimeout(ee,D),H.zoom("mouse",n(k(w(q,z),H.mouse[0],H.mouse[1]),H.extent,c));function ee(){H.wheel=null,H.end()}}function A(O,...Y){if(N||!e.apply(this,arguments))return;var H=O.currentTarget,q=R(this,Y,!0).event(O),z=ji(O.view).on("mousemove.zoom",be,!0).on("mouseup.zoom",_e,!0),G=ka(O,H),ee=O.clientX,K=O.clientY;RO(O.view),nD(O),q.mouse=[G,this.__zoom.invert(G)],tv(this),q.start();function be(oe){if(Op(oe),!q.moved){var fe=oe.clientX-ee,Ae=oe.clientY-K;q.moved=fe*fe+Ae*Ae>E}q.event(oe).zoom("mouse",n(k(q.that.__zoom,q.mouse[0]=ka(oe,H),q.mouse[1]),q.extent,c))}function _e(oe){z.on("mousemove.zoom mouseup.zoom",null),MO(oe.view,q.moved),Op(oe),q.event(oe).end()}}function F(O,...Y){if(e.apply(this,arguments)){var H=this.__zoom,q=ka(O.changedTouches?O.changedTouches[0]:O,this),z=H.invert(q),G=H.k*(O.shiftKey?.5:2),ee=n(k(w(H,G),q,z),r.apply(this,Y),c);Op(O),u>0?ji(this).transition().duration(u).call(S,ee,q,O):ji(this).call(P.transform,ee,q,O)}}function L(O,...Y){if(e.apply(this,arguments)){var H=O.touches,q=H.length,z=R(this,Y,O.changedTouches.length===q).event(O),G,ee,K,be;for(nD(O),ee=0;ee<q;++ee)K=H[ee],be=ka(K,this),be=[be,this.__zoom.invert(be),K.identifier],z.touch0?!z.touch1&&z.touch0[2]!==be[2]&&(z.touch1=be,z.taps=0):(z.touch0=be,G=!0,z.taps=1+!!g);g&&(g=clearTimeout(g)),G&&(z.taps<2&&(p=be[0],g=setTimeout(function(){g=null},b)),tv(this),z.start())}}function $(O,...Y){if(this.__zooming){var H=R(this,Y).event(O),q=O.changedTouches,z=q.length,G,ee,K,be;for(Op(O),G=0;G<z;++G)ee=q[G],K=ka(ee,this),H.touch0&&H.touch0[2]===ee.identifier?H.touch0[0]=K:H.touch1&&H.touch1[2]===ee.identifier&&(H.touch1[0]=K);if(ee=H.that.__zoom,H.touch1){var _e=H.touch0[0],oe=H.touch0[1],fe=H.touch1[0],Ae=H.touch1[1],ge=(ge=fe[0]-_e[0])*ge+(ge=fe[1]-_e[1])*ge,Pe=(Pe=Ae[0]-oe[0])*Pe+(Pe=Ae[1]-oe[1])*Pe;ee=w(ee,Math.sqrt(ge/Pe)),K=[(_e[0]+fe[0])/2,(_e[1]+fe[1])/2],be=[(oe[0]+Ae[0])/2,(oe[1]+Ae[1])/2]}else if(H.touch0)K=H.touch0[0],be=H.touch0[1];else return;H.zoom("touch",n(k(ee,K,be),H.extent,c))}}function W(O,...Y){if(this.__zooming){var H=R(this,Y).event(O),q=O.changedTouches,z=q.length,G,ee;for(nD(O),N&&clearTimeout(N),N=setTimeout(function(){N=null},b),G=0;G<z;++G)ee=q[G],H.touch0&&H.touch0[2]===ee.identifier?delete H.touch0:H.touch1&&H.touch1[2]===ee.identifier&&delete H.touch1;if(H.touch1&&!H.touch0&&(H.touch0=H.touch1,delete H.touch1),H.touch0)H.touch0[1]=this.__zoom.invert(H.touch0[0]);else if(H.end(),H.taps===2&&(ee=ka(ee,this),Math.hypot(p[0]-ee[0],p[1]-ee[1])<j)){var K=ji(this).on("dblclick.zoom");K&&K.apply(this,arguments)}}}return P.wheelDelta=function(O){return arguments.length?(s=typeof O=="function"?O:Tb(+O),P):s},P.filter=function(O){return arguments.length?(e=typeof O=="function"?O:Tb(!!O),P):e},P.touchable=function(O){return arguments.length?(a=typeof O=="function"?O:Tb(!!O),P):a},P.extent=function(O){return arguments.length?(r=typeof O=="function"?O:Tb([[+O[0][0],+O[0][1]],[+O[1][0],+O[1][1]]]),P):r},P.scaleExtent=function(O){return arguments.length?(l[0]=+O[0],l[1]=+O[1],P):[l[0],l[1]]},P.translateExtent=function(O){return arguments.length?(c[0][0]=+O[0][0],c[1][0]=+O[1][0],c[0][1]=+O[0][1],c[1][1]=+O[1][1],P):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},P.constrain=function(O){return arguments.length?(n=O,P):n},P.duration=function(O){return arguments.length?(u=+O,P):u},P.interpolate=function(O){return arguments.length?(d=O,P):d},P.on=function(){var O=h.on.apply(h,arguments);return O===h?P:O},P.clickDistance=function(O){return arguments.length?(E=(O=+O)*O,P):Math.sqrt(E)},P.tapDistance=function(O){return arguments.length?(j=+O,P):j},P}const _i={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:r,sourceHandle:n,targetHandle:s})=>`Couldn't create edge for ${e} handle id: "${e==="source"?n:s}", edge id: ${r}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},Ng=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],qO=["Enter"," ","Escape"],YO={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:r,y:n})=>`Moved selected node ${e}. New position, x: ${r}, y: ${n}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var mh;(function(e){e.Strict="strict",e.Loose="loose"})(mh||(mh={}));var $u;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})($u||($u={}));var xg;(function(e){e.Partial="partial",e.Full="full"})(xg||(xg={}));const XO={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};var cc;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(cc||(cc={}));var Uv;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Uv||(Uv={}));var It;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(It||(It={}));const LT={[It.Left]:It.Right,[It.Right]:It.Left,[It.Top]:It.Bottom,[It.Bottom]:It.Top};function QO(e){return e===null?null:e?"valid":"invalid"}const ZO=e=>"id"in e&&"source"in e&&"target"in e,sNe=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),LP=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),Xg=(e,r=[0,0])=>{const{width:n,height:s}=wl(e),a=e.origin??r,l=n*a[0],c=s*a[1];return{x:e.position.x-l,y:e.position.y-c}},iNe=(e,r={nodeOrigin:[0,0]})=>{if(r.nodeLookup||console.warn("Please use `getNodesBounds` from `useReactFlow`/`useSvelteFlow` hook to ensure correct values for sub flows. If not possible, you have to provide a nodeLookup to support sub flows."),e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((s,a)=>{const l=typeof a=="string";let c=!r.nodeLookup&&!l?a:void 0;r.nodeLookup&&(c=l?r.nodeLookup.get(a):LP(a)?a:r.nodeLookup.get(a.id));const u=c?Gv(c,r.nodeOrigin):{x:0,y:0,x2:0,y2:0};return Z0(s,u)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return ey(n)},Qg=(e,r={})=>{let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0},s=!1;return e.forEach(a=>{(r.filter===void 0||r.filter(a))&&(n=Z0(n,Gv(a)),s=!0)}),s?ey(n):{x:0,y:0,width:0,height:0}},$P=(e,r,[n,s,a]=[0,0,1],l=!1,c=!1)=>{const u={...eN(r,[n,s,a]),width:r.width/a,height:r.height/a},d=[];for(const h of e.values()){const{measured:g,selectable:p=!0,hidden:N=!1}=h;if(c&&!p||N)continue;const b=g.width??h.width??h.initialWidth??null,D=g.height??h.height??h.initialHeight??null,E=bg(u,hh(h)),j=(b??0)*(D??0),P=l&&E>0;(!h.internals.handleBounds||P||E>=j||h.dragging)&&d.push(h)}return d},aNe=(e,r)=>{const n=new Set;return e.forEach(s=>{n.add(s.id)}),r.filter(s=>n.has(s.source)||n.has(s.target))};function oNe(e,r){const n=new Map,s=r!=null&&r.nodes?new Set(r.nodes.map(a=>a.id)):null;return e.forEach(a=>{a.measured.width&&a.measured.height&&((r==null?void 0:r.includeHiddenNodes)||!a.hidden)&&(!s||s.has(a.id))&&n.set(a.id,a)}),n}async function lNe({nodes:e,width:r,height:n,panZoom:s,minZoom:a,maxZoom:l},c){if(e.size===0)return Promise.resolve(!0);const u=oNe(e,c),d=Qg(u),h=BP(d,r,n,(c==null?void 0:c.minZoom)??a,(c==null?void 0:c.maxZoom)??l,(c==null?void 0:c.padding)??.1);return await s.setViewport(h,{duration:c==null?void 0:c.duration,ease:c==null?void 0:c.ease,interpolate:c==null?void 0:c.interpolate}),Promise.resolve(!0)}function eL({nodeId:e,nextPosition:r,nodeLookup:n,nodeOrigin:s=[0,0],nodeExtent:a,onError:l}){const c=n.get(e),u=c.parentId?n.get(c.parentId):void 0,{x:d,y:h}=u?u.internals.positionAbsolute:{x:0,y:0},g=c.origin??s;let p=c.extent||a;if(c.extent==="parent"&&!c.expandParent)if(!u)l==null||l("005",_i.error005());else{const b=u.measured.width,D=u.measured.height;b&&D&&(p=[[d,h],[d+b,h+D]])}else u&&fh(c.extent)&&(p=[[c.extent[0][0]+d,c.extent[0][1]+h],[c.extent[1][0]+d,c.extent[1][1]+h]]);const N=fh(p)?Qu(r,p,c.measured):r;return(c.measured.width===void 0||c.measured.height===void 0)&&(l==null||l("015",_i.error015())),{position:{x:N.x-d+(c.measured.width??0)*g[0],y:N.y-h+(c.measured.height??0)*g[1]},positionAbsolute:N}}async function cNe({nodesToRemove:e=[],edgesToRemove:r=[],nodes:n,edges:s,onBeforeDelete:a}){const l=new Set(e.map(N=>N.id)),c=[];for(const N of n){if(N.deletable===!1)continue;const b=l.has(N.id),D=!b&&N.parentId&&c.find(E=>E.id===N.parentId);(b||D)&&c.push(N)}const u=new Set(r.map(N=>N.id)),d=s.filter(N=>N.deletable!==!1),g=aNe(c,d);for(const N of d)u.has(N.id)&&!g.find(D=>D.id===N.id)&&g.push(N);if(!a)return{edges:g,nodes:c};const p=await a({nodes:c,edges:g});return typeof p=="boolean"?p?{edges:g,nodes:c}:{edges:[],nodes:[]}:p}const dh=(e,r=0,n=1)=>Math.min(Math.max(e,r),n),Qu=(e={x:0,y:0},r,n)=>({x:dh(e.x,r[0][0],r[1][0]-((n==null?void 0:n.width)??0)),y:dh(e.y,r[0][1],r[1][1]-((n==null?void 0:n.height)??0))});function tL(e,r,n){const{width:s,height:a}=wl(n),{x:l,y:c}=n.internals.positionAbsolute;return Qu(e,[[l,c],[l+s,c+a]],r)}const $T=(e,r,n)=>e<r?dh(Math.abs(e-r),1,r)/r:e>n?-dh(Math.abs(e-n),1,r)/r:0,rL=(e,r,n=15,s=40)=>{const a=$T(e.x,s,r.width-s)*n,l=$T(e.y,s,r.height-s)*n;return[a,l]},Z0=(e,r)=>({x:Math.min(e.x,r.x),y:Math.min(e.y,r.y),x2:Math.max(e.x2,r.x2),y2:Math.max(e.y2,r.y2)}),jj=({x:e,y:r,width:n,height:s})=>({x:e,y:r,x2:e+n,y2:r+s}),ey=({x:e,y:r,x2:n,y2:s})=>({x:e,y:r,width:n-e,height:s-r}),hh=(e,r=[0,0])=>{var a,l;const{x:n,y:s}=LP(e)?e.internals.positionAbsolute:Xg(e,r);return{x:n,y:s,width:((a=e.measured)==null?void 0:a.width)??e.width??e.initialWidth??0,height:((l=e.measured)==null?void 0:l.height)??e.height??e.initialHeight??0}},Gv=(e,r=[0,0])=>{var a,l;const{x:n,y:s}=LP(e)?e.internals.positionAbsolute:Xg(e,r);return{x:n,y:s,x2:n+(((a=e.measured)==null?void 0:a.width)??e.width??e.initialWidth??0),y2:s+(((l=e.measured)==null?void 0:l.height)??e.height??e.initialHeight??0)}},nL=(e,r)=>ey(Z0(jj(e),jj(r))),bg=(e,r)=>{const n=Math.max(0,Math.min(e.x+e.width,r.x+r.width)-Math.max(e.x,r.x)),s=Math.max(0,Math.min(e.y+e.height,r.y+r.height)-Math.max(e.y,r.y));return Math.ceil(n*s)},BT=e=>Ca(e.width)&&Ca(e.height)&&Ca(e.x)&&Ca(e.y),Ca=e=>!isNaN(e)&&isFinite(e),sL=(e,r)=>{console.warn(`[React Flow]: ${r} Help: https://reactflow.dev/error#${e}`)},Zg=(e,r=[1,1])=>({x:r[0]*Math.round(e.x/r[0]),y:r[1]*Math.round(e.y/r[1])}),eN=({x:e,y:r},[n,s,a],l=!1,c=[1,1])=>{const u={x:(e-n)/a,y:(r-s)/a};return l?Zg(u,c):u},Hv=({x:e,y:r},[n,s,a])=>({x:e*a+n,y:r*a+s});function md(e,r){if(typeof e=="number")return Math.floor((r-r/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(n)}if(typeof e=="string"&&e.endsWith("%")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(r*n*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function uNe(e,r,n){if(typeof e=="string"||typeof e=="number"){const s=md(e,n),a=md(e,r);return{top:s,right:a,bottom:s,left:a,x:a*2,y:s*2}}if(typeof e=="object"){const s=md(e.top??e.y??0,n),a=md(e.bottom??e.y??0,n),l=md(e.left??e.x??0,r),c=md(e.right??e.x??0,r);return{top:s,right:c,bottom:a,left:l,x:l+c,y:s+a}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function mNe(e,r,n,s,a,l){const{x:c,y:u}=Hv(e,[r,n,s]),{x:d,y:h}=Hv({x:e.x+e.width,y:e.y+e.height},[r,n,s]),g=a-d,p=l-h;return{left:Math.floor(c),top:Math.floor(u),right:Math.floor(g),bottom:Math.floor(p)}}const BP=(e,r,n,s,a,l)=>{const c=uNe(l,r,n),u=(r-c.x)/e.width,d=(n-c.y)/e.height,h=Math.min(u,d),g=dh(h,s,a),p=e.x+e.width/2,N=e.y+e.height/2,b=r/2-p*g,D=n/2-N*g,E=mNe(e,b,D,g,r,n),j={left:Math.min(E.left-c.left,0),top:Math.min(E.top-c.top,0),right:Math.min(E.right-c.right,0),bottom:Math.min(E.bottom-c.bottom,0)};return{x:b-j.left+j.right,y:D-j.top+j.bottom,zoom:g}},vg=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function fh(e){return e!=null&&e!=="parent"}function wl(e){var r,n;return{width:((r=e.measured)==null?void 0:r.width)??e.width??e.initialWidth??0,height:((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight??0}}function iL(e){var r,n;return(((r=e.measured)==null?void 0:r.width)??e.width??e.initialWidth)!==void 0&&(((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight)!==void 0}function aL(e,r={width:0,height:0},n,s,a){const l={...e},c=s.get(n);if(c){const u=c.origin||a;l.x+=c.internals.positionAbsolute.x-(r.width??0)*u[0],l.y+=c.internals.positionAbsolute.y-(r.height??0)*u[1]}return l}function zT(e,r){if(e.size!==r.size)return!1;for(const n of e)if(!r.has(n))return!1;return!0}function dNe(){let e,r;return{promise:new Promise((s,a)=>{e=s,r=a}),resolve:e,reject:r}}function hNe(e){return{...YO,...e||{}}}function eg(e,{snapGrid:r=[0,0],snapToGrid:n=!1,transform:s,containerBounds:a}){const{x:l,y:c}=Ra(e),u=eN({x:l-((a==null?void 0:a.left)??0),y:c-((a==null?void 0:a.top)??0)},s),{x:d,y:h}=n?Zg(u,r):u;return{xSnapped:d,ySnapped:h,...u}}const zP=e=>({width:e.offsetWidth,height:e.offsetHeight}),oL=e=>{var r;return((r=e==null?void 0:e.getRootNode)==null?void 0:r.call(e))||(window==null?void 0:window.document)},fNe=["INPUT","SELECT","TEXTAREA"];function lL(e){var s,a;const r=((a=(s=e.composedPath)==null?void 0:s.call(e))==null?void 0:a[0])||e.target;return(r==null?void 0:r.nodeType)!==1?!1:fNe.includes(r.nodeName)||r.hasAttribute("contenteditable")||!!r.closest(".nokey")}const cL=e=>"clientX"in e,Ra=(e,r)=>{var l,c;const n=cL(e),s=n?e.clientX:(l=e.touches)==null?void 0:l[0].clientX,a=n?e.clientY:(c=e.touches)==null?void 0:c[0].clientY;return{x:s-((r==null?void 0:r.left)??0),y:a-((r==null?void 0:r.top)??0)}},WT=(e,r,n,s,a)=>{const l=r.querySelectorAll(`.${e}`);return!l||!l.length?null:Array.from(l).map(c=>{const u=c.getBoundingClientRect();return{id:c.getAttribute("data-handleid"),type:e,nodeId:a,position:c.getAttribute("data-handlepos"),x:(u.left-n.left)/s,y:(u.top-n.top)/s,...zP(c)}})};function uL({sourceX:e,sourceY:r,targetX:n,targetY:s,sourceControlX:a,sourceControlY:l,targetControlX:c,targetControlY:u}){const d=e*.125+a*.375+c*.375+n*.125,h=r*.125+l*.375+u*.375+s*.125,g=Math.abs(d-e),p=Math.abs(h-r);return[d,h,g,p]}function Ab(e,r){return e>=0?.5*e:r*25*Math.sqrt(-e)}function UT({pos:e,x1:r,y1:n,x2:s,y2:a,c:l}){switch(e){case It.Left:return[r-Ab(r-s,l),n];case It.Right:return[r+Ab(s-r,l),n];case It.Top:return[r,n-Ab(n-a,l)];case It.Bottom:return[r,n+Ab(a-n,l)]}}function mL({sourceX:e,sourceY:r,sourcePosition:n=It.Bottom,targetX:s,targetY:a,targetPosition:l=It.Top,curvature:c=.25}){const[u,d]=UT({pos:n,x1:e,y1:r,x2:s,y2:a,c}),[h,g]=UT({pos:l,x1:s,y1:a,x2:e,y2:r,c}),[p,N,b,D]=uL({sourceX:e,sourceY:r,targetX:s,targetY:a,sourceControlX:u,sourceControlY:d,targetControlX:h,targetControlY:g});return[`M${e},${r} C${u},${d} ${h},${g} ${s},${a}`,p,N,b,D]}function dL({sourceX:e,sourceY:r,targetX:n,targetY:s}){const a=Math.abs(n-e)/2,l=n<e?n+a:n-a,c=Math.abs(s-r)/2,u=s<r?s+c:s-c;return[l,u,a,c]}function pNe({sourceNode:e,targetNode:r,selected:n=!1,zIndex:s=0,elevateOnSelect:a=!1,zIndexMode:l="basic"}){if(l==="manual")return s;const c=a&&n?s+1e3:s,u=Math.max(e.parentId||a&&e.selected?e.internals.z:0,r.parentId||a&&r.selected?r.internals.z:0);return c+u}function gNe({sourceNode:e,targetNode:r,width:n,height:s,transform:a}){const l=Z0(Gv(e),Gv(r));l.x===l.x2&&(l.x2+=1),l.y===l.y2&&(l.y2+=1);const c={x:-a[0]/a[2],y:-a[1]/a[2],width:n/a[2],height:s/a[2]};return bg(c,ey(l))>0}const NNe=({source:e,sourceHandle:r,target:n,targetHandle:s})=>`xy-edge__${e}${r||""}-${n}${s||""}`,xNe=(e,r)=>r.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),hL=(e,r,n={})=>{if(!e.source||!e.target)return sL("006",_i.error006()),r;const s=n.getEdgeId||NNe;let a;return ZO(e)?a={...e}:a={...e,id:s(e)},xNe(a,r)?r:(a.sourceHandle===null&&delete a.sourceHandle,a.targetHandle===null&&delete a.targetHandle,r.concat(a))};function fL({sourceX:e,sourceY:r,targetX:n,targetY:s}){const[a,l,c,u]=dL({sourceX:e,sourceY:r,targetX:n,targetY:s});return[`M ${e},${r}L ${n},${s}`,a,l,c,u]}const GT={[It.Left]:{x:-1,y:0},[It.Right]:{x:1,y:0},[It.Top]:{x:0,y:-1},[It.Bottom]:{x:0,y:1}},bNe=({source:e,sourcePosition:r=It.Bottom,target:n})=>r===It.Left||r===It.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},HT=(e,r)=>Math.sqrt(Math.pow(r.x-e.x,2)+Math.pow(r.y-e.y,2));function vNe({source:e,sourcePosition:r=It.Bottom,target:n,targetPosition:s=It.Top,center:a,offset:l,stepPosition:c}){const u=GT[r],d=GT[s],h={x:e.x+u.x*l,y:e.y+u.y*l},g={x:n.x+d.x*l,y:n.y+d.y*l},p=bNe({source:h,sourcePosition:r,target:g}),N=p.x!==0?"x":"y",b=p[N];let D=[],E,j;const P={x:0,y:0},w={x:0,y:0},[,,k,V]=dL({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(u[N]*d[N]===-1){N==="x"?(E=a.x??h.x+(g.x-h.x)*c,j=a.y??(h.y+g.y)/2):(E=a.x??(h.x+g.x)/2,j=a.y??h.y+(g.y-h.y)*c);const R=[{x:E,y:h.y},{x:E,y:g.y}],M=[{x:h.x,y:j},{x:g.x,y:j}];u[N]===b?D=N==="x"?R:M:D=N==="x"?M:R}else{const R=[{x:h.x,y:g.y}],M=[{x:g.x,y:h.y}];if(N==="x"?D=u.x===b?M:R:D=u.y===b?R:M,r===s){const $=Math.abs(e[N]-n[N]);if($<=l){const W=Math.min(l-1,l-$);u[N]===b?P[N]=(h[N]>e[N]?-1:1)*W:w[N]=(g[N]>n[N]?-1:1)*W}}if(r!==s){const $=N==="x"?"y":"x",W=u[N]===d[$],O=h[$]>g[$],Y=h[$]<g[$];(u[N]===1&&(!W&&O||W&&Y)||u[N]!==1&&(!W&&Y||W&&O))&&(D=N==="x"?R:M)}const T={x:h.x+P.x,y:h.y+P.y},A={x:g.x+w.x,y:g.y+w.y},F=Math.max(Math.abs(T.x-D[0].x),Math.abs(A.x-D[0].x)),L=Math.max(Math.abs(T.y-D[0].y),Math.abs(A.y-D[0].y));F>=L?(E=(T.x+A.x)/2,j=D[0].y):(E=D[0].x,j=(T.y+A.y)/2)}return[[e,{x:h.x+P.x,y:h.y+P.y},...D,{x:g.x+w.x,y:g.y+w.y},n],E,j,k,V]}function yNe(e,r,n,s){const a=Math.min(HT(e,r)/2,HT(r,n)/2,s),{x:l,y:c}=r;if(e.x===l&&l===n.x||e.y===c&&c===n.y)return`L${l} ${c}`;if(e.y===c){const h=e.x<n.x?-1:1,g=e.y<n.y?1:-1;return`L ${l+a*h},${c}Q ${l},${c} ${l},${c+a*g}`}const u=e.x<n.x?1:-1,d=e.y<n.y?-1:1;return`L ${l},${c+a*d}Q ${l},${c} ${l+a*u},${c}`}function Vj({sourceX:e,sourceY:r,sourcePosition:n=It.Bottom,targetX:s,targetY:a,targetPosition:l=It.Top,borderRadius:c=5,centerX:u,centerY:d,offset:h=20,stepPosition:g=.5}){const[p,N,b,D,E]=vNe({source:{x:e,y:r},sourcePosition:n,target:{x:s,y:a},targetPosition:l,center:{x:u,y:d},offset:h,stepPosition:g});return[p.reduce((P,w,k)=>{let V="";return k>0&&k<p.length-1?V=yNe(p[k-1],w,p[k+1],c):V=`${k===0?"M":"L"}${w.x} ${w.y}`,P+=V,P},""),N,b,D,E]}function JT(e){var r;return e&&!!(e.internals.handleBounds||(r=e.handles)!=null&&r.length)&&!!(e.measured.width||e.width||e.initialWidth)}function wNe(e){var p;const{sourceNode:r,targetNode:n}=e;if(!JT(r)||!JT(n))return null;const s=r.internals.handleBounds||KT(r.handles),a=n.internals.handleBounds||KT(n.handles),l=qT((s==null?void 0:s.source)??[],e.sourceHandle),c=qT(e.connectionMode===mh.Strict?(a==null?void 0:a.target)??[]:((a==null?void 0:a.target)??[]).concat((a==null?void 0:a.source)??[]),e.targetHandle);if(!l||!c)return(p=e.onError)==null||p.call(e,"008",_i.error008(l?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const u=(l==null?void 0:l.position)||It.Bottom,d=(c==null?void 0:c.position)||It.Top,h=Zu(r,l,u),g=Zu(n,c,d);return{sourceX:h.x,sourceY:h.y,targetX:g.x,targetY:g.y,sourcePosition:u,targetPosition:d}}function KT(e){if(!e)return null;const r=[],n=[];for(const s of e)s.width=s.width??1,s.height=s.height??1,s.type==="source"?r.push(s):s.type==="target"&&n.push(s);return{source:r,target:n}}function Zu(e,r,n=It.Left,s=!1){const a=((r==null?void 0:r.x)??0)+e.internals.positionAbsolute.x,l=((r==null?void 0:r.y)??0)+e.internals.positionAbsolute.y,{width:c,height:u}=r??wl(e);if(s)return{x:a+c/2,y:l+u/2};switch((r==null?void 0:r.position)??n){case It.Top:return{x:a+c/2,y:l};case It.Right:return{x:a+c,y:l+u/2};case It.Bottom:return{x:a+c/2,y:l+u};case It.Left:return{x:a,y:l+u/2}}}function qT(e,r){return e&&(r?e.find(n=>n.id===r):e[0])||null}function Pj(e,r){return e?typeof e=="string"?e:`${r?`${r}__`:""}${Object.keys(e).sort().map(s=>`${s}=${e[s]}`).join("&")}`:""}function kNe(e,{id:r,defaultColor:n,defaultMarkerStart:s,defaultMarkerEnd:a}){const l=new Set;return e.reduce((c,u)=>([u.markerStart||s,u.markerEnd||a].forEach(d=>{if(d&&typeof d=="object"){const h=Pj(d,r);l.has(h)||(c.push({id:h,color:d.color||n,...d}),l.add(h))}}),c),[]).sort((c,u)=>c.id.localeCompare(u.id))}const pL=1e3,ENe=10,WP={nodeOrigin:[0,0],nodeExtent:Ng,elevateNodesOnSelect:!0,zIndexMode:"basic",defaults:{}},DNe={...WP,checkEquality:!0};function UP(e,r){const n={...e};for(const s in r)r[s]!==void 0&&(n[s]=r[s]);return n}function jNe(e,r,n){const s=UP(WP,n);for(const a of e.values())if(a.parentId)HP(a,e,r,s);else{const l=Xg(a,s.nodeOrigin),c=fh(a.extent)?a.extent:s.nodeExtent,u=Qu(l,c,wl(a));a.internals.positionAbsolute=u}}function VNe(e,r){if(!e.handles)return e.measured?r==null?void 0:r.internals.handleBounds:void 0;const n=[],s=[];for(const a of e.handles){const l={id:a.id,width:a.width??1,height:a.height??1,nodeId:e.id,x:a.x,y:a.y,position:a.position,type:a.type};a.type==="source"?n.push(l):a.type==="target"&&s.push(l)}return{source:n,target:s}}function GP(e){return e==="manual"}function Sj(e,r,n,s={}){var h,g;const a=UP(DNe,s),l={i:0},c=new Map(r),u=a!=null&&a.elevateNodesOnSelect&&!GP(a.zIndexMode)?pL:0;let d=e.length>0;r.clear(),n.clear();for(const p of e){let N=c.get(p.id);if(a.checkEquality&&p===(N==null?void 0:N.internals.userNode))r.set(p.id,N);else{const b=Xg(p,a.nodeOrigin),D=fh(p.extent)?p.extent:a.nodeExtent,E=Qu(b,D,wl(p));N={...a.defaults,...p,measured:{width:(h=p.measured)==null?void 0:h.width,height:(g=p.measured)==null?void 0:g.height},internals:{positionAbsolute:E,handleBounds:VNe(p,N),z:gL(p,u,a.zIndexMode),userNode:p}},r.set(p.id,N)}(N.measured===void 0||N.measured.width===void 0||N.measured.height===void 0)&&!N.hidden&&(d=!1),p.parentId&&HP(N,r,n,s,l)}return d}function PNe(e,r){if(!e.parentId)return;const n=r.get(e.parentId);n?n.set(e.id,e):r.set(e.parentId,new Map([[e.id,e]]))}function HP(e,r,n,s,a){const{elevateNodesOnSelect:l,nodeOrigin:c,nodeExtent:u,zIndexMode:d}=UP(WP,s),h=e.parentId,g=r.get(h);if(!g){console.warn(`Parent node ${h} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}PNe(e,n),a&&!g.parentId&&g.internals.rootParentIndex===void 0&&d==="auto"&&(g.internals.rootParentIndex=++a.i,g.internals.z=g.internals.z+a.i*ENe),a&&g.internals.rootParentIndex!==void 0&&(a.i=g.internals.rootParentIndex);const p=l&&!GP(d)?pL:0,{x:N,y:b,z:D}=SNe(e,g,c,u,p,d),{positionAbsolute:E}=e.internals,j=N!==E.x||b!==E.y;(j||D!==e.internals.z)&&r.set(e.id,{...e,internals:{...e.internals,positionAbsolute:j?{x:N,y:b}:E,z:D}})}function gL(e,r,n){const s=Ca(e.zIndex)?e.zIndex:0;return GP(n)?s:s+(e.selected?r:0)}function SNe(e,r,n,s,a,l){const{x:c,y:u}=r.internals.positionAbsolute,d=wl(e),h=Xg(e,n),g=fh(e.extent)?Qu(h,e.extent,d):h;let p=Qu({x:c+g.x,y:u+g.y},s,d);e.extent==="parent"&&(p=tL(p,d,r));const N=gL(e,a,l),b=r.internals.z??0;return{x:p.x,y:p.y,z:b>=N?b+1:N}}function JP(e,r,n,s=[0,0]){var c;const a=[],l=new Map;for(const u of e){const d=r.get(u.parentId);if(!d)continue;const h=((c=l.get(u.parentId))==null?void 0:c.expandedRect)??hh(d),g=nL(h,u.rect);l.set(u.parentId,{expandedRect:g,parent:d})}return l.size>0&&l.forEach(({expandedRect:u,parent:d},h)=>{var k;const g=d.internals.positionAbsolute,p=wl(d),N=d.origin??s,b=u.x<g.x?Math.round(Math.abs(g.x-u.x)):0,D=u.y<g.y?Math.round(Math.abs(g.y-u.y)):0,E=Math.max(p.width,Math.round(u.width)),j=Math.max(p.height,Math.round(u.height)),P=(E-p.width)*N[0],w=(j-p.height)*N[1];(b>0||D>0||P||w)&&(a.push({id:h,type:"position",position:{x:d.position.x-b+P,y:d.position.y-D+w}}),(k=n.get(h))==null||k.forEach(V=>{e.some(S=>S.id===V.id)||a.push({id:V.id,type:"position",position:{x:V.position.x+b,y:V.position.y+D}})})),(p.width<u.width||p.height<u.height||b||D)&&a.push({id:h,type:"dimensions",setAttributes:!0,dimensions:{width:E+(b?N[0]*b-P:0),height:j+(D?N[1]*D-w:0)}})}),a}function CNe(e,r,n,s,a,l,c){const u=s==null?void 0:s.querySelector(".xyflow__viewport");let d=!1;if(!u)return{changes:[],updatedInternals:d};const h=[],g=window.getComputedStyle(u),{m22:p}=new window.DOMMatrixReadOnly(g.transform),N=[];for(const b of e.values()){const D=r.get(b.id);if(!D)continue;if(D.hidden){r.set(D.id,{...D,internals:{...D.internals,handleBounds:void 0}}),d=!0;continue}const E=zP(b.nodeElement),j=D.measured.width!==E.width||D.measured.height!==E.height;if(!!(E.width&&E.height&&(j||!D.internals.handleBounds||b.force))){const w=b.nodeElement.getBoundingClientRect(),k=fh(D.extent)?D.extent:l;let{positionAbsolute:V}=D.internals;D.parentId&&D.extent==="parent"?V=tL(V,E,r.get(D.parentId)):k&&(V=Qu(V,k,E));const S={...D,measured:E,internals:{...D.internals,positionAbsolute:V,handleBounds:{source:WT("source",b.nodeElement,w,p,D.id),target:WT("target",b.nodeElement,w,p,D.id)}}};r.set(D.id,S),D.parentId&&HP(S,r,n,{nodeOrigin:a,zIndexMode:c}),d=!0,j&&(h.push({id:D.id,type:"dimensions",dimensions:E}),D.expandParent&&D.parentId&&N.push({id:D.id,parentId:D.parentId,rect:hh(S,a)}))}}if(N.length>0){const b=JP(N,r,n,a);h.push(...b)}return{changes:h,updatedInternals:d}}async function RNe({delta:e,panZoom:r,transform:n,translateExtent:s,width:a,height:l}){if(!r||!e.x&&!e.y)return Promise.resolve(!1);const c=await r.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[a,l]],s),u=!!c&&(c.x!==n[0]||c.y!==n[1]||c.k!==n[2]);return Promise.resolve(u)}function YT(e,r,n,s,a,l){let c=a;const u=s.get(c)||new Map;s.set(c,u.set(n,r)),c=`${a}-${e}`;const d=s.get(c)||new Map;if(s.set(c,d.set(n,r)),l){c=`${a}-${e}-${l}`;const h=s.get(c)||new Map;s.set(c,h.set(n,r))}}function NL(e,r,n){e.clear(),r.clear();for(const s of n){const{source:a,target:l,sourceHandle:c=null,targetHandle:u=null}=s,d={edgeId:s.id,source:a,target:l,sourceHandle:c,targetHandle:u},h=`${a}-${c}--${l}-${u}`,g=`${l}-${u}--${a}-${c}`;YT("source",d,g,e,a,c),YT("target",d,h,e,l,u),r.set(s.id,s)}}function xL(e,r){if(!e.parentId)return!1;const n=r.get(e.parentId);return n?n.selected?!0:xL(n,r):!1}function XT(e,r,n){var a;let s=e;do{if((a=s==null?void 0:s.matches)!=null&&a.call(s,r))return!0;if(s===n)return!1;s=s==null?void 0:s.parentElement}while(s);return!1}function MNe(e,r,n,s){const a=new Map;for(const[l,c]of e)if((c.selected||c.id===s)&&(!c.parentId||!xL(c,e))&&(c.draggable||r&&typeof c.draggable>"u")){const u=e.get(l);u&&a.set(l,{id:l,position:u.position||{x:0,y:0},distance:{x:n.x-u.internals.positionAbsolute.x,y:n.y-u.internals.positionAbsolute.y},extent:u.extent,parentId:u.parentId,origin:u.origin,expandParent:u.expandParent,internals:{positionAbsolute:u.internals.positionAbsolute||{x:0,y:0}},measured:{width:u.measured.width??0,height:u.measured.height??0}})}return a}function sD({nodeId:e,dragItems:r,nodeLookup:n,dragging:s=!0}){var c,u,d;const a=[];for(const[h,g]of r){const p=(c=n.get(h))==null?void 0:c.internals.userNode;p&&a.push({...p,position:g.position,dragging:s})}if(!e)return[a[0],a];const l=(u=n.get(e))==null?void 0:u.internals.userNode;return[l?{...l,position:((d=r.get(e))==null?void 0:d.position)||l.position,dragging:s}:a[0],a]}function TNe({dragItems:e,snapGrid:r,x:n,y:s}){const a=e.values().next().value;if(!a)return null;const l={x:n-a.distance.x,y:s-a.distance.y},c=Zg(l,r);return{x:c.x-l.x,y:c.y-l.y}}function ANe({onNodeMouseDown:e,getStoreItems:r,onDragStart:n,onDrag:s,onDragStop:a}){let l={x:null,y:null},c=0,u=new Map,d=!1,h={x:0,y:0},g=null,p=!1,N=null,b=!1,D=!1,E=null;function j({noDragClassName:w,handleSelector:k,domNode:V,isSelectable:S,nodeId:R,nodeClickDistance:M=0}){N=ji(V);function T({x:$,y:W}){const{nodeLookup:O,nodeExtent:Y,snapGrid:H,snapToGrid:q,nodeOrigin:z,onNodeDrag:G,onSelectionDrag:ee,onError:K,updateNodePositions:be}=r();l={x:$,y:W};let _e=!1;const oe=u.size>1,fe=oe&&Y?jj(Qg(u)):null,Ae=oe&&q?TNe({dragItems:u,snapGrid:H,x:$,y:W}):null;for(const[ge,Pe]of u){if(!O.has(ge))continue;let ze={x:$-Pe.distance.x,y:W-Pe.distance.y};q&&(ze=Ae?{x:Math.round(ze.x+Ae.x),y:Math.round(ze.y+Ae.y)}:Zg(ze,H));let We=null;if(oe&&Y&&!Pe.extent&&fe){const{positionAbsolute:ie}=Pe.internals,ve=ie.x-fe.x+Y[0][0],ne=ie.x+Pe.measured.width-fe.x2+Y[1][0],le=ie.y-fe.y+Y[0][1],Ue=ie.y+Pe.measured.height-fe.y2+Y[1][1];We=[[ve,le],[ne,Ue]]}const{position:Re,positionAbsolute:Ee}=eL({nodeId:ge,nextPosition:ze,nodeLookup:O,nodeExtent:We||Y,nodeOrigin:z,onError:K});_e=_e||Pe.position.x!==Re.x||Pe.position.y!==Re.y,Pe.position=Re,Pe.internals.positionAbsolute=Ee}if(D=D||_e,!!_e&&(be(u,!0),E&&(s||G||!R&&ee))){const[ge,Pe]=sD({nodeId:R,dragItems:u,nodeLookup:O});s==null||s(E,u,ge,Pe),G==null||G(E,ge,Pe),R||ee==null||ee(E,Pe)}}async function A(){if(!g)return;const{transform:$,panBy:W,autoPanSpeed:O,autoPanOnNodeDrag:Y}=r();if(!Y){d=!1,cancelAnimationFrame(c);return}const[H,q]=rL(h,g,O);(H!==0||q!==0)&&(l.x=(l.x??0)-H/$[2],l.y=(l.y??0)-q/$[2],await W({x:H,y:q})&&T(l)),c=requestAnimationFrame(A)}function F($){var oe;const{nodeLookup:W,multiSelectionActive:O,nodesDraggable:Y,transform:H,snapGrid:q,snapToGrid:z,selectNodesOnDrag:G,onNodeDragStart:ee,onSelectionDragStart:K,unselectNodesAndEdges:be}=r();p=!0,(!G||!S)&&!O&&R&&((oe=W.get(R))!=null&&oe.selected||be()),S&&G&&R&&(e==null||e(R));const _e=eg($.sourceEvent,{transform:H,snapGrid:q,snapToGrid:z,containerBounds:g});if(l=_e,u=MNe(W,Y,_e,R),u.size>0&&(n||ee||!R&&K)){const[fe,Ae]=sD({nodeId:R,dragItems:u,nodeLookup:W});n==null||n($.sourceEvent,u,fe,Ae),ee==null||ee($.sourceEvent,fe,Ae),R||K==null||K($.sourceEvent,Ae)}}const L=TO().clickDistance(M).on("start",$=>{const{domNode:W,nodeDragThreshold:O,transform:Y,snapGrid:H,snapToGrid:q}=r();g=(W==null?void 0:W.getBoundingClientRect())||null,b=!1,D=!1,E=$.sourceEvent,O===0&&F($),l=eg($.sourceEvent,{transform:Y,snapGrid:H,snapToGrid:q,containerBounds:g}),h=Ra($.sourceEvent,g)}).on("drag",$=>{const{autoPanOnNodeDrag:W,transform:O,snapGrid:Y,snapToGrid:H,nodeDragThreshold:q,nodeLookup:z}=r(),G=eg($.sourceEvent,{transform:O,snapGrid:Y,snapToGrid:H,containerBounds:g});if(E=$.sourceEvent,($.sourceEvent.type==="touchmove"&&$.sourceEvent.touches.length>1||R&&!z.has(R))&&(b=!0),!b){if(!d&&W&&p&&(d=!0,A()),!p){const ee=Ra($.sourceEvent,g),K=ee.x-h.x,be=ee.y-h.y;Math.sqrt(K*K+be*be)>q&&F($)}(l.x!==G.xSnapped||l.y!==G.ySnapped)&&u&&p&&(h=Ra($.sourceEvent,g),T(G))}}).on("end",$=>{if(!(!p||b)&&(d=!1,p=!1,cancelAnimationFrame(c),u.size>0)){const{nodeLookup:W,updateNodePositions:O,onNodeDragStop:Y,onSelectionDragStop:H}=r();if(D&&(O(u,!1),D=!1),a||Y||!R&&H){const[q,z]=sD({nodeId:R,dragItems:u,nodeLookup:W,dragging:!1});a==null||a($.sourceEvent,u,q,z),Y==null||Y($.sourceEvent,q,z),R||H==null||H($.sourceEvent,z)}}}).filter($=>{const W=$.target;return!$.button&&(!w||!XT(W,`.${w}`,V))&&(!k||XT(W,k,V))});N.call(L)}function P(){N==null||N.on(".drag",null)}return{update:j,destroy:P}}function _Ne(e,r,n){const s=[],a={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const l of r.values())bg(a,hh(l))>0&&s.push(l);return s}const FNe=250;function INe(e,r,n,s){var u,d;let a=[],l=1/0;const c=_Ne(e,n,r+FNe);for(const h of c){const g=[...((u=h.internals.handleBounds)==null?void 0:u.source)??[],...((d=h.internals.handleBounds)==null?void 0:d.target)??[]];for(const p of g){if(s.nodeId===p.nodeId&&s.type===p.type&&s.id===p.id)continue;const{x:N,y:b}=Zu(h,p,p.position,!0),D=Math.sqrt(Math.pow(N-e.x,2)+Math.pow(b-e.y,2));D>r||(D<l?(a=[{...p,x:N,y:b}],l=D):D===l&&a.push({...p,x:N,y:b}))}}if(!a.length)return null;if(a.length>1){const h=s.type==="source"?"target":"source";return a.find(g=>g.type===h)??a[0]}return a[0]}function bL(e,r,n,s,a,l=!1){var h,g,p;const c=s.get(e);if(!c)return null;const u=a==="strict"?(h=c.internals.handleBounds)==null?void 0:h[r]:[...((g=c.internals.handleBounds)==null?void 0:g.source)??[],...((p=c.internals.handleBounds)==null?void 0:p.target)??[]],d=(n?u==null?void 0:u.find(N=>N.id===n):u==null?void 0:u[0])??null;return d&&l?{...d,...Zu(c,d,d.position,!0)}:d}function vL(e,r){return e||(r!=null&&r.classList.contains("target")?"target":r!=null&&r.classList.contains("source")?"source":null)}function ONe(e,r){let n=null;return r?n=!0:e&&!r&&(n=!1),n}const yL=()=>!0;function LNe(e,{connectionMode:r,connectionRadius:n,handleId:s,nodeId:a,edgeUpdaterType:l,isTarget:c,domNode:u,nodeLookup:d,lib:h,autoPanOnConnect:g,flowId:p,panBy:N,cancelConnection:b,onConnectStart:D,onConnect:E,onConnectEnd:j,isValidConnection:P=yL,onReconnectEnd:w,updateConnection:k,getTransform:V,getFromHandle:S,autoPanSpeed:R,dragThreshold:M=1,handleDomNode:T}){const A=oL(e.target);let F=0,L;const{x:$,y:W}=Ra(e),O=vL(l,T),Y=u==null?void 0:u.getBoundingClientRect();let H=!1;if(!Y||!O)return;const q=bL(a,O,s,d,r);if(!q)return;let z=Ra(e,Y),G=!1,ee=null,K=!1,be=null;function _e(){if(!g||!Y)return;const[Re,Ee]=rL(z,Y,R);N({x:Re,y:Ee}),F=requestAnimationFrame(_e)}const oe={...q,nodeId:a,type:O,position:q.position},fe=d.get(a);let ge={inProgress:!0,isValid:null,from:Zu(fe,oe,It.Left,!0),fromHandle:oe,fromPosition:oe.position,fromNode:fe,to:z,toHandle:null,toPosition:LT[oe.position],toNode:null,pointer:z};function Pe(){H=!0,k(ge),D==null||D(e,{nodeId:a,handleId:s,handleType:O})}M===0&&Pe();function ze(Re){if(!H){const{x:Ue,y:bt}=Ra(Re),ht=Ue-$,Mt=bt-W;if(!(ht*ht+Mt*Mt>M*M))return;Pe()}if(!S()||!oe){We(Re);return}const Ee=V();z=Ra(Re,Y),L=INe(eN(z,Ee,!1,[1,1]),n,d,oe),G||(_e(),G=!0);const ie=wL(Re,{handle:L,connectionMode:r,fromNodeId:a,fromHandleId:s,fromType:c?"target":"source",isValidConnection:P,doc:A,lib:h,flowId:p,nodeLookup:d});be=ie.handleDomNode,ee=ie.connection,K=ONe(!!L,ie.isValid);const ve=d.get(a),ne=ve?Zu(ve,oe,It.Left,!0):ge.from,le={...ge,from:ne,isValid:K,to:ie.toHandle&&K?Hv({x:ie.toHandle.x,y:ie.toHandle.y},Ee):z,toHandle:ie.toHandle,toPosition:K&&ie.toHandle?ie.toHandle.position:LT[oe.position],toNode:ie.toHandle?d.get(ie.toHandle.nodeId):null,pointer:z};k(le),ge=le}function We(Re){if(!("touches"in Re&&Re.touches.length>0)){if(H){(L||be)&&ee&&K&&(E==null||E(ee));const{inProgress:Ee,...ie}=ge,ve={...ie,toPosition:ge.toHandle?ge.toPosition:null};j==null||j(Re,ve),l&&(w==null||w(Re,ve))}b(),cancelAnimationFrame(F),G=!1,K=!1,ee=null,be=null,A.removeEventListener("mousemove",ze),A.removeEventListener("mouseup",We),A.removeEventListener("touchmove",ze),A.removeEventListener("touchend",We)}}A.addEventListener("mousemove",ze),A.addEventListener("mouseup",We),A.addEventListener("touchmove",ze),A.addEventListener("touchend",We)}function wL(e,{handle:r,connectionMode:n,fromNodeId:s,fromHandleId:a,fromType:l,doc:c,lib:u,flowId:d,isValidConnection:h=yL,nodeLookup:g}){const p=l==="target",N=r?c.querySelector(`.${u}-flow__handle[data-id="${d}-${r==null?void 0:r.nodeId}-${r==null?void 0:r.id}-${r==null?void 0:r.type}"]`):null,{x:b,y:D}=Ra(e),E=c.elementFromPoint(b,D),j=E!=null&&E.classList.contains(`${u}-flow__handle`)?E:N,P={handleDomNode:j,isValid:!1,connection:null,toHandle:null};if(j){const w=vL(void 0,j),k=j.getAttribute("data-nodeid"),V=j.getAttribute("data-handleid"),S=j.classList.contains("connectable"),R=j.classList.contains("connectableend");if(!k||!w)return P;const M={source:p?k:s,sourceHandle:p?V:a,target:p?s:k,targetHandle:p?a:V};P.connection=M;const A=S&&R&&(n===mh.Strict?p&&w==="source"||!p&&w==="target":k!==s||V!==a);P.isValid=A&&h(M),P.toHandle=bL(k,w,V,g,n,!0)}return P}const Cj={onPointerDown:LNe,isValid:wL};function $Ne({domNode:e,panZoom:r,getTransform:n,getViewScale:s}){const a=ji(e);function l({translateExtent:u,width:d,height:h,zoomStep:g=1,pannable:p=!0,zoomable:N=!0,inversePan:b=!1}){const D=k=>{if(k.sourceEvent.type!=="wheel"||!r)return;const V=n(),S=k.sourceEvent.ctrlKey&&vg()?10:1,R=-k.sourceEvent.deltaY*(k.sourceEvent.deltaMode===1?.05:k.sourceEvent.deltaMode?1:.002)*g,M=V[2]*Math.pow(2,R*S);r.scaleTo(M)};let E=[0,0];const j=k=>{(k.sourceEvent.type==="mousedown"||k.sourceEvent.type==="touchstart")&&(E=[k.sourceEvent.clientX??k.sourceEvent.touches[0].clientX,k.sourceEvent.clientY??k.sourceEvent.touches[0].clientY])},P=k=>{const V=n();if(k.sourceEvent.type!=="mousemove"&&k.sourceEvent.type!=="touchmove"||!r)return;const S=[k.sourceEvent.clientX??k.sourceEvent.touches[0].clientX,k.sourceEvent.clientY??k.sourceEvent.touches[0].clientY],R=[S[0]-E[0],S[1]-E[1]];E=S;const M=s()*Math.max(V[2],Math.log(V[2]))*(b?-1:1),T={x:V[0]-R[0]*M,y:V[1]-R[1]*M},A=[[0,0],[d,h]];r.setViewportConstrained({x:T.x,y:T.y,zoom:V[2]},A,u)},w=KO().on("start",j).on("zoom",p?P:null).on("zoom.wheel",N?D:null);a.call(w,{})}function c(){a.on("zoom",null)}return{update:l,destroy:c,pointer:ka}}const ty=e=>({x:e.x,y:e.y,zoom:e.k}),iD=({x:e,y:r,zoom:n})=>Q0.translate(e,r).scale(n),kd=(e,r)=>e.target.closest(`.${r}`),kL=(e,r)=>r===2&&Array.isArray(e)&&e.includes(2),BNe=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,aD=(e,r=0,n=BNe,s=()=>{})=>{const a=typeof r=="number"&&r>0;return a||s(),a?e.transition().duration(r).ease(n).on("end",s):e},EL=e=>{const r=e.ctrlKey&&vg()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*r};function zNe({zoomPanValues:e,noWheelClassName:r,d3Selection:n,d3Zoom:s,panOnScrollMode:a,panOnScrollSpeed:l,zoomOnPinch:c,onPanZoomStart:u,onPanZoom:d,onPanZoomEnd:h}){return g=>{if(kd(g,r))return g.ctrlKey&&g.preventDefault(),!1;g.preventDefault(),g.stopImmediatePropagation();const p=n.property("__zoom").k||1;if(g.ctrlKey&&c){const j=ka(g),P=EL(g),w=p*Math.pow(2,P);s.scaleTo(n,w,j,g);return}const N=g.deltaMode===1?20:1;let b=a===$u.Vertical?0:g.deltaX*N,D=a===$u.Horizontal?0:g.deltaY*N;!vg()&&g.shiftKey&&a!==$u.Vertical&&(b=g.deltaY*N,D=0),s.translateBy(n,-(b/p)*l,-(D/p)*l,{internal:!0});const E=ty(n.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling?(d==null||d(g,E),e.panScrollTimeout=setTimeout(()=>{h==null||h(g,E),e.isPanScrolling=!1},150)):(e.isPanScrolling=!0,u==null||u(g,E))}}function WNe({noWheelClassName:e,preventScrolling:r,d3ZoomHandler:n}){return function(s,a){const l=s.type==="wheel",c=!r&&l&&!s.ctrlKey,u=kd(s,e);if(s.ctrlKey&&l&&u&&s.preventDefault(),c||u)return null;s.preventDefault(),n.call(this,s,a)}}function UNe({zoomPanValues:e,onDraggingChange:r,onPanZoomStart:n}){return s=>{var l,c,u;if((l=s.sourceEvent)!=null&&l.internal)return;const a=ty(s.transform);e.mouseButton=((c=s.sourceEvent)==null?void 0:c.button)||0,e.isZoomingOrPanning=!0,e.prevViewport=a,((u=s.sourceEvent)==null?void 0:u.type)==="mousedown"&&r(!0),n&&(n==null||n(s.sourceEvent,a))}}function GNe({zoomPanValues:e,panOnDrag:r,onPaneContextMenu:n,onTransformChange:s,onPanZoom:a}){return l=>{var c,u;e.usedRightMouseButton=!!(n&&kL(r,e.mouseButton??0)),(c=l.sourceEvent)!=null&&c.sync||s([l.transform.x,l.transform.y,l.transform.k]),a&&!((u=l.sourceEvent)!=null&&u.internal)&&(a==null||a(l.sourceEvent,ty(l.transform)))}}function HNe({zoomPanValues:e,panOnDrag:r,panOnScroll:n,onDraggingChange:s,onPanZoomEnd:a,onPaneContextMenu:l}){return c=>{var u;if(!((u=c.sourceEvent)!=null&&u.internal)&&(e.isZoomingOrPanning=!1,l&&kL(r,e.mouseButton??0)&&!e.usedRightMouseButton&&c.sourceEvent&&l(c.sourceEvent),e.usedRightMouseButton=!1,s(!1),a)){const d=ty(c.transform);e.prevViewport=d,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{a==null||a(c.sourceEvent,d)},n?150:0)}}}function JNe({zoomActivationKeyPressed:e,zoomOnScroll:r,zoomOnPinch:n,panOnDrag:s,panOnScroll:a,zoomOnDoubleClick:l,userSelectionActive:c,noWheelClassName:u,noPanClassName:d,lib:h,connectionInProgress:g}){return p=>{var j;const N=e||r,b=n&&p.ctrlKey,D=p.type==="wheel";if(p.button===1&&p.type==="mousedown"&&(kd(p,`${h}-flow__node`)||kd(p,`${h}-flow__edge`)))return!0;if(!s&&!N&&!a&&!l&&!n||c||g&&!D||kd(p,u)&&D||kd(p,d)&&(!D||a&&D&&!e)||!n&&p.ctrlKey&&D)return!1;if(!n&&p.type==="touchstart"&&((j=p.touches)==null?void 0:j.length)>1)return p.preventDefault(),!1;if(!N&&!a&&!b&&D||!s&&(p.type==="mousedown"||p.type==="touchstart")||Array.isArray(s)&&!s.includes(p.button)&&p.type==="mousedown")return!1;const E=Array.isArray(s)&&s.includes(p.button)||!p.button||p.button<=1;return(!p.ctrlKey||D)&&E}}function KNe({domNode:e,minZoom:r,maxZoom:n,translateExtent:s,viewport:a,onPanZoom:l,onPanZoomStart:c,onPanZoomEnd:u,onDraggingChange:d}){const h={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},g=e.getBoundingClientRect(),p=KO().scaleExtent([r,n]).translateExtent(s),N=ji(e).call(p);w({x:a.x,y:a.y,zoom:dh(a.zoom,r,n)},[[0,0],[g.width,g.height]],s);const b=N.on("wheel.zoom"),D=N.on("dblclick.zoom");p.wheelDelta(EL);function E(L,$){return N?new Promise(W=>{p==null||p.interpolate(($==null?void 0:$.interpolate)==="linear"?Zp:Qb).transform(aD(N,$==null?void 0:$.duration,$==null?void 0:$.ease,()=>W(!0)),L)}):Promise.resolve(!1)}function j({noWheelClassName:L,noPanClassName:$,onPaneContextMenu:W,userSelectionActive:O,panOnScroll:Y,panOnDrag:H,panOnScrollMode:q,panOnScrollSpeed:z,preventScrolling:G,zoomOnPinch:ee,zoomOnScroll:K,zoomOnDoubleClick:be,zoomActivationKeyPressed:_e,lib:oe,onTransformChange:fe,connectionInProgress:Ae,paneClickDistance:ge,selectionOnDrag:Pe}){O&&!h.isZoomingOrPanning&&P();const ze=Y&&!_e&&!O;p.clickDistance(Pe?1/0:!Ca(ge)||ge<0?0:ge);const We=ze?zNe({zoomPanValues:h,noWheelClassName:L,d3Selection:N,d3Zoom:p,panOnScrollMode:q,panOnScrollSpeed:z,zoomOnPinch:ee,onPanZoomStart:c,onPanZoom:l,onPanZoomEnd:u}):WNe({noWheelClassName:L,preventScrolling:G,d3ZoomHandler:b});if(N.on("wheel.zoom",We,{passive:!1}),!O){const Ee=UNe({zoomPanValues:h,onDraggingChange:d,onPanZoomStart:c});p.on("start",Ee);const ie=GNe({zoomPanValues:h,panOnDrag:H,onPaneContextMenu:!!W,onPanZoom:l,onTransformChange:fe});p.on("zoom",ie);const ve=HNe({zoomPanValues:h,panOnDrag:H,panOnScroll:Y,onPaneContextMenu:W,onPanZoomEnd:u,onDraggingChange:d});p.on("end",ve)}const Re=JNe({zoomActivationKeyPressed:_e,panOnDrag:H,zoomOnScroll:K,panOnScroll:Y,zoomOnDoubleClick:be,zoomOnPinch:ee,userSelectionActive:O,noPanClassName:$,noWheelClassName:L,lib:oe,connectionInProgress:Ae});p.filter(Re),be?N.on("dblclick.zoom",D):N.on("dblclick.zoom",null)}function P(){p.on("zoom",null)}async function w(L,$,W){const O=iD(L),Y=p==null?void 0:p.constrain()(O,$,W);return Y&&await E(Y),new Promise(H=>H(Y))}async function k(L,$){const W=iD(L);return await E(W,$),new Promise(O=>O(W))}function V(L){if(N){const $=iD(L),W=N.property("__zoom");(W.k!==L.zoom||W.x!==L.x||W.y!==L.y)&&(p==null||p.transform(N,$,null,{sync:!0}))}}function S(){const L=N?JO(N.node()):{x:0,y:0,k:1};return{x:L.x,y:L.y,zoom:L.k}}function R(L,$){return N?new Promise(W=>{p==null||p.interpolate(($==null?void 0:$.interpolate)==="linear"?Zp:Qb).scaleTo(aD(N,$==null?void 0:$.duration,$==null?void 0:$.ease,()=>W(!0)),L)}):Promise.resolve(!1)}function M(L,$){return N?new Promise(W=>{p==null||p.interpolate(($==null?void 0:$.interpolate)==="linear"?Zp:Qb).scaleBy(aD(N,$==null?void 0:$.duration,$==null?void 0:$.ease,()=>W(!0)),L)}):Promise.resolve(!1)}function T(L){p==null||p.scaleExtent(L)}function A(L){p==null||p.translateExtent(L)}function F(L){const $=!Ca(L)||L<0?0:L;p==null||p.clickDistance($)}return{update:j,destroy:P,setViewport:k,setViewportConstrained:w,getViewport:S,scaleTo:R,scaleBy:M,setScaleExtent:T,setTranslateExtent:A,syncViewport:V,setClickDistance:F}}var ph;(function(e){e.Line="line",e.Handle="handle"})(ph||(ph={}));function qNe({width:e,prevWidth:r,height:n,prevHeight:s,affectsX:a,affectsY:l}){const c=e-r,u=n-s,d=[c>0?1:c<0?-1:0,u>0?1:u<0?-1:0];return c&&a&&(d[0]=d[0]*-1),u&&l&&(d[1]=d[1]*-1),d}function QT(e){const r=e.includes("right")||e.includes("left"),n=e.includes("bottom")||e.includes("top"),s=e.includes("left"),a=e.includes("top");return{isHorizontal:r,isVertical:n,affectsX:s,affectsY:a}}function rc(e,r){return Math.max(0,r-e)}function nc(e,r){return Math.max(0,e-r)}function _b(e,r,n){return Math.max(0,r-e,e-n)}function ZT(e,r){return e?!r:r}function YNe(e,r,n,s,a,l,c,u){let{affectsX:d,affectsY:h}=r;const{isHorizontal:g,isVertical:p}=r,N=g&&p,{xSnapped:b,ySnapped:D}=n,{minWidth:E,maxWidth:j,minHeight:P,maxHeight:w}=s,{x:k,y:V,width:S,height:R,aspectRatio:M}=e;let T=Math.floor(g?b-e.pointerX:0),A=Math.floor(p?D-e.pointerY:0);const F=S+(d?-T:T),L=R+(h?-A:A),$=-l[0]*S,W=-l[1]*R;let O=_b(F,E,j),Y=_b(L,P,w);if(c){let z=0,G=0;d&&T<0?z=rc(k+T+$,c[0][0]):!d&&T>0&&(z=nc(k+F+$,c[1][0])),h&&A<0?G=rc(V+A+W,c[0][1]):!h&&A>0&&(G=nc(V+L+W,c[1][1])),O=Math.max(O,z),Y=Math.max(Y,G)}if(u){let z=0,G=0;d&&T>0?z=nc(k+T,u[0][0]):!d&&T<0&&(z=rc(k+F,u[1][0])),h&&A>0?G=nc(V+A,u[0][1]):!h&&A<0&&(G=rc(V+L,u[1][1])),O=Math.max(O,z),Y=Math.max(Y,G)}if(a){if(g){const z=_b(F/M,P,w)*M;if(O=Math.max(O,z),c){let G=0;!d&&!h||d&&!h&&N?G=nc(V+W+F/M,c[1][1])*M:G=rc(V+W+(d?T:-T)/M,c[0][1])*M,O=Math.max(O,G)}if(u){let G=0;!d&&!h||d&&!h&&N?G=rc(V+F/M,u[1][1])*M:G=nc(V+(d?T:-T)/M,u[0][1])*M,O=Math.max(O,G)}}if(p){const z=_b(L*M,E,j)/M;if(Y=Math.max(Y,z),c){let G=0;!d&&!h||h&&!d&&N?G=nc(k+L*M+$,c[1][0])/M:G=rc(k+(h?A:-A)*M+$,c[0][0])/M,Y=Math.max(Y,G)}if(u){let G=0;!d&&!h||h&&!d&&N?G=rc(k+L*M,u[1][0])/M:G=nc(k+(h?A:-A)*M,u[0][0])/M,Y=Math.max(Y,G)}}}A=A+(A<0?Y:-Y),T=T+(T<0?O:-O),a&&(N?F>L*M?A=(ZT(d,h)?-T:T)/M:T=(ZT(d,h)?-A:A)*M:g?(A=T/M,h=d):(T=A*M,d=h));const H=d?k+T:k,q=h?V+A:V;return{width:S+(d?-T:T),height:R+(h?-A:A),x:l[0]*T*(d?-1:1)+H,y:l[1]*A*(h?-1:1)+q}}const DL={width:0,height:0,x:0,y:0},XNe={...DL,pointerX:0,pointerY:0,aspectRatio:1};function QNe(e){return[[0,0],[e.measured.width,e.measured.height]]}function ZNe(e,r,n){const s=r.position.x+e.position.x,a=r.position.y+e.position.y,l=e.measured.width??0,c=e.measured.height??0,u=n[0]*l,d=n[1]*c;return[[s-u,a-d],[s+l-u,a+c-d]]}function exe({domNode:e,nodeId:r,getStoreItems:n,onChange:s,onEnd:a}){const l=ji(e);let c={controlDirection:QT("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function u({controlPosition:h,boundaries:g,keepAspectRatio:p,resizeDirection:N,onResizeStart:b,onResize:D,onResizeEnd:E,shouldResize:j}){let P={...DL},w={...XNe};c={boundaries:g,resizeDirection:N,keepAspectRatio:p,controlDirection:QT(h)};let k,V=null,S=[],R,M,T,A=!1;const F=TO().on("start",L=>{const{nodeLookup:$,transform:W,snapGrid:O,snapToGrid:Y,nodeOrigin:H,paneDomNode:q}=n();if(k=$.get(r),!k)return;V=(q==null?void 0:q.getBoundingClientRect())??null;const{xSnapped:z,ySnapped:G}=eg(L.sourceEvent,{transform:W,snapGrid:O,snapToGrid:Y,containerBounds:V});P={width:k.measured.width??0,height:k.measured.height??0,x:k.position.x??0,y:k.position.y??0},w={...P,pointerX:z,pointerY:G,aspectRatio:P.width/P.height},R=void 0,k.parentId&&(k.extent==="parent"||k.expandParent)&&(R=$.get(k.parentId),M=R&&k.extent==="parent"?QNe(R):void 0),S=[],T=void 0;for(const[ee,K]of $)if(K.parentId===r&&(S.push({id:ee,position:{...K.position},extent:K.extent}),K.extent==="parent"||K.expandParent)){const be=ZNe(K,k,K.origin??H);T?T=[[Math.min(be[0][0],T[0][0]),Math.min(be[0][1],T[0][1])],[Math.max(be[1][0],T[1][0]),Math.max(be[1][1],T[1][1])]]:T=be}b==null||b(L,{...P})}).on("drag",L=>{const{transform:$,snapGrid:W,snapToGrid:O,nodeOrigin:Y}=n(),H=eg(L.sourceEvent,{transform:$,snapGrid:W,snapToGrid:O,containerBounds:V}),q=[];if(!k)return;const{x:z,y:G,width:ee,height:K}=P,be={},_e=k.origin??Y,{width:oe,height:fe,x:Ae,y:ge}=YNe(w,c.controlDirection,H,c.boundaries,c.keepAspectRatio,_e,M,T),Pe=oe!==ee,ze=fe!==K,We=Ae!==z&&Pe,Re=ge!==G&&ze;if(!We&&!Re&&!Pe&&!ze)return;if((We||Re||_e[0]===1||_e[1]===1)&&(be.x=We?Ae:P.x,be.y=Re?ge:P.y,P.x=be.x,P.y=be.y,S.length>0)){const ne=Ae-z,le=ge-G;for(const Ue of S)Ue.position={x:Ue.position.x-ne+_e[0]*(oe-ee),y:Ue.position.y-le+_e[1]*(fe-K)},q.push(Ue)}if((Pe||ze)&&(be.width=Pe&&(!c.resizeDirection||c.resizeDirection==="horizontal")?oe:P.width,be.height=ze&&(!c.resizeDirection||c.resizeDirection==="vertical")?fe:P.height,P.width=be.width,P.height=be.height),R&&k.expandParent){const ne=_e[0]*(be.width??0);be.x&&be.x<ne&&(P.x=ne,w.x=w.x-(be.x-ne));const le=_e[1]*(be.height??0);be.y&&be.y<le&&(P.y=le,w.y=w.y-(be.y-le))}const Ee=qNe({width:P.width,prevWidth:ee,height:P.height,prevHeight:K,affectsX:c.controlDirection.affectsX,affectsY:c.controlDirection.affectsY}),ie={...P,direction:Ee};(j==null?void 0:j(L,ie))!==!1&&(A=!0,D==null||D(L,ie),s(be,q))}).on("end",L=>{A&&(E==null||E(L,{...P}),a==null||a({...P}),A=!1)});l.call(F)}function d(){l.on(".drag",null)}return{update:u,destroy:d}}var jL={exports:{}},VL={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error);var e=v,r=G9;function n(g,p){return g===p&&(g!==0||1/g===1/p)||g!==g&&p!==p}var s=typeof Object.is=="function"?Object.is:n,a=r.useSyncExternalStore,l=e.useRef,c=e.useEffect,u=e.useMemo,d=e.useDebugValue;function h(g,p,N,b,D){var E=l(null),j;E.current===null?(j={hasValue:!1,value:null},E.current=j):j=E.current;var P=u(function(){var S=!1,R,M,T=function($){if(!S){S=!0,R=$;var W=b($);if(D!==void 0&&j.hasValue){var O=j.value;if(D(O,W))return M=O,O}return M=W,W}var Y=R,H=M;if(s(Y,$))return H;var q=b($);return D!==void 0&&D(H,q)?H:(R=$,M=q,q)},A=N===void 0?null:N,F=function(){return T(p())},L=A===null?void 0:function(){return T(A())};return[F,L]},[p,N,b,D]),w=P[0],k=P[1],V=a(g,w,k);return c(function(){j.hasValue=!0,j.value=V},[V]),d(V),V}VL.useSyncExternalStoreWithSelector=h,typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error)})();jL.exports=VL;var txe=jL.exports;const rxe=Mj(txe),nxe={},e9=e=>{let r;const n=new Set,s=(g,p)=>{const N=typeof g=="function"?g(r):g;if(!Object.is(N,r)){const b=r;r=p??(typeof N!="object"||N===null)?N:Object.assign({},r,N),n.forEach(D=>D(r,b))}},a=()=>r,d={setState:s,getState:a,getInitialState:()=>h,subscribe:g=>(n.add(g),()=>n.delete(g)),destroy:()=>{(nxe?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},h=r=e(s,a,d);return d},sxe=e=>e?e9(e):e9,{useDebugValue:ixe}=St,{useSyncExternalStoreWithSelector:axe}=rxe,oxe=e=>e;function PL(e,r=oxe,n){const s=axe(e.subscribe,e.getState,e.getServerState||e.getInitialState,r,n);return ixe(s),s}const t9=(e,r)=>{const n=sxe(e),s=(a,l=r)=>PL(n,a,l);return Object.assign(s,n),s},lxe=(e,r)=>e?t9(e,r):t9;function fn(e,r){if(Object.is(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;if(e instanceof Map&&r instanceof Map){if(e.size!==r.size)return!1;for(const[s,a]of e)if(!Object.is(a,r.get(s)))return!1;return!0}if(e instanceof Set&&r instanceof Set){if(e.size!==r.size)return!1;for(const s of e)if(!r.has(s))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(r).length)return!1;for(const s of n)if(!Object.prototype.hasOwnProperty.call(r,s)||!Object.is(e[s],r[s]))return!1;return!0}const ry=v.createContext(null),cxe=ry.Provider,SL=_i.error001();function Mr(e,r){const n=v.useContext(ry);if(n===null)throw new Error(SL);return PL(n,e,r)}function pn(){const e=v.useContext(ry);if(e===null)throw new Error(SL);return v.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const r9={display:"none"},uxe={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},CL="react-flow__node-desc",RL="react-flow__edge-desc",mxe="react-flow__aria-live",dxe=e=>e.ariaLiveMessage,hxe=e=>e.ariaLabelConfig;function fxe({rfId:e}){const r=Mr(dxe);return U.jsx("div",{id:`${mxe}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:uxe,children:r})}function pxe({rfId:e,disableKeyboardA11y:r}){const n=Mr(hxe);return U.jsxs(U.Fragment,{children:[U.jsx("div",{id:`${CL}-${e}`,style:r9,children:r?n["node.a11yDescription.default"]:n["node.a11yDescription.keyboardDisabled"]}),U.jsx("div",{id:`${RL}-${e}`,style:r9,children:n["edge.a11yDescription.default"]}),!r&&U.jsx(fxe,{rfId:e})]})}const ny=v.forwardRef(({position:e="top-left",children:r,className:n,style:s,...a},l)=>{const c=`${e}`.split("-");return U.jsx("div",{className:$n(["react-flow__panel",n,...c]),style:s,ref:l,...a,children:r})});ny.displayName="Panel";function gxe({proOptions:e,position:r="bottom-right"}){return e!=null&&e.hideAttribution?null:U.jsx(ny,{position:r,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:U.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const Nxe=e=>{const r=[],n=[];for(const[,s]of e.nodeLookup)s.selected&&r.push(s.internals.userNode);for(const[,s]of e.edgeLookup)s.selected&&n.push(s);return{selectedNodes:r,selectedEdges:n}},Fb=e=>e.id;function xxe(e,r){return fn(e.selectedNodes.map(Fb),r.selectedNodes.map(Fb))&&fn(e.selectedEdges.map(Fb),r.selectedEdges.map(Fb))}function bxe({onSelectionChange:e}){const r=pn(),{selectedNodes:n,selectedEdges:s}=Mr(Nxe,xxe);return v.useEffect(()=>{const a={nodes:n,edges:s};e==null||e(a),r.getState().onSelectionChangeHandlers.forEach(l=>l(a))},[n,s,e]),null}const vxe=e=>!!e.onSelectionChangeHandlers;function yxe({onSelectionChange:e}){const r=Mr(vxe);return e||r?U.jsx(bxe,{onSelectionChange:e}):null}const ML=[0,0],wxe={x:0,y:0,zoom:1},kxe=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","ariaLabelConfig","zIndexMode"],n9=[...kxe,"rfId"],Exe=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges}),s9={translateExtent:Ng,nodeOrigin:ML,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1"};function Dxe(e){const{setNodes:r,setEdges:n,setMinZoom:s,setMaxZoom:a,setTranslateExtent:l,setNodeExtent:c,reset:u,setDefaultNodesAndEdges:d}=Mr(Exe,fn),h=pn();v.useEffect(()=>(d(e.defaultNodes,e.defaultEdges),()=>{g.current=s9,u()}),[]);const g=v.useRef(s9);return v.useEffect(()=>{for(const p of n9){const N=e[p],b=g.current[p];N!==b&&(typeof e[p]>"u"||(p==="nodes"?r(N):p==="edges"?n(N):p==="minZoom"?s(N):p==="maxZoom"?a(N):p==="translateExtent"?l(N):p==="nodeExtent"?c(N):p==="ariaLabelConfig"?h.setState({ariaLabelConfig:hNe(N)}):p==="fitView"?h.setState({fitViewQueued:N}):p==="fitViewOptions"?h.setState({fitViewOptions:N}):h.setState({[p]:N})))}g.current=e},n9.map(p=>e[p])),null}function i9(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function jxe(e){var s;const[r,n]=v.useState(e==="system"?null:e);return v.useEffect(()=>{if(e!=="system"){n(e);return}const a=i9(),l=()=>n(a!=null&&a.matches?"dark":"light");return l(),a==null||a.addEventListener("change",l),()=>{a==null||a.removeEventListener("change",l)}},[e]),r!==null?r:(s=i9())!=null&&s.matches?"dark":"light"}const a9=typeof document<"u"?document:null;function yg(e=null,r={target:a9,actInsideInputWithModifier:!0}){const[n,s]=v.useState(!1),a=v.useRef(!1),l=v.useRef(new Set([])),[c,u]=v.useMemo(()=>{if(e!==null){const h=(Array.isArray(e)?e:[e]).filter(p=>typeof p=="string").map(p=>p.replace("+",`
`).replace(`

`,`
+`).split(`
`)),g=h.reduce((p,N)=>p.concat(...N),[]);return[h,g]}return[[],[]]},[e]);return v.useEffect(()=>{const d=(r==null?void 0:r.target)??a9,h=(r==null?void 0:r.actInsideInputWithModifier)??!0;if(e!==null){const g=b=>{var j,P;if(a.current=b.ctrlKey||b.metaKey||b.shiftKey||b.altKey,(!a.current||a.current&&!h)&&lL(b))return!1;const E=l9(b.code,u);if(l.current.add(b[E]),o9(c,l.current,!1)){const w=((P=(j=b.composedPath)==null?void 0:j.call(b))==null?void 0:P[0])||b.target,k=(w==null?void 0:w.nodeName)==="BUTTON"||(w==null?void 0:w.nodeName)==="A";r.preventDefault!==!1&&(a.current||!k)&&b.preventDefault(),s(!0)}},p=b=>{const D=l9(b.code,u);o9(c,l.current,!0)?(s(!1),l.current.clear()):l.current.delete(b[D]),b.key==="Meta"&&l.current.clear(),a.current=!1},N=()=>{l.current.clear(),s(!1)};return d==null||d.addEventListener("keydown",g),d==null||d.addEventListener("keyup",p),window.addEventListener("blur",N),window.addEventListener("contextmenu",N),()=>{d==null||d.removeEventListener("keydown",g),d==null||d.removeEventListener("keyup",p),window.removeEventListener("blur",N),window.removeEventListener("contextmenu",N)}}},[e,s]),n}function o9(e,r,n){return e.filter(s=>n||s.length===r.size).some(s=>s.every(a=>r.has(a)))}function l9(e,r){return r.includes(e)?"code":"key"}const Vxe=()=>{const e=pn();return v.useMemo(()=>({zoomIn:r=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1.2,{duration:r==null?void 0:r.duration}):Promise.resolve(!1)},zoomOut:r=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1/1.2,{duration:r==null?void 0:r.duration}):Promise.resolve(!1)},zoomTo:(r,n)=>{const{panZoom:s}=e.getState();return s?s.scaleTo(r,{duration:n==null?void 0:n.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(r,n)=>{const{transform:[s,a,l],panZoom:c}=e.getState();return c?(await c.setViewport({x:r.x??s,y:r.y??a,zoom:r.zoom??l},n),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[r,n,s]=e.getState().transform;return{x:r,y:n,zoom:s}},setCenter:async(r,n,s)=>e.getState().setCenter(r,n,s),fitBounds:async(r,n)=>{const{width:s,height:a,minZoom:l,maxZoom:c,panZoom:u}=e.getState(),d=BP(r,s,a,l,c,(n==null?void 0:n.padding)??.1);return u?(await u.setViewport(d,{duration:n==null?void 0:n.duration,ease:n==null?void 0:n.ease,interpolate:n==null?void 0:n.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(r,n={})=>{const{transform:s,snapGrid:a,snapToGrid:l,domNode:c}=e.getState();if(!c)return r;const{x:u,y:d}=c.getBoundingClientRect(),h={x:r.x-u,y:r.y-d},g=n.snapGrid??a,p=n.snapToGrid??l;return eN(h,s,p,g)},flowToScreenPosition:r=>{const{transform:n,domNode:s}=e.getState();if(!s)return r;const{x:a,y:l}=s.getBoundingClientRect(),c=Hv(r,n);return{x:c.x+a,y:c.y+l}}}),[])};function TL(e,r){const n=[],s=new Map,a=[];for(const l of e)if(l.type==="add"){a.push(l);continue}else if(l.type==="remove"||l.type==="replace")s.set(l.id,[l]);else{const c=s.get(l.id);c?c.push(l):s.set(l.id,[l])}for(const l of r){const c=s.get(l.id);if(!c){n.push(l);continue}if(c[0].type==="remove")continue;if(c[0].type==="replace"){n.push({...c[0].item});continue}const u={...l};for(const d of c)Pxe(d,u);n.push(u)}return a.length&&a.forEach(l=>{l.index!==void 0?n.splice(l.index,0,{...l.item}):n.push({...l.item})}),n}function Pxe(e,r){switch(e.type){case"select":{r.selected=e.selected;break}case"position":{typeof e.position<"u"&&(r.position=e.position),typeof e.dragging<"u"&&(r.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(r.measured={...e.dimensions},e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(r.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(r.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(r.resizing=e.resizing);break}}}function AL(e,r){return TL(e,r)}function _L(e,r){return TL(e,r)}function Du(e,r){return{id:e,type:"select",selected:r}}function Ed(e,r=new Set,n=!1){const s=[];for(const[a,l]of e){const c=r.has(a);!(l.selected===void 0&&!c)&&l.selected!==c&&(n&&(l.selected=c),s.push(Du(l.id,c)))}return s}function c9({items:e=[],lookup:r}){var a;const n=[],s=new Map(e.map(l=>[l.id,l]));for(const[l,c]of e.entries()){const u=r.get(c.id),d=((a=u==null?void 0:u.internals)==null?void 0:a.userNode)??u;d!==void 0&&d!==c&&n.push({id:c.id,item:c,type:"replace"}),d===void 0&&n.push({item:c,type:"add",index:l})}for(const[l]of r)s.get(l)===void 0&&n.push({id:l,type:"remove"});return n}function u9(e){return{id:e.id,type:"remove"}}const m9=e=>sNe(e),Sxe=e=>ZO(e);function FL(e){return v.forwardRef(e)}const Cxe=typeof window<"u"?v.useLayoutEffect:v.useEffect;function d9(e){const[r,n]=v.useState(BigInt(0)),[s]=v.useState(()=>Rxe(()=>n(a=>a+BigInt(1))));return Cxe(()=>{const a=s.get();a.length&&(e(a),s.reset())},[r]),s}function Rxe(e){let r=[];return{get:()=>r,reset:()=>{r=[]},push:n=>{r.push(n),e()}}}const IL=v.createContext(null);function Mxe({children:e}){const r=pn(),n=v.useCallback(u=>{const{nodes:d=[],setNodes:h,hasDefaultNodes:g,onNodesChange:p,nodeLookup:N,fitViewQueued:b,onNodesChangeMiddlewareMap:D}=r.getState();let E=d;for(const P of u)E=typeof P=="function"?P(E):P;let j=c9({items:E,lookup:N});for(const P of D.values())j=P(j);g&&h(E),j.length>0?p==null||p(j):b&&window.requestAnimationFrame(()=>{const{fitViewQueued:P,nodes:w,setNodes:k}=r.getState();P&&k(w)})},[]),s=d9(n),a=v.useCallback(u=>{const{edges:d=[],setEdges:h,hasDefaultEdges:g,onEdgesChange:p,edgeLookup:N}=r.getState();let b=d;for(const D of u)b=typeof D=="function"?D(b):D;g?h(b):p&&p(c9({items:b,lookup:N}))},[]),l=d9(a),c=v.useMemo(()=>({nodeQueue:s,edgeQueue:l}),[]);return U.jsx(IL.Provider,{value:c,children:e})}function Txe(){const e=v.useContext(IL);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const Axe=e=>!!e.panZoom;function KP(){const e=Vxe(),r=pn(),n=Txe(),s=Mr(Axe),a=v.useMemo(()=>{const l=p=>r.getState().nodeLookup.get(p),c=p=>{n.nodeQueue.push(p)},u=p=>{n.edgeQueue.push(p)},d=p=>{var P,w;const{nodeLookup:N,nodeOrigin:b}=r.getState(),D=m9(p)?p:N.get(p.id),E=D.parentId?aL(D.position,D.measured,D.parentId,N,b):D.position,j={...D,position:E,width:((P=D.measured)==null?void 0:P.width)??D.width,height:((w=D.measured)==null?void 0:w.height)??D.height};return hh(j)},h=(p,N,b={replace:!1})=>{c(D=>D.map(E=>{if(E.id===p){const j=typeof N=="function"?N(E):N;return b.replace&&m9(j)?j:{...E,...j}}return E}))},g=(p,N,b={replace:!1})=>{u(D=>D.map(E=>{if(E.id===p){const j=typeof N=="function"?N(E):N;return b.replace&&Sxe(j)?j:{...E,...j}}return E}))};return{getNodes:()=>r.getState().nodes.map(p=>({...p})),getNode:p=>{var N;return(N=l(p))==null?void 0:N.internals.userNode},getInternalNode:l,getEdges:()=>{const{edges:p=[]}=r.getState();return p.map(N=>({...N}))},getEdge:p=>r.getState().edgeLookup.get(p),setNodes:c,setEdges:u,addNodes:p=>{const N=Array.isArray(p)?p:[p];n.nodeQueue.push(b=>[...b,...N])},addEdges:p=>{const N=Array.isArray(p)?p:[p];n.edgeQueue.push(b=>[...b,...N])},toObject:()=>{const{nodes:p=[],edges:N=[],transform:b}=r.getState(),[D,E,j]=b;return{nodes:p.map(P=>({...P})),edges:N.map(P=>({...P})),viewport:{x:D,y:E,zoom:j}}},deleteElements:async({nodes:p=[],edges:N=[]})=>{const{nodes:b,edges:D,onNodesDelete:E,onEdgesDelete:j,triggerNodeChanges:P,triggerEdgeChanges:w,onDelete:k,onBeforeDelete:V}=r.getState(),{nodes:S,edges:R}=await cNe({nodesToRemove:p,edgesToRemove:N,nodes:b,edges:D,onBeforeDelete:V}),M=R.length>0,T=S.length>0;if(M){const A=R.map(u9);j==null||j(R),w(A)}if(T){const A=S.map(u9);E==null||E(S),P(A)}return(T||M)&&(k==null||k({nodes:S,edges:R})),{deletedNodes:S,deletedEdges:R}},getIntersectingNodes:(p,N=!0,b)=>{const D=BT(p),E=D?p:d(p),j=b!==void 0;return E?(b||r.getState().nodes).filter(P=>{const w=r.getState().nodeLookup.get(P.id);if(w&&!D&&(P.id===p.id||!w.internals.positionAbsolute))return!1;const k=hh(j?P:w),V=bg(k,E);return N&&V>0||V>=k.width*k.height||V>=E.width*E.height}):[]},isNodeIntersecting:(p,N,b=!0)=>{const E=BT(p)?p:d(p);if(!E)return!1;const j=bg(E,N);return b&&j>0||j>=N.width*N.height||j>=E.width*E.height},updateNode:h,updateNodeData:(p,N,b={replace:!1})=>{h(p,D=>{const E=typeof N=="function"?N(D):N;return b.replace?{...D,data:E}:{...D,data:{...D.data,...E}}},b)},updateEdge:g,updateEdgeData:(p,N,b={replace:!1})=>{g(p,D=>{const E=typeof N=="function"?N(D):N;return b.replace?{...D,data:E}:{...D,data:{...D.data,...E}}},b)},getNodesBounds:p=>{const{nodeLookup:N,nodeOrigin:b}=r.getState();return iNe(p,{nodeLookup:N,nodeOrigin:b})},getHandleConnections:({type:p,id:N,nodeId:b})=>{var D;return Array.from(((D=r.getState().connectionLookup.get(`${b}-${p}${N?`-${N}`:""}`))==null?void 0:D.values())??[])},getNodeConnections:({type:p,handleId:N,nodeId:b})=>{var D;return Array.from(((D=r.getState().connectionLookup.get(`${b}${p?N?`-${p}-${N}`:`-${p}`:""}`))==null?void 0:D.values())??[])},fitView:async p=>{const N=r.getState().fitViewResolver??dNe();return r.setState({fitViewQueued:!0,fitViewOptions:p,fitViewResolver:N}),n.nodeQueue.push(b=>[...b]),N.promise}}},[]);return v.useMemo(()=>({...a,...e,viewportInitialized:s}),[s])}const h9=e=>e.selected,_xe=typeof window<"u"?window:void 0;function Fxe({deleteKeyCode:e,multiSelectionKeyCode:r}){const n=pn(),{deleteElements:s}=KP(),a=yg(e,{actInsideInputWithModifier:!1}),l=yg(r,{target:_xe});v.useEffect(()=>{if(a){const{edges:c,nodes:u}=n.getState();s({nodes:u.filter(h9),edges:c.filter(h9)}),n.setState({nodesSelectionActive:!1})}},[a]),v.useEffect(()=>{n.setState({multiSelectionActive:l})},[l])}function Ixe(e){const r=pn();v.useEffect(()=>{const n=()=>{var a,l,c,u;if(!e.current||!(((l=(a=e.current).checkVisibility)==null?void 0:l.call(a))??!0))return!1;const s=zP(e.current);(s.height===0||s.width===0)&&((u=(c=r.getState()).onError)==null||u.call(c,"004",_i.error004())),r.setState({width:s.width||500,height:s.height||500})};if(e.current){n(),window.addEventListener("resize",n);const s=new ResizeObserver(()=>n());return s.observe(e.current),()=>{window.removeEventListener("resize",n),s&&e.current&&s.unobserve(e.current)}}},[])}const sy={position:"absolute",width:"100%",height:"100%",top:0,left:0},Oxe=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib,connectionInProgress:e.connection.inProgress});function Lxe({onPaneContextMenu:e,zoomOnScroll:r=!0,zoomOnPinch:n=!0,panOnScroll:s=!1,panOnScrollSpeed:a=.5,panOnScrollMode:l=$u.Free,zoomOnDoubleClick:c=!0,panOnDrag:u=!0,defaultViewport:d,translateExtent:h,minZoom:g,maxZoom:p,zoomActivationKeyCode:N,preventScrolling:b=!0,children:D,noWheelClassName:E,noPanClassName:j,onViewportChange:P,isControlledViewport:w,paneClickDistance:k,selectionOnDrag:V}){const S=pn(),R=v.useRef(null),{userSelectionActive:M,lib:T,connectionInProgress:A}=Mr(Oxe,fn),F=yg(N),L=v.useRef();Ixe(R);const $=v.useCallback(W=>{P==null||P({x:W[0],y:W[1],zoom:W[2]}),w||S.setState({transform:W})},[P,w]);return v.useEffect(()=>{if(R.current){L.current=KNe({domNode:R.current,minZoom:g,maxZoom:p,translateExtent:h,viewport:d,onDraggingChange:H=>S.setState({paneDragging:H}),onPanZoomStart:(H,q)=>{const{onViewportChangeStart:z,onMoveStart:G}=S.getState();G==null||G(H,q),z==null||z(q)},onPanZoom:(H,q)=>{const{onViewportChange:z,onMove:G}=S.getState();G==null||G(H,q),z==null||z(q)},onPanZoomEnd:(H,q)=>{const{onViewportChangeEnd:z,onMoveEnd:G}=S.getState();G==null||G(H,q),z==null||z(q)}});const{x:W,y:O,zoom:Y}=L.current.getViewport();return S.setState({panZoom:L.current,transform:[W,O,Y],domNode:R.current.closest(".react-flow")}),()=>{var H;(H=L.current)==null||H.destroy()}}},[]),v.useEffect(()=>{var W;(W=L.current)==null||W.update({onPaneContextMenu:e,zoomOnScroll:r,zoomOnPinch:n,panOnScroll:s,panOnScrollSpeed:a,panOnScrollMode:l,zoomOnDoubleClick:c,panOnDrag:u,zoomActivationKeyPressed:F,preventScrolling:b,noPanClassName:j,userSelectionActive:M,noWheelClassName:E,lib:T,onTransformChange:$,connectionInProgress:A,selectionOnDrag:V,paneClickDistance:k})},[e,r,n,s,a,l,c,u,F,b,j,M,E,T,$,A,V,k]),U.jsx("div",{className:"react-flow__renderer",ref:R,style:sy,children:D})}const $xe=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function Bxe(){const{userSelectionActive:e,userSelectionRect:r}=Mr($xe,fn);return e&&r?U.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:r.width,height:r.height,transform:`translate(${r.x}px, ${r.y}px)`}}):null}const oD=(e,r)=>n=>{n.target===r.current&&(e==null||e(n))},zxe=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function Wxe({isSelecting:e,selectionKeyPressed:r,selectionMode:n=xg.Full,panOnDrag:s,paneClickDistance:a,selectionOnDrag:l,onSelectionStart:c,onSelectionEnd:u,onPaneClick:d,onPaneContextMenu:h,onPaneScroll:g,onPaneMouseEnter:p,onPaneMouseMove:N,onPaneMouseLeave:b,children:D}){const E=pn(),{userSelectionActive:j,elementsSelectable:P,dragging:w,connectionInProgress:k}=Mr(zxe,fn),V=P&&(e||j),S=v.useRef(null),R=v.useRef(),M=v.useRef(new Set),T=v.useRef(new Set),A=v.useRef(!1),F=z=>{if(A.current||k){A.current=!1;return}d==null||d(z),E.getState().resetSelectedElements(),E.setState({nodesSelectionActive:!1})},L=z=>{if(Array.isArray(s)&&(s!=null&&s.includes(2))){z.preventDefault();return}h==null||h(z)},$=g?z=>g(z):void 0,W=z=>{A.current&&(z.stopPropagation(),A.current=!1)},O=z=>{var fe,Ae;const{domNode:G}=E.getState();if(R.current=G==null?void 0:G.getBoundingClientRect(),!R.current)return;const ee=z.target===S.current;if(!ee&&!!z.target.closest(".nokey")||!e||!(l&&ee||r)||z.button!==0||!z.isPrimary)return;(Ae=(fe=z.target)==null?void 0:fe.setPointerCapture)==null||Ae.call(fe,z.pointerId),A.current=!1;const{x:_e,y:oe}=Ra(z.nativeEvent,R.current);E.setState({userSelectionRect:{width:0,height:0,startX:_e,startY:oe,x:_e,y:oe}}),ee||(z.stopPropagation(),z.preventDefault())},Y=z=>{const{userSelectionRect:G,transform:ee,nodeLookup:K,edgeLookup:be,connectionLookup:_e,triggerNodeChanges:oe,triggerEdgeChanges:fe,defaultEdgeOptions:Ae,resetSelectedElements:ge}=E.getState();if(!R.current||!G)return;const{x:Pe,y:ze}=Ra(z.nativeEvent,R.current),{startX:We,startY:Re}=G;if(!A.current){const le=r?0:a;if(Math.hypot(Pe-We,ze-Re)<=le)return;ge(),c==null||c(z)}A.current=!0;const Ee={startX:We,startY:Re,x:Pe<We?Pe:We,y:ze<Re?ze:Re,width:Math.abs(Pe-We),height:Math.abs(ze-Re)},ie=M.current,ve=T.current;M.current=new Set($P(K,Ee,ee,n===xg.Partial,!0).map(le=>le.id)),T.current=new Set;const ne=(Ae==null?void 0:Ae.selectable)??!0;for(const le of M.current){const Ue=_e.get(le);if(Ue)for(const{edgeId:bt}of Ue.values()){const ht=be.get(bt);ht&&(ht.selectable??ne)&&T.current.add(bt)}}if(!zT(ie,M.current)){const le=Ed(K,M.current,!0);oe(le)}if(!zT(ve,T.current)){const le=Ed(be,T.current);fe(le)}E.setState({userSelectionRect:Ee,userSelectionActive:!0,nodesSelectionActive:!1})},H=z=>{var G,ee;z.button===0&&((ee=(G=z.target)==null?void 0:G.releasePointerCapture)==null||ee.call(G,z.pointerId),!j&&z.target===S.current&&E.getState().userSelectionRect&&(F==null||F(z)),E.setState({userSelectionActive:!1,userSelectionRect:null}),A.current&&(u==null||u(z),E.setState({nodesSelectionActive:M.current.size>0})))},q=s===!0||Array.isArray(s)&&s.includes(0);return U.jsxs("div",{className:$n(["react-flow__pane",{draggable:q,dragging:w,selection:e}]),onClick:V?void 0:oD(F,S),onContextMenu:oD(L,S),onWheel:oD($,S),onPointerEnter:V?void 0:p,onPointerMove:V?Y:N,onPointerUp:V?H:void 0,onPointerDownCapture:V?O:void 0,onClickCapture:V?W:void 0,onPointerLeave:b,ref:S,style:sy,children:[D,U.jsx(Bxe,{})]})}function Rj({id:e,store:r,unselect:n=!1,nodeRef:s}){const{addSelectedNodes:a,unselectNodesAndEdges:l,multiSelectionActive:c,nodeLookup:u,onError:d}=r.getState(),h=u.get(e);if(!h){d==null||d("012",_i.error012(e));return}r.setState({nodesSelectionActive:!1}),h.selected?(n||h.selected&&c)&&(l({nodes:[h],edges:[]}),requestAnimationFrame(()=>{var g;return(g=s==null?void 0:s.current)==null?void 0:g.blur()})):a([e])}function OL({nodeRef:e,disabled:r=!1,noDragClassName:n,handleSelector:s,nodeId:a,isSelectable:l,nodeClickDistance:c}){const u=pn(),[d,h]=v.useState(!1),g=v.useRef();return v.useEffect(()=>{g.current=ANe({getStoreItems:()=>u.getState(),onNodeMouseDown:p=>{Rj({id:p,store:u,nodeRef:e})},onDragStart:()=>{h(!0)},onDragStop:()=>{h(!1)}})},[]),v.useEffect(()=>{var p,N;if(r)(p=g.current)==null||p.destroy();else if(e.current)return(N=g.current)==null||N.update({noDragClassName:n,handleSelector:s,domNode:e.current,isSelectable:l,nodeId:a,nodeClickDistance:c}),()=>{var b;(b=g.current)==null||b.destroy()}},[n,s,r,l,e,a]),d}const Uxe=e=>r=>r.selected&&(r.draggable||e&&typeof r.draggable>"u");function LL(){const e=pn();return v.useCallback(n=>{const{nodeExtent:s,snapToGrid:a,snapGrid:l,nodesDraggable:c,onError:u,updateNodePositions:d,nodeLookup:h,nodeOrigin:g}=e.getState(),p=new Map,N=Uxe(c),b=a?l[0]:5,D=a?l[1]:5,E=n.direction.x*b*n.factor,j=n.direction.y*D*n.factor;for(const[,P]of h){if(!N(P))continue;let w={x:P.internals.positionAbsolute.x+E,y:P.internals.positionAbsolute.y+j};a&&(w=Zg(w,l));const{position:k,positionAbsolute:V}=eL({nodeId:P.id,nextPosition:w,nodeLookup:h,nodeExtent:s,nodeOrigin:g,onError:u});P.position=k,P.internals.positionAbsolute=V,p.set(P.id,P)}d(p)},[])}const qP=v.createContext(null),Gxe=qP.Provider;qP.Consumer;const $L=()=>v.useContext(qP),Hxe=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),Jxe=(e,r,n)=>s=>{const{connectionClickStartHandle:a,connectionMode:l,connection:c}=s,{fromHandle:u,toHandle:d,isValid:h}=c,g=(d==null?void 0:d.nodeId)===e&&(d==null?void 0:d.id)===r&&(d==null?void 0:d.type)===n;return{connectingFrom:(u==null?void 0:u.nodeId)===e&&(u==null?void 0:u.id)===r&&(u==null?void 0:u.type)===n,connectingTo:g,clickConnecting:(a==null?void 0:a.nodeId)===e&&(a==null?void 0:a.id)===r&&(a==null?void 0:a.type)===n,isPossibleEndHandle:l===mh.Strict?(u==null?void 0:u.type)!==n:e!==(u==null?void 0:u.nodeId)||r!==(u==null?void 0:u.id),connectionInProcess:!!u,clickConnectionInProcess:!!a,valid:g&&h}};function Kxe({type:e="source",position:r=It.Top,isValidConnection:n,isConnectable:s=!0,isConnectableStart:a=!0,isConnectableEnd:l=!0,id:c,onConnect:u,children:d,className:h,onMouseDown:g,onTouchStart:p,...N},b){var Y,H;const D=c||null,E=e==="target",j=pn(),P=$L(),{connectOnClick:w,noPanClassName:k,rfId:V}=Mr(Hxe,fn),{connectingFrom:S,connectingTo:R,clickConnecting:M,isPossibleEndHandle:T,connectionInProcess:A,clickConnectionInProcess:F,valid:L}=Mr(Jxe(P,D,e),fn);P||(H=(Y=j.getState()).onError)==null||H.call(Y,"010",_i.error010());const $=q=>{const{defaultEdgeOptions:z,onConnect:G,hasDefaultEdges:ee}=j.getState(),K={...z,...q};if(ee){const{edges:be,setEdges:_e}=j.getState();_e(hL(K,be))}G==null||G(K),u==null||u(K)},W=q=>{if(!P)return;const z=cL(q.nativeEvent);if(a&&(z&&q.button===0||!z)){const G=j.getState();Cj.onPointerDown(q.nativeEvent,{handleDomNode:q.currentTarget,autoPanOnConnect:G.autoPanOnConnect,connectionMode:G.connectionMode,connectionRadius:G.connectionRadius,domNode:G.domNode,nodeLookup:G.nodeLookup,lib:G.lib,isTarget:E,handleId:D,nodeId:P,flowId:G.rfId,panBy:G.panBy,cancelConnection:G.cancelConnection,onConnectStart:G.onConnectStart,onConnectEnd:G.onConnectEnd,updateConnection:G.updateConnection,onConnect:$,isValidConnection:n||G.isValidConnection,getTransform:()=>j.getState().transform,getFromHandle:()=>j.getState().connection.fromHandle,autoPanSpeed:G.autoPanSpeed,dragThreshold:G.connectionDragThreshold})}z?g==null||g(q):p==null||p(q)},O=q=>{const{onClickConnectStart:z,onClickConnectEnd:G,connectionClickStartHandle:ee,connectionMode:K,isValidConnection:be,lib:_e,rfId:oe,nodeLookup:fe,connection:Ae}=j.getState();if(!P||!ee&&!a)return;if(!ee){z==null||z(q.nativeEvent,{nodeId:P,handleId:D,handleType:e}),j.setState({connectionClickStartHandle:{nodeId:P,type:e,id:D}});return}const ge=oL(q.target),Pe=n||be,{connection:ze,isValid:We}=Cj.isValid(q.nativeEvent,{handle:{nodeId:P,id:D,type:e},connectionMode:K,fromNodeId:ee.nodeId,fromHandleId:ee.id||null,fromType:ee.type,isValidConnection:Pe,flowId:oe,doc:ge,lib:_e,nodeLookup:fe});We&&ze&&$(ze);const Re=structuredClone(Ae);delete Re.inProgress,Re.toPosition=Re.toHandle?Re.toHandle.position:null,G==null||G(q,Re),j.setState({connectionClickStartHandle:null})};return U.jsx("div",{"data-handleid":D,"data-nodeid":P,"data-handlepos":r,"data-id":`${V}-${P}-${D}-${e}`,className:$n(["react-flow__handle",`react-flow__handle-${r}`,"nodrag",k,h,{source:!E,target:E,connectable:s,connectablestart:a,connectableend:l,clickconnecting:M,connectingfrom:S,connectingto:R,valid:L,connectionindicator:s&&(!A||T)&&(A||F?l:a)}]),onMouseDown:W,onTouchStart:W,onClick:w?O:void 0,ref:b,...N,children:d})}const gh=v.memo(FL(Kxe));function qxe({data:e,isConnectable:r,sourcePosition:n=It.Bottom}){return U.jsxs(U.Fragment,{children:[e==null?void 0:e.label,U.jsx(gh,{type:"source",position:n,isConnectable:r})]})}function Yxe({data:e,isConnectable:r,targetPosition:n=It.Top,sourcePosition:s=It.Bottom}){return U.jsxs(U.Fragment,{children:[U.jsx(gh,{type:"target",position:n,isConnectable:r}),e==null?void 0:e.label,U.jsx(gh,{type:"source",position:s,isConnectable:r})]})}function Xxe(){return null}function Qxe({data:e,isConnectable:r,targetPosition:n=It.Top}){return U.jsxs(U.Fragment,{children:[U.jsx(gh,{type:"target",position:n,isConnectable:r}),e==null?void 0:e.label]})}const Jv={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},f9={input:qxe,default:Yxe,output:Qxe,group:Xxe};function Zxe(e){var r,n,s,a;return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??((r=e.style)==null?void 0:r.width),height:e.height??e.initialHeight??((n=e.style)==null?void 0:n.height)}:{width:e.width??((s=e.style)==null?void 0:s.width),height:e.height??((a=e.style)==null?void 0:a.height)}}const ebe=e=>{const{width:r,height:n,x:s,y:a}=Qg(e.nodeLookup,{filter:l=>!!l.selected});return{width:Ca(r)?r:null,height:Ca(n)?n:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${s}px,${a}px)`}};function tbe({onSelectionContextMenu:e,noPanClassName:r,disableKeyboardA11y:n}){const s=pn(),{width:a,height:l,transformString:c,userSelectionActive:u}=Mr(ebe,fn),d=LL(),h=v.useRef(null);if(v.useEffect(()=>{var N;n||(N=h.current)==null||N.focus({preventScroll:!0})},[n]),OL({nodeRef:h}),u||!a||!l)return null;const g=e?N=>{const b=s.getState().nodes.filter(D=>D.selected);e(N,b)}:void 0,p=N=>{Object.prototype.hasOwnProperty.call(Jv,N.key)&&(N.preventDefault(),d({direction:Jv[N.key],factor:N.shiftKey?4:1}))};return U.jsx("div",{className:$n(["react-flow__nodesselection","react-flow__container",r]),style:{transform:c},children:U.jsx("div",{ref:h,className:"react-flow__nodesselection-rect",onContextMenu:g,tabIndex:n?void 0:-1,onKeyDown:n?void 0:p,style:{width:a,height:l}})})}const p9=typeof window<"u"?window:void 0,rbe=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function BL({children:e,onPaneClick:r,onPaneMouseEnter:n,onPaneMouseMove:s,onPaneMouseLeave:a,onPaneContextMenu:l,onPaneScroll:c,paneClickDistance:u,deleteKeyCode:d,selectionKeyCode:h,selectionOnDrag:g,selectionMode:p,onSelectionStart:N,onSelectionEnd:b,multiSelectionKeyCode:D,panActivationKeyCode:E,zoomActivationKeyCode:j,elementsSelectable:P,zoomOnScroll:w,zoomOnPinch:k,panOnScroll:V,panOnScrollSpeed:S,panOnScrollMode:R,zoomOnDoubleClick:M,panOnDrag:T,defaultViewport:A,translateExtent:F,minZoom:L,maxZoom:$,preventScrolling:W,onSelectionContextMenu:O,noWheelClassName:Y,noPanClassName:H,disableKeyboardA11y:q,onViewportChange:z,isControlledViewport:G}){const{nodesSelectionActive:ee,userSelectionActive:K}=Mr(rbe,fn),be=yg(h,{target:p9}),_e=yg(E,{target:p9}),oe=_e||T,fe=_e||V,Ae=g&&oe!==!0,ge=be||K||Ae;return Fxe({deleteKeyCode:d,multiSelectionKeyCode:D}),U.jsx(Lxe,{onPaneContextMenu:l,elementsSelectable:P,zoomOnScroll:w,zoomOnPinch:k,panOnScroll:fe,panOnScrollSpeed:S,panOnScrollMode:R,zoomOnDoubleClick:M,panOnDrag:!be&&oe,defaultViewport:A,translateExtent:F,minZoom:L,maxZoom:$,zoomActivationKeyCode:j,preventScrolling:W,noWheelClassName:Y,noPanClassName:H,onViewportChange:z,isControlledViewport:G,paneClickDistance:u,selectionOnDrag:Ae,children:U.jsxs(Wxe,{onSelectionStart:N,onSelectionEnd:b,onPaneClick:r,onPaneMouseEnter:n,onPaneMouseMove:s,onPaneMouseLeave:a,onPaneContextMenu:l,onPaneScroll:c,panOnDrag:oe,isSelecting:!!ge,selectionMode:p,selectionKeyPressed:be,paneClickDistance:u,selectionOnDrag:Ae,children:[e,ee&&U.jsx(tbe,{onSelectionContextMenu:O,noPanClassName:H,disableKeyboardA11y:q})]})})}BL.displayName="FlowRenderer";const nbe=v.memo(BL),sbe=e=>r=>e?$P(r.nodeLookup,{x:0,y:0,width:r.width,height:r.height},r.transform,!0).map(n=>n.id):Array.from(r.nodeLookup.keys());function ibe(e){return Mr(v.useCallback(sbe(e),[e]),fn)}const abe=e=>e.updateNodeInternals;function obe(){const e=Mr(abe),[r]=v.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const s=new Map;n.forEach(a=>{const l=a.target.getAttribute("data-id");s.set(l,{id:l,nodeElement:a.target,force:!0})}),e(s)}));return v.useEffect(()=>()=>{r==null||r.disconnect()},[r]),r}function lbe({node:e,nodeType:r,hasDimensions:n,resizeObserver:s}){const a=pn(),l=v.useRef(null),c=v.useRef(null),u=v.useRef(e.sourcePosition),d=v.useRef(e.targetPosition),h=v.useRef(r),g=n&&!!e.internals.handleBounds;return v.useEffect(()=>{l.current&&!e.hidden&&(!g||c.current!==l.current)&&(c.current&&(s==null||s.unobserve(c.current)),s==null||s.observe(l.current),c.current=l.current)},[g,e.hidden]),v.useEffect(()=>()=>{c.current&&(s==null||s.unobserve(c.current),c.current=null)},[]),v.useEffect(()=>{if(l.current){const p=h.current!==r,N=u.current!==e.sourcePosition,b=d.current!==e.targetPosition;(p||N||b)&&(h.current=r,u.current=e.sourcePosition,d.current=e.targetPosition,a.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:l.current,force:!0}]])))}},[e.id,r,e.sourcePosition,e.targetPosition]),l}function cbe({id:e,onClick:r,onMouseEnter:n,onMouseMove:s,onMouseLeave:a,onContextMenu:l,onDoubleClick:c,nodesDraggable:u,elementsSelectable:d,nodesConnectable:h,nodesFocusable:g,resizeObserver:p,noDragClassName:N,noPanClassName:b,disableKeyboardA11y:D,rfId:E,nodeTypes:j,nodeClickDistance:P,onError:w}){const{node:k,internals:V,isParent:S}=Mr(Pe=>{const ze=Pe.nodeLookup.get(e),We=Pe.parentLookup.has(e);return{node:ze,internals:ze.internals,isParent:We}},fn);let R=k.type||"default",M=(j==null?void 0:j[R])||f9[R];M===void 0&&(w==null||w("003",_i.error003(R)),R="default",M=(j==null?void 0:j.default)||f9.default);const T=!!(k.draggable||u&&typeof k.draggable>"u"),A=!!(k.selectable||d&&typeof k.selectable>"u"),F=!!(k.connectable||h&&typeof k.connectable>"u"),L=!!(k.focusable||g&&typeof k.focusable>"u"),$=pn(),W=iL(k),O=lbe({node:k,nodeType:R,hasDimensions:W,resizeObserver:p}),Y=OL({nodeRef:O,disabled:k.hidden||!T,noDragClassName:N,handleSelector:k.dragHandle,nodeId:e,isSelectable:A,nodeClickDistance:P}),H=LL();if(k.hidden)return null;const q=wl(k),z=Zxe(k),G=A||T||r||n||s||a,ee=n?Pe=>n(Pe,{...V.userNode}):void 0,K=s?Pe=>s(Pe,{...V.userNode}):void 0,be=a?Pe=>a(Pe,{...V.userNode}):void 0,_e=l?Pe=>l(Pe,{...V.userNode}):void 0,oe=c?Pe=>c(Pe,{...V.userNode}):void 0,fe=Pe=>{const{selectNodesOnDrag:ze,nodeDragThreshold:We}=$.getState();A&&(!ze||!T||We>0)&&Rj({id:e,store:$,nodeRef:O}),r&&r(Pe,{...V.userNode})},Ae=Pe=>{if(!(lL(Pe.nativeEvent)||D)){if(qO.includes(Pe.key)&&A){const ze=Pe.key==="Escape";Rj({id:e,store:$,unselect:ze,nodeRef:O})}else if(T&&k.selected&&Object.prototype.hasOwnProperty.call(Jv,Pe.key)){Pe.preventDefault();const{ariaLabelConfig:ze}=$.getState();$.setState({ariaLiveMessage:ze["node.a11yDescription.ariaLiveMessage"]({direction:Pe.key.replace("Arrow","").toLowerCase(),x:~~V.positionAbsolute.x,y:~~V.positionAbsolute.y})}),H({direction:Jv[Pe.key],factor:Pe.shiftKey?4:1})}}},ge=()=>{var ve;if(D||!((ve=O.current)!=null&&ve.matches(":focus-visible")))return;const{transform:Pe,width:ze,height:We,autoPanOnNodeFocus:Re,setCenter:Ee}=$.getState();if(!Re)return;$P(new Map([[e,k]]),{x:0,y:0,width:ze,height:We},Pe,!0).length>0||Ee(k.position.x+q.width/2,k.position.y+q.height/2,{zoom:Pe[2]})};return U.jsx("div",{className:$n(["react-flow__node",`react-flow__node-${R}`,{[b]:T},k.className,{selected:k.selected,selectable:A,parent:S,draggable:T,dragging:Y}]),ref:O,style:{zIndex:V.z,transform:`translate(${V.positionAbsolute.x}px,${V.positionAbsolute.y}px)`,pointerEvents:G?"all":"none",visibility:W?"visible":"hidden",...k.style,...z},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:ee,onMouseMove:K,onMouseLeave:be,onContextMenu:_e,onClick:fe,onDoubleClick:oe,onKeyDown:L?Ae:void 0,tabIndex:L?0:void 0,onFocus:L?ge:void 0,role:k.ariaRole??(L?"group":void 0),"aria-roledescription":"node","aria-describedby":D?void 0:`${CL}-${E}`,"aria-label":k.ariaLabel,...k.domAttributes,children:U.jsx(Gxe,{value:e,children:U.jsx(M,{id:e,data:k.data,type:R,positionAbsoluteX:V.positionAbsolute.x,positionAbsoluteY:V.positionAbsolute.y,selected:k.selected??!1,selectable:A,draggable:T,deletable:k.deletable??!0,isConnectable:F,sourcePosition:k.sourcePosition,targetPosition:k.targetPosition,dragging:Y,dragHandle:k.dragHandle,zIndex:V.z,parentId:k.parentId,...q})})})}var ube=v.memo(cbe);const mbe=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function zL(e){const{nodesDraggable:r,nodesConnectable:n,nodesFocusable:s,elementsSelectable:a,onError:l}=Mr(mbe,fn),c=ibe(e.onlyRenderVisibleElements),u=obe();return U.jsx("div",{className:"react-flow__nodes",style:sy,children:c.map(d=>U.jsx(ube,{id:d,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:u,nodesDraggable:r,nodesConnectable:n,nodesFocusable:s,elementsSelectable:a,nodeClickDistance:e.nodeClickDistance,onError:l},d))})}zL.displayName="NodeRenderer";const dbe=v.memo(zL);function hbe(e){return Mr(v.useCallback(n=>{if(!e)return n.edges.map(a=>a.id);const s=[];if(n.width&&n.height)for(const a of n.edges){const l=n.nodeLookup.get(a.source),c=n.nodeLookup.get(a.target);l&&c&&gNe({sourceNode:l,targetNode:c,width:n.width,height:n.height,transform:n.transform})&&s.push(a.id)}return s},[e]),fn)}const fbe=({color:e="none",strokeWidth:r=1})=>{const n={strokeWidth:r,...e&&{stroke:e}};return U.jsx("polyline",{className:"arrow",style:n,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},pbe=({color:e="none",strokeWidth:r=1})=>{const n={strokeWidth:r,...e&&{stroke:e,fill:e}};return U.jsx("polyline",{className:"arrowclosed",style:n,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},g9={[Uv.Arrow]:fbe,[Uv.ArrowClosed]:pbe};function gbe(e){const r=pn();return v.useMemo(()=>{var a,l;return Object.prototype.hasOwnProperty.call(g9,e)?g9[e]:((l=(a=r.getState()).onError)==null||l.call(a,"009",_i.error009(e)),null)},[e])}const Nbe=({id:e,type:r,color:n,width:s=12.5,height:a=12.5,markerUnits:l="strokeWidth",strokeWidth:c,orient:u="auto-start-reverse"})=>{const d=gbe(r);return d?U.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${s}`,markerHeight:`${a}`,viewBox:"-10 -10 20 20",markerUnits:l,orient:u,refX:"0",refY:"0",children:U.jsx(d,{color:n,strokeWidth:c})}):null},WL=({defaultColor:e,rfId:r})=>{const n=Mr(l=>l.edges),s=Mr(l=>l.defaultEdgeOptions),a=v.useMemo(()=>kNe(n,{id:r,defaultColor:e,defaultMarkerStart:s==null?void 0:s.markerStart,defaultMarkerEnd:s==null?void 0:s.markerEnd}),[n,s,r,e]);return a.length?U.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:U.jsx("defs",{children:a.map(l=>U.jsx(Nbe,{id:l.id,type:l.type,color:l.color,width:l.width,height:l.height,markerUnits:l.markerUnits,strokeWidth:l.strokeWidth,orient:l.orient},l.id))})}):null};WL.displayName="MarkerDefinitions";var xbe=v.memo(WL);function UL({x:e,y:r,label:n,labelStyle:s,labelShowBg:a=!0,labelBgStyle:l,labelBgPadding:c=[2,4],labelBgBorderRadius:u=2,children:d,className:h,...g}){const[p,N]=v.useState({x:1,y:0,width:0,height:0}),b=$n(["react-flow__edge-textwrapper",h]),D=v.useRef(null);return v.useEffect(()=>{if(D.current){const E=D.current.getBBox();N({x:E.x,y:E.y,width:E.width,height:E.height})}},[n]),n?U.jsxs("g",{transform:`translate(${e-p.width/2} ${r-p.height/2})`,className:b,visibility:p.width?"visible":"hidden",...g,children:[a&&U.jsx("rect",{width:p.width+2*c[0],x:-c[0],y:-c[1],height:p.height+2*c[1],className:"react-flow__edge-textbg",style:l,rx:u,ry:u}),U.jsx("text",{className:"react-flow__edge-text",y:p.height/2,dy:"0.3em",ref:D,style:s,children:n}),d]}):null}UL.displayName="EdgeText";const bbe=v.memo(UL);function iy({path:e,labelX:r,labelY:n,label:s,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,interactionWidth:h=20,...g}){return U.jsxs(U.Fragment,{children:[U.jsx("path",{...g,d:e,fill:"none",className:$n(["react-flow__edge-path",g.className])}),h?U.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:h,className:"react-flow__edge-interaction"}):null,s&&Ca(r)&&Ca(n)?U.jsx(bbe,{x:r,y:n,label:s,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d}):null]})}function N9({pos:e,x1:r,y1:n,x2:s,y2:a}){return e===It.Left||e===It.Right?[.5*(r+s),n]:[r,.5*(n+a)]}function GL({sourceX:e,sourceY:r,sourcePosition:n=It.Bottom,targetX:s,targetY:a,targetPosition:l=It.Top}){const[c,u]=N9({pos:n,x1:e,y1:r,x2:s,y2:a}),[d,h]=N9({pos:l,x1:s,y1:a,x2:e,y2:r}),[g,p,N,b]=uL({sourceX:e,sourceY:r,targetX:s,targetY:a,sourceControlX:c,sourceControlY:u,targetControlX:d,targetControlY:h});return[`M${e},${r} C${c},${u} ${d},${h} ${s},${a}`,g,p,N,b]}function HL(e){return v.memo(({id:r,sourceX:n,sourceY:s,targetX:a,targetY:l,sourcePosition:c,targetPosition:u,label:d,labelStyle:h,labelShowBg:g,labelBgStyle:p,labelBgPadding:N,labelBgBorderRadius:b,style:D,markerEnd:E,markerStart:j,interactionWidth:P})=>{const[w,k,V]=GL({sourceX:n,sourceY:s,sourcePosition:c,targetX:a,targetY:l,targetPosition:u}),S=e.isInternal?void 0:r;return U.jsx(iy,{id:S,path:w,labelX:k,labelY:V,label:d,labelStyle:h,labelShowBg:g,labelBgStyle:p,labelBgPadding:N,labelBgBorderRadius:b,style:D,markerEnd:E,markerStart:j,interactionWidth:P})})}const vbe=HL({isInternal:!1}),JL=HL({isInternal:!0});vbe.displayName="SimpleBezierEdge";JL.displayName="SimpleBezierEdgeInternal";function KL(e){return v.memo(({id:r,sourceX:n,sourceY:s,targetX:a,targetY:l,label:c,labelStyle:u,labelShowBg:d,labelBgStyle:h,labelBgPadding:g,labelBgBorderRadius:p,style:N,sourcePosition:b=It.Bottom,targetPosition:D=It.Top,markerEnd:E,markerStart:j,pathOptions:P,interactionWidth:w})=>{const[k,V,S]=Vj({sourceX:n,sourceY:s,sourcePosition:b,targetX:a,targetY:l,targetPosition:D,borderRadius:P==null?void 0:P.borderRadius,offset:P==null?void 0:P.offset,stepPosition:P==null?void 0:P.stepPosition}),R=e.isInternal?void 0:r;return U.jsx(iy,{id:R,path:k,labelX:V,labelY:S,label:c,labelStyle:u,labelShowBg:d,labelBgStyle:h,labelBgPadding:g,labelBgBorderRadius:p,style:N,markerEnd:E,markerStart:j,interactionWidth:w})})}const qL=KL({isInternal:!1}),YL=KL({isInternal:!0});qL.displayName="SmoothStepEdge";YL.displayName="SmoothStepEdgeInternal";function XL(e){return v.memo(({id:r,...n})=>{var a;const s=e.isInternal?void 0:r;return U.jsx(qL,{...n,id:s,pathOptions:v.useMemo(()=>{var l;return{borderRadius:0,offset:(l=n.pathOptions)==null?void 0:l.offset}},[(a=n.pathOptions)==null?void 0:a.offset])})})}const ybe=XL({isInternal:!1}),QL=XL({isInternal:!0});ybe.displayName="StepEdge";QL.displayName="StepEdgeInternal";function ZL(e){return v.memo(({id:r,sourceX:n,sourceY:s,targetX:a,targetY:l,label:c,labelStyle:u,labelShowBg:d,labelBgStyle:h,labelBgPadding:g,labelBgBorderRadius:p,style:N,markerEnd:b,markerStart:D,interactionWidth:E})=>{const[j,P,w]=fL({sourceX:n,sourceY:s,targetX:a,targetY:l}),k=e.isInternal?void 0:r;return U.jsx(iy,{id:k,path:j,labelX:P,labelY:w,label:c,labelStyle:u,labelShowBg:d,labelBgStyle:h,labelBgPadding:g,labelBgBorderRadius:p,style:N,markerEnd:b,markerStart:D,interactionWidth:E})})}const wbe=ZL({isInternal:!1}),e$=ZL({isInternal:!0});wbe.displayName="StraightEdge";e$.displayName="StraightEdgeInternal";function t$(e){return v.memo(({id:r,sourceX:n,sourceY:s,targetX:a,targetY:l,sourcePosition:c=It.Bottom,targetPosition:u=It.Top,label:d,labelStyle:h,labelShowBg:g,labelBgStyle:p,labelBgPadding:N,labelBgBorderRadius:b,style:D,markerEnd:E,markerStart:j,pathOptions:P,interactionWidth:w})=>{const[k,V,S]=mL({sourceX:n,sourceY:s,sourcePosition:c,targetX:a,targetY:l,targetPosition:u,curvature:P==null?void 0:P.curvature}),R=e.isInternal?void 0:r;return U.jsx(iy,{id:R,path:k,labelX:V,labelY:S,label:d,labelStyle:h,labelShowBg:g,labelBgStyle:p,labelBgPadding:N,labelBgBorderRadius:b,style:D,markerEnd:E,markerStart:j,interactionWidth:w})})}const kbe=t$({isInternal:!1}),r$=t$({isInternal:!0});kbe.displayName="BezierEdge";r$.displayName="BezierEdgeInternal";const x9={default:r$,straight:e$,step:QL,smoothstep:YL,simplebezier:JL},b9={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},Ebe=(e,r,n)=>n===It.Left?e-r:n===It.Right?e+r:e,Dbe=(e,r,n)=>n===It.Top?e-r:n===It.Bottom?e+r:e,v9="react-flow__edgeupdater";function y9({position:e,centerX:r,centerY:n,radius:s=10,onMouseDown:a,onMouseEnter:l,onMouseOut:c,type:u}){return U.jsx("circle",{onMouseDown:a,onMouseEnter:l,onMouseOut:c,className:$n([v9,`${v9}-${u}`]),cx:Ebe(r,s,e),cy:Dbe(n,s,e),r:s,stroke:"transparent",fill:"transparent"})}function jbe({isReconnectable:e,reconnectRadius:r,edge:n,sourceX:s,sourceY:a,targetX:l,targetY:c,sourcePosition:u,targetPosition:d,onReconnect:h,onReconnectStart:g,onReconnectEnd:p,setReconnecting:N,setUpdateHover:b}){const D=pn(),E=(V,S)=>{if(V.button!==0)return;const{autoPanOnConnect:R,domNode:M,isValidConnection:T,connectionMode:A,connectionRadius:F,lib:L,onConnectStart:$,onConnectEnd:W,cancelConnection:O,nodeLookup:Y,rfId:H,panBy:q,updateConnection:z}=D.getState(),G=S.type==="target",ee=(_e,oe)=>{N(!1),p==null||p(_e,n,S.type,oe)},K=_e=>h==null?void 0:h(n,_e),be=(_e,oe)=>{N(!0),g==null||g(V,n,S.type),$==null||$(_e,oe)};Cj.onPointerDown(V.nativeEvent,{autoPanOnConnect:R,connectionMode:A,connectionRadius:F,domNode:M,handleId:S.id,nodeId:S.nodeId,nodeLookup:Y,isTarget:G,edgeUpdaterType:S.type,lib:L,flowId:H,cancelConnection:O,panBy:q,isValidConnection:T,onConnect:K,onConnectStart:be,onConnectEnd:W,onReconnectEnd:ee,updateConnection:z,getTransform:()=>D.getState().transform,getFromHandle:()=>D.getState().connection.fromHandle,dragThreshold:D.getState().connectionDragThreshold,handleDomNode:V.currentTarget})},j=V=>E(V,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),P=V=>E(V,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),w=()=>b(!0),k=()=>b(!1);return U.jsxs(U.Fragment,{children:[(e===!0||e==="source")&&U.jsx(y9,{position:u,centerX:s,centerY:a,radius:r,onMouseDown:j,onMouseEnter:w,onMouseOut:k,type:"source"}),(e===!0||e==="target")&&U.jsx(y9,{position:d,centerX:l,centerY:c,radius:r,onMouseDown:P,onMouseEnter:w,onMouseOut:k,type:"target"})]})}function Vbe({id:e,edgesFocusable:r,edgesReconnectable:n,elementsSelectable:s,onClick:a,onDoubleClick:l,onContextMenu:c,onMouseEnter:u,onMouseMove:d,onMouseLeave:h,reconnectRadius:g,onReconnect:p,onReconnectStart:N,onReconnectEnd:b,rfId:D,edgeTypes:E,noPanClassName:j,onError:P,disableKeyboardA11y:w}){let k=Mr(Ee=>Ee.edgeLookup.get(e));const V=Mr(Ee=>Ee.defaultEdgeOptions);k=V?{...V,...k}:k;let S=k.type||"default",R=(E==null?void 0:E[S])||x9[S];R===void 0&&(P==null||P("011",_i.error011(S)),S="default",R=(E==null?void 0:E.default)||x9.default);const M=!!(k.focusable||r&&typeof k.focusable>"u"),T=typeof p<"u"&&(k.reconnectable||n&&typeof k.reconnectable>"u"),A=!!(k.selectable||s&&typeof k.selectable>"u"),F=v.useRef(null),[L,$]=v.useState(!1),[W,O]=v.useState(!1),Y=pn(),{zIndex:H,sourceX:q,sourceY:z,targetX:G,targetY:ee,sourcePosition:K,targetPosition:be}=Mr(v.useCallback(Ee=>{const ie=Ee.nodeLookup.get(k.source),ve=Ee.nodeLookup.get(k.target);if(!ie||!ve)return{zIndex:k.zIndex,...b9};const ne=wNe({id:e,sourceNode:ie,targetNode:ve,sourceHandle:k.sourceHandle||null,targetHandle:k.targetHandle||null,connectionMode:Ee.connectionMode,onError:P});return{zIndex:pNe({selected:k.selected,zIndex:k.zIndex,sourceNode:ie,targetNode:ve,elevateOnSelect:Ee.elevateEdgesOnSelect,zIndexMode:Ee.zIndexMode}),...ne||b9}},[k.source,k.target,k.sourceHandle,k.targetHandle,k.selected,k.zIndex]),fn),_e=v.useMemo(()=>k.markerStart?`url('#${Pj(k.markerStart,D)}')`:void 0,[k.markerStart,D]),oe=v.useMemo(()=>k.markerEnd?`url('#${Pj(k.markerEnd,D)}')`:void 0,[k.markerEnd,D]);if(k.hidden||q===null||z===null||G===null||ee===null)return null;const fe=Ee=>{var le;const{addSelectedEdges:ie,unselectNodesAndEdges:ve,multiSelectionActive:ne}=Y.getState();A&&(Y.setState({nodesSelectionActive:!1}),k.selected&&ne?(ve({nodes:[],edges:[k]}),(le=F.current)==null||le.blur()):ie([e])),a&&a(Ee,k)},Ae=l?Ee=>{l(Ee,{...k})}:void 0,ge=c?Ee=>{c(Ee,{...k})}:void 0,Pe=u?Ee=>{u(Ee,{...k})}:void 0,ze=d?Ee=>{d(Ee,{...k})}:void 0,We=h?Ee=>{h(Ee,{...k})}:void 0,Re=Ee=>{var ie;if(!w&&qO.includes(Ee.key)&&A){const{unselectNodesAndEdges:ve,addSelectedEdges:ne}=Y.getState();Ee.key==="Escape"?((ie=F.current)==null||ie.blur(),ve({edges:[k]})):ne([e])}};return U.jsx("svg",{style:{zIndex:H},children:U.jsxs("g",{className:$n(["react-flow__edge",`react-flow__edge-${S}`,k.className,j,{selected:k.selected,animated:k.animated,inactive:!A&&!a,updating:L,selectable:A}]),onClick:fe,onDoubleClick:Ae,onContextMenu:ge,onMouseEnter:Pe,onMouseMove:ze,onMouseLeave:We,onKeyDown:M?Re:void 0,tabIndex:M?0:void 0,role:k.ariaRole??(M?"group":"img"),"aria-roledescription":"edge","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":k.ariaLabel===null?void 0:k.ariaLabel||`Edge from ${k.source} to ${k.target}`,"aria-describedby":M?`${RL}-${D}`:void 0,ref:F,...k.domAttributes,children:[!W&&U.jsx(R,{id:e,source:k.source,target:k.target,type:k.type,selected:k.selected,animated:k.animated,selectable:A,deletable:k.deletable??!0,label:k.label,labelStyle:k.labelStyle,labelShowBg:k.labelShowBg,labelBgStyle:k.labelBgStyle,labelBgPadding:k.labelBgPadding,labelBgBorderRadius:k.labelBgBorderRadius,sourceX:q,sourceY:z,targetX:G,targetY:ee,sourcePosition:K,targetPosition:be,data:k.data,style:k.style,sourceHandleId:k.sourceHandle,targetHandleId:k.targetHandle,markerStart:_e,markerEnd:oe,pathOptions:"pathOptions"in k?k.pathOptions:void 0,interactionWidth:k.interactionWidth}),T&&U.jsx(jbe,{edge:k,isReconnectable:T,reconnectRadius:g,onReconnect:p,onReconnectStart:N,onReconnectEnd:b,sourceX:q,sourceY:z,targetX:G,targetY:ee,sourcePosition:K,targetPosition:be,setUpdateHover:$,setReconnecting:O})]})})}var Pbe=v.memo(Vbe);const Sbe=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function n$({defaultMarkerColor:e,onlyRenderVisibleElements:r,rfId:n,edgeTypes:s,noPanClassName:a,onReconnect:l,onEdgeContextMenu:c,onEdgeMouseEnter:u,onEdgeMouseMove:d,onEdgeMouseLeave:h,onEdgeClick:g,reconnectRadius:p,onEdgeDoubleClick:N,onReconnectStart:b,onReconnectEnd:D,disableKeyboardA11y:E}){const{edgesFocusable:j,edgesReconnectable:P,elementsSelectable:w,onError:k}=Mr(Sbe,fn),V=hbe(r);return U.jsxs("div",{className:"react-flow__edges",children:[U.jsx(xbe,{defaultColor:e,rfId:n}),V.map(S=>U.jsx(Pbe,{id:S,edgesFocusable:j,edgesReconnectable:P,elementsSelectable:w,noPanClassName:a,onReconnect:l,onContextMenu:c,onMouseEnter:u,onMouseMove:d,onMouseLeave:h,onClick:g,reconnectRadius:p,onDoubleClick:N,onReconnectStart:b,onReconnectEnd:D,rfId:n,onError:k,edgeTypes:s,disableKeyboardA11y:E},S))]})}n$.displayName="EdgeRenderer";const Cbe=v.memo(n$),Rbe=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function Mbe({children:e}){const r=Mr(Rbe);return U.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:r},children:e})}function Tbe(e){const r=KP(),n=v.useRef(!1);v.useEffect(()=>{!n.current&&r.viewportInitialized&&e&&(setTimeout(()=>e(r),1),n.current=!0)},[e,r.viewportInitialized])}const Abe=e=>{var r;return(r=e.panZoom)==null?void 0:r.syncViewport};function _be(e){const r=Mr(Abe),n=pn();return v.useEffect(()=>{e&&(r==null||r(e),n.setState({transform:[e.x,e.y,e.zoom]}))},[e,r]),null}function Fbe(e){return e.connection.inProgress?{...e.connection,to:eN(e.connection.to,e.transform)}:{...e.connection}}function Ibe(e){return Fbe}function Obe(e){const r=Ibe();return Mr(r,fn)}const Lbe=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function $be({containerStyle:e,style:r,type:n,component:s}){const{nodesConnectable:a,width:l,height:c,isValid:u,inProgress:d}=Mr(Lbe,fn);return!(l&&a&&d)?null:U.jsx("svg",{style:e,width:l,height:c,className:"react-flow__connectionline react-flow__container",children:U.jsx("g",{className:$n(["react-flow__connection",QO(u)]),children:U.jsx(s$,{style:r,type:n,CustomComponent:s,isValid:u})})})}const s$=({style:e,type:r=cc.Bezier,CustomComponent:n,isValid:s})=>{const{inProgress:a,from:l,fromNode:c,fromHandle:u,fromPosition:d,to:h,toNode:g,toHandle:p,toPosition:N,pointer:b}=Obe();if(!a)return;if(n)return U.jsx(n,{connectionLineType:r,connectionLineStyle:e,fromNode:c,fromHandle:u,fromX:l.x,fromY:l.y,toX:h.x,toY:h.y,fromPosition:d,toPosition:N,connectionStatus:QO(s),toNode:g,toHandle:p,pointer:b});let D="";const E={sourceX:l.x,sourceY:l.y,sourcePosition:d,targetX:h.x,targetY:h.y,targetPosition:N};switch(r){case cc.Bezier:[D]=mL(E);break;case cc.SimpleBezier:[D]=GL(E);break;case cc.Step:[D]=Vj({...E,borderRadius:0});break;case cc.SmoothStep:[D]=Vj(E);break;default:[D]=fL(E)}return U.jsx("path",{d:D,fill:"none",className:"react-flow__connection-path",style:e})};s$.displayName="ConnectionLine";const Bbe={};function w9(e=Bbe){const r=v.useRef(e),n=pn();v.useEffect(()=>{var s,a;{const l=new Set([...Object.keys(r.current),...Object.keys(e)]);for(const c of l)if(r.current[c]!==e[c]){(a=(s=n.getState()).onError)==null||a.call(s,"002",_i.error002());break}r.current=e}},[e])}function zbe(){const e=pn(),r=v.useRef(!1);v.useEffect(()=>{var n,s;if(!r.current){const a=document.querySelector(".react-flow__pane");a&&window.getComputedStyle(a).zIndex!=="1"&&((s=(n=e.getState()).onError)==null||s.call(n,"013",_i.error013("react"))),r.current=!0}},[])}function i$({nodeTypes:e,edgeTypes:r,onInit:n,onNodeClick:s,onEdgeClick:a,onNodeDoubleClick:l,onEdgeDoubleClick:c,onNodeMouseEnter:u,onNodeMouseMove:d,onNodeMouseLeave:h,onNodeContextMenu:g,onSelectionContextMenu:p,onSelectionStart:N,onSelectionEnd:b,connectionLineType:D,connectionLineStyle:E,connectionLineComponent:j,connectionLineContainerStyle:P,selectionKeyCode:w,selectionOnDrag:k,selectionMode:V,multiSelectionKeyCode:S,panActivationKeyCode:R,zoomActivationKeyCode:M,deleteKeyCode:T,onlyRenderVisibleElements:A,elementsSelectable:F,defaultViewport:L,translateExtent:$,minZoom:W,maxZoom:O,preventScrolling:Y,defaultMarkerColor:H,zoomOnScroll:q,zoomOnPinch:z,panOnScroll:G,panOnScrollSpeed:ee,panOnScrollMode:K,zoomOnDoubleClick:be,panOnDrag:_e,onPaneClick:oe,onPaneMouseEnter:fe,onPaneMouseMove:Ae,onPaneMouseLeave:ge,onPaneScroll:Pe,onPaneContextMenu:ze,paneClickDistance:We,nodeClickDistance:Re,onEdgeContextMenu:Ee,onEdgeMouseEnter:ie,onEdgeMouseMove:ve,onEdgeMouseLeave:ne,reconnectRadius:le,onReconnect:Ue,onReconnectStart:bt,onReconnectEnd:ht,noDragClassName:Mt,noWheelClassName:Kt,noPanClassName:re,disableKeyboardA11y:ye,nodeExtent:ue,rfId:we,viewport:Ve,onViewportChange:ke}){return w9(e),w9(r),zbe(),Tbe(n),_be(Ve),U.jsx(nbe,{onPaneClick:oe,onPaneMouseEnter:fe,onPaneMouseMove:Ae,onPaneMouseLeave:ge,onPaneContextMenu:ze,onPaneScroll:Pe,paneClickDistance:We,deleteKeyCode:T,selectionKeyCode:w,selectionOnDrag:k,selectionMode:V,onSelectionStart:N,onSelectionEnd:b,multiSelectionKeyCode:S,panActivationKeyCode:R,zoomActivationKeyCode:M,elementsSelectable:F,zoomOnScroll:q,zoomOnPinch:z,zoomOnDoubleClick:be,panOnScroll:G,panOnScrollSpeed:ee,panOnScrollMode:K,panOnDrag:_e,defaultViewport:L,translateExtent:$,minZoom:W,maxZoom:O,onSelectionContextMenu:p,preventScrolling:Y,noDragClassName:Mt,noWheelClassName:Kt,noPanClassName:re,disableKeyboardA11y:ye,onViewportChange:ke,isControlledViewport:!!Ve,children:U.jsxs(Mbe,{children:[U.jsx(Cbe,{edgeTypes:r,onEdgeClick:a,onEdgeDoubleClick:c,onReconnect:Ue,onReconnectStart:bt,onReconnectEnd:ht,onlyRenderVisibleElements:A,onEdgeContextMenu:Ee,onEdgeMouseEnter:ie,onEdgeMouseMove:ve,onEdgeMouseLeave:ne,reconnectRadius:le,defaultMarkerColor:H,noPanClassName:re,disableKeyboardA11y:ye,rfId:we}),U.jsx($be,{style:E,type:D,component:j,containerStyle:P}),U.jsx("div",{className:"react-flow__edgelabel-renderer"}),U.jsx(dbe,{nodeTypes:e,onNodeClick:s,onNodeDoubleClick:l,onNodeMouseEnter:u,onNodeMouseMove:d,onNodeMouseLeave:h,onNodeContextMenu:g,nodeClickDistance:Re,onlyRenderVisibleElements:A,noPanClassName:re,noDragClassName:Mt,disableKeyboardA11y:ye,nodeExtent:ue,rfId:we}),U.jsx("div",{className:"react-flow__viewport-portal"})]})})}i$.displayName="GraphView";const Wbe=v.memo(i$),k9=({nodes:e,edges:r,defaultNodes:n,defaultEdges:s,width:a,height:l,fitView:c,fitViewOptions:u,minZoom:d=.5,maxZoom:h=2,nodeOrigin:g,nodeExtent:p,zIndexMode:N="basic"}={})=>{const b=new Map,D=new Map,E=new Map,j=new Map,P=s??r??[],w=n??e??[],k=g??[0,0],V=p??Ng;NL(E,j,P);const S=Sj(w,b,D,{nodeOrigin:k,nodeExtent:V,zIndexMode:N});let R=[0,0,1];if(c&&a&&l){const M=Qg(b,{filter:L=>!!((L.width||L.initialWidth)&&(L.height||L.initialHeight))}),{x:T,y:A,zoom:F}=BP(M,a,l,d,h,(u==null?void 0:u.padding)??.1);R=[T,A,F]}return{rfId:"1",width:a??0,height:l??0,transform:R,nodes:w,nodesInitialized:S,nodeLookup:b,parentLookup:D,edges:P,edgeLookup:j,connectionLookup:E,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:s!==void 0,panZoom:null,minZoom:d,maxZoom:h,translateExtent:Ng,nodeExtent:V,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:mh.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:k,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:c??!1,fitViewOptions:u,fitViewResolver:null,connection:{...XO},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:sL,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:YO,zIndexMode:N,onNodesChangeMiddlewareMap:new Map,onEdgesChangeMiddlewareMap:new Map}},Ube=({nodes:e,edges:r,defaultNodes:n,defaultEdges:s,width:a,height:l,fitView:c,fitViewOptions:u,minZoom:d,maxZoom:h,nodeOrigin:g,nodeExtent:p,zIndexMode:N})=>lxe((b,D)=>{async function E(){const{nodeLookup:j,panZoom:P,fitViewOptions:w,fitViewResolver:k,width:V,height:S,minZoom:R,maxZoom:M}=D();P&&(await lNe({nodes:j,width:V,height:S,panZoom:P,minZoom:R,maxZoom:M},w),k==null||k.resolve(!0),b({fitViewResolver:null}))}return{...k9({nodes:e,edges:r,width:a,height:l,fitView:c,fitViewOptions:u,minZoom:d,maxZoom:h,nodeOrigin:g,nodeExtent:p,defaultNodes:n,defaultEdges:s,zIndexMode:N}),setNodes:j=>{const{nodeLookup:P,parentLookup:w,nodeOrigin:k,elevateNodesOnSelect:V,fitViewQueued:S,zIndexMode:R}=D(),M=Sj(j,P,w,{nodeOrigin:k,nodeExtent:p,elevateNodesOnSelect:V,checkEquality:!0,zIndexMode:R});S&&M?(E(),b({nodes:j,nodesInitialized:M,fitViewQueued:!1,fitViewOptions:void 0})):b({nodes:j,nodesInitialized:M})},setEdges:j=>{const{connectionLookup:P,edgeLookup:w}=D();NL(P,w,j),b({edges:j})},setDefaultNodesAndEdges:(j,P)=>{if(j){const{setNodes:w}=D();w(j),b({hasDefaultNodes:!0})}if(P){const{setEdges:w}=D();w(P),b({hasDefaultEdges:!0})}},updateNodeInternals:j=>{const{triggerNodeChanges:P,nodeLookup:w,parentLookup:k,domNode:V,nodeOrigin:S,nodeExtent:R,debug:M,fitViewQueued:T,zIndexMode:A}=D(),{changes:F,updatedInternals:L}=CNe(j,w,k,V,S,R,A);L&&(jNe(w,k,{nodeOrigin:S,nodeExtent:R,zIndexMode:A}),T?(E(),b({fitViewQueued:!1,fitViewOptions:void 0})):b({}),(F==null?void 0:F.length)>0&&(M&&console.log("React Flow: trigger node changes",F),P==null||P(F)))},updateNodePositions:(j,P=!1)=>{const w=[];let k=[];const{nodeLookup:V,triggerNodeChanges:S,connection:R,updateConnection:M,onNodesChangeMiddlewareMap:T}=D();for(const[A,F]of j){const L=V.get(A),$=!!(L!=null&&L.expandParent&&(L!=null&&L.parentId)&&(F!=null&&F.position)),W={id:A,type:"position",position:$?{x:Math.max(0,F.position.x),y:Math.max(0,F.position.y)}:F.position,dragging:P};if(L&&R.inProgress&&R.fromNode.id===L.id){const O=Zu(L,R.fromHandle,It.Left,!0);M({...R,from:O})}$&&L.parentId&&w.push({id:A,parentId:L.parentId,rect:{...F.internals.positionAbsolute,width:F.measured.width??0,height:F.measured.height??0}}),k.push(W)}if(w.length>0){const{parentLookup:A,nodeOrigin:F}=D(),L=JP(w,V,A,F);k.push(...L)}for(const A of T.values())k=A(k);S(k)},triggerNodeChanges:j=>{const{onNodesChange:P,setNodes:w,nodes:k,hasDefaultNodes:V,debug:S}=D();if(j!=null&&j.length){if(V){const R=AL(j,k);w(R)}S&&console.log("React Flow: trigger node changes",j),P==null||P(j)}},triggerEdgeChanges:j=>{const{onEdgesChange:P,setEdges:w,edges:k,hasDefaultEdges:V,debug:S}=D();if(j!=null&&j.length){if(V){const R=_L(j,k);w(R)}S&&console.log("React Flow: trigger edge changes",j),P==null||P(j)}},addSelectedNodes:j=>{const{multiSelectionActive:P,edgeLookup:w,nodeLookup:k,triggerNodeChanges:V,triggerEdgeChanges:S}=D();if(P){const R=j.map(M=>Du(M,!0));V(R);return}V(Ed(k,new Set([...j]),!0)),S(Ed(w))},addSelectedEdges:j=>{const{multiSelectionActive:P,edgeLookup:w,nodeLookup:k,triggerNodeChanges:V,triggerEdgeChanges:S}=D();if(P){const R=j.map(M=>Du(M,!0));S(R);return}S(Ed(w,new Set([...j]))),V(Ed(k,new Set,!0))},unselectNodesAndEdges:({nodes:j,edges:P}={})=>{const{edges:w,nodes:k,nodeLookup:V,triggerNodeChanges:S,triggerEdgeChanges:R}=D(),M=j||k,T=P||w,A=M.map(L=>{const $=V.get(L.id);return $&&($.selected=!1),Du(L.id,!1)}),F=T.map(L=>Du(L.id,!1));S(A),R(F)},setMinZoom:j=>{const{panZoom:P,maxZoom:w}=D();P==null||P.setScaleExtent([j,w]),b({minZoom:j})},setMaxZoom:j=>{const{panZoom:P,minZoom:w}=D();P==null||P.setScaleExtent([w,j]),b({maxZoom:j})},setTranslateExtent:j=>{var P;(P=D().panZoom)==null||P.setTranslateExtent(j),b({translateExtent:j})},resetSelectedElements:()=>{const{edges:j,nodes:P,triggerNodeChanges:w,triggerEdgeChanges:k,elementsSelectable:V}=D();if(!V)return;const S=P.reduce((M,T)=>T.selected?[...M,Du(T.id,!1)]:M,[]),R=j.reduce((M,T)=>T.selected?[...M,Du(T.id,!1)]:M,[]);w(S),k(R)},setNodeExtent:j=>{const{nodes:P,nodeLookup:w,parentLookup:k,nodeOrigin:V,elevateNodesOnSelect:S,nodeExtent:R,zIndexMode:M}=D();j[0][0]===R[0][0]&&j[0][1]===R[0][1]&&j[1][0]===R[1][0]&&j[1][1]===R[1][1]||(Sj(P,w,k,{nodeOrigin:V,nodeExtent:j,elevateNodesOnSelect:S,checkEquality:!1,zIndexMode:M}),b({nodeExtent:j}))},panBy:j=>{const{transform:P,width:w,height:k,panZoom:V,translateExtent:S}=D();return RNe({delta:j,panZoom:V,transform:P,translateExtent:S,width:w,height:k})},setCenter:async(j,P,w)=>{const{width:k,height:V,maxZoom:S,panZoom:R}=D();if(!R)return Promise.resolve(!1);const M=typeof(w==null?void 0:w.zoom)<"u"?w.zoom:S;return await R.setViewport({x:k/2-j*M,y:V/2-P*M,zoom:M},{duration:w==null?void 0:w.duration,ease:w==null?void 0:w.ease,interpolate:w==null?void 0:w.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{b({connection:{...XO}})},updateConnection:j=>{b({connection:j})},reset:()=>b({...k9()})}},Object.is);function Gbe({initialNodes:e,initialEdges:r,defaultNodes:n,defaultEdges:s,initialWidth:a,initialHeight:l,initialMinZoom:c,initialMaxZoom:u,initialFitViewOptions:d,fitView:h,nodeOrigin:g,nodeExtent:p,zIndexMode:N,children:b}){const[D]=v.useState(()=>Ube({nodes:e,edges:r,defaultNodes:n,defaultEdges:s,width:a,height:l,fitView:h,minZoom:c,maxZoom:u,fitViewOptions:d,nodeOrigin:g,nodeExtent:p,zIndexMode:N}));return U.jsx(cxe,{value:D,children:U.jsx(Mxe,{children:b})})}function Hbe({children:e,nodes:r,edges:n,defaultNodes:s,defaultEdges:a,width:l,height:c,fitView:u,fitViewOptions:d,minZoom:h,maxZoom:g,nodeOrigin:p,nodeExtent:N,zIndexMode:b}){return v.useContext(ry)?U.jsx(U.Fragment,{children:e}):U.jsx(Gbe,{initialNodes:r,initialEdges:n,defaultNodes:s,defaultEdges:a,initialWidth:l,initialHeight:c,fitView:u,initialFitViewOptions:d,initialMinZoom:h,initialMaxZoom:g,nodeOrigin:p,nodeExtent:N,zIndexMode:b,children:e})}const Jbe={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function Kbe({nodes:e,edges:r,defaultNodes:n,defaultEdges:s,className:a,nodeTypes:l,edgeTypes:c,onNodeClick:u,onEdgeClick:d,onInit:h,onMove:g,onMoveStart:p,onMoveEnd:N,onConnect:b,onConnectStart:D,onConnectEnd:E,onClickConnectStart:j,onClickConnectEnd:P,onNodeMouseEnter:w,onNodeMouseMove:k,onNodeMouseLeave:V,onNodeContextMenu:S,onNodeDoubleClick:R,onNodeDragStart:M,onNodeDrag:T,onNodeDragStop:A,onNodesDelete:F,onEdgesDelete:L,onDelete:$,onSelectionChange:W,onSelectionDragStart:O,onSelectionDrag:Y,onSelectionDragStop:H,onSelectionContextMenu:q,onSelectionStart:z,onSelectionEnd:G,onBeforeDelete:ee,connectionMode:K,connectionLineType:be=cc.Bezier,connectionLineStyle:_e,connectionLineComponent:oe,connectionLineContainerStyle:fe,deleteKeyCode:Ae="Backspace",selectionKeyCode:ge="Shift",selectionOnDrag:Pe=!1,selectionMode:ze=xg.Full,panActivationKeyCode:We="Space",multiSelectionKeyCode:Re=vg()?"Meta":"Control",zoomActivationKeyCode:Ee=vg()?"Meta":"Control",snapToGrid:ie,snapGrid:ve,onlyRenderVisibleElements:ne=!1,selectNodesOnDrag:le,nodesDraggable:Ue,autoPanOnNodeFocus:bt,nodesConnectable:ht,nodesFocusable:Mt,nodeOrigin:Kt=ML,edgesFocusable:re,edgesReconnectable:ye,elementsSelectable:ue=!0,defaultViewport:we=wxe,minZoom:Ve=.5,maxZoom:ke=2,translateExtent:Oe=Ng,preventScrolling:et=!0,nodeExtent:Fe,defaultMarkerColor:Je="#b1b1b7",zoomOnScroll:Nt=!0,zoomOnPinch:Vt=!0,panOnScroll:Ot=!1,panOnScrollSpeed:fr=.5,panOnScrollMode:_t=$u.Free,zoomOnDoubleClick:Zr=!0,panOnDrag:xr=!0,onPaneClick:mr,onPaneMouseEnter:wr,onPaneMouseMove:gn,onPaneMouseLeave:Nn,onPaneScroll:$r,onPaneContextMenu:Ds,paneClickDistance:di=1,nodeClickDistance:Ys=0,children:Xs,onReconnect:Qs,onReconnectStart:Zs,onReconnectEnd:_s,onEdgeContextMenu:us,onEdgeDoubleClick:Qn,onEdgeMouseEnter:ei,onEdgeMouseMove:na,onEdgeMouseLeave:ce,reconnectRadius:Ye=10,onNodesChange:X,onEdgesChange:Se,noDragClassName:Ge="nodrag",noWheelClassName:Ze="nowheel",noPanClassName:ct="nopan",fitView:nt,fitViewOptions:Tt,connectOnClick:jt,attributionPosition:sr,proOptions:dr,defaultEdgeOptions:Tr,elevateNodesOnSelect:sn=!0,elevateEdgesOnSelect:en=!1,disableKeyboardA11y:Zn=!1,autoPanOnConnect:tn,autoPanOnNodeDrag:Xt,autoPanSpeed:sa,connectionRadius:kl,isValidConnection:nm,onError:Ba,style:Fc,id:El,nodeDragThreshold:Ic,connectionDragThreshold:Oc,viewport:Lc,onViewportChange:sm,width:im,height:Dl,colorMode:$c="light",debug:Fi,onScroll:Ii,ariaLabelConfig:za,zIndexMode:Vo="basic",...Po},jl){const So=El||"1",am=jxe($c),Bc=v.useCallback(om=>{om.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),Ii==null||Ii(om)},[Ii]);return U.jsx("div",{"data-testid":"rf__wrapper",...Po,onScroll:Bc,style:{...Fc,...Jbe},ref:jl,className:$n(["react-flow",a,am]),id:El,role:"application",children:U.jsxs(Hbe,{nodes:e,edges:r,width:im,height:Dl,fitView:nt,fitViewOptions:Tt,minZoom:Ve,maxZoom:ke,nodeOrigin:Kt,nodeExtent:Fe,zIndexMode:Vo,children:[U.jsx(Wbe,{onInit:h,onNodeClick:u,onEdgeClick:d,onNodeMouseEnter:w,onNodeMouseMove:k,onNodeMouseLeave:V,onNodeContextMenu:S,onNodeDoubleClick:R,nodeTypes:l,edgeTypes:c,connectionLineType:be,connectionLineStyle:_e,connectionLineComponent:oe,connectionLineContainerStyle:fe,selectionKeyCode:ge,selectionOnDrag:Pe,selectionMode:ze,deleteKeyCode:Ae,multiSelectionKeyCode:Re,panActivationKeyCode:We,zoomActivationKeyCode:Ee,onlyRenderVisibleElements:ne,defaultViewport:we,translateExtent:Oe,minZoom:Ve,maxZoom:ke,preventScrolling:et,zoomOnScroll:Nt,zoomOnPinch:Vt,zoomOnDoubleClick:Zr,panOnScroll:Ot,panOnScrollSpeed:fr,panOnScrollMode:_t,panOnDrag:xr,onPaneClick:mr,onPaneMouseEnter:wr,onPaneMouseMove:gn,onPaneMouseLeave:Nn,onPaneScroll:$r,onPaneContextMenu:Ds,paneClickDistance:di,nodeClickDistance:Ys,onSelectionContextMenu:q,onSelectionStart:z,onSelectionEnd:G,onReconnect:Qs,onReconnectStart:Zs,onReconnectEnd:_s,onEdgeContextMenu:us,onEdgeDoubleClick:Qn,onEdgeMouseEnter:ei,onEdgeMouseMove:na,onEdgeMouseLeave:ce,reconnectRadius:Ye,defaultMarkerColor:Je,noDragClassName:Ge,noWheelClassName:Ze,noPanClassName:ct,rfId:So,disableKeyboardA11y:Zn,nodeExtent:Fe,viewport:Lc,onViewportChange:sm}),U.jsx(Dxe,{nodes:e,edges:r,defaultNodes:n,defaultEdges:s,onConnect:b,onConnectStart:D,onConnectEnd:E,onClickConnectStart:j,onClickConnectEnd:P,nodesDraggable:Ue,autoPanOnNodeFocus:bt,nodesConnectable:ht,nodesFocusable:Mt,edgesFocusable:re,edgesReconnectable:ye,elementsSelectable:ue,elevateNodesOnSelect:sn,elevateEdgesOnSelect:en,minZoom:Ve,maxZoom:ke,nodeExtent:Fe,onNodesChange:X,onEdgesChange:Se,snapToGrid:ie,snapGrid:ve,connectionMode:K,translateExtent:Oe,connectOnClick:jt,defaultEdgeOptions:Tr,fitView:nt,fitViewOptions:Tt,onNodesDelete:F,onEdgesDelete:L,onDelete:$,onNodeDragStart:M,onNodeDrag:T,onNodeDragStop:A,onSelectionDrag:Y,onSelectionDragStart:O,onSelectionDragStop:H,onMove:g,onMoveStart:p,onMoveEnd:N,noPanClassName:ct,nodeOrigin:Kt,rfId:So,autoPanOnConnect:tn,autoPanOnNodeDrag:Xt,autoPanSpeed:sa,onError:Ba,connectionRadius:kl,isValidConnection:nm,selectNodesOnDrag:le,nodeDragThreshold:Ic,connectionDragThreshold:Oc,onBeforeDelete:ee,debug:Fi,ariaLabelConfig:za,zIndexMode:Vo}),U.jsx(yxe,{onSelectionChange:W}),Xs,U.jsx(gxe,{proOptions:dr,position:sr}),U.jsx(pxe,{rfId:So,disableKeyboardA11y:Zn})]})})}var qbe=FL(Kbe);function Ybe(e){const[r,n]=v.useState(e),s=v.useCallback(a=>n(l=>AL(a,l)),[]);return[r,n,s]}function Xbe(e){const[r,n]=v.useState(e),s=v.useCallback(a=>n(l=>_L(a,l)),[]);return[r,n,s]}function Qbe({dimensions:e,lineWidth:r,variant:n,className:s}){return U.jsx("path",{strokeWidth:r,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:$n(["react-flow__background-pattern",n,s])})}function Zbe({radius:e,className:r}){return U.jsx("circle",{cx:e,cy:e,r:e,className:$n(["react-flow__background-pattern","dots",r])})}var ll;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(ll||(ll={}));const eve={[ll.Dots]:1,[ll.Lines]:1,[ll.Cross]:6},tve=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function a$({id:e,variant:r=ll.Dots,gap:n=20,size:s,lineWidth:a=1,offset:l=0,color:c,bgColor:u,style:d,className:h,patternClassName:g}){const p=v.useRef(null),{transform:N,patternId:b}=Mr(tve,fn),D=s||eve[r],E=r===ll.Dots,j=r===ll.Cross,P=Array.isArray(n)?n:[n,n],w=[P[0]*N[2]||1,P[1]*N[2]||1],k=D*N[2],V=Array.isArray(l)?l:[l,l],S=j?[k,k]:w,R=[V[0]*N[2]||1+S[0]/2,V[1]*N[2]||1+S[1]/2],M=`${b}${e||""}`;return U.jsxs("svg",{className:$n(["react-flow__background",h]),style:{...d,...sy,"--xy-background-color-props":u,"--xy-background-pattern-color-props":c},ref:p,"data-testid":"rf__background",children:[U.jsx("pattern",{id:M,x:N[0]%w[0],y:N[1]%w[1],width:w[0],height:w[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${R[0]},-${R[1]})`,children:E?U.jsx(Zbe,{radius:k/2,className:g}):U.jsx(Qbe,{dimensions:S,lineWidth:a,variant:r,className:g})}),U.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${M})`})]})}a$.displayName="Background";const rve=v.memo(a$);function nve(){return U.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:U.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function sve(){return U.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:U.jsx("path",{d:"M0 0h32v4.2H0z"})})}function ive(){return U.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:U.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function ave(){return U.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:U.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function ove(){return U.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:U.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function Ib({children:e,className:r,...n}){return U.jsx("button",{type:"button",className:$n(["react-flow__controls-button",r]),...n,children:e})}const lve=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom,ariaLabelConfig:e.ariaLabelConfig});function o$({style:e,showZoom:r=!0,showFitView:n=!0,showInteractive:s=!0,fitViewOptions:a,onZoomIn:l,onZoomOut:c,onFitView:u,onInteractiveChange:d,className:h,children:g,position:p="bottom-left",orientation:N="vertical","aria-label":b}){const D=pn(),{isInteractive:E,minZoomReached:j,maxZoomReached:P,ariaLabelConfig:w}=Mr(lve,fn),{zoomIn:k,zoomOut:V,fitView:S}=KP(),R=()=>{k(),l==null||l()},M=()=>{V(),c==null||c()},T=()=>{S(a),u==null||u()},A=()=>{D.setState({nodesDraggable:!E,nodesConnectable:!E,elementsSelectable:!E}),d==null||d(!E)},F=N==="horizontal"?"horizontal":"vertical";return U.jsxs(ny,{className:$n(["react-flow__controls",F,h]),position:p,style:e,"data-testid":"rf__controls","aria-label":b??w["controls.ariaLabel"],children:[r&&U.jsxs(U.Fragment,{children:[U.jsx(Ib,{onClick:R,className:"react-flow__controls-zoomin",title:w["controls.zoomIn.ariaLabel"],"aria-label":w["controls.zoomIn.ariaLabel"],disabled:P,children:U.jsx(nve,{})}),U.jsx(Ib,{onClick:M,className:"react-flow__controls-zoomout",title:w["controls.zoomOut.ariaLabel"],"aria-label":w["controls.zoomOut.ariaLabel"],disabled:j,children:U.jsx(sve,{})})]}),n&&U.jsx(Ib,{className:"react-flow__controls-fitview",onClick:T,title:w["controls.fitView.ariaLabel"],"aria-label":w["controls.fitView.ariaLabel"],children:U.jsx(ive,{})}),s&&U.jsx(Ib,{className:"react-flow__controls-interactive",onClick:A,title:w["controls.interactive.ariaLabel"],"aria-label":w["controls.interactive.ariaLabel"],children:E?U.jsx(ove,{}):U.jsx(ave,{})}),g]})}o$.displayName="Controls";const cve=v.memo(o$);function uve({id:e,x:r,y:n,width:s,height:a,style:l,color:c,strokeColor:u,strokeWidth:d,className:h,borderRadius:g,shapeRendering:p,selected:N,onClick:b}){const{background:D,backgroundColor:E}=l||{},j=c||D||E;return U.jsx("rect",{className:$n(["react-flow__minimap-node",{selected:N},h]),x:r,y:n,rx:g,ry:g,width:s,height:a,style:{fill:j,stroke:u,strokeWidth:d},shapeRendering:p,onClick:b?P=>b(P,e):void 0})}const mve=v.memo(uve),dve=e=>e.nodes.map(r=>r.id),lD=e=>e instanceof Function?e:()=>e;function hve({nodeStrokeColor:e,nodeColor:r,nodeClassName:n="",nodeBorderRadius:s=5,nodeStrokeWidth:a,nodeComponent:l=mve,onClick:c}){const u=Mr(dve,fn),d=lD(r),h=lD(e),g=lD(n),p=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return U.jsx(U.Fragment,{children:u.map(N=>U.jsx(pve,{id:N,nodeColorFunc:d,nodeStrokeColorFunc:h,nodeClassNameFunc:g,nodeBorderRadius:s,nodeStrokeWidth:a,NodeComponent:l,onClick:c,shapeRendering:p},N))})}function fve({id:e,nodeColorFunc:r,nodeStrokeColorFunc:n,nodeClassNameFunc:s,nodeBorderRadius:a,nodeStrokeWidth:l,shapeRendering:c,NodeComponent:u,onClick:d}){const{node:h,x:g,y:p,width:N,height:b}=Mr(D=>{const{internals:E}=D.nodeLookup.get(e),j=E.userNode,{x:P,y:w}=E.positionAbsolute,{width:k,height:V}=wl(j);return{node:j,x:P,y:w,width:k,height:V}},fn);return!h||h.hidden||!iL(h)?null:U.jsx(u,{x:g,y:p,width:N,height:b,style:h.style,selected:!!h.selected,className:s(h),color:r(h),borderRadius:a,strokeColor:n(h),strokeWidth:l,shapeRendering:c,onClick:d,id:h.id})}const pve=v.memo(fve);var gve=v.memo(hve);const Nve=200,xve=150,bve=e=>!e.hidden,vve=e=>{const r={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:r,boundingRect:e.nodeLookup.size>0?nL(Qg(e.nodeLookup,{filter:bve}),r):r,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height,ariaLabelConfig:e.ariaLabelConfig}},yve="react-flow__minimap-desc";function l$({style:e,className:r,nodeStrokeColor:n,nodeColor:s,nodeClassName:a="",nodeBorderRadius:l=5,nodeStrokeWidth:c,nodeComponent:u,bgColor:d,maskColor:h,maskStrokeColor:g,maskStrokeWidth:p,position:N="bottom-right",onClick:b,onNodeClick:D,pannable:E=!1,zoomable:j=!1,ariaLabel:P,inversePan:w,zoomStep:k=1,offsetScale:V=5}){const S=pn(),R=v.useRef(null),{boundingRect:M,viewBB:T,rfId:A,panZoom:F,translateExtent:L,flowWidth:$,flowHeight:W,ariaLabelConfig:O}=Mr(vve,fn),Y=(e==null?void 0:e.width)??Nve,H=(e==null?void 0:e.height)??xve,q=M.width/Y,z=M.height/H,G=Math.max(q,z),ee=G*Y,K=G*H,be=V*G,_e=M.x-(ee-M.width)/2-be,oe=M.y-(K-M.height)/2-be,fe=ee+be*2,Ae=K+be*2,ge=`${yve}-${A}`,Pe=v.useRef(0),ze=v.useRef();Pe.current=G,v.useEffect(()=>{if(R.current&&F)return ze.current=$Ne({domNode:R.current,panZoom:F,getTransform:()=>S.getState().transform,getViewScale:()=>Pe.current}),()=>{var ie;(ie=ze.current)==null||ie.destroy()}},[F]),v.useEffect(()=>{var ie;(ie=ze.current)==null||ie.update({translateExtent:L,width:$,height:W,inversePan:w,pannable:E,zoomStep:k,zoomable:j})},[E,j,w,k,L,$,W]);const We=b?ie=>{var le;const[ve,ne]=((le=ze.current)==null?void 0:le.pointer(ie))||[0,0];b(ie,{x:ve,y:ne})}:void 0,Re=D?v.useCallback((ie,ve)=>{const ne=S.getState().nodeLookup.get(ve).internals.userNode;D(ie,ne)},[]):void 0,Ee=P??O["minimap.ariaLabel"];return U.jsx(ny,{position:N,style:{...e,"--xy-minimap-background-color-props":typeof d=="string"?d:void 0,"--xy-minimap-mask-background-color-props":typeof h=="string"?h:void 0,"--xy-minimap-mask-stroke-color-props":typeof g=="string"?g:void 0,"--xy-minimap-mask-stroke-width-props":typeof p=="number"?p*G:void 0,"--xy-minimap-node-background-color-props":typeof s=="string"?s:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof c=="number"?c:void 0},className:$n(["react-flow__minimap",r]),"data-testid":"rf__minimap",children:U.jsxs("svg",{width:Y,height:H,viewBox:`${_e} ${oe} ${fe} ${Ae}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":ge,ref:R,onClick:We,children:[Ee&&U.jsx("title",{id:ge,children:Ee}),U.jsx(gve,{onClick:Re,nodeColor:s,nodeStrokeColor:n,nodeBorderRadius:l,nodeClassName:a,nodeStrokeWidth:c,nodeComponent:u}),U.jsx("path",{className:"react-flow__minimap-mask",d:`M${_e-be},${oe-be}h${fe+be*2}v${Ae+be*2}h${-fe-be*2}z
        M${T.x},${T.y}h${T.width}v${T.height}h${-T.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}l$.displayName="MiniMap";const wve=v.memo(l$),kve=e=>r=>e?`${Math.max(1/r.transform[2],1)}`:void 0,Eve={[ph.Line]:"right",[ph.Handle]:"bottom-right"};function Dve({nodeId:e,position:r,variant:n=ph.Handle,className:s,style:a=void 0,children:l,color:c,minWidth:u=10,minHeight:d=10,maxWidth:h=Number.MAX_VALUE,maxHeight:g=Number.MAX_VALUE,keepAspectRatio:p=!1,resizeDirection:N,autoScale:b=!0,shouldResize:D,onResizeStart:E,onResize:j,onResizeEnd:P}){const w=$L(),k=typeof e=="string"?e:w,V=pn(),S=v.useRef(null),R=n===ph.Handle,M=Mr(v.useCallback(kve(R&&b),[R,b]),fn),T=v.useRef(null),A=r??Eve[n];v.useEffect(()=>{if(!(!S.current||!k))return T.current||(T.current=exe({domNode:S.current,nodeId:k,getStoreItems:()=>{const{nodeLookup:L,transform:$,snapGrid:W,snapToGrid:O,nodeOrigin:Y,domNode:H}=V.getState();return{nodeLookup:L,transform:$,snapGrid:W,snapToGrid:O,nodeOrigin:Y,paneDomNode:H}},onChange:(L,$)=>{const{triggerNodeChanges:W,nodeLookup:O,parentLookup:Y,nodeOrigin:H}=V.getState(),q=[],z={x:L.x,y:L.y},G=O.get(k);if(G&&G.expandParent&&G.parentId){const ee=G.origin??H,K=L.width??G.measured.width??0,be=L.height??G.measured.height??0,_e={id:G.id,parentId:G.parentId,rect:{width:K,height:be,...aL({x:L.x??G.position.x,y:L.y??G.position.y},{width:K,height:be},G.parentId,O,ee)}},oe=JP([_e],O,Y,H);q.push(...oe),z.x=L.x?Math.max(ee[0]*K,L.x):void 0,z.y=L.y?Math.max(ee[1]*be,L.y):void 0}if(z.x!==void 0&&z.y!==void 0){const ee={id:k,type:"position",position:{...z}};q.push(ee)}if(L.width!==void 0&&L.height!==void 0){const K={id:k,type:"dimensions",resizing:!0,setAttributes:N?N==="horizontal"?"width":"height":!0,dimensions:{width:L.width,height:L.height}};q.push(K)}for(const ee of $){const K={...ee,type:"position"};q.push(K)}W(q)},onEnd:({width:L,height:$})=>{const W={id:k,type:"dimensions",resizing:!1,dimensions:{width:L,height:$}};V.getState().triggerNodeChanges([W])}})),T.current.update({controlPosition:A,boundaries:{minWidth:u,minHeight:d,maxWidth:h,maxHeight:g},keepAspectRatio:p,resizeDirection:N,onResizeStart:E,onResize:j,onResizeEnd:P,shouldResize:D}),()=>{var L;(L=T.current)==null||L.destroy()}},[A,u,d,h,g,p,E,j,P,D]);const F=A.split("-");return U.jsx("div",{className:$n(["react-flow__resize-control","nodrag",...F,n,s]),ref:S,style:{...a,scale:M,...c&&{[R?"backgroundColor":"borderColor"]:c}},children:l})}v.memo(Dve);const jve={box:bh,brain:t0,target:Xr,"bar-chart":jd,layout:Xj,users:On,zap:wh,"file-text":Es,settings:i0,database:n0,search:Gu,lightbulb:yn,"trending-up":cn,grid:Jj,layers:Kj,compass:Hj,map:Cg,"pie-chart":Uj,activity:Wj,"layout-grid":Sg,"message-square":qj};function Vve(e){return jve[e]||bh}function Pve({data:e,selected:r}){const n=e,s=Vve(n.icon),{isExecuting:a,executionStatus:l,executionMessage:c}=n,u=()=>{if(!a)return"";switch(l){case"running":return"ring-2 ring-blue-500 animate-pulse";case"completed":return"ring-2 ring-green-500";case"error":return"ring-2 ring-red-500";case"pending":return"opacity-60";default:return""}},d=()=>{if(!a)return null;switch(l){case"running":return t.jsxDEV(lt,{className:"h-4 w-4 animate-spin text-blue-500"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/components/ModuleNode.tsx",lineNumber:81,columnNumber:16},this);case"completed":return t.jsxDEV(tr,{className:"h-4 w-4 text-green-500"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/components/ModuleNode.tsx",lineNumber:83,columnNumber:16},this);case"error":return t.jsxDEV(Dc,{className:"h-4 w-4 text-red-500"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/components/ModuleNode.tsx",lineNumber:85,columnNumber:16},this);default:return null}};return t.jsxDEV("div",{className:Ke("bg-card border rounded-lg shadow-sm min-w-[180px] transition-all",r?"ring-2 ring-primary border-primary":"border-border",n.status==="stub"&&"opacity-80",u()),"data-testid":`node-module-${n.moduleId}`,children:[t.jsxDEV("div",{className:Ke("flex items-center gap-2 px-3 py-2 border-b rounded-t-lg",n.status==="implemented"?"bg-primary/5":"bg-muted/50"),children:[t.jsxDEV(s,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/components/ModuleNode.tsx",lineNumber:105,columnNumber:9},this),t.jsxDEV("span",{className:"text-sm font-medium truncate flex-1",children:n.label},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/components/ModuleNode.tsx",lineNumber:106,columnNumber:9},this),d(),n.status==="stub"&&!a&&t.jsxDEV(se,{variant:"secondary",className:"text-[10px] px-1 py-0",children:"Stub"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/components/ModuleNode.tsx",lineNumber:109,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/components/ModuleNode.tsx",lineNumber:101,columnNumber:7},this),t.jsxDEV("div",{className:"relative px-3 py-2 min-h-[40px]",children:[n.inputs.map((h,g)=>t.jsxDEV(gh,{type:"target",position:It.Left,id:h.id,className:Ke("w-3 h-3 border-2 border-background",h.required?"bg-primary":"bg-muted-foreground"),style:{top:`${20+g*20}px`},title:`${h.name} (${h.type})${h.required?" *":""}`},`input-${h.id}`,!1,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/components/ModuleNode.tsx",lineNumber:117,columnNumber:11},this)),n.outputs.map((h,g)=>t.jsxDEV(gh,{type:"source",position:It.Right,id:h.id,className:"w-3 h-3 bg-primary border-2 border-background",style:{top:`${20+g*20}px`},title:`${h.name} (${h.type})`},`output-${h.id}`,!1,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/components/ModuleNode.tsx",lineNumber:132,columnNumber:11},this)),t.jsxDEV("div",{className:"flex justify-between text-[10px] text-muted-foreground",children:[t.jsxDEV("div",{className:"space-y-1",children:n.inputs.map(h=>t.jsxDEV("div",{className:"pl-2",children:[h.name,h.required&&t.jsxDEV("span",{className:"text-destructive",children:"*"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/components/ModuleNode.tsx",lineNumber:147,columnNumber:48},this)]},h.id,!0,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/components/ModuleNode.tsx",lineNumber:146,columnNumber:15},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/components/ModuleNode.tsx",lineNumber:144,columnNumber:11},this),t.jsxDEV("div",{className:"space-y-1 text-right",children:n.outputs.map(h=>t.jsxDEV("div",{className:"pr-2",children:h.name},h.id,!1,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/components/ModuleNode.tsx",lineNumber:153,columnNumber:15},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/components/ModuleNode.tsx",lineNumber:151,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/components/ModuleNode.tsx",lineNumber:143,columnNumber:9},this),a&&l==="running"&&c&&t.jsxDEV("div",{className:"mt-1 text-[10px] text-blue-600 truncate",children:c},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/components/ModuleNode.tsx",lineNumber:161,columnNumber:11},this),a&&l==="error"&&t.jsxDEV("div",{className:"mt-1 text-[10px] text-red-600 truncate",children:"Error occurred"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/components/ModuleNode.tsx",lineNumber:166,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/components/ModuleNode.tsx",lineNumber:115,columnNumber:7},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/components/ModuleNode.tsx",lineNumber:92,columnNumber:5},this)}const Sve=v.memo(Pve),cD=["input","analysis","strategy","customer","execution","output"],Cve={input:"Input Sources",analysis:"Analysis Frameworks",strategy:"Strategy Tools",customer:"Customer Insights",execution:"Execution Planning",output:"Output & Export"},Rve={box:bh,brain:t0,target:Xr,"bar-chart":jd,layout:Xj,users:On,zap:wh,"file-text":Es,settings:i0,database:n0,search:Gu,lightbulb:yn,"trending-up":cn,grid:Jj,layers:Kj,compass:Hj,map:Cg,"pie-chart":Uj,activity:Wj,"layout-grid":Sg,"message-square":qj};function Mve(e){return Rve[e]||bh}function Tve({isCollapsed:e,onToggleCollapse:r,onDragStart:n}){const[s,a]=v.useState(new Set(cD)),{data:l,isLoading:c}=yt({queryKey:["/api/custom-journey-builder/modules"]}),u=(l==null?void 0:l.modules)||[],d=v.useMemo(()=>{const g={};for(const p of cD)g[p]=[];for(const p of u){const N=p.category||"analysis";g[N]||(g[N]=[]),g[N].push(p)}return g},[u]),h=g=>{a(p=>{const N=new Set(p);return N.has(g)?N.delete(g):N.add(g),N})};return e?t.jsxDEV("div",{className:"w-10 h-full bg-card border-r flex flex-col items-center py-2",children:t.jsxDEV(me,{variant:"ghost",size:"icon",onClick:r,className:"mb-2","data-testid":"button-expand-palette",children:t.jsxDEV(Wu,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/components/ModulePalette.tsx",lineNumber:140,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/components/ModulePalette.tsx",lineNumber:133,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/components/ModulePalette.tsx",lineNumber:132,columnNumber:7},this):t.jsxDEV("div",{className:"w-[250px] h-full bg-card border-r flex flex-col",children:[t.jsxDEV("div",{className:"flex items-center justify-between px-3 py-2 border-b",children:[t.jsxDEV("span",{className:"font-medium text-sm",children:"Modules"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/components/ModulePalette.tsx",lineNumber:149,columnNumber:9},this),t.jsxDEV(me,{variant:"ghost",size:"icon",onClick:r,"data-testid":"button-collapse-palette",children:t.jsxDEV(J7,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/components/ModulePalette.tsx",lineNumber:156,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/components/ModulePalette.tsx",lineNumber:150,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/components/ModulePalette.tsx",lineNumber:148,columnNumber:7},this),t.jsxDEV(H0,{className:"flex-1",children:t.jsxDEV("div",{className:"p-2 space-y-1",children:c?t.jsxDEV("div",{className:"text-center text-sm text-muted-foreground py-4",children:"Loading modules..."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/components/ModulePalette.tsx",lineNumber:163,columnNumber:13},this):cD.map(g=>{const p=d[g];if(!p||p.length===0)return null;const N=s.has(g);return t.jsxDEV(_h,{open:N,onOpenChange:()=>h(g),children:[t.jsxDEV(Fh,{asChild:!0,children:t.jsxDEV(me,{variant:"ghost",className:"w-full justify-between px-2 py-1.5 h-auto","data-testid":`button-category-${g}`,children:[t.jsxDEV("span",{className:"text-xs font-medium uppercase tracking-wide text-muted-foreground",children:Cve[g]||g},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/components/ModulePalette.tsx",lineNumber:185,columnNumber:23},this),t.jsxDEV(wo,{className:Ke("h-3 w-3 transition-transform",N&&"rotate-180")},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/components/ModulePalette.tsx",lineNumber:188,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/components/ModulePalette.tsx",lineNumber:180,columnNumber:21},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/components/ModulePalette.tsx",lineNumber:179,columnNumber:19},this),t.jsxDEV(Ih,{className:"space-y-1 pt-1",children:p.map(b=>{const D=Mve(b.icon);return t.jsxDEV("div",{className:Ke("flex items-center gap-2 px-2 py-1.5 rounded-md cursor-grab","hover:bg-accent transition-colors","border border-transparent hover:border-border",b.status==="stub"&&"opacity-70"),draggable:!0,onDragStart:E=>n(E,b),"data-testid":`palette-module-${b.id}`,children:[t.jsxDEV(MX,{className:"h-3 w-3 text-muted-foreground/50"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/components/ModulePalette.tsx",lineNumber:213,columnNumber:27},this),t.jsxDEV(D,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/components/ModulePalette.tsx",lineNumber:214,columnNumber:27},this),t.jsxDEV("span",{className:"text-sm flex-1 truncate",children:b.name},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/components/ModulePalette.tsx",lineNumber:215,columnNumber:27},this),t.jsxDEV(se,{variant:b.status==="implemented"?"default":"secondary",className:Ke("text-[10px] px-1 py-0",b.status==="implemented"?"bg-green-500/20 text-green-600 hover:bg-green-500/30":""),children:b.status==="implemented"?"":""},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/components/ModulePalette.tsx",lineNumber:216,columnNumber:27},this)]},b.id,!0,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/components/ModulePalette.tsx",lineNumber:201,columnNumber:25},this)})},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/components/ModulePalette.tsx",lineNumber:196,columnNumber:19},this)]},g,!0,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/components/ModulePalette.tsx",lineNumber:174,columnNumber:17},this)})},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/components/ModulePalette.tsx",lineNumber:161,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/components/ModulePalette.tsx",lineNumber:160,columnNumber:7},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/components/ModulePalette.tsx",lineNumber:147,columnNumber:5},this)}const Ave={box:bh,brain:t0,target:Xr,"bar-chart":jd,layout:Xj,users:On,zap:wh,"file-text":Es,settings:i0,database:n0,search:Gu,lightbulb:yn,"trending-up":cn,grid:Jj,layers:Kj,compass:Hj,map:Cg,"pie-chart":Uj,activity:Wj,"layout-grid":Sg,"message-square":qj};function _ve(e){return Ave[e]||bh}function Fve({selectedNode:e,onClose:r}){if(!e)return null;const{data:n}=e,s=_ve(n.icon);return t.jsxDEV("div",{className:"w-[300px] h-full bg-card border-l flex flex-col",children:[t.jsxDEV("div",{className:"flex items-center justify-between px-4 py-3 border-b",children:[t.jsxDEV("span",{className:"font-medium",children:"Module Configuration"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/components/ConfigSidebar.tsx",lineNumber:60,columnNumber:9},this),t.jsxDEV(me,{variant:"ghost",size:"icon",onClick:r,"data-testid":"button-close-config",children:t.jsxDEV(Ri,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/components/ConfigSidebar.tsx",lineNumber:67,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/components/ConfigSidebar.tsx",lineNumber:61,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/components/ConfigSidebar.tsx",lineNumber:59,columnNumber:7},this),t.jsxDEV(H0,{className:"flex-1",children:t.jsxDEV("div",{className:"p-4 space-y-4",children:[t.jsxDEV("div",{className:"flex items-start gap-3",children:[t.jsxDEV("div",{className:Ke("w-10 h-10 rounded-lg flex items-center justify-center",n.status==="implemented"?"bg-primary/10":"bg-muted"),children:t.jsxDEV(s,{className:"h-5 w-5 text-primary"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/components/ConfigSidebar.tsx",lineNumber:78,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/components/ConfigSidebar.tsx",lineNumber:74,columnNumber:13},this),t.jsxDEV("div",{className:"flex-1",children:[t.jsxDEV("h3",{className:"font-semibold",children:n.label},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/components/ConfigSidebar.tsx",lineNumber:81,columnNumber:15},this),t.jsxDEV("div",{className:"flex items-center gap-2 mt-1",children:t.jsxDEV(se,{variant:n.status==="implemented"?"default":"secondary",className:Ke("text-xs",n.status==="implemented"?"bg-green-500/20 text-green-600":""),children:n.status==="implemented"?"Implemented":"Stub"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/components/ConfigSidebar.tsx",lineNumber:83,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/components/ConfigSidebar.tsx",lineNumber:82,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/components/ConfigSidebar.tsx",lineNumber:80,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/components/ConfigSidebar.tsx",lineNumber:73,columnNumber:11},this),t.jsxDEV(V0,{},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/components/ConfigSidebar.tsx",lineNumber:98,columnNumber:11},this),t.jsxDEV(Z,{children:[t.jsxDEV(de,{className:"pb-2",children:t.jsxDEV(pe,{className:"text-sm flex items-center gap-2",children:[t.jsxDEV(jn,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/components/ConfigSidebar.tsx",lineNumber:103,columnNumber:17},this),"Inputs"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/components/ConfigSidebar.tsx",lineNumber:102,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/components/ConfigSidebar.tsx",lineNumber:101,columnNumber:13},this),t.jsxDEV(te,{className:"space-y-2",children:n.inputs.length===0?t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"No inputs"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/components/ConfigSidebar.tsx",lineNumber:109,columnNumber:17},this):n.inputs.map(a=>t.jsxDEV("div",{className:"flex items-center justify-between text-sm","data-testid":`config-input-${a.id}`,children:[t.jsxDEV("span",{className:Ke(a.required&&"font-medium"),children:[a.name,a.required&&t.jsxDEV("span",{className:"text-destructive ml-1",children:"*"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/components/ConfigSidebar.tsx",lineNumber:119,columnNumber:42},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/components/ConfigSidebar.tsx",lineNumber:117,columnNumber:21},this),t.jsxDEV(se,{variant:"outline",className:"text-xs font-mono",children:a.type},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/components/ConfigSidebar.tsx",lineNumber:121,columnNumber:21},this)]},a.id,!0,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/components/ConfigSidebar.tsx",lineNumber:112,columnNumber:19},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/components/ConfigSidebar.tsx",lineNumber:107,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/components/ConfigSidebar.tsx",lineNumber:100,columnNumber:11},this),t.jsxDEV(Z,{children:[t.jsxDEV(de,{className:"pb-2",children:t.jsxDEV(pe,{className:"text-sm flex items-center gap-2",children:[t.jsxDEV(ar,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/components/ConfigSidebar.tsx",lineNumber:133,columnNumber:17},this),"Outputs"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/components/ConfigSidebar.tsx",lineNumber:132,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/components/ConfigSidebar.tsx",lineNumber:131,columnNumber:13},this),t.jsxDEV(te,{className:"space-y-2",children:n.outputs.length===0?t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"No outputs"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/components/ConfigSidebar.tsx",lineNumber:139,columnNumber:17},this):n.outputs.map(a=>t.jsxDEV("div",{className:"flex items-center justify-between text-sm","data-testid":`config-output-${a.id}`,children:[t.jsxDEV("span",{children:a.name},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/components/ConfigSidebar.tsx",lineNumber:147,columnNumber:21},this),t.jsxDEV(se,{variant:"outline",className:"text-xs font-mono",children:a.type},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/components/ConfigSidebar.tsx",lineNumber:148,columnNumber:21},this)]},a.id,!0,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/components/ConfigSidebar.tsx",lineNumber:142,columnNumber:19},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/components/ConfigSidebar.tsx",lineNumber:137,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/components/ConfigSidebar.tsx",lineNumber:130,columnNumber:11},this),t.jsxDEV(Z,{className:"border-dashed",children:[t.jsxDEV(de,{className:"pb-2",children:t.jsxDEV(pe,{className:"text-sm flex items-center gap-2",children:[t.jsxDEV(bo,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/components/ConfigSidebar.tsx",lineNumber:160,columnNumber:17},this),"Configuration"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/components/ConfigSidebar.tsx",lineNumber:159,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/components/ConfigSidebar.tsx",lineNumber:158,columnNumber:13},this),t.jsxDEV(te,{children:t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Module-specific configuration options will be available here in a future update."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/components/ConfigSidebar.tsx",lineNumber:165,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/components/ConfigSidebar.tsx",lineNumber:164,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/components/ConfigSidebar.tsx",lineNumber:157,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/components/ConfigSidebar.tsx",lineNumber:72,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/components/ConfigSidebar.tsx",lineNumber:71,columnNumber:7},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/components/ConfigSidebar.tsx",lineNumber:58,columnNumber:5},this)}const Ive={moduleNode:Sve};function Ove(){var ie;const{toast:e}=ur(),[,r]=or(),n=v.useRef(null),[s,a]=v.useState(null),l=v.useRef(null),[c,u,d]=Ybe([]),[h,g,p]=Xbe([]),[N,b]=v.useState("Untitled Journey"),[D,E]=v.useState(null),[j,P]=v.useState(!1),[w,k]=v.useState(null),[V,S]=v.useState([]),[R,M]=v.useState([]),[T,A]=v.useState(!1),[F,L]=v.useState({}),[$,W]=v.useState(null),[O,Y]=v.useState(null);v.useEffect(()=>()=>{l.current&&l.current.close()},[]),v.useEffect(()=>{u(ve=>ve.map(ne=>{var le,Ue;return{...ne,data:{...ne.data,isExecuting:T,executionStatus:(le=F[ne.id])==null?void 0:le.status,executionMessage:(Ue=F[ne.id])==null?void 0:Ue.message}}}))},[T,F,u]),yt({queryKey:["/api/custom-journey-builder/modules"]});const H=Qr({mutationFn:async ve=>(await Zt("POST","/api/custom-journey-builder/validate",ve)).json(),onSuccess:ve=>{S(ve.errors||[]),M(ve.warnings||[]),ve.isValid?e({title:"Validation Passed",description:ve.warnings.length>0?`Journey is valid with ${ve.warnings.length} warning(s)`:"Journey configuration is valid and ready to run"}):e({title:"Validation Failed",description:`Found ${ve.errors.length} error(s)`,variant:"destructive"})},onError:()=>{e({title:"Validation Error",description:"Failed to validate journey configuration",variant:"destructive"})}}),q=Qr({mutationFn:async ve=>(await Zt("POST","/api/custom-journey-builder/configs",ve)).json(),onSuccess:ve=>{var ne;(ne=ve.config)!=null&&ne.id&&E(ve.config.id),e({title:"Journey Saved",description:"Your journey configuration has been saved"})},onError:()=>{e({title:"Save Failed",description:"Failed to save journey configuration",variant:"destructive"})}}),z=v.useCallback(ve=>{g(ne=>hL({...ve,id:`edge-${ve.source}-${ve.sourceHandle}-${ve.target}-${ve.targetHandle}`,animated:!0,style:{stroke:"hsl(var(--primary))"}},ne))},[g]),G=v.useCallback((ve,ne)=>{const le=ne.data;k({id:ne.id,data:le})},[]),ee=v.useCallback(()=>{k(null)},[]),K=v.useCallback(ve=>{ve.preventDefault(),ve.dataTransfer.dropEffect="move"},[]),be=v.useCallback(ve=>{if(ve.preventDefault(),!s||!n.current)return;const ne=ve.dataTransfer.getData("application/reactflow");if(!ne)return;const le=JSON.parse(ne),Ue=n.current.getBoundingClientRect(),bt=s.screenToFlowPosition({x:ve.clientX-Ue.left,y:ve.clientY-Ue.top}),ht={id:`${le.id}-${Date.now()}`,type:"moduleNode",position:bt,data:{moduleId:le.id,label:le.name,icon:le.icon,status:le.status,inputs:le.inputs,outputs:le.outputs}};u(Mt=>[...Mt,ht])},[s,u]),_e=v.useCallback((ve,ne)=>{ve.dataTransfer.setData("application/reactflow",JSON.stringify(ne)),ve.dataTransfer.effectAllowed="move"},[]),oe=v.useCallback(()=>{const ve=c.map(le=>({id:le.id,moduleId:le.data.moduleId,position:le.position})),ne=h.map(le=>({id:le.id,sourceNodeId:le.source,sourcePortId:le.sourceHandle||"",targetNodeId:le.target,targetPortId:le.targetHandle||""}));return{nodePayload:ve,edgePayload:ne}},[c,h]),fe=v.useCallback(()=>{const{nodePayload:ve,edgePayload:ne}=oe();H.mutate({nodes:ve,edges:ne})},[oe,H]),Ae=v.useCallback(()=>{const{nodePayload:ve,edgePayload:ne}=oe();q.mutate({name:N,nodes:ve,edges:ne})},[N,oe,q]),ge=v.useCallback(()=>{k(null)},[]),Pe=v.useCallback(()=>{l.current&&(l.current.close(),l.current=null),A(!1),L({}),W(null),Y(null),e({title:"Execution Cancelled",description:"The journey execution has been stopped"})},[e]),ze=v.useCallback(ve=>{try{const ne=JSON.parse(ve.data);switch(console.log("[Journey Builder] SSE event:",ne),ne.type){case"execution_started":const le={};c.forEach(Ue=>{le[Ue.id]={status:"pending"}}),L(le);break;case"node_start":W(ne.nodeId),L(Ue=>({...Ue,[ne.nodeId]:{status:"running",message:ne.message||"Starting..."}}));break;case"node_progress":L(Ue=>({...Ue,[ne.nodeId]:{...Ue[ne.nodeId],status:"running",progress:ne.progress,message:ne.message}}));break;case"node_complete":L(Ue=>({...Ue,[ne.nodeId]:{status:"completed",output:ne.output,message:"Completed"}}));break;case"node_error":L(Ue=>({...Ue,[ne.nodeId]:{status:"error",error:ne.error,message:ne.error||"Error occurred"}}));break;case"journey_complete":A(!1),W(null),l.current&&(l.current.close(),l.current=null),e({title:"Journey Complete",description:"All nodes have been executed successfully"});break;case"journey_error":A(!1),W(null),l.current&&(l.current.close(),l.current=null),e({title:"Execution Failed",description:ne.error||"An error occurred during execution",variant:"destructive"});break;case"user_input_required":A(!1),W(null),l.current&&(l.current.close(),l.current=null),e({title:"User Input Required",description:ne.message||"Please complete the next step"}),ne.redirectUrl&&r(ne.redirectUrl);break;default:console.log("[Journey Builder] Unknown SSE event type:",ne.type)}}catch(ne){console.error("[Journey Builder] Error parsing SSE event:",ne)}},[c,e,r]),We=v.useCallback(async()=>{var le,Ue;if(c.length===0){e({title:"Cannot Run",description:"Add at least one node to the journey",variant:"destructive"});return}const{nodePayload:ve,edgePayload:ne}=oe();try{const ht=await(await Zt("POST","/api/custom-journey-builder/validate",{nodes:ve,edges:ne})).json();if(S(ht.errors||[]),M(ht.warnings||[]),!ht.isValid){e({title:"Validation Failed",description:"Fix errors before running the journey",variant:"destructive"});return}let Mt=D;if(Mt){if(!(await(await Zt("PUT",`/api/custom-journey-builder/configs/${Mt}`,{name:N,nodes:ve,edges:ne})).json()).success)throw new Error("Failed to update journey configuration")}else{const et=await(await Zt("POST","/api/custom-journey-builder/configs",{name:N,nodes:ve,edges:ne})).json();if(!et.success||!((le=et.config)!=null&&le.id))throw new Error("Failed to save journey configuration");Mt=et.config.id,E(Mt)}const re=await(await Zt("POST","/api/custom-journey-builder/executions",{configId:Mt,inputData:{}})).json();if(!re.success||!((Ue=re.execution)!=null&&Ue.id))throw new Error("Failed to create execution");const ye=re.execution.id;Y(ye);const we=await(await Zt("POST",`/api/custom-journey-builder/executions/${ye}/start`)).json();if(!we.success)throw new Error(we.error||"Failed to start execution");A(!0);const Ve={};c.forEach(Oe=>{Ve[Oe.id]={status:"pending"}}),L(Ve);const ke=new EventSource(`/api/custom-journey-builder/executions/${ye}/stream`);l.current=ke,ke.onmessage=ze,ke.onerror=()=>{console.error("[Journey Builder] SSE connection error"),ke.close(),l.current=null,A(!1),e({title:"Connection Lost",description:"Lost connection to the execution stream",variant:"destructive"})}}catch(bt){console.error("[Journey Builder] Run error:",bt),e({title:"Execution Failed",description:bt.message||"Failed to start journey execution",variant:"destructive"})}},[c,N,D,oe,ze,e]),Re=Object.values(F).filter(ve=>ve.status==="completed").length,Ee=c.length;return t.jsxDEV(st,{children:t.jsxDEV("div",{className:"h-[calc(100vh-64px)] flex flex-col",children:[t.jsxDEV("div",{className:"h-14 border-b bg-card px-4 flex items-center gap-4",children:[t.jsxDEV(Ci,{value:N,onChange:ve=>b(ve.target.value),className:"max-w-xs font-medium","data-testid":"input-journey-name",disabled:T},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/JourneyBuilderPage.tsx",lineNumber:497,columnNumber:11},this),t.jsxDEV("div",{className:"flex-1"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/JourneyBuilderPage.tsx",lineNumber:505,columnNumber:11},this),(V.length>0||R.length>0)&&t.jsxDEV("div",{className:"flex items-center gap-2 text-sm",children:[V.length>0&&t.jsxDEV("span",{className:"flex items-center gap-1 text-destructive",children:[t.jsxDEV(qr,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/JourneyBuilderPage.tsx",lineNumber:511,columnNumber:19},this),V.length," error(s)"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/JourneyBuilderPage.tsx",lineNumber:510,columnNumber:17},this),R.length>0&&t.jsxDEV("span",{className:"flex items-center gap-1 text-yellow-600",children:[t.jsxDEV(qr,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/JourneyBuilderPage.tsx",lineNumber:517,columnNumber:19},this),R.length," warning(s)"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/JourneyBuilderPage.tsx",lineNumber:516,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/JourneyBuilderPage.tsx",lineNumber:508,columnNumber:13},this),t.jsxDEV(me,{variant:"outline",onClick:fe,disabled:H.isPending||c.length===0||T,"data-testid":"button-validate",children:[t.jsxDEV(Dn,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/JourneyBuilderPage.tsx",lineNumber:530,columnNumber:13},this),"Validate"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/JourneyBuilderPage.tsx",lineNumber:524,columnNumber:11},this),t.jsxDEV(me,{variant:"outline",onClick:Ae,disabled:q.isPending||T,"data-testid":"button-save",children:[t.jsxDEV(sA,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/JourneyBuilderPage.tsx",lineNumber:540,columnNumber:13},this),"Save"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/JourneyBuilderPage.tsx",lineNumber:534,columnNumber:11},this),T?t.jsxDEV(me,{variant:"destructive",onClick:Pe,"data-testid":"button-cancel",children:[t.jsxDEV(UX,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/JourneyBuilderPage.tsx",lineNumber:550,columnNumber:15},this),"Cancel"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/JourneyBuilderPage.tsx",lineNumber:545,columnNumber:13},this):t.jsxDEV(me,{onClick:We,disabled:c.length===0,"data-testid":"button-run",children:[t.jsxDEV(av,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/JourneyBuilderPage.tsx",lineNumber:559,columnNumber:15},this),"Run"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/JourneyBuilderPage.tsx",lineNumber:554,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/JourneyBuilderPage.tsx",lineNumber:496,columnNumber:9},this),t.jsxDEV("div",{className:"flex-1 flex overflow-hidden relative",children:[t.jsxDEV(Tve,{isCollapsed:j,onToggleCollapse:()=>P(!j),onDragStart:_e},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/JourneyBuilderPage.tsx",lineNumber:566,columnNumber:11},this),t.jsxDEV("div",{ref:n,className:"flex-1 h-full",children:t.jsxDEV(qbe,{nodes:c,edges:h,onNodesChange:d,onEdgesChange:p,onConnect:z,onInit:a,onNodeClick:G,onPaneClick:ee,onDragOver:K,onDrop:be,nodeTypes:Ive,fitView:!0,snapToGrid:!0,snapGrid:[15,15],className:"bg-muted/30",children:[t.jsxDEV(cve,{},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/JourneyBuilderPage.tsx",lineNumber:590,columnNumber:15},this),t.jsxDEV(wve,{nodeColor:ve=>{const ne=ve.data;if(T){const le=F[ve.id];return(le==null?void 0:le.status)==="completed"?"hsl(142, 76%, 36%)":(le==null?void 0:le.status)==="running"?"hsl(217, 91%, 60%)":(le==null?void 0:le.status)==="error"?"hsl(0, 84%, 60%)":"hsl(var(--muted-foreground))"}return(ne==null?void 0:ne.status)==="implemented"?"hsl(var(--primary))":"hsl(var(--muted-foreground))"},maskColor:"rgba(0,0,0,0.1)"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/JourneyBuilderPage.tsx",lineNumber:591,columnNumber:15},this),t.jsxDEV(rve,{variant:ll.Dots,gap:15,size:1},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/JourneyBuilderPage.tsx",lineNumber:607,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/JourneyBuilderPage.tsx",lineNumber:573,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/JourneyBuilderPage.tsx",lineNumber:572,columnNumber:11},this),t.jsxDEV(Fve,{selectedNode:w,onClose:ge},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/JourneyBuilderPage.tsx",lineNumber:611,columnNumber:11},this),T&&t.jsxDEV("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 bg-card border rounded-lg shadow-lg p-4 min-w-[280px] z-50",children:[t.jsxDEV("div",{className:"flex items-center justify-between mb-2",children:[t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(lt,{className:"h-4 w-4 animate-spin text-blue-500"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/JourneyBuilderPage.tsx",lineNumber:620,columnNumber:19},this),t.jsxDEV("span",{className:"font-medium text-sm",children:"Executing Journey"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/JourneyBuilderPage.tsx",lineNumber:621,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/JourneyBuilderPage.tsx",lineNumber:619,columnNumber:17},this),t.jsxDEV(me,{variant:"ghost",size:"sm",onClick:Pe,className:"h-6 px-2 text-xs","data-testid":"button-cancel-overlay",children:"Cancel"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/JourneyBuilderPage.tsx",lineNumber:623,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/JourneyBuilderPage.tsx",lineNumber:618,columnNumber:15},this),t.jsxDEV("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[t.jsxDEV("span",{children:"Progress:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/JourneyBuilderPage.tsx",lineNumber:634,columnNumber:17},this),t.jsxDEV("span",{className:"font-medium",children:[Re," / ",Ee," nodes"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/JourneyBuilderPage.tsx",lineNumber:635,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/JourneyBuilderPage.tsx",lineNumber:633,columnNumber:15},this),t.jsxDEV("div",{className:"mt-2 h-2 bg-muted rounded-full overflow-hidden",children:t.jsxDEV("div",{className:"h-full bg-blue-500 transition-all duration-300",style:{width:`${Ee>0?Re/Ee*100:0}%`}},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/JourneyBuilderPage.tsx",lineNumber:638,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/JourneyBuilderPage.tsx",lineNumber:637,columnNumber:15},this),$&&((ie=F[$])==null?void 0:ie.message)&&t.jsxDEV("div",{className:"mt-2 text-xs text-muted-foreground truncate",children:F[$].message},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/JourneyBuilderPage.tsx",lineNumber:644,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/JourneyBuilderPage.tsx",lineNumber:617,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/JourneyBuilderPage.tsx",lineNumber:565,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/JourneyBuilderPage.tsx",lineNumber:495,columnNumber:7},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/journey-builder/JourneyBuilderPage.tsx",lineNumber:494,columnNumber:5},this)}function Lve({data:e}){var l,c;const r=(e==null?void 0:e.output)||e,n=u=>{switch(u==null?void 0:u.toLowerCase()){case"high":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"medium":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case"low":return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-200"}},s=(u,d,h,g)=>!u||u.length===0?null:t.jsxDEV(Z,{className:`border-l-4 ${g}`,children:[t.jsxDEV(de,{className:"pb-2",children:t.jsxDEV(pe,{className:"flex items-center gap-2 text-lg",children:[h,d,t.jsxDEV(se,{variant:"secondary",children:u.length},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:83,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:80,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:79,columnNumber:9},this),t.jsxDEV(te,{children:t.jsxDEV("ul",{className:"space-y-3",children:u.map((p,N)=>t.jsxDEV("li",{className:"border-b border-border pb-2 last:border-b-0 last:pb-0",children:[t.jsxDEV("div",{className:"flex items-start justify-between gap-2",children:[t.jsxDEV("span",{className:"font-medium",children:p.factor},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:91,columnNumber:19},this),t.jsxDEV(se,{className:n(p.impact),variant:"outline",children:p.impact||"medium"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:92,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:90,columnNumber:17},this),p.description&&t.jsxDEV("p",{className:"text-sm text-muted-foreground mt-1",children:p.description},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:97,columnNumber:19},this)]},N,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:89,columnNumber:15},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:87,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:86,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:78,columnNumber:7},this),a=(u,d,h)=>!u||u.length===0?null:t.jsxDEV(Z,{children:[t.jsxDEV(de,{className:"pb-2",children:[t.jsxDEV(pe,{className:"text-base",children:d},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:113,columnNumber:11},this),t.jsxDEV(He,{children:h},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:114,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:112,columnNumber:9},this),t.jsxDEV(te,{children:t.jsxDEV("ul",{className:"space-y-2",children:u.map((g,p)=>t.jsxDEV("li",{className:"flex items-start gap-2",children:[t.jsxDEV(tr,{className:"h-4 w-4 text-green-500 mt-0.5 flex-shrink-0"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:120,columnNumber:17},this),t.jsxDEV("span",{className:"text-sm",children:g},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:121,columnNumber:17},this)]},p,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:119,columnNumber:15},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:117,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:116,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:111,columnNumber:7},this);return t.jsxDEV("div",{className:"space-y-6",children:[t.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s(r.strengths,"Strengths",t.jsxDEV(cn,{className:"h-5 w-5 text-green-600"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:133,columnNumber:58},this),"border-l-green-500"),s(r.weaknesses,"Weaknesses",t.jsxDEV(Qj,{className:"h-5 w-5 text-red-600"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:134,columnNumber:60},this),"border-l-red-500"),s(r.opportunities,"Opportunities",t.jsxDEV(Xr,{className:"h-5 w-5 text-blue-600"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:135,columnNumber:66},this),"border-l-blue-500"),s(r.threats,"Threats",t.jsxDEV(a0,{className:"h-5 w-5 text-orange-600"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:136,columnNumber:54},this),"border-l-orange-500")]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:132,columnNumber:7},this),r.strategicOptions&&t.jsxDEV("div",{className:"space-y-4",children:[t.jsxDEV("h3",{className:"text-lg font-semibold",children:"Strategic Options"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:141,columnNumber:11},this),t.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a(r.strategicOptions.soStrategies,"SO Strategies (Offensive)","Use strengths to exploit opportunities"),a(r.strategicOptions.stStrategies,"ST Strategies (Defensive)","Use strengths to counter threats"),a(r.strategicOptions.woStrategies,"WO Strategies (Adaptive)","Overcome weaknesses to exploit opportunities"),a(r.strategicOptions.wtStrategies,"WT Strategies (Mitigation)","Minimize weaknesses and avoid threats")]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:142,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:140,columnNumber:9},this),e.summary&&t.jsxDEV(Z,{children:[t.jsxDEV(de,{children:t.jsxDEV(pe,{className:"text-base",children:"Analysis Summary"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:154,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:153,columnNumber:11},this),t.jsxDEV(te,{children:t.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-2xl font-bold",children:e.summary.totalFactors},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:159,columnNumber:17},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Total Factors"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:160,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:158,columnNumber:15},this),t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-2xl font-bold",children:((l=e.summary.strategicGroups)==null?void 0:l.offensive)||0},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:163,columnNumber:17},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Offensive Strategies"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:164,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:162,columnNumber:15},this),t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-2xl font-bold",children:((c=e.summary.strategicGroups)==null?void 0:c.defensive)||0},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:167,columnNumber:17},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Defensive Strategies"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:168,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:166,columnNumber:15},this),t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-2xl font-bold",children:[Math.round((e.summary.confidence||r.confidence||0)*100),"%"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:171,columnNumber:17},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Confidence"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:172,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:170,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:157,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:156,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:152,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:131,columnNumber:5},this)}function E9({data:e,frameworkName:r}){const n=u=>{if(!u)return"";if(typeof u=="string")return u;if(typeof u=="number")return String(u);if(typeof u=="boolean")return u?"Yes":"No";if(Array.isArray(u))return u.map(n).join(", ");if(typeof u=="object"){if("text"in u)return n(u.text);if("content"in u)return n(u.content);if("description"in u)return n(u.description);if("answer"in u)return n(u.answer);if("value"in u)return n(u.value);if("name"in u)return n(u.name)}return""},s=(u,d=0)=>{if(!u)return t.jsxDEV("span",{className:"text-muted-foreground italic",children:"Not specified"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:203,columnNumber:24},this);if(typeof u=="string")return t.jsxDEV("span",{children:u},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:206,columnNumber:14},this);if(typeof u=="number")return t.jsxDEV("span",{className:"font-mono",children:u},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:210,columnNumber:14},this);if(typeof u=="boolean")return t.jsxDEV(se,{variant:u?"default":"secondary",children:u?"Yes":"No"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:214,columnNumber:14},this);if(Array.isArray(u))return u.length===0?t.jsxDEV("span",{className:"text-muted-foreground italic",children:"None"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:219,columnNumber:16},this):u.every(h=>typeof h=="string")?t.jsxDEV("ul",{className:"space-y-1 list-disc list-inside",children:u.map((h,g)=>t.jsxDEV("li",{className:"text-sm",children:h},g,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:226,columnNumber:15},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:224,columnNumber:11},this):t.jsxDEV("div",{className:"space-y-2",children:u.map((h,g)=>t.jsxDEV("div",{className:"p-3 bg-muted/50 rounded-lg",children:s(h,d+1)},g,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:235,columnNumber:13},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:233,columnNumber:9},this);if(typeof u=="object"){const h=n(u);if(h&&!h.includes(","))return t.jsxDEV("span",{children:h},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:247,columnNumber:16},this);const g=Object.entries(u).filter(([p,N])=>N!=null&&p!=="id"&&!p.startsWith("_"));return g.length===0?t.jsxDEV("span",{className:"text-muted-foreground italic",children:"Empty"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:256,columnNumber:16},this):t.jsxDEV("div",{className:`space-y-2 ${d>0?"pl-4 border-l-2 border-muted":""}`,children:g.map(([p,N])=>t.jsxDEV("div",{children:[t.jsxDEV("span",{className:"font-medium text-sm capitalize",children:[p.replace(/_/g," ").replace(/([A-Z])/g," $1").trim(),":"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:263,columnNumber:15},this),t.jsxDEV("div",{className:"mt-1 text-sm text-muted-foreground",children:s(N,d+1)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:266,columnNumber:15},this)]},p,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:262,columnNumber:13},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:260,columnNumber:9},this)}return t.jsxDEV("span",{children:String(u)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:275,columnNumber:12},this)},a=(e==null?void 0:e.output)||e,l=(e==null?void 0:e.summary)||(a==null?void 0:a.summary),c=Object.entries(a||{}).filter(([u,d])=>d!=null&&!["summary","id","frameworkName","confidence","version"].includes(u)&&!u.startsWith("_"));return t.jsxDEV("div",{className:"space-y-4",children:[l&&t.jsxDEV(Z,{children:[t.jsxDEV(de,{className:"pb-2",children:t.jsxDEV(pe,{className:"text-base",children:"Summary"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:296,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:295,columnNumber:11},this),t.jsxDEV(te,{children:t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:n(l)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:299,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:298,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:294,columnNumber:9},this),c.length>0?t.jsxDEV(Z,{children:[t.jsxDEV(de,{children:[t.jsxDEV(pe,{children:[frameworkDisplayNames[r]||r," Results"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:308,columnNumber:13},this),t.jsxDEV(He,{children:"Analysis output"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:309,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:307,columnNumber:11},this),t.jsxDEV(te,{className:"space-y-4",children:c.map(([u,d])=>t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV("h4",{className:"font-semibold capitalize text-sm",children:u.replace(/_/g," ").replace(/([A-Z])/g," $1").trim()},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:314,columnNumber:17},this),t.jsxDEV("div",{className:"text-sm",children:s(d)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:317,columnNumber:17},this)]},u,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:313,columnNumber:15},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:311,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:306,columnNumber:9},this):t.jsxDEV(Z,{children:[t.jsxDEV(de,{children:[t.jsxDEV(pe,{children:"Framework Results"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:327,columnNumber:13},this),t.jsxDEV(He,{children:["Raw output from ",r," analysis"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:328,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:326,columnNumber:11},this),t.jsxDEV(te,{children:t.jsxDEV("pre",{className:"bg-muted p-4 rounded-lg overflow-auto text-sm max-h-[600px]",children:JSON.stringify(e,null,2)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:331,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:330,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:325,columnNumber:9},this),((e==null?void 0:e.confidence)||(a==null?void 0:a.confidence))&&t.jsxDEV("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[t.jsxDEV("span",{children:"Confidence:"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:341,columnNumber:11},this),t.jsxDEV(se,{variant:"outline",children:[Math.round(((e==null?void 0:e.confidence)||(a==null?void 0:a.confidence))*100),"%"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:342,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:340,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:291,columnNumber:5},this)}function $ve(){var L,$;const[,e]=Xn("/strategic-consultant/framework-insight/:sessionId"),[,r]=or(),[n,s]=v.useState(0),[a,l]=v.useState(!0),[c,u]=v.useState(!1),[d,h]=v.useState(0),g=e==null?void 0:e.sessionId,N=new URLSearchParams(window.location.search).get("framework")||"",{data:b,isLoading:D,error:E,refetch:j}=yt({queryKey:["/api/strategic-consultant/framework-insights",g,N],enabled:!!g&&!!N,retry:!1});v.useEffect(()=>{if(b!=null&&b.success&&(b!=null&&b.insight)){l(!1);return}if(n>60){l(!1);return}if(!(b!=null&&b.success)||!(b!=null&&b.insight)){const W=setTimeout(()=>{s(O=>O+1),j()},3e3);return()=>clearTimeout(W)}},[b,n,j]),v.useEffect(()=>{if(!c)return;if(b!=null&&b.nextStepRedirectUrl){console.log("[FrameworkInsightPage] Got redirect URL, navigating:",b.nextStepRedirectUrl),u(!1),r(b.nextStepRedirectUrl);return}if(d>40){console.error("[FrameworkInsightPage] Timeout waiting for decisions to be generated"),u(!1);return}const W=setTimeout(()=>{h(O=>O+1),j()},3e3);return()=>clearTimeout(W)},[c,b==null?void 0:b.nextStepRedirectUrl,d,j,r]);const P=["strategic_decisions"],w=()=>{var q,z,G,ee;const W=((z=(q=b==null?void 0:b.session)==null?void 0:q.metadata)==null?void 0:z.frameworks)||((G=b==null?void 0:b.session)==null?void 0:G.completedFrameworks)||[],O=(ee=b==null?void 0:b.session)==null?void 0:ee.understandingId,Y=()=>{r(O?`/strategies/${O}`:"/strategies")};if(W.length===0){Y();return}if(b!=null&&b.nextStepRedirectUrl){r(b.nextStepRedirectUrl);return}const H=W.indexOf(N);if(H>=0&&H<W.length-1){const K=W[H+1],be=K.toLowerCase().replace(/_/g,"-");if(be==="strategic-decisions"){console.log("[FrameworkInsightPage] Next step is strategic-decisions, starting to poll for redirect URL"),u(!0),h(0);return}else P.map(_e=>_e.toLowerCase().replace(/_/g,"-")).includes(be)?Y():r(`/strategic-consultant/framework-insight/${g}?framework=${K}`)}else Y()},k=()=>{var Y,H,q;const W=(H=(Y=b==null?void 0:b.session)==null?void 0:Y.metadata)==null?void 0:H.isCustomJourney,O=(q=b==null?void 0:b.session)==null?void 0:q.understandingId;r(W&&O?`/strategies/${O}`:"/strategies")};if(!g||!N)return t.jsxDEV("div",{className:"min-h-screen bg-background flex items-center justify-center p-8",children:t.jsxDEV(it,{variant:"destructive",className:"max-w-md",children:[t.jsxDEV(Dt,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:492,columnNumber:11},this),t.jsxDEV(er,{children:"Invalid Request"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:493,columnNumber:11},this),t.jsxDEV(at,{children:"Missing session ID or framework name"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:494,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:491,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:490,columnNumber:7},this);const V={swot:"SWOT Analysis",bmc:"Business Model Canvas",porters:"Porter's Five Forces",pestle:"PESTLE Analysis",five_whys:"Five Whys Analysis",ansoff:"Ansoff Matrix",blue_ocean:"Blue Ocean Strategy",bcg_matrix:"BCG Matrix",value_chain:"Value Chain Analysis",vrio:"VRIO Analysis",strategic_decisions:"Strategic Decisions"};if(D||a&&(!(b!=null&&b.success)||!(b!=null&&b.insight))){const W=Math.min(95,n*5);return t.jsxDEV(st,{title:V[N]||N.toUpperCase(),children:t.jsxDEV("div",{className:"container mx-auto p-6 max-w-2xl",children:t.jsxDEV(Z,{className:"border-primary/20","data-testid":"card-analysis-progress",children:[t.jsxDEV(de,{className:"text-center",children:[t.jsxDEV("div",{className:"mx-auto mb-4",children:t.jsxDEV(lt,{className:"h-12 w-12 animate-spin text-primary","data-testid":"spinner-analysis"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:525,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:524,columnNumber:15},this),t.jsxDEV(pe,{"data-testid":"text-analysis-title",children:[V[N]||N.toUpperCase()," in Progress"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:527,columnNumber:15},this),t.jsxDEV(He,{"data-testid":"text-analysis-description",children:"Our AI is analyzing your strategic context. This typically takes 30-60 seconds."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:530,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:523,columnNumber:13},this),t.jsxDEV(te,{className:"space-y-4",children:[t.jsxDEV(Ln,{value:W,className:"h-2","data-testid":"progress-analysis"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:535,columnNumber:15},this),t.jsxDEV("p",{className:"text-sm text-center text-muted-foreground","data-testid":"text-poll-status",children:n===0?"Starting analysis...":`Checking for results... (${n*3}s elapsed)`},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:536,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:534,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:522,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:521,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:520,columnNumber:7},this)}if(c){const W=Math.min(95,30+d*3);return t.jsxDEV(st,{title:"Generating Strategic Decisions",children:t.jsxDEV("div",{className:"container mx-auto p-6 max-w-2xl",children:t.jsxDEV(Z,{className:"border-primary/20","data-testid":"card-decisions-progress",children:[t.jsxDEV(de,{className:"text-center",children:[t.jsxDEV("div",{className:"mx-auto mb-4",children:t.jsxDEV(lt,{className:"h-12 w-12 animate-spin text-primary","data-testid":"spinner-decisions"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:558,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:557,columnNumber:15},this),t.jsxDEV(pe,{"data-testid":"text-decisions-title",children:"Generating Strategic Decisions"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:560,columnNumber:15},this),t.jsxDEV(He,{"data-testid":"text-decisions-description",children:"Our AI is transforming your analysis into actionable strategic decisions. This typically takes 20-30 seconds."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:563,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:556,columnNumber:13},this),t.jsxDEV(te,{className:"space-y-4",children:[t.jsxDEV(Ln,{value:W,className:"h-2","data-testid":"progress-decisions"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:568,columnNumber:15},this),t.jsxDEV("p",{className:"text-sm text-center text-muted-foreground","data-testid":"text-decisions-poll-status",children:d===0?"Starting decision generation...":`Preparing decisions... (${d*3}s elapsed)`},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:569,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:567,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:555,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:554,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:553,columnNumber:7},this)}if(!a&&(E||!(b!=null&&b.success)||!(b!=null&&b.insight)))return t.jsxDEV(st,{title:"Analysis Error",children:t.jsxDEV("div",{className:"container mx-auto p-6 max-w-md",children:t.jsxDEV(it,{variant:"destructive","data-testid":"alert-analysis-timeout",children:[t.jsxDEV(Dt,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:587,columnNumber:13},this),t.jsxDEV(er,{children:"Analysis Not Ready"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:588,columnNumber:13},this),t.jsxDEV(at,{"data-testid":"text-timeout-message",children:n>60?"The analysis is taking longer than expected. Please try again later.":(E==null?void 0:E.message)||`The ${N} analysis couldn't be found.`},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:589,columnNumber:13},this),t.jsxDEV(me,{onClick:k,className:"mt-4",variant:"outline","data-testid":"button-back-error",children:[t.jsxDEV(jn,{className:"mr-2 h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:595,columnNumber:15},this),"Back to Journeys"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:594,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:586,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:585,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:584,columnNumber:7},this);const S=b.insight,R=b.session,M=((L=R==null?void 0:R.metadata)==null?void 0:L.frameworks)||(R==null?void 0:R.completedFrameworks)||[],T=M.length>0?M.indexOf(N):-1,A=T>=0&&T<M.length-1,F=()=>{var O,Y;const W=S==null?void 0:S.insights;if(!W)return t.jsxDEV(it,{children:[t.jsxDEV(Dt,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:618,columnNumber:11},this),t.jsxDEV(er,{children:"No Data Available"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:619,columnNumber:11},this),t.jsxDEV(at,{children:"The analysis results are not available. The framework may still be processing."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:620,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:617,columnNumber:9},this);if((W==null?void 0:W.error)===!0)return t.jsxDEV("div",{className:"space-y-4","data-testid":"analysis-error-container",children:[t.jsxDEV(it,{variant:"destructive","data-testid":"alert-analysis-failed",children:[t.jsxDEV(Dt,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:632,columnNumber:13},this),t.jsxDEV(er,{children:"Analysis Failed"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:633,columnNumber:13},this),t.jsxDEV(at,{"data-testid":"text-error-message",children:[W.message||"The analysis could not be completed.",W.parseError&&t.jsxDEV("span",{className:"block mt-1 text-xs opacity-75","data-testid":"text-parse-error",children:["Technical: ",W.parseError]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:637,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:634,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:631,columnNumber:11},this),W.rawOutput&&t.jsxDEV(Z,{"data-testid":"card-raw-output",children:[t.jsxDEV(de,{children:[t.jsxDEV(pe,{className:"text-sm",children:"Raw AI Output (for debugging)"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:647,columnNumber:17},this),t.jsxDEV(He,{children:"This shows what the AI returned. Share this with support if the issue persists."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:648,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:646,columnNumber:15},this),t.jsxDEV(te,{children:t.jsxDEV("pre",{className:"text-xs bg-muted p-3 rounded overflow-auto max-h-96 whitespace-pre-wrap","data-testid":"text-raw-output",children:W.rawOutput},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:653,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:652,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:645,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:630,columnNumber:9},this);switch(N){case"swot":return((O=W==null?void 0:W.output)==null?void 0:O.strengths)||((Y=W==null?void 0:W.output)==null?void 0:Y.weaknesses)||(W==null?void 0:W.strengths)||(W==null?void 0:W.weaknesses)?t.jsxDEV(Lve,{data:W},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:671,columnNumber:18},this):t.jsxDEV(E9,{data:W,frameworkName:N},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:673,columnNumber:16},this);default:return t.jsxDEV(E9,{data:W,frameworkName:N},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:675,columnNumber:16},this)}};return t.jsxDEV(st,{title:V[N]||N.toUpperCase(),children:t.jsxDEV("div",{className:"container mx-auto p-6 max-w-6xl space-y-6",children:[t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("div",{children:[t.jsxDEV("h1",{className:"text-2xl font-bold",children:V[N]||N.toUpperCase()},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:686,columnNumber:13},this),t.jsxDEV("p",{className:"text-muted-foreground",children:["Step ",T+1," of ",M.length," in your custom journey"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:687,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:685,columnNumber:11},this),t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(se,{variant:R.status==="completed"?"default":"secondary",children:R.status},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:692,columnNumber:13},this),(($=S.telemetry)==null?void 0:$.executedAt)&&t.jsxDEV("span",{className:"text-sm text-muted-foreground",children:["Completed ",new Date(S.telemetry.executedAt).toLocaleString()]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:696,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:691,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:684,columnNumber:9},this),F(),t.jsxDEV("div",{className:"flex justify-between pt-4 border-t",children:[t.jsxDEV(me,{onClick:k,variant:"outline","data-testid":"button-back-strategy",children:[t.jsxDEV(jn,{className:"mr-2 h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:707,columnNumber:13},this),"Back to Strategy"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:706,columnNumber:11},this),A?t.jsxDEV(me,{onClick:w,"data-testid":"button-continue-next",children:["Continue to ",V[M[T+1]]||M[T+1],t.jsxDEV(ar,{className:"ml-2 h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:714,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:712,columnNumber:13},this):t.jsxDEV(me,{onClick:w,"data-testid":"button-complete",children:[t.jsxDEV(tr,{className:"mr-2 h-4 w-4"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:718,columnNumber:15},this),"View Strategy"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:717,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:705,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:683,columnNumber:7},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/strategic-consultant/FrameworkInsightPage.tsx",lineNumber:680,columnNumber:5},this)}function ir({path:e,component:r}){const{user:n,isLoading:s}=xl();return t.jsxDEV(Ob,{path:e,children:s?t.jsxDEV("div",{className:"flex items-center justify-center min-h-screen",children:t.jsxDEV(lt,{className:"h-8 w-8 animate-spin text-border"},void 0,!1,{fileName:"/home/runner/workspace/client/src/lib/protected-route.tsx",lineNumber:18,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/lib/protected-route.tsx",lineNumber:17,columnNumber:9},this):n?t.jsxDEV(r,{},void 0,!1,{fileName:"/home/runner/workspace/client/src/lib/protected-route.tsx",lineNumber:23,columnNumber:9},this):t.jsxDEV(e7,{to:"/auth"},void 0,!1,{fileName:"/home/runner/workspace/client/src/lib/protected-route.tsx",lineNumber:21,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/lib/protected-route.tsx",lineNumber:15,columnNumber:5},this)}function D9(){const{user:e}=xl();return t.jsxDEV(t.Fragment,{children:t.jsxDEV(Gq,{children:[t.jsxDEV(Ob,{path:"/",component:Fne},void 0,!1,{fileName:"/home/runner/workspace/client/src/App.tsx",lineNumber:67,columnNumber:9},this),t.jsxDEV(ir,{path:"/programs",component:$ne},void 0,!1,{fileName:"/home/runner/workspace/client/src/App.tsx",lineNumber:68,columnNumber:9},this),t.jsxDEV(ir,{path:"/strategy/test",component:Bne},void 0,!1,{fileName:"/home/runner/workspace/client/src/App.tsx",lineNumber:69,columnNumber:9},this),t.jsxDEV(ir,{path:"/bmc/test",component:rde},void 0,!1,{fileName:"/home/runner/workspace/client/src/App.tsx",lineNumber:70,columnNumber:9},this),t.jsxDEV(ir,{path:"/bmc/results/:sessionId/:versionNumber",component:nde},void 0,!1,{fileName:"/home/runner/workspace/client/src/App.tsx",lineNumber:71,columnNumber:9},this),t.jsxDEV(ir,{path:"/strategic-consultant",component:m4},void 0,!1,{fileName:"/home/runner/workspace/client/src/App.tsx",lineNumber:72,columnNumber:9},this),t.jsxDEV(ir,{path:"/strategic-consultant/input",component:m4},void 0,!1,{fileName:"/home/runner/workspace/client/src/App.tsx",lineNumber:73,columnNumber:9},this),t.jsxDEV(ir,{path:"/strategic-consultant/classification/:understandingId",component:eae},void 0,!1,{fileName:"/home/runner/workspace/client/src/App.tsx",lineNumber:74,columnNumber:9},this),t.jsxDEV(ir,{path:"/strategic-consultant/journey-selection/:understandingId",component:tae},void 0,!1,{fileName:"/home/runner/workspace/client/src/App.tsx",lineNumber:75,columnNumber:9},this),t.jsxDEV(ir,{path:"/strategic-consultant/journey-results/:sessionId",component:sae},void 0,!1,{fileName:"/home/runner/workspace/client/src/App.tsx",lineNumber:76,columnNumber:9},this),t.jsxDEV(ir,{path:"/strategic-consultant/market-entry-results/:sessionId/:versionNumber",component:aae},void 0,!1,{fileName:"/home/runner/workspace/client/src/App.tsx",lineNumber:77,columnNumber:9},this),t.jsxDEV(ir,{path:"/strategic-consultant/pestle-results/:sessionId/:versionNumber",component:gae},void 0,!1,{fileName:"/home/runner/workspace/client/src/App.tsx",lineNumber:78,columnNumber:9},this),t.jsxDEV(ir,{path:"/strategic-consultant/results/:sessionId/:versionNumber",component:Oae},void 0,!1,{fileName:"/home/runner/workspace/client/src/App.tsx",lineNumber:79,columnNumber:9},this),t.jsxDEV(ir,{path:"/strategic-consultant/analysis/:sessionId",component:Lae},void 0,!1,{fileName:"/home/runner/workspace/client/src/App.tsx",lineNumber:80,columnNumber:9},this),t.jsxDEV(ir,{path:"/strategic-consultant/framework-insight/:sessionId",component:$ve},void 0,!1,{fileName:"/home/runner/workspace/client/src/App.tsx",lineNumber:81,columnNumber:9},this),t.jsxDEV(ir,{path:"/strategic-consultant/trend-analysis/:sessionId/:versionNumber",component:soe},void 0,!1,{fileName:"/home/runner/workspace/client/src/App.tsx",lineNumber:82,columnNumber:9},this),t.jsxDEV(ir,{path:"/strategic-consultant/decisions/:sessionId/:versionNumber",component:ioe},void 0,!1,{fileName:"/home/runner/workspace/client/src/App.tsx",lineNumber:83,columnNumber:9},this),t.jsxDEV(ir,{path:"/strategic-consultant/whys-tree/:understandingId",component:uoe},void 0,!1,{fileName:"/home/runner/workspace/client/src/App.tsx",lineNumber:84,columnNumber:9},this),t.jsxDEV(ir,{path:"/strategic-consultant/research/:sessionId",component:Yme},void 0,!1,{fileName:"/home/runner/workspace/client/src/App.tsx",lineNumber:85,columnNumber:9},this),t.jsxDEV(ir,{path:"/strategic-consultant/porters-results/:sessionId/:versionNumber",component:kae},void 0,!1,{fileName:"/home/runner/workspace/client/src/App.tsx",lineNumber:86,columnNumber:9},this),t.jsxDEV(ir,{path:"/strategic-consultant/swot-results/:sessionId/:versionNumber",component:Vae},void 0,!1,{fileName:"/home/runner/workspace/client/src/App.tsx",lineNumber:87,columnNumber:9},this),t.jsxDEV(ir,{path:"/strategic-consultant/epm/:sessionId/:versionNumber",component:Xme},void 0,!1,{fileName:"/home/runner/workspace/client/src/App.tsx",lineNumber:88,columnNumber:9},this),t.jsxDEV(ir,{path:"/strategic-consultant/versions/:sessionId",component:ede},void 0,!1,{fileName:"/home/runner/workspace/client/src/App.tsx",lineNumber:89,columnNumber:9},this),t.jsxDEV(ir,{path:"/strategy-workspace/programs",component:ihe},void 0,!1,{fileName:"/home/runner/workspace/client/src/App.tsx",lineNumber:90,columnNumber:9},this),t.jsxDEV(ir,{path:"/strategy-workspace/decisions/:sessionId/:versionNumber",component:ade},void 0,!1,{fileName:"/home/runner/workspace/client/src/App.tsx",lineNumber:91,columnNumber:9},this),t.jsxDEV(ir,{path:"/strategy-workspace/prioritization/:sessionId/:versionNumber",component:hde},void 0,!1,{fileName:"/home/runner/workspace/client/src/App.tsx",lineNumber:92,columnNumber:9},this),t.jsxDEV(ir,{path:"/strategy-workspace/epm/:id",component:she},void 0,!1,{fileName:"/home/runner/workspace/client/src/App.tsx",lineNumber:93,columnNumber:9},this),t.jsxDEV(ir,{path:"/marketing-consultant",component:d4},void 0,!1,{fileName:"/home/runner/workspace/client/src/App.tsx",lineNumber:94,columnNumber:9},this),t.jsxDEV(ir,{path:"/marketing-consultant/input",component:d4},void 0,!1,{fileName:"/home/runner/workspace/client/src/App.tsx",lineNumber:95,columnNumber:9},this),t.jsxDEV(ir,{path:"/marketing-consultant/discoveries",component:Xie},void 0,!1,{fileName:"/home/runner/workspace/client/src/App.tsx",lineNumber:96,columnNumber:9},this),t.jsxDEV(ir,{path:"/marketing-consultant/classification/:understandingId",component:Sie},void 0,!1,{fileName:"/home/runner/workspace/client/src/App.tsx",lineNumber:97,columnNumber:9},this),t.jsxDEV(ir,{path:"/marketing-consultant/journey-selection/:understandingId",component:Cie},void 0,!1,{fileName:"/home/runner/workspace/client/src/App.tsx",lineNumber:98,columnNumber:9},this),t.jsxDEV(ir,{path:"/marketing-consultant/segment-discovery/:understandingId",component:H4},void 0,!1,{fileName:"/home/runner/workspace/client/src/App.tsx",lineNumber:99,columnNumber:9},this),t.jsxDEV(ir,{path:"/marketing-consultant/results/:understandingId",component:H4},void 0,!1,{fileName:"/home/runner/workspace/client/src/App.tsx",lineNumber:100,columnNumber:9},this),t.jsxDEV(ir,{path:"/journeys",component:ohe},void 0,!1,{fileName:"/home/runner/workspace/client/src/App.tsx",lineNumber:101,columnNumber:9},this),t.jsxDEV(ir,{path:"/journey-builder",component:Ove},void 0,!1,{fileName:"/home/runner/workspace/client/src/App.tsx",lineNumber:102,columnNumber:9},this),t.jsxDEV(ir,{path:"/strategies/:id",component:xhe},void 0,!1,{fileName:"/home/runner/workspace/client/src/App.tsx",lineNumber:103,columnNumber:9},this),t.jsxDEV(ir,{path:"/strategies",component:mhe},void 0,!1,{fileName:"/home/runner/workspace/client/src/App.tsx",lineNumber:104,columnNumber:9},this),t.jsxDEV(ir,{path:"/repository",component:sde},void 0,!1,{fileName:"/home/runner/workspace/client/src/App.tsx",lineNumber:105,columnNumber:9},this),t.jsxDEV(ir,{path:"/repository/:understandingId",component:ide},void 0,!1,{fileName:"/home/runner/workspace/client/src/App.tsx",lineNumber:106,columnNumber:9},this),t.jsxDEV(ir,{path:"/admin/golden-records/:journeyType/:version/compare",component:Ehe},void 0,!1,{fileName:"/home/runner/workspace/client/src/App.tsx",lineNumber:107,columnNumber:9},this),t.jsxDEV(ir,{path:"/admin/golden-records/:journeyType/:version",component:khe},void 0,!1,{fileName:"/home/runner/workspace/client/src/App.tsx",lineNumber:108,columnNumber:9},this),t.jsxDEV(ir,{path:"/admin/golden-records/:journeyType",component:whe},void 0,!1,{fileName:"/home/runner/workspace/client/src/App.tsx",lineNumber:109,columnNumber:9},this),t.jsxDEV(ir,{path:"/admin/golden-records",component:yhe},void 0,!1,{fileName:"/home/runner/workspace/client/src/App.tsx",lineNumber:110,columnNumber:9},this),t.jsxDEV(Ob,{path:"/auth",component:Zne},void 0,!1,{fileName:"/home/runner/workspace/client/src/App.tsx",lineNumber:111,columnNumber:9},this),t.jsxDEV(Ob,{component:zne},void 0,!1,{fileName:"/home/runner/workspace/client/src/App.tsx",lineNumber:112,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/App.tsx",lineNumber:66,columnNumber:7},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/App.tsx",lineNumber:65,columnNumber:5},this)}function Bve(){const{user:e}=xl();return e?t.jsxDEV(oee,{children:t.jsxDEV(iee,{children:t.jsxDEV(lee,{children:t.jsxDEV(OD,{children:[t.jsxDEV(MR,{},void 0,!1,{fileName:"/home/runner/workspace/client/src/App.tsx",lineNumber:128,columnNumber:13},this),t.jsxDEV(D9,{},void 0,!1,{fileName:"/home/runner/workspace/client/src/App.tsx",lineNumber:129,columnNumber:13},this),t.jsxDEV(gee,{},void 0,!1,{fileName:"/home/runner/workspace/client/src/App.tsx",lineNumber:130,columnNumber:13},this),t.jsxDEV(xee,{},void 0,!1,{fileName:"/home/runner/workspace/client/src/App.tsx",lineNumber:131,columnNumber:13},this),t.jsxDEV(Zre,{},void 0,!1,{fileName:"/home/runner/workspace/client/src/App.tsx",lineNumber:132,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/App.tsx",lineNumber:127,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/App.tsx",lineNumber:126,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/App.tsx",lineNumber:125,columnNumber:7},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/App.tsx",lineNumber:124,columnNumber:5},this):t.jsxDEV(OD,{children:[t.jsxDEV(MR,{},void 0,!1,{fileName:"/home/runner/workspace/client/src/App.tsx",lineNumber:139,columnNumber:7},this),t.jsxDEV(D9,{},void 0,!1,{fileName:"/home/runner/workspace/client/src/App.tsx",lineNumber:140,columnNumber:7},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/App.tsx",lineNumber:138,columnNumber:5},this)}function zve(){return t.jsxDEV(mY,{client:vr,children:t.jsxDEV(see,{children:t.jsxDEV(Bve,{},void 0,!1,{fileName:"/home/runner/workspace/client/src/App.tsx",lineNumber:149,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/App.tsx",lineNumber:148,columnNumber:7},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/App.tsx",lineNumber:147,columnNumber:5},this)}z9(document.getElementById("root")).render(t.jsxDEV(zve,{},void 0,!1,{fileName:"/home/runner/workspace/client/src/main.tsx",lineNumber:5,columnNumber:53},void 0));
